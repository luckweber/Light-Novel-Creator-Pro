/*! For license information please see main.cd7c84ed.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1268:(e,t,n)=>{var r=n(5428),a=n(7574),o=n(6832),s=o&&o.isTypedArray,i=s?a(s):r;e.exports=i},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,i=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return i(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),s(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>i})},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function h(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,v);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,R=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var q=!1;function B(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var xe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=ya(e)){if("function"!==typeof Ne)throw Error(o(280));var t=e.stateNode;t&&(t=ja(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function _e(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Ae(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ee(e,t,n)}finally{Oe=!1,(null!==we||null!==ke)&&(Ae(),_e())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Me=!1}function De(e,t,n,r,a,o,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Re=null,ze=!1,qe=null,Be={onError:function(e){Le=!0,Re=e}};function Fe(e,t,n,r,a,o,s,i,l){Le=!1,Re=null,De.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ge(a),e;if(s===r)return Ge(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ze=a.unstable_requestPaint,$e=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=dt(i):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~a)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,St,Ct=!1,_t=[],Et=null,At=null,Ot=null,Pt=new Map,Tt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=va(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function qt(e,t,n){zt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Et&&zt(Et)&&(Et=null),null!==At&&zt(At)&&(At=null),null!==Ot&&zt(Ot)&&(Ot=null),Pt.forEach(qt),Tt.forEach(qt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<_t.length){Ft(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ft(Et,e),null!==At&&Ft(At,e),null!==Ot&&Ft(Ot,e),Pt.forEach(t),Tt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Mt.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Vt(e,t,n,r){var a=yt,o=Ht.transition;Ht.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=a,Ht.transition=o}}function Wt(e,t,n,r){var a=yt,o=Ht.transition;Ht.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=a,Ht.transition=o}}function Kt(e,t,n,r){if(Gt){var a=Xt(e,t,n,r);if(null===a)Gr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,a),!0;case"dragenter":return At=Lt(At,e,t,n,r,a),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Tt.set(o,Lt(Tt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var o=ya(a);if(null!==o&&jt(o),null===(o=Xt(e,t,n,r))&&Gr(e,t,r,Yt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=va(e=je(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,a="value"in $t?$t.value:$t.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=R({},cn,{view:0,detail:0}),mn=an(dn),pn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),hn=an(R({},pn,{dataTransfer:0})),gn=an(R({},dn,{relatedTarget:0})),xn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(vn),bn=an(R({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Cn=R({},dn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),En=an(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Pn),Mn=[9,13,27,32],In=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Rn=u&&(!In||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){zr(e,0)}function Xn(e){if(K(ba(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Vn(t,Kn,e,je(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function or(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(xr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},wr={},kr={};function Sr(e){if(wr[e])return wr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return wr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Cr=Sr("animationend"),_r=Sr("animationiteration"),Er=Sr("animationstart"),Ar=Sr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Or.set(e,t),l(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Ir=Pr[Mr];Tr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(_r,"onAnimationIteration"),Tr(Er,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,c){if(Fe.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Re;Le=!1,Re=null,ze||(ze=!0,qe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Rr(a,i,c),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Rr(a,i,c),o=l}}}if(ze)throw e=qe,ze=!1,qe=null,e}function qr(e,t){var n=t[ha];void 0===n&&(n=t[ha]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var a=Vt;break;case 4:a=Wt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=va(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}Pe(function(){var r=o,a=je(n),s=[];e:{var i=Or.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case _r:case Er:l=xn;break;case Ar:l=On;break;case"scroll":l=mn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,m=u?null!==i?i+"Capture":null:i;u=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Te(f,m))&&u.push(Vr(f,h,p)))),d)break;f=f.return}0<u.length&&(i=new l(i,c,null,n,a),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,h="onPointerLeave",m="onPointerEnter",f="pointer"),d=null==l?i:ba(l),p=null==c?i:ba(c),(i=new u(h,f+"leave",l,n,a)).target=d,i.relatedTarget=p,h=null,va(a)===r&&((u=new u(m,f+"enter",c,n,a)).target=p,u.relatedTarget=d,h=u),d=h,l&&c)e:{for(m=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,h=m;h;h=Kr(h))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)m=Kr(m),p--;for(;f--;){if(u===m||null!==m&&u===m.alternate)break e;u=Kr(u),m=Kr(m)}u=null}else u=null;null!==l&&Yr(s,i,l,u,!1),null!==c&&null!==d&&Yr(s,d,c,u,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Zn;else if(Gn(i))if($n)g=sr;else{g=ar;var x=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(s,g,n,a):(x&&x(e,i,r),"focusout"===e&&(x=i._wrapperState)&&x.controlled&&"number"===i.type&&ee(i,"number",i.value)),x=r?ba(r):window,e){case"focusin":(Gn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,vr=null);break;case"focusout":vr=xr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":br(s,n,a)}var v;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(v=en()):(Jt="value"in($t=a)?$t.value:$t.textContent,Un=!0)),0<(x=Wr(r,y)).length&&(y=new bn(y,e,null,n,a),s.push({event:y,listeners:x}),v?y.data=v:null!==(v=Fn(n))&&(y.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Qt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=v))}zr(s,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Te(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=Te(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Te(n,o))&&s.unshift(Vr(n,l,i)):a||null!=(l=Te(n,o))&&s.push(Vr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ma="__reactFiber$"+da,pa="__reactProps$"+da,fa="__reactContainer$"+da,ha="__reactEvents$"+da,ga="__reactListeners$"+da,xa="__reactHandles$"+da;function va(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ma])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ma]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ja(e){return e[pa]||null}var Na=[],wa=-1;function ka(e){return{current:e}}function Sa(e){0>wa||(e.current=Na[wa],Na[wa]=null,wa--)}function Ca(e,t){wa++,Na[wa]=e.current,e.current=t}var _a={},Ea=ka(_a),Aa=ka(!1),Oa=_a;function Pa(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Sa(Aa),Sa(Ea)}function Ia(e,t,n){if(Ea.current!==_a)throw Error(o(168));Ca(Ea,t),Ca(Aa,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,H(e)||"Unknown",a));return R({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Oa=Ea.current,Ca(Ea,e),Ca(Aa,Aa.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Da(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(Ea),Ca(Ea,e)):Sa(Aa),Ca(Aa,n)}var za=null,qa=!1,Ba=!1;function Fa(e){null===za?za=[e]:za.push(e)}function Ua(){if(!Ba&&null!==za){Ba=!0;var e=0,t=yt;try{var n=za;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,qa=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ke(Qe,Ua),a}finally{yt=t,Ba=!1}}return null}var Ha=[],Ga=0,Va=null,Wa=0,Ka=[],Ya=0,Xa=null,Za=1,$a="";function Ja(e,t){Ha[Ga++]=Wa,Ha[Ga++]=Va,Va=e,Wa=t}function Qa(e,t,n){Ka[Ya++]=Za,Ka[Ya++]=$a,Ka[Ya++]=Xa,Xa=e;var r=Za;e=$a;var a=32-st(r)-1;r&=~(1<<a),n+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Za=1<<32-st(t)+a|n<<a|r,$a=o+e}else Za=1<<o|n<<a|r,$a=e}function eo(e){null!==e.return&&(Ja(e,1),Qa(e,1,0))}function to(e){for(;e===Va;)Va=Ha[--Ga],Ha[Ga]=null,Wa=Ha[--Ga],Ha[Ga]=null;for(;e===Xa;)Xa=Ka[--Ya],Ka[Ya]=null,$a=Ka[--Ya],Ka[Ya]=null,Za=Ka[--Ya],Ka[Ya]=null}var no=null,ro=null,ao=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Za,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&io(e,t)?so(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function mo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ca(e.nextSibling)}function fo(){ro=no=null,ao=!1}function ho(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&yo(o)===t.type)?((r=a(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case N:return(t=zc(t,e.mode,n)).return=e,t;case T:return m(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?u(e,t,n,r):null;case T:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);vo(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function h(a,o,i,l){for(var c=null,u=null,d=o,h=o=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var x=p(a,d,i[h],l);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),o=s(x,o,h),null===u?c=x:u.sibling=x,u=x,d=g}if(h===i.length)return n(a,d),ao&&Ja(a,h),c;if(null===d){for(;h<i.length;h++)null!==(d=m(a,i[h],l))&&(o=s(d,o,h),null===u?c=d:u.sibling=d,u=d);return ao&&Ja(a,h),c}for(d=r(a,d);h<i.length;h++)null!==(g=f(d,a,h,i[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),o=s(g,o,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ao&&Ja(a,h),c}function g(a,i,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,h=i,g=i=0,x=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(x=h,h=null):x=h.sibling;var y=p(a,h,v.value,c);if(null===y){null===h&&(h=x);break}e&&h&&null===y.alternate&&t(a,h),i=s(y,i,g),null===d?u=y:d.sibling=y,d=y,h=x}if(v.done)return n(a,h),ao&&Ja(a,g),u;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=m(a,v.value,c))&&(i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return ao&&Ja(a,g),u}for(h=r(a,h);!v.done;g++,v=l.next())null!==(v=f(h,a,g,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),ao&&Ja(a,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case j:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(r,u.sibling),(o=a(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&yo(c)===u.type){n(r,u.sibling),(o=a(u,s.props)).ref=xo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===w?((o=Dc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Ic(s.type,s.key,s.props,null,r.mode,l)).ref=xo(r,o,s),l.return=r,r=l)}return i(r);case N:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return i(r);case T:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return h(r,o,s,l);if(D(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=Rc(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var jo=bo(!0),No=bo(!1),wo=ka(null),ko=null,So=null,Co=null;function _o(){Co=So=ko=null}function Eo(e){var t=wo.current;Sa(wo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){ko=e,Co=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===ko)throw Error(o(308));So=e,ko.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var To=null;function Mo(e){null===To?To=[e]:To.push(e)}function Io(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Mo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Do(e,n)}return null===(a=r.interleaved)?(t.next=t,Mo(r)):(t.next=a.next,a.next=t),r.interleaved=t,Do(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var a=e.updateQueue;Lo=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,u=c=l=null,i=o;;){var m=i.lane,p=i.eventTime;if((r&m)===m){null!==u&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,h=i;switch(m=t,p=n,h.tag){case 1:if("function"===typeof(f=h.payload)){d=f.call(p,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(p,d,m):f)||void 0===m)break e;d=R({},d,m);break e;case 2:Lo=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Vo={},Wo=ka(Vo),Ko=ka(Vo),Yo=ka(Vo);function Xo(e){if(e===Vo)throw Error(o(174));return e}function Zo(e,t){switch(Ca(Yo,t),Ca(Ko,e),Ca(Wo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Wo),Ca(Wo,t)}function $o(){Sa(Wo),Sa(Ko),Sa(Yo)}function Jo(e){Xo(Yo.current);var t=Xo(Wo.current),n=le(t,e.type);t!==n&&(Ca(Ko,e),Ca(Wo,n))}function Qo(e){Ko.current===e&&(Sa(Wo),Sa(Ko))}var es=ka(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var as=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,us=!1,ds=!1,ms=0,ps=0;function fs(){throw Error(o(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,a,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Qs:ei,e=n(r,a),ds){s=0;do{if(ds=!1,ms=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,as.current=ti,e=n(r,a)}while(ds)}if(as.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,us=!1,t)throw Error(o(300));return e}function xs(){var e=0!==ms;return ms=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function js(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=m,i=r):c=c.next=m,is.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(yi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,is.lanes|=s,Ll|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);ir(s,t.memoizedState)||(yi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ws(){}function ks(e,t){var n=is,r=ys(),a=t(),s=!ir(r.memoizedState,a);if(s&&(r.memoizedState=a,yi=!0),r=r.queue,Ls(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,Cs.bind(null,n,r,a,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||Ss(n,t,a)}return a}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&As(e)}function _s(e,t,n){return n(function(){Es(t)&&As(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function As(e){var t=Do(e,1);null!==t&&nc(t,e,1,-1)}function Os(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,is,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ts(){return ys().memoizedState}function Ms(e,t,n,r){var a=vs();is.flags|=e,a.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Is(e,t,n,r){var a=ys();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&hs(r,s.deps))return void(a.memoizedState=Ps(t,n,o,r))}is.flags|=e,a.memoizedState=Ps(1|t,n,o,r)}function Ds(e,t){return Ms(8390656,8,e,t)}function Ls(e,t){return Is(2048,8,e,t)}function Rs(e,t){return Is(4,2,e,t)}function zs(e,t){return Is(4,4,e,t)}function qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,qs.bind(null,t,e),n)}function Fs(){}function Us(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=n):(ir(n,t)||(n=ht(),is.lanes|=n,Ll|=n,e.baseState=!0),t)}function Vs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function Ws(){return ys().memoizedState}function Ks(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Zs(t,n);else if(null!==(n=Io(e,t,n,r))){nc(n,e,r,ec()),$s(n,t,r)}}function Ys(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Zs(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(a.next=a,Mo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Io(e,t,a,r))&&(nc(n,e,r,a=ec()),$s(n,t,r))}}function Xs(e){var t=e.alternate;return e===is||null!==t&&t===is}function Zs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Js={readContext:Po,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Qs={readContext:Po,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4194308,4,qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,is,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Os,useDebugValue:Fs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Os(!1),t=e[0];return e=Vs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=is,a=vs();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||Ss(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ds(_s.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Al.identifierPrefix;if(ao){var n=$a;t=":"+t+"R"+(n=(Za&~(1<<32-st(Za)-1)).toString(32)+n),0<(n=ms++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Po,useCallback:Us,useContext:Po,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Rs,useLayoutEffect:zs,useMemo:Hs,useReducer:js,useRef:Ts,useState:function(){return js(bs)},useDebugValue:Fs,useDeferredValue:function(e){return Gs(ys(),ls.memoizedState,e)},useTransition:function(){return[js(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1},ti={readContext:Po,useCallback:Us,useContext:Po,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Rs,useLayoutEffect:zs,useMemo:Hs,useReducer:Ns,useRef:Ts,useState:function(){return Ns(bs)},useDebugValue:Fs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Gs(t,ls.memoizedState,e)},useTransition:function(){return[Ns(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:ks,useId:Ws,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=qo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(nc(t,e,a,r),Fo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=qo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,a))&&(nc(t,e,a,r),Fo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=qo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bo(e,a,r))&&(nc(t,e,r,n),Fo(t,e,r))}};function oi(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function si(e,t,n){var r=!1,a=_a,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(a=Ta(t)?Oa:Ea.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):_a),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Po(o):(o=Ta(t)?Oa:Ea.current,a.context=Pa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ri(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=qo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Vl=r),di(0,t)},n}function fi(e,t,n){(n=qo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){di(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=b.ReactCurrentOwner,yi=!1;function bi(e,t,n,r){t.child=null===e?No(t,null,n,r):jo(t,e.child,n,r)}function ji(e,t,n,r,a){n=n.render;var o=t.ref;return Oo(t,a),r=gs(e,t,n,r,o,a),n=xs(),null===e||yi?(ao&&n&&eo(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gi(e,t,a))}function Ni(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Tc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wi(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Gi(e,t,a)}return t.flags|=1,(e=Mc(o,r)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(yi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Gi(e,t,a);0!==(131072&e.flags)&&(yi=!0)}}return Ci(e,t,n,r,a)}function ki(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ml,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ml,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ca(Ml,Tl),Tl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ca(Ml,Tl),Tl|=r;return bi(e,t,a,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,a){var o=Ta(n)?Oa:Ea.current;return o=Pa(t,o),Oo(t,a),n=gs(e,t,n,r,o,a),r=xs(),null===e||yi?(ao&&r&&eo(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gi(e,t,a))}function _i(e,t,n,r,a){if(Ta(n)){var o=!0;La(t)}else o=!1;if(Oo(t,a),null===t.stateNode)Hi(e,t),si(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pa(t,c=Ta(n)?Oa:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,s,r,c),Lo=!1;var m=t.memoizedState;s.state=m,Ho(t,r,s,a),l=t.memoizedState,i!==r||m!==l||Aa.current||Lo?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Lo||oi(t,n,i,r,m,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,d=t.pendingProps,m=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pa(t,l=Ta(n)?Oa:Ea.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||m!==l)&&ii(t,s,r,l),Lo=!1,m=t.memoizedState,s.state=m,Ho(t,r,s,a);var f=t.memoizedState;i!==d||m!==f||Aa.current||Lo?("function"===typeof p&&(ri(t,n,p,r),f=t.memoizedState),(c=Lo||oi(t,n,c,r,m,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,o,a)}function Ei(e,t,n,r,a,o){Si(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ra(t,n,!1),Gi(e,t,o);r=t.stateNode,vi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=jo(t,e.child,null,o),t.child=jo(t,null,i,o)):bi(e,t,i,o),t.memoizedState=r.state,a&&Ra(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Zo(e,t.containerInfo)}function Oi(e,t,n,r,a){return fo(),ho(a),t.flags|=256,bi(e,t,n,r),t.child}var Pi,Ti,Mi,Ii,Di={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ri(e,t,n){var r,a=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ca(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,a,0,null),e=Dc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Di,e):zi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,qi(e,t,i,r=ui(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(s=Dc(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&jo(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Di,s);if(0===(1&t.mode))return qi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,qi(e,t,i,r=ui(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),yi||l){if(null!==(r=Al)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Do(e,a),nc(r,e,a,-1))}return hc(),qi(e,t,i,r=ui(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Ya++]=Za,Ka[Ya++]=$a,Ka[Ya++]=Xa,Za=e.id,$a=e.overflow,Xa=t),t=zi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Mc(r,i):(i=Dc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Di,a}return e=(i=e.child).sibling,a=Mc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qi(e,t,n,r){return null!==r&&ho(r),jo(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Fi(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ui(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(bi(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,n,t);else if(19===e.tag)Bi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(es,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fi(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ts(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fi(t,!0,n,null,o);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vi(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Ta(t.type)&&Ma(),Wi(t),null;case 3:return r=t.stateNode,$o(),Sa(Aa),Sa(Ea),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ti(e,t),Wi(t),null;case 5:Qo(t);var a=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Mi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wi(t),null}if(e=Xo(Wo.current),mo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ma]=t,r[pa]=s,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)qr(Dr[a],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":Z(r,s),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qr("invalid",r);break;case"textarea":ae(r,s),qr("invalid",r)}for(var l in ve(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":W(r),Q(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[pa]=r,Pi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":qr("cancel",e),qr("close",e),a=r;break;case"iframe":case"object":case"embed":qr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)qr(Dr[a],e);a=r;break;case"source":qr("error",e),a=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),a=r;break;case"details":qr("toggle",e),a=r;break;case"input":Z(e,r),a=X(e,r),qr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=R({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),qr("invalid",e)}for(s in ve(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&me(e,u):"number"===typeof u&&me(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&qr("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Ii(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Wo.current),mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Wi(t),null;case 13:if(Sa(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=mo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[ma]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Il&&(Il=3):hc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return $o(),Ti(e,t),null===e&&Ur(t.stateNode.containerInfo),Wi(t),null;case 10:return Eo(t.type._context),Wi(t),null;case 19:if(Sa(es),null===(s=t.memoizedState))return Wi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vi(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Vi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Ul&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return Wi(t),null}else 2*$e()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Ca(es,r?1&n|2:1&n),t):(Wi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Yi(e,t){switch(to(t),t.tag){case 1:return Ta(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Sa(Aa),Sa(Ea),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(Sa(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(es),null;case 4:return $o(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},Mi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xo(Wo.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"select":a=R({},a,{value:void 0}),r=R({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ii=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xi=!1,Zi=!1,$i="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Qi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[ha],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Zi||Qi(n,t);case 6:var r=ul,a=dl;ul=null,ml(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,ml(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Zi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!Zi&&(Qi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){kc(n,t,i)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Zi=(r=Zi)||null!==n.memoizedState,ml(e,t,n),Zi=r):ml(e,t,n);break;default:ml(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),xl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:hl(t,e),xl(e),512&r&&null!==n&&Qi(n,n.return);break;case 5:if(hl(t,e),xl(e),512&r&&null!==n&&Qi(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(a,s),ye(l,i);var u=ye(l,s);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];"style"===d?ge(a,m):"dangerouslySetInnerHTML"===d?de(a,m):"children"===d?me(a,m):y(a,d,m,u)}switch(l){case"input":J(a,s);break;case"textarea":oe(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[pa]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(hl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(hl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:hl(t,e),xl(e);break;case 13:hl(t,e),xl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zi=(u=Zi)||d,hl(t,e),Zi=u):hl(t,e),xl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(m=Ji=d;null!==Ji;){switch(f=(p=Ji).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qi(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Qi(p,p.return);break;case 22:if(null!==p.memoizedState){jl(m);continue}}null!==f?(f.return=p,Ji=f):jl(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{a=m.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hl(t,e),xl(e),4&r&&fl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(o(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ji=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var a=Ji,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Xi;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Zi;i=Xi;var c=Zi;if(Xi=s,(Zi=l)&&!c)for(Ji=a;null!==Ji;)l=(s=Ji).child,22===s.tag&&null!==s.memoizedState?Nl(a):null!==l?(l.return=s,Ji=l):Nl(a);for(;null!==o;)Ji=o,yl(o,t,n),o=o.sibling;Ji=a,Xi=i,Zi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Ji=o):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Go(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(o(163))}Zi||512&t.flags&&al(t)}catch(p){kc(t,t.return,p)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function jl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Nl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var o=t.return;try{al(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{al(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var wl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,El=0,Al=null,Ol=null,Pl=0,Tl=0,Ml=ka(0),Il=0,Dl=null,Ll=0,Rl=0,zl=0,ql=null,Bl=null,Fl=0,Ul=1/0,Hl=null,Gl=!1,Vl=null,Wl=null,Kl=!1,Yl=null,Xl=0,Zl=0,$l=null,Jl=-1,Ql=0;function ec(){return 0!==(6&El)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Ql&&(Ql=ht()),Ql):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,$l=null,Error(o(185));xt(e,n,r),0!==(2&El)&&e===Al||(e===Al&&(0===(2&El)&&(Rl|=n),4===Il&&ic(e,Pl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=$e()+500,qa&&Ua()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=pt(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=mt(e,e===Al?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){qa=!0,Fa(e)}(lc.bind(null,e)):Fa(lc.bind(null,e)),sa(function(){0===(6&El)&&Ua()}),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Ql=0,0!==(6&El))throw Error(o(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=mt(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var s=fc();for(Al===e&&Pl===t||(Hl=null,Ul=$e()+500,mc(e,t));;)try{vc();break}catch(l){pc(e,l)}_o(),Sl.current=s,El=a,null!==Ol?t=0:(Al=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t)throw n=Dl,mc(e,0),ic(e,r),rc(e,$e()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=oc(e,s))),1===t))throw n=Dl,mc(e,0),ic(e,r),rc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:jc(e,Bl,Hl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Fl+500-$e())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(jc.bind(null,e,Bl,Hl),t);break}jc(e,Bl,Hl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(jc.bind(null,e,Bl,Hl),r);break}jc(e,Bl,Hl);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~zl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(o(327));Nc();var t=mt(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Dl,mc(e,0),ic(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bl,Hl),rc(e,$e()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=$e()+500,qa&&Ua())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&El)&&Nc();var t=El;El|=1;var n=_l.transition,r=yt;try{if(_l.transition=null,yt=1,e)return e()}finally{yt=r,_l.transition=n,0===(6&(El=t))&&Ua()}}function dc(){Tl=Ml.current,Sa(Ml)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:$o(),Sa(Aa),Sa(Ea),rs();break;case 5:Qo(r);break;case 4:$o();break;case 13:case 19:Sa(es);break;case 10:Eo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Ol=e=Mc(e.current,null),Pl=Tl=t,Il=0,Dl=null,zl=Rl=Ll=0,Bl=ql=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(_o(),as.current=Js,us){for(var r=is.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=is=null,ds=!1,ms=0,Cl.current=null,null===n||null===n.return){Il=1,Dl=t,Ol=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,xi(f,i,l,0,t),1&f.mode&&hi(s,u,t),c=u;var h=(t=f).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){hi(s,u,t),hc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var x=gi(i);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xi(x,i,l,0,t),ho(ci(c,l));break e}}s=c=ci(c,l),4!==Il&&(Il=2),null===ql?ql=[s]:ql.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,pi(0,c,t));break e;case 1:l=c;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wl||!Wl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Uo(s,fi(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Js,null===e?Js:e}function hc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Al||0===(268435455&Ll)&&0===(268435455&Rl)||ic(Al,Pl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Al===e&&Pl===t||(Hl=null,mc(e,t));;)try{xc();break}catch(a){pc(e,a)}if(_o(),El=n,Sl.current=r,null!==Ol)throw Error(o(261));return Al=null,Pl=0,Il}function xc(){for(;null!==Ol;)yc(Ol)}function vc(){for(;null!==Ol&&!Xe();)yc(Ol)}function yc(e){var t=wl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Tl)))return void(Ol=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Il=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,n){var r=yt,a=_l.transition;try{_l.transition=null,yt=1,function(e,t,n,r){do{Nc()}while(null!==Yl);if(0!==(6&El))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===Al&&(Ol=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,function(){return Nc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=_l.transition,_l.transition=null;var i=yt;yt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(ea=Gt,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(l=i+a),m!==s||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++u===a&&(l=i),p===s&&++d===r&&(c=i),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Gt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,x=h.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}h=tl,tl=!1}(e,n),gl(n,e),fr(ta),Gt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ze(),El=l,yt=i,_l.transition=s}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Xl=a),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gl)throw Gl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Nc(),s=e.pendingLanes,0!==(1&s)?e===$l?Zl++:(Zl=0,$l=e):Zl=0,Ua()}(e,t,n,r)}finally{_l.transition=a,yt=r}return null}function Nc(){if(null!==Yl){var e=bt(Xl),t=_l.transition,n=yt;try{if(_l.transition=null,yt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&El))throw Error(o(331));var a=El;for(El|=4,Ji=e.current;null!==Ji;){var s=Ji,i=s.child;if(0!==(16&Ji.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ji=u;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var m=d.child;if(null!==m)m.return=d,Ji=m;else for(;null!==Ji;){var p=(d=Ji).sibling,f=d.return;if(ol(d),d===u){Ji=null;break}if(null!==p){p.return=f,Ji=p;break}Ji=f}}}var h=s.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Ji=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(s=Ji).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ji=v;break e}Ji=s.return}}var y=e.current;for(Ji=y;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=y;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(N){kc(l,l.return,N)}if(l===i){Ji=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Ji=j;break e}Ji=l.return}}if(El=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(N){}r=!0}return r}finally{yt=n,_l.transition=t}}return!1}function wc(e,t,n){e=Bo(e,t=pi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bo(t,e=fi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>$e()-Fl?mc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Do(e,t))&&(xt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Dc(n.children,a,s,t);case k:i=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=s,e;case A:return(e=Pc(13,n,t,a)).elementType=A,e.lanes=s,e;case O:return(e=Pc(19,n,t,a)).elementType=O,e.lanes=s,e;case M:return Lc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case _:i=9;break e;case E:i=11;break e;case P:i=14;break e;case T:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Dc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,o,s,i,l){return e=new qc(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Fc(e){if(!e)return _a;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Da(e,n,t)}return t}function Uc(e,t,n,r,a,o,s,i,l){return(e=Bc(n,r,!0,e,0,o,0,i,l)).context=Fc(null),n=e.current,(o=qo(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,a),e.current.lanes=a,xt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,o=ec(),s=tc(a);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=qo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(a,t,s))&&(nc(e,a,s,o),Fo(e,a,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)yi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),fo();break;case 5:Jo(t);break;case 1:Ta(t.type)&&La(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(wo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ri(e,t,n):(Ca(es,1&es.current),null!==(e=Gi(e,t,n))?e.sibling:null);Ca(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ui(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,n)}return Gi(e,t,n)}(e,t,n);yi=0!==(131072&e.flags)}else yi=!1,ao&&0!==(1048576&t.flags)&&Qa(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var a=Pa(t,Ea.current);Oo(t,n),a=gs(null,t,r,e,a,n);var s=xs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(s=!0,La(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ro(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ei(null,t,r,!0,s,n)):(t.tag=0,ao&&s&&eo(t),bi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=ji(null,t,r,e,n);break e;case 14:t=Ni(null,t,r,ni(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Ai(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,zo(e,t),Ho(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oi(e,t,r,n,a=ci(Error(o(423)),t));break e}if(r!==a){t=Oi(e,t,r,n,a=ci(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===a){t=Gi(e,t,n);break e}bi(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==s&&na(r,s)&&(t.flags|=32),Si(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ri(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=jo(t,null,r,n):bi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ji(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Ca(wo,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===a.children&&!Aa.current){t=Gi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=qo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ao(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}bi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Oo(t,n),r=r(a=Po(a)),t.flags|=1,bi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),Ni(e,t,r,a=ni(r.type,a),n);case 15:return wi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Hi(e,t),t.tag=1,Ta(r)?(e=!0,La(t)):e=!1,Oo(t,n),si(t,r,a),li(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return Ui(e,t,n);case 22:return ki(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Qc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Gc(s);i.call(e)}}Hc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Gc(s);o.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[fa]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Gc(l);i.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fa]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return Gc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&El)&&(Ul=$e()+500,Ua()))}break;case 13:uc(function(){var t=Do(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},Nt=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Do(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(o(90));K(r),J(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[ya,ba,ja,Ce,_e,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,s,i),e[fa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),o=Object.prototype,s=o.hasOwnProperty,i=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&s.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2823:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)r[a]=o[s];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=s(n(5043)),l=s(n(7950)),c=s(n(9853)),u=s(n(4175)),d=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,a){var o,s,i,l;"text-change"===e?null===(s=(o=n).onEditorChangeText)||void 0===s||s.call(o,n.editor.root.innerHTML,t,a,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(i=n).onEditorChangeSelection)||void 0===l||l.call(i,t,a,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(i.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(e.children)&&"textarea"===(null===(t=i.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var a=this.getEditorContents(),s=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(s,a)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),o(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],r.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(n){return!c.default(e[n],t.props[n])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var o=this.regenerationSnapshot,s=(r=o.delta,o.selection);delete this.regenerationSnapshot,this.instantiateEditor();var i=this.editor;i.setContents(r),m(function(){return n.setEditorSelection(i,s)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),m(function(){return n.setEditorSelection(e,r)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return i.default.Children.count(n)?i.default.cloneElement(i.default.Children.only(n),o):r?i.default.createElement("pre",a({},o)):i.default.createElement("div",a({},o))},t.prototype.render=function(){var e;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var a,o;if(this.editor){var s=this.isDelta(this.value)?r.getContents():r.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(o=(a=this.props).onChange)||void 0===o||o.call(a,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,a,o,s,i,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,m=u&&!e;c.default(e,u)||(this.selection=e,null===(a=(r=this.props).onChangeSelection)||void 0===a||a.call(r,e,t,n),d?null===(s=(o=this.props).onFocus)||void 0===s||s.call(o,e,t,n):m&&(null===(l=(i=this.props).onBlur)||void 0===l||l.call(i,u,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(i.default.Component);function m(e){Promise.resolve().then(e)}e.exports=d},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),o=n(4052),s=n(4543),i=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&s(e),m=!n&&!u&&!d&&l(e),p=n||u||d||m,f=p?r(e.length,String):[],h=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||m&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,h))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3668:(e,t,n)=>{var r=n(8902),a=n(2587),o=n(8114);e.exports=function(e,t,n,s,i,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var f=-1,h=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var x=e[f],v=t[f];if(s)var y=c?s(v,x,f,t,e,l):s(x,v,f,e,t,l);if(void 0!==y){if(y)continue;h=!1;break}if(g){if(!a(t,function(e,t){if(!o(g,t)&&(x===e||i(x,e,n,s,l)))return g.push(t)})){h=!1;break}}else if(x!==v&&!i(x,v,n,s,l)){h=!1;break}}return l.delete(e),l.delete(t),h}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3802:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});const r=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,a,o);return o},a=e=>e?r(e):r},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4175:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),a=n(18),o=n(19),s=n(45),i=n(46),l=n(47),c=n(48),u=n(49),d=n(12),m=n(32),p=n(33),f=n(31),h=n(1),g={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:r.default,Format:a.default,Leaf:o.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:i.default,Text:u.default,Attributor:{Attribute:d.default,Class:m.default,Style:p.default,Store:f.default}};t.default=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=a;var o,s={},i={},l={},c={};function u(e,t){var n;if(void 0===t&&(t=o.ANY),"string"===typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&o.LEVEL&o.BLOCK?n=c.block:e&o.LEVEL&o.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var a in r)if(n=i[r[a]])break;n=n||l[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new a("Unable to create "+e+" blot");var r=n,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(o,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e(t)});var r=t[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new a("Invalid definition");if("abstract"===r.blotName)throw new a("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"===typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(i[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=l[e]&&null!=r.className||(l[e]=r)}))),r}},function(e,t,n){var r=n(51),a=n(11),o=n(3),s=n(20),i=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(a(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+s.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],r=s.iterator(this.ops),a=0;a<t&&r.hasNext();){var o;a<e?o=r.next(e-a):(o=r.next(t-a),n.push(o)),a+=s.length(o)}return new l(n)},l.prototype.compose=function(e){var t=s.iterator(this.ops),n=s.iterator(e.ops),r=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){for(var i=o.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),r.push(t.next());o.retain-i>0&&n.next(o.retain-i)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),m=n.next(u);if("number"===typeof m.retain){var p={};"number"===typeof d.retain?p.retain=u:p.insert=d.insert;var f=s.attributes.compose(d.attributes,m.attributes,"number"===typeof d.retain);if(f&&(p.attributes=f),c.push(p),!n.hasNext()&&a(c.ops[c.ops.length-1],p)){var h=new l(t.rest());return c.concat(h).chop()}}else"number"===typeof m.delete&&"number"===typeof d.retain&&c.push(m)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:i;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new l,c=r(n[0],n[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var i=u.next(n),l=d.next(n);a(i.insert,l.insert)?o.retain(n,s.attributes.diff(i.attributes,l.attributes)):o.push(l).delete(n)}t-=n}}),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=s.iterator(this.ops),r=new l,a=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),i=s.length(o)-n.peekLength(),c="string"===typeof o.insert?o.insert.indexOf(t,i)-i:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},a))return;a+=1,r=new l}}r.length()>0&&e(r,{},a)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=s.iterator(this.ops),r=s.iterator(e.ops),a=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())a.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),i=n.next(o),c=r.next(o);if(i.delete)continue;c.delete?a.push(c):a.retain(o,s.attributes.transform(i.attributes,c.attributes,t))}else a.retain(s.length(n.next()));return a.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=s.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var a=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=a),r+=a):e-=Math.min(a,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,a=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!o)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,r,a,o,u,d=arguments[0],m=1,p=arguments.length,f=!1;for("boolean"===typeof d&&(f=d,d=arguments[1]||{},m=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});m<p;++m)if(null!=(t=arguments[m]))for(n in t)r=c(d,n),d!==(a=c(t,n))&&(f&&a&&(i(a)||(o=s(a)))?(o?(o=!1,u=r&&s(r)?r:[]):u=r&&i(r)?r:{},l(d,{name:n,newValue:e(f,u,a)})):"undefined"!==typeof a&&l(d,{name:n,newValue:a}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=d(n(3)),s=d(n(2)),i=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"attach",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=i.default.query(e,i.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"===typeof n&&n.endsWith("\n")){var o=i.default.create(g.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(i.default.Embed);h.scope=i.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){m(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),x(t))},new s.default).insert("\n",x(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(i.default.query(r,i.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),s=o.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var i=this;o.reduce(function(e,t){return(i=i.split(e,!0)).insertAt(0,t),t.length},e+s.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(i.default.Block);function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:x(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,i.default.Embed,u.default],t.bubbleFormats=x,t.BlockEmbed=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var s=g(n(2)),i=g(n(14)),l=g(n(8)),c=g(n(9)),u=g(n(0)),d=n(15),m=g(d),p=g(n(3)),f=g(n(10)),h=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,f.default)("quill"),y=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=b(t,r),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,a=r&&0===r.length?r.index:void 0;j.call(n,function(){return n.editor.update(null,t,a)},e)});var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+a+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var a=e.attrName||e.blotName;"string"===typeof a?this.register("formats/"+a,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=N(e,t,n),s=a(o,4);return e=s[0],t=s[1],n=s[3],j.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return j.call(this,function(){var r=n.getSelection(!0),a=new s.default;if(null==r)return a;if(u.default.query(e,u.default.Scope.BLOCK))a=n.editor.formatLine(r.index,r.length,x({},e,t));else{if(0===r.length)return n.selection.format(e,t),a;a=n.editor.formatText(r.index,r.length,x({},e,t))}return n.setSelection(r,l.default.sources.SILENT),a},r)}},{key:"formatLine",value:function(e,t,n,r,o){var s,i=this,l=N(e,t,n,r,o),c=a(l,4);return e=c[0],t=c[1],s=c[2],o=c[3],j.call(this,function(){return i.editor.formatLine(e,t,s)},o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var s,i=this,l=N(e,t,n,r,o),c=a(l,4);return e=c[0],t=c[1],s=c[2],o=c[3],j.call(this,function(){return i.editor.formatText(e,t,s)},o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=N(e,t),r=a(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=N(e,t),r=a(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return j.call(this,function(){return a.editor.insertEmbed(t,n,r)},o,t)}},{key:"insertText",value:function(e,t,n,r,o){var s,i=this,l=N(e,0,n,r,o),c=a(l,4);return e=c[0],s=c[2],o=c[3],j.call(this,function(){return i.editor.insertText(e,t,s)},o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=N(e,t,n),s=a(o,4);return e=s[0],t=s[1],n=s[3],j.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return j.call(this,function(){e=new s.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),a=t.editor.applyDelta(e),o=a.ops[a.ops.length-1];return null!=o&&"string"===typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),a.delete(1)),r.compose(a)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=N(t,n,r),s=a(o,4);t=s[0],n=s[1],r=s[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return j.call(this,function(){return e=new s.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();function b(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==y.DEFAULTS.theme){if(t.theme=y.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=h.default;var n=(0,p.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=y.import("modules/"+t);return null==n?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},y.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function j(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var a=null==n?null:this.getSelection(),o=this.editor.delta,i=e();if(null!=a&&(!0===n&&(n=a.index),null==r?a=w(a,i,t):0!==r&&(a=w(a,n,r,t)),this.setSelection(a,l.default.sources.SILENT)),i.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,i,o,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return i}function N(e,t,n,a,o){var s={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(o=a,a=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(o=a,a=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":r(n))?(s=n,o=a):"string"===typeof n&&(null!=a?s[n]=a:o=n),[e,t,s,o=o||l.default.sources.API]}function w(e,t,n,r){if(null==e)return null;var o=void 0,i=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==l.default.sources.USER)}),u=a(c,2);o=u[0],i=u[1]}else{var m=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),p=a(m,2);o=p[0],i=p[1]}return new d.Range(o,i-o)}y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},y.events=l.default.events,y.sources=l.default.sources,y.version="1.3.7",y.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":h.default},t.expandConfig=b,t.overload=N,t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=i(n(7)),s=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&s.default.query(r,s.default.Scope.BLOT)){var i=this.isolate(e,n);o&&i.wrap(r,o)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),a=t.order.indexOf(n);return r>=0||a>=0?r-a:e===n?0:e<n?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,o.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default.Text);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=s(n(54));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",i.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){i.log.apply(i,arguments),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,a=t.handler;(e.target===r||r.contains(e.target))&&a.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],a="warn";function o(e){if(r.indexOf(e)<=r.indexOf(a)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(t=console)[e].apply(t,o)}}function s(e){return r.reduce(function(t,n){return t[n]=o.bind(console,n,e),t},{})}o.level=s.level=function(e){a=e},t.default=s},function(e,t,n){var r=Array.prototype.slice,a=n(52),o=n(53),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),s(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=a(e),m=a(t)}catch(p){return!1}if(d.length!=m.length)return!1;for(d.sort(),m.sort(),c=d.length-1;c>=0;c--)if(d[c]!=m[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!s(e[u],t[u],n))return!1;return typeof e===typeof t}(e,t,n))};function i(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var a=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|a:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=d(n(2)),i=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(c.default);h.blotName="code",h.tagName="CODE";var g=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),a(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new s.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var a=this.descendant(u.default,this.length()-1),s=r(a,1)[0];null!=s&&s.deleteAt(s.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,a){if(0!==n&&null!=i.default.query(r,i.default.Scope.BLOCK)&&(r!==this.statics.blotName||a!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var s=this.newlineIndex(e,!0)+1,l=o-s+1,c=this.isolate(s,l),u=c.next;c.format(r,a),u instanceof t&&u.formatAt(0,e-s+n-l,r,a)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var a=this.descendant(u.default,e),o=r(a,2),s=o[0],i=o[1];s.insertAt(i,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(i.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=i.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof i.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=h,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=x(n(2)),i=x(n(20)),l=x(n(0)),c=x(n(13)),u=x(n(24)),d=n(4),m=x(d),p=x(n(16)),f=x(n(21)),h=x(n(11)),g=x(n(3));function x(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new s.default)}(e)).reduce(function(e,s){var c=s.retain||s.delete||s.insert.length||1,u=s.attributes||{};if(null!=s.insert){if("string"===typeof s.insert){var p=s.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),e>=o&&!p.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,p);var f=t.scroll.line(e),h=a(f,2),x=h[0],v=h[1],y=(0,g.default)({},(0,d.bubbleFormats)(x));if(x instanceof m.default){var b=x.descendant(l.default.Leaf,v),j=a(b,1)[0];y=(0,g.default)(y,(0,d.bubbleFormats)(j))}u=i.default.attributes.diff(y,u)||{}}else if("object"===r(s.insert)){var N=Object.keys(s.insert)[0];if(null==N)return e;t.scroll.insertAt(e,N,s.insert[N])}o+=c}return Object.keys(u).forEach(function(n){t.scroll.formatAt(e,c,n,u[n])}),e+c},0),e.reduce(function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(a){if(null==n.scroll.whitelist||n.scroll.whitelist[a]){var o=n.scroll.lines(e,Math.max(t,1)),s=t;o.forEach(function(t){var o=t.length();if(t instanceof c.default){var i=e-t.offset(n.scroll),l=t.newlineIndex(i+s)-i+1;t.formatAt(i,l,a,r[a])}else t.format(a,r[a]);s-=o})}}),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(a){n.scroll.formatAt(e,t,a,r[a])}),this.update((new s.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=a(e,1)[0];t instanceof m.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=b((0,d.bubbleFormats)(n),t)}return t});return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new s.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(a){n.scroll.formatAt(e,t.length,a,r[a])}),this.update((new s.default).retain(e).insert(t,(0,f.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===m.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=a(r,2),i=o[0],l=o[1],u=0,d=new s.default;null!=i&&(u=i instanceof c.default?i.newlineIndex(l)-l+1:i.length()-l,d=i.delta().slice(l,l+u-1).insert("\n"));var m=this.getContents(e,t+u).diff((new s.default).insert(n).concat(d)),p=(new s.default).retain(e).concat(m);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var a=l.default.find(t[0].target),o=(0,d.bubbleFormats)(a),i=a.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),m=(new s.default).insert(c),p=(new s.default).insert(a.value());e=(new s.default).retain(i).concat(m.diff(p,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)},new s.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,h.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function b(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n},{})}t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),s=c(n(21)),i=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=(0,c(n(10)).default)("quill:selection"),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,a=n.startNode,o=n.startOffset,s=n.endNode,i=n.endOffset;r.setNativeRange(a,o,s,i)}}),this.update(l.default.sources.SILENT)}return a(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var a=r.split(n.start.offset);r.parent.insertBefore(this.cursor,a)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var a=void 0,o=this.scroll.leaf(e),s=r(o,2),i=s[0],l=s[1];if(null==i)return null;var c=i.position(l,!0),u=r(c,2);a=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(a,l);var m=this.scroll.leaf(e+t),p=r(m,2);if(i=p[0],l=p[1],null==i)return null;var f=i.position(l,!0),h=r(f,2);return a=h[0],l=h[1],d.setEnd(a,l),d.getBoundingClientRect()}var g="left",x=void 0;return a instanceof Text?(l<a.data.length?(d.setStart(a,l),d.setEnd(a,l+1)):(d.setStart(a,l-1),d.setEnd(a,l),g="right"),x=d.getBoundingClientRect()):(x=i.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:x.top+x.height,height:x.height,left:x[g],right:x[g],top:x.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return m.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var a=n.map(function(e){var n=r(e,2),a=n[0],s=n[1],i=o.default.find(a,!0),l=i.offset(t.scroll);return 0===s?l:i instanceof o.default.Container?l+i.length():l+i.index(a,s)}),s=Math.min(Math.max.apply(Math,u(a)),this.scroll.length()-1),i=Math.min.apply(Math,[s].concat(u(a)));return new p(i,s-i)}},{key:"normalizeNative",value:function(e){if(!h(this.root,e.startContainer)||!e.collapsed&&!h(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],o=this.scroll.length();return n.forEach(function(e,n){e=Math.min(o-1,e);var s,i=t.scroll.leaf(e),l=r(i,2),c=l[0],u=l[1],d=c.position(u,0!==n),m=r(d,2);s=m[0],u=m[1],a.push(s,u)}),a.length<2&&(a=a.concat(a)),a}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var a=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,a)),s=r(o,1)[0],i=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,a));i=r(l,1)[0]}if(null!=s&&null!=i){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||a||e!==s.startContainer||t!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var i=document.createRange();i.setStart(e,t),i.setEnd(n,r),o.removeAllRanges(),o.addRange(i)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),m.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),a=r(n,2),o=a[0],c=a[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,i.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,m=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(m)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,m)}}}]),e}();function h(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default.Embed);i.blotName="break",i.tagName="BR",t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),o=n(30),s=n(1),i=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof s.ParchmentError)return;throw r}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),a=r[0],o=r[1];return null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e?[a,o]:a instanceof t?a.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var a=[],o=r;return this.children.forEachAt(n,r,function(n,r,s){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&a.push(n),n instanceof t&&(a=a.concat(n.descendants(e,r,o))),o-=s}),a},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,a){e.formatAt(t,a,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),a=r[0],o=r[1];if(a)a.insertAt(o,t,n);else{var i=null==n?s.create("text",t):s.create(t,n);this.appendChild(i)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),a=r[0],o=r[1],s=[[this,e]];return a instanceof t?s.concat(a.path(o,n)):(null!=a&&s.push([a,o]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,a){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],a=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),a.push.apply(a,e.removedNodes))}),a.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})},t}(o.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),o=n(31),s=n(17),i=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=i.query(e);n instanceof a.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var a=e.prototype.wrap.call(this,n,r);return a instanceof t&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},t}(s.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){var r=n(11),a=n(3),o={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=a(!0,{},t);for(var o in n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,a){return r(e[a],t[a])||(n[a]=void 0===t[a]?null:t[a]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=o.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var a={};return t.attributes&&(a.attributes=t.attributes),"number"===typeof t.retain?a.retain=e:"string"===typeof t.insert?a.insert=t.insert.substr(n,e):a.insert=t.insert,a}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=o},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(i){t=function(){}}try{n=Set}catch(i){n=function(){}}try{r=Promise}catch(i){r=function(){}}function a(o,i,l,c,u){"object"===typeof i&&(l=i.depth,c=i.prototype,u=i.includeNonEnumerable,i=i.circular);var d=[],m=[],p="undefined"!=typeof Buffer;return"undefined"==typeof i&&(i=!0),"undefined"==typeof l&&(l=1/0),function o(l,f){if(null===l)return null;if(0===f)return l;var h,g;if("object"!=typeof l)return l;if(e(l,t))h=new t;else if(e(l,n))h=new n;else if(e(l,r))h=new r(function(e,t){l.then(function(t){e(o(t,f-1))},function(e){t(o(e,f-1))})});else if(a.__isArray(l))h=[];else if(a.__isRegExp(l))h=new RegExp(l.source,s(l)),l.lastIndex&&(h.lastIndex=l.lastIndex);else if(a.__isDate(l))h=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(h),h;e(l,Error)?h=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),h=Object.create(g)):(h=Object.create(c),g=c)}if(i){var x=d.indexOf(l);if(-1!=x)return m[x];d.push(l),m.push(h)}for(var v in e(l,t)&&l.forEach(function(e,t){var n=o(t,f-1),r=o(e,f-1);h.set(n,r)}),e(l,n)&&l.forEach(function(e){var t=o(e,f-1);h.add(t)}),l){var y;g&&(y=Object.getOwnPropertyDescriptor(g,v)),y&&null==y.set||(h[v]=o(l[v],f-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(l);for(v=0;v<b.length;v++){var j=b[v];(!(w=Object.getOwnPropertyDescriptor(l,j))||w.enumerable||u)&&(h[j]=o(l[j],f-1),w.enumerable||Object.defineProperty(h,j,{enumerable:!1}))}}if(u){var N=Object.getOwnPropertyNames(l);for(v=0;v<N.length;v++){var w,k=N[v];(w=Object.getOwnPropertyDescriptor(l,k))&&w.enumerable||(h[k]=o(l[k],f-1),Object.defineProperty(h,k,{enumerable:!1}))}}return h}(o,l)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=s,a}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=p(n(0)),i=p(n(8)),l=n(4),c=p(l),u=p(n(16)),d=p(n(13)),m=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof c.default||e instanceof l.BlockEmbed}var h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var a=this.line(e),s=r(a,2),i=s[0],c=s[1],m=this.line(e+n),p=r(m,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=p&&i!==p&&c>0){if(i instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(i instanceof d.default){var f=i.newlineIndex(i.length(),!0);if(f>-1&&(i=i.split(f+1))===p)return void this.optimize()}else if(p instanceof d.default){var h=p.newlineIndex(0);h>-1&&p.split(h+1)}var g=p.children.head instanceof u.default?null:p.children.head;i.moveChildren(p,g),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,a){(null==this.whitelist||this.whitelist[r])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,a),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==s.default.query(n,s.default.Scope.BLOCK)){var a=s.default.create(this.statics.defaultChild);this.appendChild(a),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),a.insertAt(0,n,r)}else{var i=s.default.create(n,r);this.appendChild(i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var r=s.default.create(this.statics.defaultChild);r.appendChild(e),e=r}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,n,r){var a=[],o=r;return t.children.forEachAt(n,r,function(t,n,r){f(t)?a.push(t):t instanceof s.default.Container&&(a=a.concat(e(t,n,o))),o-=r}),a}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=i.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,n,e)}}}]),t}(s.default.Scroll);h.blotName="scroll",h.className="ql-editor",h.tagName="DIV",h.defaultChild="block",h.allowedChildren=[c.default,l.BlockEmbed,m.default],t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=h(n(21)),i=h(n(11)),l=h(n(3)),c=h(n(2)),u=h(n(20)),d=h(n(0)),m=h(n(5)),p=h(n(10)),f=h(n(9));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(0,p.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},k),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},j),r.addBinding({key:t.keys.DELETE},{collapsed:!0},N)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},N)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},w),r.addBinding({key:t.keys.DELETE},{collapsed:!1},w),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),r.listen(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=_(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_(e);if(null==r||null==r.key)return x.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,s=(e.bindings[o]||[]).filter(function(e){return t.match(n,e)});if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=a(c,2),m=u[0],p=u[1],f=e.quill.getLeaf(l.index),h=a(f,2),g=h[0],x=h[1],v=0===l.length?[g,x]:e.quill.getLeaf(l.index+l.length),y=a(v,2),b=y[0],j=y[1],N=g instanceof d.default.Text?g.value().slice(0,x):"",w=b instanceof d.default.Text?b.value().slice(j):"",k={collapsed:0===l.length,empty:0===l.length&&m.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:N,suffix:w};s.some(function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==k.format[e]}))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,i.default)(t.format[e],k.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix))&&!(null!=t.suffix&&!t.suffix.test(k.suffix))&&!0!==t.handler.call(e,l,k)})&&n.preventDefault()}}}})}}]),t}(f.default);function b(e,t){var n,r=e===y.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},r,/^$/),g(n,"handler",function(n){var r=n.index;e===y.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(a(o,1)[0]instanceof d.default.Embed)||(e===y.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,m.default.sources.USER):this.quill.setSelection(n.index-1,m.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,m.default.sources.USER):this.quill.setSelection(n.index+n.length+1,m.default.sources.USER),!1)}),n}function j(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=a(n,1)[0],o={};if(0===t.offset){var s=this.quill.getLine(e.index-1),i=a(s,1)[0];if(null!=i&&i.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);o=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,m.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,m.default.sources.USER),this.quill.focus()}}function N(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},o=0,s=this.quill.getLine(e.index),i=a(s,1)[0];if(t.offset>=i.length()-1){var l=this.quill.getLine(e.index+1),c=a(l,1)[0];if(c){var d=i.formats(),p=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,p)||{},o=c.length()}}this.quill.deleteText(e.index,n,m.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+o-1,n,r,m.default.sources.USER)}}function w(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),a=t[t.length-1].formats();n=u.default.attributes.diff(a,r)||{}}this.quill.deleteText(e,m.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,m.default.sources.USER),this.quill.setSelection(e.index,m.default.sources.SILENT),this.quill.focus()}function k(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],m.default.sources.USER))})}function S(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,o=t.length,s=this.quill.scroll.descendant(n,r),i=a(s,2),l=i[0],c=i[1];if(null!=l){var u=this.quill.getIndex(l),p=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+o),h=l.domNode.textContent.slice(p,f).split("\n");c=0,h.forEach(function(t,a){e?(l.insertAt(p+c,n.TAB),c+=n.TAB.length,0===a?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(p+c,n.TAB.length),c-=n.TAB.length,0===a?r-=n.TAB.length:o-=n.TAB.length),c+=t.length+1}),this.quill.update(m.default.sources.USER),this.quill.setSelection(r,o,m.default.sources.SILENT)}}}}function C(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],m.default.sources.USER)}}}function _(e){if("string"===typeof e||"number"===typeof e)return _({key:e});if("object"===("undefined"===typeof e?"undefined":r(e))&&(e=(0,s.default)(e,!1)),"string"===typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",m.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",m.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",m.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,m.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,m.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,m.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,m.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,m.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),r=n[0],o=n[1],s=(0,l.default)({},r.formats(),{list:"checked"}),i=(new c.default).retain(e.index).insert("\n",s).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=a(n,2),o=r[0],s=r[1],i=(new c.default).retain(e.index).insert("\n",t.format).retain(o.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),o=a(r,2),s=o[0],i=o[1];if(i>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",m.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-i).delete(n+1).retain(s.length()-2-i).retain(1,{list:l});this.quill.updateContents(u,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,m.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),r=n[0],o=n[1],s=(new c.default).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,m.default.sources.USER)}},"embed left":b(y.keys.LEFT,!1),"embed left shift":b(y.keys.LEFT,!0),"embed right":b(y.keys.RIGHT,!1),"embed right shift":b(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=l(n(0)),i=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,o=0;null!=r&&r.statics.scope!==s.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),a=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];a=c[0],o=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof i.default?(a=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var d=[o,l].map(function(e){return Math.max(0,Math.min(a.data.length,e-1))}),m=r(d,2);return o=m[0],l=m[1],{startNode:a,startOffset:o,endNode:a,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(s.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=n(4),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);i.allowedChildren=[o.default,a.BlockEmbed,i],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(i.default.Attributor.Style),c=new i.default.Attributor.Class("color","ql-color",{scope:i.default.Scope.INLINE}),u=new l("color","color",{scope:i.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);function l(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=i,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(23)),s=i(n(107));function i(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var a=document.createEvent("Event");a.initEvent("change",!0,!0),this.select.dispatchEvent(a)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(0)),a=x(n(5)),o=n(4),s=x(o),i=x(n(16)),l=x(n(25)),c=x(n(24)),u=x(n(35)),d=x(n(6)),m=x(n(22)),p=x(n(7)),f=x(n(55)),h=x(n(42)),g=x(n(23));function x(e){return e&&e.__esModule?e:{default:e}}a.default.register({"blots/block":s.default,"blots/block/embed":o.BlockEmbed,"blots/break":i.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":m.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":h.default,"modules/keyboard":g.default}),r.default.register(s.default,i.default,c.default,d.default,m.default,p.default),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,a){var o=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&a)o.wrap(n,a);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);o.wrap(s),s.format(n,a)}},e.prototype.insertAt=function(e,t,n){var a=null==n?r.create("text",t):r.create(t,n),o=this.split(e);this.parent.insertBefore(a,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=n(32),o=n(33),s=n(1),i=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=a.default.keys(this.domNode),i=o.default.keys(this.domNode);t.concat(n).concat(i).forEach(function(t){var n=s.query(t,s.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function a(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=i(n(0)),s=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var a=this.prev.length();this.prev.insertAt(a,r),t={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}})}}]),t}(o.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new o.default.Attributor.Attribute("align","align",s),l=new o.default.Attributor.Class("align","ql-align",s),c=new o.default.Attributor.Style("align","text-align",s);t.AlignAttribute=i,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},s=n(26),i=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},i=new o.default.Attributor.Attribute("direction","dir",s),l=new o.default.Attributor.Class("direction","ql-direction",s),c=new o.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=i,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},l={scope:i.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new i.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(i.default.Attributor.Style),d=new u("font","font-family",l);t.FontStyle=d,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=i},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,function(e,t,n,a){e!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&a!==o.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var a=this.stack.undo.pop();n=n.compose(a.undo),e=a.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(n(9)).default);function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=a.default.query(e,a.default.Scope.BLOCK)}))}(e)&&(n-=1),n}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=i,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=f(n(3)),s=f(n(2)),i=f(n(8)),l=f(n(23)),c=f(n(34)),u=f(n(59)),d=f(n(60)),m=f(n(28)),p=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],j=["1","2","3",!1],N=["small",!1,"large","huge"],w=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})}),r}return x(t,e),r(t,[{key:"addModule",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&S(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&S(e,y,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?S(e,b):e.classList.contains("ql-header")?S(e,j):e.classList.contains("ql-size")&&S(e,N)),new m.default(e)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);w.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(r.index).delete(r.length).insert({image:n.target.result}),i.default.sources.USER),e.quill.setSelection(r.index+1,i.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return x(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,i.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,i.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",i.default.sources.USER),this.quill.setSelection(r+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}t.BaseTooltip=k,t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var a=n.length();if(e<a||t&&e===a&&(null==n.next||0!==n.next.length()))return[n,e];e-=a}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,a=this.find(e),o=a[0],s=e-a[1],i=this.iterator(o);(r=i())&&s<e+t;){var l=r.length();e>s?n(r,e-s,Math.min(t,s+l-e)):n(r,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,a){this.update(),e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var i=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&i(e.parent))},l=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=o.find(e,!1);i(t,!1),t instanceof a.default&&t.children.forEach(function(e){i(e,!1)})})):"attributes"===e.type&&i(t.prev)),i(t))}),this.children.forEach(l),s=(c=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)t.push(s.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map(function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)}),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,a){null!=this.formats()[r]||o.query(r,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=o.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,a){null!=o.query(r,o.Scope.BLOCK)?this.format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var a=this.split(t),s=o.create(n,r);a.parent.insertBefore(s,a)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,a){0===t&&n===this.length()?this.format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:a.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,a=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(a,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=o(e,t),d=e.substring(0,u);u=s(e=e.substring(u),t=t.substring(u));var m=e.substring(e.length-u),p=function(e,t){var i;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return i=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(i[0][0]=i[2][0]=n),i;if(1==c.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,i,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var m=o(e.substring(n),t.substring(u)),p=s(e.substring(0,n),t.substring(0,u));d.length<p+m&&(d=t.substring(u-p,u)+t.substring(u,u+m),r=e.substring(0,n-p),a=e.substring(n+m),i=t.substring(0,u-p),l=t.substring(u+m))}return 2*d.length>=e.length?[r,a,i,l,d]:null}var i,l,c,u,d,m=a(n,r,Math.ceil(n.length/4)),p=a(n,r,Math.ceil(n.length/2));if(!m&&!p)return null;i=p?m&&m[4].length>p[4].length?m:p:m,e.length>t.length?(l=i[0],c=i[1],u=i[2],d=i[3]):(u=i[0],d=i[1],l=i[2],c=i[3]);var f=i[4];return[l,c,u,d,f]}(e,t);if(d){var m=d[0],p=d[1],f=d[2],h=d[3],g=d[4],x=r(m,f),v=r(p,h);return x.concat([[0,g]],v)}return function(e,t){for(var r=e.length,o=t.length,s=Math.ceil((r+o)/2),i=s,l=2*s,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[i+1]=0,u[i+1]=0;for(var m=r-o,p=m%2!=0,f=0,h=0,g=0,x=0,v=0;v<s;v++){for(var y=-v+f;y<=v-h;y+=2){for(var b=i+y,j=(C=y==-v||y!=v&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-y;C<r&&j<o&&e.charAt(C)==t.charAt(j);)C++,j++;if(c[b]=C,C>r)h+=2;else if(j>o)f+=2;else if(p&&(k=i+m-y)>=0&&k<l&&-1!=u[k]&&C>=(w=r-u[k]))return a(e,t,C,j)}for(var N=-v+g;N<=v-x;N+=2){for(var w,k=i+N,S=(w=N==-v||N!=v&&u[k-1]<u[k+1]?u[k+1]:u[k-1]+1)-N;w<r&&S<o&&e.charAt(r-w-1)==t.charAt(o-S-1);)w++,S++;if(u[k]=w,w>r)x+=2;else if(S>o)g+=2;else if(!p){var C;if((b=i+m-N)>=0&&b<l&&-1!=c[b])if(j=i+(C=c[b])-b,C>=(w=r-w))return a(e,t,C,j)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&p.unshift([0,d]),m&&p.push([0,m]),i(p),null!=l&&(p=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,a=0;a<e.length;a++){var o=e[a];if(o[0]===n||0===o[0]){var s=r+o[1].length;if(t===s)return[a+1,e];if(t<s){e=e.slice();var i=t-r,l=[o[0],o[1].slice(0,i)],c=[o[0],o[1].slice(i)];return e.splice(a,1,l,c),[a+1,e]}r=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=r[1],o=r[0],s=a[o],i=a[o+1];if(null==s)return e;if(0!==s[0])return e;if(null!=i&&s[1]+i[1]===i[1]+s[1])return a.splice(o,2,i,s),c(a,o,2);if(null!=i&&0===i[1].indexOf(s[1])){a.splice(o,2,[i[0],s[1]],[0,s[1]]);var l=i[1].slice(s[1].length);return l.length>0&&a.splice(o+2,0,[i[0],l]),c(a,o,3)}return e}(p,l)),p=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)0===e[o-2][0]&&a(e[o-2][1])&&e[o-1][0]===n&&r(e[o-1][1])&&1===e[o][0]&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var s=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&s.push(e[o]);return s}(p)}function a(e,t,n,a){var o=e.substring(0,n),s=t.substring(0,a),i=e.substring(n),l=t.substring(a),c=r(o,s),u=r(i,l);return c.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,o=0;n<a;)e.substring(o,a)==t.substring(o,a)?o=n=a:r=a,a=Math.floor((r-n)/2+n);return a}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,o=0;n<a;)e.substring(e.length-a,e.length-o)==t.substring(t.length-a,t.length-o)?o=n=a:r=a,a=Math.floor((r-n)/2+n);return a}function i(e){e.push([0,""]);for(var t,r=0,a=0,l=0,c="",u="";r<e.length;)switch(e[r][0]){case 1:l++,u+=e[r][1],r++;break;case n:a++,c+=e[r][1],r++;break;case 0:a+l>1?(0!==a&&0!==l&&(0!==(t=o(u,c))&&(r-a-l>0&&0==e[r-a-l-1][0]?e[r-a-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),r++),u=u.substring(t),c=c.substring(t)),0!==(t=s(u,c))&&(e[r][1]=u.substring(u.length-t)+e[r][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===a?e.splice(r-l,a+l,[1,u]):0===l?e.splice(r-a,a+l,[n,c]):e.splice(r-a-l,a+l,[n,c],[1,u]),r=r-a-l+(a?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,a=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&i(e)}var l=r;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var a=e[r],o=e[r+1];a[0]===o[1]&&e.splice(r,2,[a[0],a[1]+o[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:a).supported=r,t.unsupported=a},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,a=[];if(0===this._eventsCount)return a;for(t in e=this._events)n.call(e,t)&&a.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e,t){var n=r?r+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var o=0,s=a.length,i=new Array(s);o<s;o++)i[o]=a[o].fn;return i},s.prototype.emit=function(e,t,n,a,o,s){var i=r?r+e:e;if(!this._events[i])return!1;var l,c,u=this._events[i],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,o),!0;case 6:return u.fn.call(u.context,t,n,a,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var m,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(m=1,l=new Array(d-1);m<d;m++)l[m-1]=arguments[m];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){var a=new o(t,n||this),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},s.prototype.once=function(e,t,n){var a=new o(t,n||this,!0),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],a]:this._events[s].push(a):(this._events[s]=a,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,o){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new a:delete this._events[s],this;var i=this._events[s];if(i.fn)i.fn!==t||o&&!i.once||n&&i.context!==n||(0===--this._eventsCount?this._events=new a:delete this._events[s]);else{for(var l=0,c=[],u=i.length;l<u;l++)(i[l].fn!==t||o&&!i[l].once||n&&i[l].context!==n)&&c.push(i[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new a:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,"undefined"!==typeof e&&(e.exports=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=y(n(3)),i=y(n(2)),l=y(n(0)),c=y(n(5)),u=y(n(10)),d=y(n(9)),m=n(36),p=n(37),f=y(n(13)),h=n(26),g=n(38),x=n(39),v=n(40);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(0,u.default)("quill:clipboard"),N="__ql-matcher",w=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,D],["br",function(e,t){return A(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===E(e).fontStyle&&(n.italic=!0),r.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=_(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new i.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!A(t,"\n"))return t;for(var r=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(l.default.query(a)||{}).blotName&&(r+=1),a=a.parentNode;return r<=0?t:t.compose((new i.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new i.default}]],k=[m.AlignAttribute,g.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=[m.AlignStyle,p.BackgroundStyle,h.ColorStyle,g.DirectionStyle,x.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),C=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],w.concat(r.options.matchers).forEach(function(e){var t=a(e,2),o=t[0],s=t[1];(n.matchVisual||s!==L)&&r.addMatcher(o,s)}),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new i.default).insert(n,b({},f.default.blotName,t[f.default.blotName]))}var r=this.prepareMatching(),o=a(r,2),s=o[0],l=o[1],c=P(this.container,s,l);return A(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new i.default).retain(c.length()-1).delete(1))),j.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new i.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new i.default).retain(n.index),a=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=a,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var o=a(r,2),s=o[0],i=o[1];switch(s){case Node.TEXT_NODE:n.push(i);break;case Node.ELEMENT_NODE:t.push(i);break;default:[].forEach.call(e.container.querySelectorAll(s),function(e){e[N]=e[N]||[],e[N].push(i)})}}),[t,n]}}]),t}(d.default);function _(e,t,n){return"object"===("undefined"===typeof t?"undefined":r(t))?Object.keys(t).reduce(function(e,n){return _(e,n,t[n])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,s.default)({},b({},t,n),r.attributes))},new i.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function A(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var a=e.ops[r];if("string"!==typeof a.insert)break;n=a.insert+n}return n.slice(-1*t.length)===t}function O(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new i.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(r,a){var o=P(a,t,n);return a.nodeType===e.ELEMENT_NODE&&(o=t.reduce(function(e,t){return t(a,e)},o),o=(a[N]||[]).reduce(function(e,t){return t(a,e)},o)),r.concat(o)},new i.default):new i.default}function T(e,t,n){return _(n,e,!0)}function M(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),a=l.default.Attributor.Style.keys(e),o={};return n.concat(r).concat(a).forEach(function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=S[t])||n.attrName!==t&&n.keyName!==t||(n=S[t],o[n.attrName]=n.value(e)||void 0))}),Object.keys(o).length>0&&(t=_(t,o)),t}function I(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},a=n.value(e);null!=a&&(r[n.blotName]=a,t=(new i.default).insert(r,n.formats(e)))}else"function"===typeof n.formats&&(t=_(t,n.blotName,n.formats(e)));return t}function D(e,t){return A(t,"\n")||(O(e)||t.length()>0&&e.nextSibling&&O(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(O(e)&&null!=e.nextElementSibling&&!A(t,"\n\n")){var n=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function R(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&O(e.parentNode)||null!=e.previousSibling&&O(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&O(e.parentNode)||null!=e.nextSibling&&O(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=M,t.matchBlot=I,t.matchNewline=D,t.matchSpacing=L,t.matchText=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);i.blotName="bold",i.tagName=["STRONG","B"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(2)),s=u(n(0)),i=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(0,l.default)("quill:toolbar"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var s=document.createElement("div");h(s,o.options.container),e.container.parentNode.insertBefore(s,e.container),o.container=s}else"string"===typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach(function(e){o.addHandler(e,o.options.handlers[e])}),[].forEach.call(o.container.querySelectorAll("button, select"),function(e){o.attach(e)}),o.quill.on(i.default.events.EDITOR_CHANGE,function(e,t){e===i.default.events.SELECTION_CHANGE&&o.update(t)}),o.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var e=o.quill.selection.getRange(),t=r(e,1)[0];o.update(t)}),o):(a=m.error("Container required for toolbar",o.options),d(o,a))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void m.warn("ignoring attaching to disabled format",n,e);if(null==s.default.query(n))return void m.warn("ignoring attaching to nonexistent format",n,e)}var a="SELECT"===e.tagName?"change":"click";e.addEventListener(a,function(a){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),a.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),i.default.sources.USER)}else t.quill.format(n,l,i.default.sources.USER);t.update(d)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var a=r(n,2),o=a[0],s=a[1];if("SELECT"===s.tagName){var i=void 0;if(null==e)i=null;else if(null==t[o])i=s.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),i=s.querySelector('option[value="'+l+'"]')}null==i?(s.value="",s.selectedIndex=-1):i.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[o]===s.getAttribute("value")||null!=t[o]&&t[o].toString()===s.getAttribute("value")||null==t[o]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[o])})}}]),t}(c.default);function f(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function h(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)f(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}(n,t,r):f(n,t,r)}}),e.appendChild(n)})}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,i.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",i.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",e,i.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var a="+1"===e?1:-1;"rtl"===n.direction&&(a*=-1),this.quill.format("indent",r+a,i.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,i.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",e,i.default.sources.USER)}}},t.default=p,t.addControls=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(28),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=a:r.style.fill=a)}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(28),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),o=0;if(a.right>r.right&&(o=r.right-a.right,this.root.style.left=t+o+"px"),a.left<r.left&&(o=r.left-a.left,this.root.style.left=t+o+"px"),a.bottom>r.bottom){var s=a.bottom-a.top,i=e.bottom-e.top+s;this.root.style.top=n-i+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=p(n(3)),i=p(n(8)),l=n(43),c=p(l),u=p(n(27)),d=n(15),m=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=x);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),m.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(c.default);v.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),o(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,i.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(t,n,a){if(null!=t){if(0===t.length&&a===i.default.sources.USER){var o=e.quill.scroll.descendant(u.default,t.index),s=r(o,2),l=s[0],c=s[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var m=u.default.formats(l.domNode);return e.preview.textContent=m,e.preview.setAttribute("href",m),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=D(n(29)),a=n(36),o=n(38),s=n(64),i=D(n(65)),l=D(n(66)),c=n(67),u=D(c),d=n(37),m=n(26),p=n(39),f=n(40),h=D(n(56)),g=D(n(68)),x=D(n(27)),v=D(n(69)),y=D(n(70)),b=D(n(71)),j=D(n(72)),N=D(n(73)),w=n(13),k=D(w),S=D(n(74)),C=D(n(75)),_=D(n(57)),E=D(n(41)),A=D(n(28)),O=D(n(59)),P=D(n(60)),T=D(n(61)),M=D(n(108)),I=D(n(62));function D(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),r.default.register({"formats/align":a.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":s.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":i.default,"formats/code-block":k.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":w.Code,"formats/italic":g.default,"formats/link":x.default,"formats/script":v.default,"formats/strike":y.default,"formats/underline":b.default,"formats/image":j.default,"formats/video":N.default,"formats/list/item":c.ListItem,"modules/formula":S.default,"modules/syntax":C.default,"modules/toolbar":_.default,"themes/bubble":M.default,"themes/snow":I.default,"ui/icons":E.default,"ui/picker":A.default,"ui/icon-picker":P.default,"ui/color-picker":O.default,"ui/tooltip":T.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(i.default.Attributor.Class),c=new l("indent","ql-indent",{scope:i.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=l(n(0)),s=l(n(4)),i=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==p.blotName||n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:a(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);m.blotName="list-item",m.tagName="LI";var p=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),a=o.default.find(t.target);"checked"===r?a.format("list","unchecked"):"unchecked"===r&&a.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof m)a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(i.default);p.blotName="list",p.scope=o.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[m],t.ListItem=m,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(56),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);i.blotName="script",i.tagName=["SUB","SUP"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);o.blotName="strike",o.tagName="S",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);o.blotName="underline",o.tagName="U",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(0),i=(r=s)&&r.__esModule?r:{default:r},l=n(27),c=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},s=n(4),i=n(27),l=(r=i)&&r.__esModule?r:{default:r},c=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=l(n(35)),s=l(n(5)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(m,!0)}}]),t}(i.default);t.FormulaBlot=m,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},o=l(n(0)),s=l(n(5)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);m.className="ql-syntax";var p=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),f=function(e){function t(e,n){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return r.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(a),a=setTimeout(function(){r.highlight(),a=null},r.options.interval)}),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(p,!0),s.default.register(m,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(i.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=m,t.CodeToken=p,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),s=d(n(8)),i=n(43),l=d(i),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){m(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=h);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return f(t,e),a(t,[{key:"extendToolbar",value:function(e){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);g.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(e){function t(e,n){m(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,n,a){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&a===s.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(t.index,t.length);if(1===o.length)r.position(r.quill.getBounds(t));else{var i=o[o.length-1],l=r.quill.getIndex(i),u=Math.min(i.length()-1,t.index+t.length-l),d=r.quill.getBounds(new c.Range(l,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),a=this.root.querySelector(".ql-tooltip-arrow");if(a.style.marginLeft="",0===n)return n;a.style.marginLeft=-1*n-a.offsetWidth/2+"px"}}]),t}(i.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=x,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var b=y.prototype=new v;b.constructor=y,h(b,x.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+E(l,0):o,j(s)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),A(s,t,a,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",j(e))for(var c=0;c<e.length;c++){var u=o+E(i=e[c],c);l+=A(i,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,a,u=o+E(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},M={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:w};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,i=s&&s.exports===o?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=s.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),o=n(438),s=n(9394),i=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=i,e.exports=l},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),o=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!s[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),o=n(793),s=n(7760),i=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,i){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var m=c[d];if(!(l?m in t:a.call(t,m)))return!1}var p=i.get(e),f=i.get(t);if(p&&f)return p==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var g=l;++d<u;){var x=e[m=c[d]],v=t[m];if(o)var y=l?o(v,x,m,t,e,i):o(x,v,m,e,t,i);if(!(void 0===y?x===v||s(x,v,n,o,i):y)){h=!1;break}g||(g="constructor"==m)}if(h&&!g){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(h=!1)}return i.delete(e),i.delete(t),h}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),o=n(9987),s=n(5752),i=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",m="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,g,x){var v=l(e),y=l(t),b=v?m:i(e),j=y?m:i(t),N=(b=b==d?p:b)==p,w=(j=j==d?p:j)==p,k=b==j;if(k&&c(e)){if(!c(t))return!1;v=!0,N=!1}if(k&&!N)return x||(x=new r),v||u(e)?a(e,t,n,h,g,x):o(e,t,b,n,h,g,x);if(!(1&n)){var S=N&&f.call(e,"__wrapped__"),C=w&&f.call(t,"__wrapped__");if(S||C){var _=S?e.value():e,E=C?t.value():t;return x||(x=new r),g(_,E,n,h,x)}}return!!k&&(x||(x=new r),s(e,t,n,h,g,x))}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a&&r.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),o=n(5387),s=n(2070),i=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",m="[object Set]",p="[object WeakMap]",f="[object DataView]",h=c(r),g=c(a),x=c(o),v=c(s),y=c(i),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||a&&b(new a)!=u||o&&b(o.resolve())!=d||s&&b(new s)!=m||i&&b(new i)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case h:return f;case g:return u;case x:return d;case v:return m;case y:return p}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),o=n(6686),s=n(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,m=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?m:i).test(s(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,o,s,i){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,o,s,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),o=n(4190),s=n(1946),i=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,n))c<a&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,m=null,p=3,f=!1,h=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function j(e){if(g=!1,b(e),!h)if(null!==r(c))h=!0,M(N);else{var t=r(u);null!==t&&I(j,t.startTime-e)}}function N(e,n){h=!1,g&&(g=!1,v(C),C=-1),f=!0;var o=p;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!A());){var s=m.callback;if("function"===typeof s){m.callback=null,p=m.priorityLevel;var i=s(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var l=!0;else{var d=r(u);null!==d&&I(j,d.startTime-n),l=!1}return l}finally{m=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,_=5,E=-1;function A(){return!(t.unstable_now()-E<_)}function O(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof y)w=function(){y(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=O,w=function(){T.postMessage(null)}}else w=function(){x(O,0)};function M(e){S=e,k||(k=!0,w())}function I(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,M(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,I(j,o-s))):(e.sortIndex=i,n(c,e),h||f||(h=!0,M(N))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8673:(e,t,n)=>{var r=n(3204),a=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),o=n(2154),s=n(8734),i=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=i,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),o=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=a,s.prototype.has=o,e.exports=s},9088:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(2555),a=n(3802),o=n(5043),s=n(8443);const{useDebugValue:i}=o,{useSyncExternalStoreWithSelector:l}=s;let c=!1;const u=e=>e;const d=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?(0,a.y)(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2?arguments[2]:void 0;n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);const r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return i(r),r}(t,e,n);return Object.assign(n,t),n},m=e=>e?d(e):d;function p(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(r=n.getItem(e))?r:null;return o instanceof Promise?o.then(a):a(o)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const f=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>f(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>f(e)(n)}}},h=m(((e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,a,o)=>{let s=(0,r.A)({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>(0,r.A)((0,r.A)({},t),e)},t),i=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch(v){}if(!u)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...arguments)},a,o);const d=f(s.serialize),m=()=>{const e=s.partialize((0,r.A)({},a()));let t;const n=d({state:e,version:s.version}).then(e=>u.setItem(s.name,e)).catch(e=>{t=e});if(t)throw t;return n},p=o.setState;o.setState=(e,t)=>{p(e,t),m()};const h=e(function(){n(...arguments),m()},a,o);let g;const x=()=>{var e;if(!u)return;i=!1,l.forEach(e=>e(a()));const t=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,a()))||void 0;return f(u.getItem.bind(u))(s.name).then(e=>{if(e)return s.deserialize(e)}).then(e=>{if(e){if("number"!==typeof e.version||e.version===s.version)return e.state;if(s.migrate)return s.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return g=s.merge(e,null!=(t=a())?t:h),n(g,!0),m()}).then(()=>{null==t||t(g,void 0),i=!0,c.forEach(e=>e(g))}).catch(e=>{null==t||t(void 0,e)})};return o.persist={setOptions:e=>{s=(0,r.A)((0,r.A)({},s),e),e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},x(),g||h})(e,t)):((e,t)=>(n,a,o)=>{let s=(0,r.A)({storage:p(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>(0,r.A)((0,r.A)({},t),e)},t),i=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...arguments)},a,o);const d=()=>{const e=s.partialize((0,r.A)({},a()));return u.setItem(s.name,{state:e,version:s.version})},m=o.setState;o.setState=(e,t)=>{m(e,t),d()};const h=e(function(){n(...arguments),d()},a,o);let g;o.getInitialState=()=>h;const x=()=>{var e,t;if(!u)return;i=!1,l.forEach(e=>{var t;return e(null!=(t=a())?t:h)});const r=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=a())?e:h))||void 0;return f(u.getItem.bind(u))(s.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate)return[!0,s.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[r,o]=e;if(g=s.merge(o,null!=(t=a())?t:h),n(g,!0),r)return d()}).then(()=>{null==r||r(g,void 0),g=a(),i=!0,c.forEach(e=>e(g))}).catch(e=>{null==r||r(void 0,e)})};return o.persist={setOptions:e=>{s=(0,r.A)((0,r.A)({},s),e),e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},s.skipHydration||x(),g||h})(e,t))((e,t)=>({projects:[],currentProject:null,editorContent:"",editorHistory:[],currentChapter:null,currentVolume:null,projectStructure:{volumes:[]},worldData:{name:"",description:"",genre:"",techLevel:"",locations:[],regions:[],climates:[],resources:[],peoples:[],languages:[],religions:[],traditions:[],magicSystems:[],technologies:[],governments:[],economies:[],events:[],eras:[],relationships:[]},characters:[],selectedCharacter:null,loreData:{myths:[],legends:[],prophecies:[],artifacts:[],rituals:[],customs:[]},narrativeData:{plotPoints:[],storyArcs:[],themes:[],conflicts:[],resolutions:[]},aiConversations:[],aiSettings:{model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3},settings:{theme:"light",language:"pt-BR",timezone:"America/Sao_Paulo",notifications:!0,autoSave:!0,autoSaveInterval:30,undoHistorySize:50,analytics:!1,spellCheck:!0,defaultAIProvider:"openai",aiTimeout:30,autoSuggestions:!1,autoRetry:!0,aiProviders:{openai:{apiKey:"",defaultModel:"gpt-4o-mini",temperature:.7,maxTokens:2e3,enabled:!0},anthropic:{apiKey:"",defaultModel:"claude-3-5-sonnet-20241022",temperature:.7,maxTokens:2e3,enabled:!1},google:{apiKey:"",defaultModel:"gemini-1.5-flash",temperature:.7,maxTokens:2e3,enabled:!1},groq:{apiKey:"",defaultModel:"llama3-70b-8192",temperature:.7,maxTokens:2e3,enabled:!1},custom:{apiKey:"",baseUrl:"",defaultModel:"custom-model",temperature:.7,maxTokens:2e3,enabled:!1}},fontFamily:"serif",fontSize:16,lineHeight:1.6,focusMode:!1,wordWrap:!0,showStats:!0,syntaxHighlight:!0,primaryColor:"blue",density:"normal",animations:!0,visualEffects:!0,notificationSounds:!0,notificationTypes:{auto_save:!0,ai_responses:!0,reminders:!1,updates:!0,errors:!0},dailyReminders:!1,reminderTime:"19:00",dailyWordGoal:500,encryptLocalData:!1,maskApiKeys:!0,activityLog:!0,autoBackup:!1,backupFrequency:"daily",maxBackups:10,devMode:!1,verboseLogging:!1,betaFeatures:!1,renderLimit:1e3,cacheTTL:60,lazyLoading:!0},setCurrentProject:t=>e({currentProject:t}),addProject:t=>e(e=>({projects:[...e.projects,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})),updateProject:(t,n)=>e(e=>({projects:e.projects.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),n):e)})),deleteProject:t=>e(e=>({projects:e.projects.filter(e=>e.id!==t)})),setEditorContent:t=>e({editorContent:t}),addToHistory:t=>e(e=>({editorHistory:[...e.editorHistory.slice(-9),t]})),setCurrentChapter:t=>e({currentChapter:t}),setCurrentVolume:t=>e({currentVolume:t}),addVolume:t=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:[...e.projectStructure.volumes,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),chapters:[],createdAt:(new Date).toISOString()})]})})),updateVolume:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)((0,r.A)({},e),n),{},{updatedAt:(new Date).toISOString()}):e)})})),deleteVolume:t=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.filter(e=>e.id!==t)})})),addChapter:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:[...e.chapters,(0,r.A)((0,r.A)({},n),{},{id:Date.now(),content:"",wordCount:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})]}):e)})})),updateChapter:(t,n,a)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.map(e=>e.id===n?(0,r.A)((0,r.A)((0,r.A)({},e),a),{},{updatedAt:(new Date).toISOString(),wordCount:a.content?a.content.replace(/<[^>]*>/g,"").split(/\s+/).filter(e=>e.length>0).length:e.wordCount}):e)}):e)})})),deleteChapter:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.filter(e=>e.id!==n)}):e)})})),updateWorldData:t=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),t)})),addLocation:t=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{locations:[...e.worldData.locations,(0,r.A)((0,r.A)({},t),{},{id:Date.now()})]})})),addWorldItem:(t,n)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:[...e.worldData[t]||[],(0,r.A)((0,r.A)({},n),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})})),updateWorldItem:(t,n,a)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:(e.worldData[t]||[]).map(e=>e.id===n?(0,r.A)((0,r.A)({},e),a):e)})})),deleteWorldItem:(t,n)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:(e.worldData[t]||[]).filter(e=>e.id!==n)})})),addCharacter:t=>e(e=>({characters:[...e.characters,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})),updateCharacter:(t,n)=>e(e=>({characters:e.characters.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),n):e)})),deleteCharacter:t=>e(e=>({characters:e.characters.filter(e=>e.id!==t)})),setSelectedCharacter:t=>e({selectedCharacter:t}),addLoreItem:(t,n)=>e(e=>({loreData:(0,r.A)((0,r.A)({},e.loreData),{},{[t]:[...e.loreData[t],(0,r.A)((0,r.A)({},n),{},{id:Date.now()})]})})),addNarrativeItem:(t,n)=>e(e=>({narrativeData:(0,r.A)((0,r.A)({},e.narrativeData),{},{[t]:[...e.narrativeData[t],(0,r.A)((0,r.A)({},n),{},{id:Date.now()})]})})),addAIConversation:t=>e(e=>({aiConversations:[...e.aiConversations,(0,r.A)((0,r.A)({},t),{},{id:Date.now()})]})),updateAISettings:t=>e(e=>({aiSettings:(0,r.A)((0,r.A)({},e.aiSettings),t)})),updateSettings:t=>e(e=>({settings:(0,r.A)((0,r.A)({},e.settings),t)})),getProjectById:e=>t().projects.find(t=>t.id===e),getCharactersByRole:e=>t().characters.filter(t=>t.role===e),getLocationsByType:e=>t().worldData.locations.filter(t=>t.type===e),getLoreByCategory:e=>t().loreData[e]||[],getNarrativeByCategory:e=>t().narrativeData[e]||[],exportProject:()=>{var e;const n=t(),r={project:n.currentProject,worldData:n.worldData,characters:n.characters,loreData:n.loreData,narrativeData:n.narrativeData,editorContent:n.editorContent,exportDate:(new Date).toISOString()},a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download="".concat((null===(e=n.currentProject)||void 0===e?void 0:e.name)||"project",".json"),s.click(),URL.revokeObjectURL(o)},importProject:n=>{try{const r="string"===typeof n?JSON.parse(n):n;return e({worldData:r.worldData||t().worldData,characters:r.characters||[],loreData:r.loreData||t().loreData,narrativeData:r.narrativeData||t().narrativeData,editorContent:r.editorContent||""}),!0}catch(r){return console.error("Erro ao importar projeto:",r),!1}}}),{name:"light-novel-creator-storage",partialize:e=>({projects:e.projects,projectStructure:e.projectStructure,worldData:e.worldData,characters:e.characters,loreData:e.loreData,narrativeData:e.narrativeData,aiConversations:e.aiConversations,aiSettings:e.aiSettings,settings:e.settings})}))},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),o=n(8673);e.exports=function(e){return r(e,o,a)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9621:(e,t,n)=>{var r=n(7529),a=n(7828),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:a;e.exports=i},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,i=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=i(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,o(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,i=n)}var s,i,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var p=s(e,d[0],d[1]);return l(function(){m.hasValue=!0,m.value=p},[p]),u(p),p}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),o=n(3211),s=n(3668),i=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,m){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=i;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var h=m.get(e);if(h)return h==t;r|=2,m.set(e,t);var g=s(p(e),p(t),r,c,d,m);return m.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),a=n(4391),o=n(7950),s=n.t(o,2);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Pe){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(t,n,r,a){void 0===a&&(a={});let{window:o=document.defaultView,v5Compat:s=!1}=a,u=o.history,f=e.Pop,h=null,g=x();function x(){return(u.state||{idx:null}).idx}function v(){f=e.Pop;let t=x(),n=null==t?null:t-g;g=t,h&&h({action:f,location:b.location,delta:n})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(i({},u.state,{idx:g}),""));let b={get action(){return f},get location(){return t(o,u)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),h=e,()=>{o.removeEventListener(l,v),h=null}},createHref:e=>n(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let a=m(b.location,t,n);r&&r(a,t),g=x()+1;let i=d(a,g),l=b.createHref(a);try{u.pushState(i,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&h&&h({action:f,location:b.location,delta:1})},replace:function(t,n){f=e.Replace;let a=m(b.location,t,n);r&&r(a,t),g=x();let o=d(a,g),i=b.createHref(a);u.replaceState(o,"",i),s&&h&&h({action:f,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=T(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let o=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let i=0;null==s&&i<o.length;++i){let e=P(a);s=A(o[i],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let i=R([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:E(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let s=b(r.join("/")),i=[];return i.push(...s.map(e=>""===e?o:[o,e].join("/"))),a&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,w=2,k=1,S=10,C=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=C),t&&(r+=w),n.filter(e=>!_(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?k:S),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:R([o,u.pathname]),pathnameBase:z(R([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=R([o,u.pathnameBase]))}return s}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=i({},e),c(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let o,s=""===e||""===a.pathname,l=s?"/":a.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:q(r),hash:B(a)}}(a,o),d=l&&"/"!==l&&l.endsWith("/"),m=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!m||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const V=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const Y=t.createContext(null);const X=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=t.createContext(null);function $(){return null!=t.useContext(Y)}function J(){return $()||c(!1),t.useContext(Y).location}function Q(e){t.useContext(K).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=me(ce.UseNavigateStable),r=t.useRef(!1);Q(()=>{r.current=!0});let a=t.useCallback(function(t,a){void 0===a&&(a={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,G({fromRouteId:n},a)))},[e,n]);return a}():function(){$()||c(!1);let e=t.useContext(V),{basename:n,future:r,navigator:a}=t.useContext(K),{matches:o}=t.useContext(X),{pathname:s}=J(),i=JSON.stringify(D(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return Q(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void a.go(t);let o=L(t,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:R([n,o.pathname])),(r.replace?a.replace:a.push)(o,r.state,r)},[n,a,i,s,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:a}=t.useContext(K),{matches:o}=t.useContext(X),{pathname:s}=J(),i=JSON.stringify(D(o,a.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(i),s,"path"===r),[e,i,s,r])}function ne(n,r,a,o){$()||c(!1);let{navigator:s}=t.useContext(K),{matches:i}=t.useContext(X),l=i[i.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,p=J();if(r){var h;let e="string"===typeof r?f(r):r;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||c(!1),m=e}else m=p;let g=m.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(n,{pathname:v});let b=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,a,o);return r&&b?t.createElement(Y.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:e.Pop}},b):b}function re(){let e=function(){var e;let n=t.useContext(Z),r=de(ce.UseRouteError),a=me(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[a]}(),n=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const ae=t.createElement(re,null);class oe extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:a}=e,o=t.useContext(V);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(X.Provider,{value:n},a)}function ie(e,n,r,a){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let u=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){u=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,a,o)=>{let s,c=!1,m=null,p=null;var f;r&&(s=l&&a.route.id?l[a.route.id]:void 0,m=a.route.errorElement||ae,u&&(d<0&&0===o?(f="route-fallback",!1||pe[f]||(pe[f]=!0),c=!0,p=null):d===o&&(c=!0,p=a.route.hydrateFallbackElement||null)));let h=n.concat(i.slice(0,o+1)),g=()=>{let n;return n=s?m:c?p:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(se,{match:a,routeContext:{outlet:e,matches:h,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?t.createElement(oe,{location:r.location,revalidation:r.revalidation,component:m,error:s,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(V);return n||c(!1),n}function de(e){let n=t.useContext(W);return n||c(!1),n}function me(e){let n=function(){let e=t.useContext(X);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function he(e){c(!1)}function ge(n){let{basename:r="/",children:a=null,location:o,navigationType:s=e.Pop,navigator:i,static:l=!1,future:u}=n;$()&&c(!1);let d=r.replace(/^\/*/,"/"),m=t.useMemo(()=>({basename:d,navigator:i,static:l,future:G({v7_relativeSplatPath:!1},u)}),[d,u,i,l]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:h="",hash:g="",state:x=null,key:v="default"}=o,y=t.useMemo(()=>{let e=T(p,d);return null==e?null:{location:{pathname:e,search:h,hash:g,state:x,key:v},navigationType:s}},[d,p,h,g,x,v,s]);return null==y?null:t.createElement(K.Provider,{value:m},t.createElement(Y.Provider,{children:a,value:y}))}function xe(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise(()=>{});t.Component;function ve(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let o=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,o));e.type!==he&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ve(e.props.children,o)),r.push(s)}),r}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Pe){}new Map;const Ne=r.startTransition;s.flushSync,r.useId;function we(e){let{basename:n,children:r,future:a,window:o}=e,s=t.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:o,v5Compat:!0})&&(i={}),h(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,i)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},f=t.useCallback(e=>{d&&Ne?Ne(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(f),[l,f]),t.useEffect(()=>fe(a),[a]),t.createElement(ge,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,n){let r,{onClick:a,relative:o,reloadDocument:s,replace:i,state:l,target:u,to:d,preventScrollReset:m,viewTransition:f}=e,h=be(e,je),{basename:g}=t.useContext(K),x=!1;if("string"===typeof d&&Se.test(d)&&(r=d,ke))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:x=!0}catch(Pe){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;$()||c(!1);let{basename:a,navigator:o}=t.useContext(K),{hash:s,pathname:i,search:l}=te(e,{relative:r}),u=i;return"/"!==a&&(u="/"===i?a:R([a,i])),o.createHref({pathname:u,search:l,hash:s})}(d,{relative:o}),y=function(e,n){let{target:r,replace:a,state:o,preventScrollReset:s,relative:i,viewTransition:l}=void 0===n?{}:n,c=ee(),u=J(),d=te(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==a?a:p(u)===p(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,a,o,r,e,s,i,l])}(d,{replace:i,state:l,target:u,preventScrollReset:m,relative:o,viewTransition:f});return t.createElement("a",ye({},h,{href:r||v,onClick:x||s?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:n,target:u}))});var _e,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oe=n(2555);let Pe={data:""},Te=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Pe,Me=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ie=/\/\*[^]*?\*\/|  +/g,De=/\n+/g,Le=(e,t)=>{let n="",r="",a="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?Le(s,o):o+"{"+Le(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=Le(s,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Le.p?Le.p(o,s):o+":"+s+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Re={},ze=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+ze(e[n]);return t}return e},qe=(e,t,n,r,a)=>{let o=ze(e),s=Re[o]||(Re[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Re[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=Me.exec(e.replace(Ie,""));)t[4]?r.shift():t[3]?(n=t[3].replace(De," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(De," ").trim();return r[0]})(e);Re[s]=Le(a?{["@keyframes "+s]:t}:t,n?"":"."+s)}let i=n&&Re.g?Re.g:null;return n&&(Re.g=Re[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Re[s],t,r,i),s};function Be(e){let t=this||{},n=e.call?e(t.p):e;return qe(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let o=t[a];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Le(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Te(t.target),t.g,t.o,t.k)}Be.bind({g:1});let Fe,Ue,He,Ge=Be.bind({k:1});function Ve(e,t){let n=this||{};return function(){let r=arguments;function a(o,s){let i=Object.assign({},o),l=i.className||a.className;n.p=Object.assign({theme:Ue&&Ue()},i),n.o=/ *go\d+/.test(l),i.className=Be.apply(n,r)+(l?" "+l:""),t&&(i.ref=s);let c=e;return e[0]&&(c=i.as||e,delete i.as),He&&c[0]&&He(i),Fe(c,i)}return t?t(a):a}}var We,Ke,Ye,Xe,Ze,$e,Je,Qe,et,tt,nt,rt,at,ot,st,it,lt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ct=(()=>{let e=0;return()=>(++e).toString()})(),ut=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dt="default",mt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Oe.A)((0,Oe.A)({},e),t.toast):e)});case 2:let{toast:r}=t;return mt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?(0,Oe.A)((0,Oe.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Oe.A)((0,Oe.A)({},e),{},{toasts:[]}):(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Oe.A)((0,Oe.A)({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return(0,Oe.A)((0,Oe.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{pauseDuration:e.pauseDuration+o}))})}},pt=[],ft={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},ht={},gt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt;ht[t]=mt(ht[t]||ft,e),pt.forEach(e=>{let[n,r]=e;n===t&&r(ht[t])})},xt=e=>Object.keys(ht).forEach(t=>gt(e,t)),vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;return t=>{gt(t,e)}},yt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,Oe.A)((0,Oe.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ct()})}(t,e,n);return vt(r.toasterId||(e=>Object.keys(ht).find(t=>ht[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},jt=(e,t)=>bt("blank")(e,t);jt.error=bt("error"),jt.success=bt("success"),jt.loading=bt("loading"),jt.custom=bt("custom"),jt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?vt(t)(n):xt(n)},jt.dismissAll=e=>jt.dismiss(void 0,e),jt.remove=(e,t)=>{let n={type:4,toastId:e};t?vt(t)(n):xt(n)},jt.removeAll=e=>jt.remove(void 0,e),jt.promise=(e,t,n)=>{let r=jt.loading(t.loading,(0,Oe.A)((0,Oe.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?lt(t.success,e):void 0;return a?jt.success(a,(0,Oe.A)((0,Oe.A)({id:r},n),null==n?void 0:n.success)):jt.dismiss(r),e}).catch(e=>{let a=t.error?lt(t.error,e):void 0;a?jt.error(a,(0,Oe.A)((0,Oe.A)({id:r},n),null==n?void 0:n.error)):jt.dismiss(r)}),e};var Nt=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,[r,a]=(0,t.useState)(ht[n]||ft),o=(0,t.useRef)(ht[n]);(0,t.useEffect)(()=>(o.current!==ht[n]&&a(ht[n]),pt.push([n,a]),()=>{let e=pt.findIndex(e=>{let[t]=e;return t===n});e>-1&&pt.splice(e,1)}),[n]);let s=r.toasts.map(t=>{var n,r,a;return(0,Oe.A)((0,Oe.A)((0,Oe.A)((0,Oe.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||yt[t.type],style:(0,Oe.A)((0,Oe.A)((0,Oe.A)({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return(0,Oe.A)((0,Oe.A)({},r),{},{toasts:s})}(e,n),o=(0,t.useRef)(new Map).current,s=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),i({type:4,toastId:e})},t);o.set(e,n)},[]);(0,t.useEffect)(()=>{if(a)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>jt.dismiss(t.id,n),r);t.visible&&jt.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,a,n]);let i=(0,t.useCallback)(vt(n),[n]),l=(0,t.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,t.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),u=(0,t.useCallback)(()=>{a&&i({type:6,time:Date.now()})},[a,i]),d=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:o}=t||{},s=r.filter(t=>(t.position||o)===(e.position||o)&&t.height),i=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<i&&e.visible).length;return s.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=o.get(e.id);t&&(clearTimeout(t),o.delete(e.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},wt=Ge(We||(We=Ae(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),kt=Ge(Ke||(Ke=Ae(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),St=Ge(Ye||(Ye=Ae(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ct=Ve("div")(Xe||(Xe=Ae(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",wt,kt,e=>e.secondary||"#fff",St),_t=Ge(Ze||(Ze=Ae(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Et=Ve("div")($e||($e=Ae(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",_t),At=Ge(Je||(Je=Ae(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ot=Ge(Qe||(Qe=Ae(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Pt=Ve("div")(et||(et=Ae(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",At,Ot,e=>e.secondary||"#fff"),Tt=Ve("div")(tt||(tt=Ae(["\n  position: absolute;\n"]))),Mt=Ve("div")(nt||(nt=Ae(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),It=Ge(rt||(rt=Ae(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dt=Ve("div")(at||(at=Ae(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),It),Lt=e=>{let{toast:n}=e,{icon:r,type:a,iconTheme:o}=n;return void 0!==r?"string"==typeof r?t.createElement(Dt,null,r):r:"blank"===a?null:t.createElement(Mt,null,t.createElement(Et,(0,Oe.A)({},o)),"loading"!==a&&t.createElement(Tt,null,"error"===a?t.createElement(Ct,(0,Oe.A)({},o)):t.createElement(Pt,(0,Oe.A)({},o))))},Rt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),zt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),qt=Ve("div")(ot||(ot=Ae(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Bt=Ve("div")(st||(st=Ae(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Ft=t.memo(e=>{let{toast:n,position:r,style:a,children:o}=e,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=ut()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Rt(n),zt(n)];return{animation:t?"".concat(Ge(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ge(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},i=t.createElement(Lt,{toast:n}),l=t.createElement(Bt,(0,Oe.A)({},n.ariaProps),lt(n.message,n));return t.createElement(qt,{className:n.className,style:(0,Oe.A)((0,Oe.A)((0,Oe.A)({},s),a),n.style)},"function"==typeof o?o({icon:i,message:l}):t.createElement(t.Fragment,null,i,l))});!function(e,t,n,r){Le.p=t,Fe=e,Ue=n,He=r}(t.createElement);var Ut=e=>{let{id:n,className:r,style:a,onHeightUpdate:o,children:s}=e,i=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;o(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,o]);return t.createElement("div",{ref:i,className:r,style:a},s)},Ht=Be(it||(it=Ae(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Gt=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:o,children:s,toasterId:i,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Nt(a,i);return t.createElement("div",{"data-rht-toaster":i||"",style:(0,Oe.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let a=e.position||r,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,Oe.A)((0,Oe.A)({left:0,right:0,display:"flex",position:"absolute",transition:ut()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(a,d.calculateOffset(e,{reverseOrder:n,gutter:o,defaultPosition:r}));return t.createElement(Ut,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Ht:"",style:i},"custom"===e.type?lt(e.message,e):s?s(e):t.createElement(Ft,{toast:e,position:a}))}))},Vt=jt;function Wt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Kt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yt=["color","size","strokeWidth","absoluteStrokeWidth","children"],Xt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Zt=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{color:o="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:c}=r,u=Wt(r,Yt);return(0,t.createElement)("svg",(0,Oe.A)((0,Oe.A)({ref:a},Kt),{},{width:s,height:s,stroke:o,strokeWidth:l?24*Number(i)/Number(s):i,className:"lucide lucide-".concat(Xt(e))},u),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(c)?c:[c])||[]])});return r.displayName="".concat(e),r};const $t=Zt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Jt=Zt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Qt=Zt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),en=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tn=Zt("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),nn=Zt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),rn=Zt("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),an=Zt("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),on=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sn=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ln=Zt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),cn=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),un=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dn=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mn=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),pn=Zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fn=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),hn=Zt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var gn=n(9088);const xn=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),vn=Zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),yn=Zt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),bn=Zt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),jn=Zt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Nn=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wn=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),kn=Zt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Sn={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info",PROGRESS:"progress",REMINDER:"reminder"},Cn={WRITING:"writing",AI:"ai",PROJECT:"project",SYSTEM:"system",GOAL:"goal",BACKUP:"backup"},_n={enabled:!0,sound:!0,desktop:!0,categories:{[Cn.WRITING]:!0,[Cn.AI]:!0,[Cn.PROJECT]:!0,[Cn.SYSTEM]:!0,[Cn.GOAL]:!0,[Cn.BACKUP]:!0},frequency:{reminders:"daily",progress:"weekly",backup:"daily"}},En=()=>{const{settings:e,updateSettings:n}=(0,gn.A)(),[r,a]=(0,t.useState)([]),[o,s]=(0,t.useState)(0),[i,l]=(0,t.useState)(null),c=(null===e||void 0===e?void 0:e.notifications)||_n,u=(0,t.useCallback)(e=>c.enabled&&c.categories[e],[c]),d=(0,t.useCallback)(e=>{let{type:t=Sn.INFO,category:n=Cn.SYSTEM,title:r,message:o,duration:s=5e3,action:i,priority:l="normal"}=e;if(!u(n))return;const d={id:Date.now()+Math.random(),type:t,category:n,title:r,message:o,timestamp:new Date,action:i,priority:l,read:!1};switch(a(e=>[d,...e.slice(0,49)]),t){case Sn.SUCCESS:Vt.success(o,{duration:s});break;case Sn.ERROR:Vt.error(o,{duration:s});break;case Sn.WARNING:Vt(o,{icon:"\u26a0\ufe0f",style:{background:"#fbbf24",color:"#1f2937"}});break;case Sn.PROGRESS:Vt.success(o,{duration:s,icon:"\ud83d\udcc8"});break;case Sn.REMINDER:Vt(o,{duration:8e3,icon:"\u23f0",style:{background:"#3b82f6",color:"white"}});break;default:Vt(o,{duration:s})}return c.desktop&&"Notification"in window&&("granted"===Notification.permission?new Notification(r,{body:o,icon:"/favicon.ico",tag:n}):"default"===Notification.permission&&Notification.requestPermission()),d.id},[u,c.desktop]),m=(0,t.useCallback)(e=>{a(t=>t.map(t=>t.id===e?(0,Oe.A)((0,Oe.A)({},t),{},{read:!0}):t))},[]),p=(0,t.useCallback)(()=>{a(e=>e.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{read:!0})))},[]),f=(0,t.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),h=(0,t.useCallback)(()=>{a([])},[]),g=(0,t.useCallback)(e=>{if(!u(Cn.WRITING))return;const t=e-o;t>=100&&d({type:Sn.PROGRESS,category:Cn.WRITING,title:"Progresso de Escrita",message:"Parab\xe9ns! Voc\xea escreveu mais ".concat(t," palavras!"),duration:4e3});const{currentProject:n}=gn.A.getState();null!==n&&void 0!==n&&n.targetWordCount&&e>=n.targetWordCount&&d({type:Sn.SUCCESS,category:Cn.GOAL,title:"Meta Atingida! \ud83c\udf89",message:"Voc\xea atingiu sua meta de ".concat(n.targetWordCount," palavras!"),duration:6e3}),s(e)},[o,u,d]),x=(0,t.useCallback)(e=>{if(!u(Cn.WRITING))return;const t=Date.now();e>36e5&&d({type:Sn.REMINDER,category:Cn.WRITING,title:"Hora de uma Pausa",message:"Voc\xea est\xe1 escrevendo h\xe1 mais de 1 hora. Que tal fazer uma pausa?",duration:8e3}),e>72e5&&d({type:Sn.SUCCESS,category:Cn.WRITING,title:"Sess\xe3o Incr\xedvel!",message:"Voc\xea est\xe1 escrevendo h\xe1 mais de 2 horas. Dedica\xe7\xe3o impressionante!",duration:5e3}),l(t)},[i,u,d]),v=(0,t.useCallback)(()=>{if(!u(Cn.AI))return;const{settings:e}=gn.A.getState();Object.values((null===e||void 0===e?void 0:e.aiProviders)||{}).some(e=>e.enabled&&e.apiKey)||d({type:Sn.WARNING,category:Cn.AI,title:"IA N\xe3o Configurada",message:"Configure um provedor de IA para desbloquear funcionalidades avan\xe7adas!",duration:1e4,action:{label:"Configurar",onClick:()=>window.location.href="/settings"}})},[u,d]),y=(0,t.useCallback)(()=>{if(!u(Cn.BACKUP))return;const e=localStorage.getItem("lastBackup"),t=Date.now();(!e||t-parseInt(e)>864e5)&&d({type:Sn.REMINDER,category:Cn.BACKUP,title:"Backup Pendente",message:"Fa\xe7a backup do seu projeto para n\xe3o perder seu trabalho!",duration:8e3,action:{label:"Fazer Backup",onClick:()=>{const{exportProject:e}=gn.A.getState();e()}}})},[u,d]),b=(0,t.useCallback)(()=>{if(!u(Cn.GOAL))return;const{currentProject:e,editorContent:t}=gn.A.getState(),n=t.split(/\s+/).filter(e=>e.length>0).length;if(null!==e&&void 0!==e&&e.dailyGoal&&n<e.dailyGoal){const t=e.dailyGoal-n;d({type:Sn.REMINDER,category:Cn.GOAL,title:"Meta Di\xe1ria",message:"Faltam ".concat(t," palavras para atingir sua meta di\xe1ria!"),duration:6e3})}},[u,d]),j=(0,t.useCallback)(e=>{n({notifications:(0,Oe.A)((0,Oe.A)({},c),e)})},[c,n]),N=(0,t.useCallback)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e&&d({type:Sn.SUCCESS,category:Cn.SYSTEM,title:"Notifica\xe7\xf5es Ativadas",message:"Voc\xea receber\xe1 notifica\xe7\xf5es desktop!",duration:3e3})})},[d]);return(0,t.useEffect)(()=>{v();const e=setInterval(y,216e5),t=setInterval(b,36e5);return()=>{clearInterval(e),clearInterval(t)}},[v,y,b]),{notifications:r,addNotification:d,markAsRead:m,markAllAsRead:p,removeNotification:f,clearAllNotifications:h,checkWritingProgress:g,checkWritingSession:x,checkAIConfiguration:v,checkBackupStatus:y,checkDailyGoals:b,updateNotificationSettings:j,requestDesktopPermission:N,notificationSettings:c,isCategoryEnabled:u}};var An=n(579);const On=()=>{const{notifications:e,markAsRead:n,markAllAsRead:r,removeNotification:a,clearAllNotifications:o,notificationSettings:s,updateNotificationSettings:i,requestDesktopPermission:l}=En(),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)("all"),p=e.filter(e=>"all"===d||("unread"===d?!e.read:e.category===d)),f=e.filter(e=>!e.read).length,h=e=>{switch(e){case Sn.SUCCESS:return(0,An.jsx)(xn,{className:"h-5 w-5 text-green-500"});case Sn.ERROR:return(0,An.jsx)(vn,{className:"h-5 w-5 text-red-500"});case Sn.WARNING:return(0,An.jsx)(vn,{className:"h-5 w-5 text-yellow-500"});case Sn.PROGRESS:return(0,An.jsx)(xn,{className:"h-5 w-5 text-blue-500"});case Sn.REMINDER:return(0,An.jsx)(yn,{className:"h-5 w-5 text-purple-500"});default:return(0,An.jsx)(bn,{className:"h-5 w-5 text-gray-500"})}},g=e=>{switch(e){case Sn.SUCCESS:return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case Sn.ERROR:return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case Sn.WARNING:return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case Sn.PROGRESS:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case Sn.REMINDER:return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700"}},x=e=>{const t=new Date-new Date(e),n=Math.floor(t/6e4),r=Math.floor(t/36e5),a=Math.floor(t/864e5);return n<1?"Agora":n<60?"".concat(n,"m atr\xe1s"):r<24?"".concat(r,"h atr\xe1s"):"".concat(a,"d atr\xe1s")};return(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsxs)("button",{onClick:()=>u(!c),className:"relative p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",title:"Notifica\xe7\xf5es",children:[(0,An.jsx)(jn,{className:"h-5 w-5"}),f>0&&(0,An.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:f>99?"99+":f})]}),c&&(0,An.jsxs)("div",{className:"absolute right-0 top-12 w-96 max-h-96 bg-card border border-border rounded-lg shadow-lg z-50",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Notifica\xe7\xf5es"}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)("button",{onClick:l,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Configurar notifica\xe7\xf5es desktop",children:(0,An.jsx)(on,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:r,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Marcar todas como lidas",children:(0,An.jsx)(Nn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:o,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Limpar todas",children:(0,An.jsx)(wn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>u(!1),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,An.jsx)(dn,{className:"h-4 w-4"})})]})]}),(0,An.jsx)("div",{className:"p-3 border-b border-border",children:(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>m("all"),className:"px-3 py-1 text-xs rounded-full transition-colors ".concat("all"===d?"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-100":"bg-muted text-muted-foreground hover:bg-accent"),children:["Todas (",e.length,")"]}),(0,An.jsxs)("button",{onClick:()=>m("unread"),className:"px-3 py-1 text-xs rounded-full transition-colors ".concat("unread"===d?"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-100":"bg-muted text-muted-foreground hover:bg-accent"),children:["N\xe3o lidas (",f,")"]})]})}),(0,An.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===p.length?(0,An.jsxs)("div",{className:"p-6 text-center text-muted-foreground",children:[(0,An.jsx)(jn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,An.jsx)("p",{className:"text-sm",children:"Nenhuma notifica\xe7\xe3o"})]}):(0,An.jsx)("div",{className:"space-y-1 p-2",children:p.map(e=>(0,An.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(g(e.type)," ").concat(e.read?"":"ring-2 ring-primary-200 dark:ring-primary-800"),children:(0,An.jsxs)("div",{className:"flex items-start space-x-3",children:[h(e.type),(0,An.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,An.jsxs)("div",{className:"flex items-start justify-between",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground",children:e.title}),(0,An.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,An.jsx)("span",{className:"text-xs text-muted-foreground",children:x(e.timestamp)}),(0,An.jsx)("button",{onClick:()=>a(e.id),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,An.jsx)(dn,{className:"h-3 w-3"})})]})]}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.message}),e.action&&(0,An.jsx)("button",{onClick:e.action.onClick,className:"mt-2 text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium",children:e.action.label})]}),!e.read&&(0,An.jsx)("button",{onClick:()=>n(e.id),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Marcar como lida",children:(0,An.jsx)(kn,{className:"h-3 w-3"})})]})},e.id))})}),e.length>0&&(0,An.jsx)("div",{className:"p-3 border-t border-border bg-muted/50",children:(0,An.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,An.jsxs)("span",{children:[p.length," de ",e.length," notifica\xe7\xf5es"]}),(0,An.jsx)("button",{onClick:o,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:"Limpar todas"})]})})]}),c&&(0,An.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})]})},Pn=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Tn=Zt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Mn=Zt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),In=Zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Dn=Zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ln=()=>{const{projects:e,characters:n,worldData:r,loreData:a,narrativeData:o,aiConversations:s}=(0,gn.A)(),[i,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,m]=(0,t.useState)([]),[p,f]=(0,t.useState)("all"),h=(0,t.useRef)(null),g=[{id:"all",label:"Tudo",icon:Pn},{id:"projects",label:"Projetos",icon:nn},{id:"characters",label:"Personagens",icon:en},{id:"locations",label:"Locais",icon:Tn},{id:"lore",label:"Lore",icon:$t},{id:"conversations",label:"Conversas AI",icon:Mn}];(0,t.useEffect)(()=>{var e;i&&(null===(e=h.current)||void 0===e||e.focus())},[i]),(0,t.useEffect)(()=>{const e=e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),l(!0)),"Escape"===e.key&&l(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,t.useEffect)(()=>{if(!c.trim())return void m([]);const t=[],o=c.toLowerCase();"all"!==p&&"projects"!==p||e.forEach(e=>{var n,r;(e.name.toLowerCase().includes(o)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(o)||null!==(r=e.genre)&&void 0!==r&&r.toLowerCase().includes(o))&&t.push({type:"project",id:e.id,title:e.name,subtitle:e.genre||"Sem g\xeanero",description:e.description||"Sem descri\xe7\xe3o",icon:nn,href:"/projects"})}),"all"!==p&&"characters"!==p||n.forEach(e=>{var n,r;(e.name.toLowerCase().includes(o)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(o)||null!==(r=e.role)&&void 0!==r&&r.toLowerCase().includes(o))&&t.push({type:"character",id:e.id,title:e.name,subtitle:e.role||"Sem papel definido",description:e.description||"Sem descri\xe7\xe3o",icon:en,href:"/character-generator"})}),"all"!==p&&"locations"!==p||r.locations.forEach(e=>{var n;(e.name.toLowerCase().includes(o)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(o))&&t.push({type:"location",id:e.id,title:e.name,subtitle:e.type||"Local",description:e.description||"Sem descri\xe7\xe3o",icon:Tn,href:"/world-builder"})}),"all"!==p&&"lore"!==p||Object.entries(a).forEach(e=>{let[n,r]=e;r.forEach(e=>{var r,a;(null!==(r=e.name)&&void 0!==r&&r.toLowerCase().includes(o)||null!==(a=e.description)&&void 0!==a&&a.toLowerCase().includes(o))&&t.push({type:"lore",id:e.id,title:e.name||"Item de Lore",subtitle:n,description:e.description||"Sem descri\xe7\xe3o",icon:$t,href:"/lore-generator"})})}),"all"!==p&&"conversations"!==p||s.forEach(e=>{var n,r,a,s,i,l;(null!==(n=e.title)&&void 0!==n&&n.toLowerCase().includes(o)||null!==(r=e.messages)&&void 0!==r&&r.some(e=>e.content.toLowerCase().includes(o)))&&t.push({type:"conversation",id:e.id,title:e.title||"Conversa AI",subtitle:"".concat((null===(a=e.messages)||void 0===a?void 0:a.length)||0," mensagens"),description:(null===(s=e.messages)||void 0===s||null===(i=s[0])||void 0===i||null===(l=i.content)||void 0===l?void 0:l.substring(0,100))||"Sem conte\xfado",icon:Mn,href:"/ai-assistant"})}),m(t.slice(0,10))},[c,p,e,n,r,a,s]);const x=e=>{l(!1),u("")};return(0,An.jsxs)(An.Fragment,{children:[(0,An.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-3 py-2 bg-muted rounded-lg text-muted-foreground hover:text-foreground transition-colors",children:[(0,An.jsx)(Pn,{className:"h-4 w-4"}),(0,An.jsx)("span",{className:"hidden md:block",children:"Buscar..."}),(0,An.jsx)("kbd",{className:"hidden md:inline-flex items-center px-2 py-1 text-xs bg-background border border-border rounded",children:"Ctrl+K"})]}),i&&(0,An.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-start justify-center pt-20",children:(0,An.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[(0,An.jsx)("div",{className:"p-4 border-b border-border",children:(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(Pn,{className:"h-5 w-5 text-muted-foreground"}),(0,An.jsx)("input",{ref:h,type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Buscar em projetos, personagens, locais, lore...",className:"flex-1 bg-transparent text-foreground placeholder-muted-foreground outline-none"}),(0,An.jsx)("button",{onClick:()=>l(!1),className:"p-1 text-muted-foreground hover:text-foreground",children:(0,An.jsx)(dn,{className:"h-5 w-5"})})]})}),(0,An.jsx)("div",{className:"px-4 py-2 border-b border-border",children:(0,An.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:g.map(e=>{const t=e.icon;return(0,An.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center space-x-1 px-3 py-1 rounded-full text-sm whitespace-nowrap transition-colors ".concat(p===e.id?"bg-primary-600 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[(0,An.jsx)(t,{className:"h-3 w-3"}),(0,An.jsx)("span",{children:e.label})]},e.id)})})}),(0,An.jsx)("div",{className:"overflow-y-auto max-h-96",children:c&&0===d.length?(0,An.jsxs)("div",{className:"p-8 text-center",children:[(0,An.jsx)(Pn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Nenhum resultado encontrado"}),(0,An.jsx)("p",{className:"text-muted-foreground",children:"Tente usar termos diferentes ou verificar a ortografia"})]}):c?(0,An.jsx)("div",{className:"divide-y divide-border",children:d.map((e,t)=>{const n=e.icon;return(0,An.jsxs)(Ce,{to:e.href,onClick:x,className:"flex items-center space-x-3 p-4 hover:bg-accent transition-colors",children:[(0,An.jsx)("div",{className:"p-2 rounded-lg bg-muted",children:(0,An.jsx)(n,{className:"h-4 w-4 text-muted-foreground"})}),(0,An.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,An.jsx)("h4",{className:"font-medium text-foreground truncate",children:e.title}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.subtitle}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.description})]}),(0,An.jsx)(In,{className:"h-4 w-4 text-muted-foreground"})]},"".concat(e.type,"-").concat(e.id,"-").concat(t))})}):(0,An.jsxs)("div",{className:"p-8 text-center",children:[(0,An.jsx)(Dn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Busca Global"}),(0,An.jsx)("p",{className:"text-muted-foreground mb-4",children:"Encontre rapidamente qualquer conte\xfado em sua aplica\xe7\xe3o"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,An.jsxs)("div",{className:"text-left",children:[(0,An.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Dicas de busca:"}),(0,An.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,An.jsx)("li",{children:"\u2022 Use Ctrl+K para abrir rapidamente"}),(0,An.jsx)("li",{children:"\u2022 Filtre por categoria"}),(0,An.jsx)("li",{children:"\u2022 Busque por nome ou descri\xe7\xe3o"})]})]}),(0,An.jsxs)("div",{className:"text-left",children:[(0,An.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Categorias:"}),(0,An.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,An.jsx)("li",{children:"\u2022 Projetos e cap\xedtulos"}),(0,An.jsx)("li",{children:"\u2022 Personagens"}),(0,An.jsx)("li",{children:"\u2022 Locais e mundo"}),(0,An.jsx)("li",{children:"\u2022 Lore e hist\xf3ria"})]})]})]})]})}),(0,An.jsx)("div",{className:"p-4 border-t border-border bg-muted/50",children:(0,An.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,An.jsxs)("span",{children:[d.length," resultado",1!==d.length?"s":""]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)("span",{children:"\u2191\u2193 para navegar"}),(0,An.jsx)("span",{children:"Enter para selecionar"}),(0,An.jsx)("span",{children:"Esc para fechar"})]})]})})]})})]})},Rn=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),i=J(),l=(0,t.useRef)(null),{currentProject:c,projects:u,setCurrentProject:d,exportProject:m,importProject:p,addProject:f,settings:h}=(0,gn.A)();(0,t.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const g=[{name:"Dashboard",href:"/",icon:$t},{name:"Editor",href:"/editor",icon:Jt},{name:"Construtor de Mundo",href:"/world-builder",icon:Qt},{name:"Gerador de Personagens",href:"/character-generator",icon:en},{name:"Gerador de Lore",href:"/lore-generator",icon:tn},{name:"Gerador de Narrativa",href:"/narrative-generator",icon:nn},{name:"Assistente AI",href:"/ai-assistant",icon:rn},{name:"Projetos",href:"/projects",icon:an},{name:"Configura\xe7\xf5es",href:"/settings",icon:on}],x=()=>{const e=prompt("Nome do novo projeto:");e&&(f({name:e,description:"",genre:"",targetAudience:"",wordCount:0,chapters:[]}),Vt.success("Projeto criado com sucesso!"))},v=()=>{c?(m(),Vt.success("Projeto exportado com sucesso!")):Vt.error("Nenhum projeto selecionado")},y=e=>{var t,n;if(!e)return{chapters:0,wordCount:0,lastModified:null};return{chapters:(null===(t=e.chapters)||void 0===t?void 0:t.length)||0,wordCount:(null===(n=e.chapters)||void 0===n?void 0:n.reduce((e,t)=>e+(t.wordCount||0),0))||0,lastModified:e.updatedAt||e.createdAt}},b=e=>{if(!e)return"Nunca";const t=new Date(e),n=new Date,r=Math.floor((n-t)/36e5);return r<1?"Agora mesmo":r<24?"".concat(r,"h atr\xe1s"):r<48?"Ontem":t.toLocaleDateString("pt-BR")},j=()=>{var e;const t=null===h||void 0===h?void 0:h.defaultAIProvider,n=null===h||void 0===h||null===(e=h.aiProviders)||void 0===e?void 0:e[t];if(!t||null===n||void 0===n||!n.apiKey)return(0,An.jsxs)("div",{className:"flex items-center px-3 py-1 bg-muted rounded-full text-sm text-muted-foreground",children:[(0,An.jsx)(sn,{className:"h-4 w-4 mr-1 text-muted-foreground"}),(0,An.jsx)("span",{children:"IA n\xe3o configurada"})]});return(0,An.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm ".concat({openai:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",anthropic:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",google:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",groq:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}[t]||"bg-muted text-muted-foreground"),children:[(0,An.jsx)(sn,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{className:"font-medium",children:{openai:"OpenAI",anthropic:"Anthropic",google:"Google AI",groq:"Groq"}[t]||t}),n.defaultModel&&(0,An.jsxs)("span",{className:"ml-1 opacity-75",children:["\u2022 ",n.defaultModel]})]})},N=()=>{const e=y(c);return(0,An.jsxs)("div",{className:"relative",ref:l,children:[(0,An.jsxs)("button",{onClick:()=>s(!o),className:"flex items-center space-x-3 px-4 py-2 bg-card border border-border rounded-lg hover:bg-accent transition-colors",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(ln,{className:"h-5 w-5 text-primary-600"}),(0,An.jsxs)("div",{className:"text-left",children:[(0,An.jsx)("div",{className:"font-medium text-card-foreground",children:(null===c||void 0===c?void 0:c.name)||"Selecionar Projeto"}),c&&(0,An.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center space-x-2",children:[(0,An.jsxs)("span",{children:[e.chapters," cap\xedtulos"]}),(0,An.jsx)("span",{children:"\u2022"}),(0,An.jsxs)("span",{children:[e.wordCount.toLocaleString()," palavras"]}),(0,An.jsx)("span",{children:"\u2022"}),(0,An.jsx)("span",{children:b(e.lastModified)})]})]})]}),(0,An.jsx)(cn,{className:"h-4 w-4 text-muted-foreground transition-transform ".concat(o?"rotate-180":"")})]}),o&&(0,An.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-card border border-border rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:(0,An.jsxs)("div",{className:"p-2",children:[u&&u.length>0?(0,An.jsx)("div",{className:"space-y-1",children:u.map(e=>{const t=y(e),n=(null===c||void 0===c?void 0:c.id)===e.id;return(0,An.jsx)("button",{onClick:()=>(e=>{d(e),s(!1),Vt.success('Projeto "'.concat(e.name,'" selecionado'))})(e),className:"w-full text-left p-3 rounded-lg transition-colors ".concat(n?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"hover:bg-accent"),children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(ln,{className:"h-4 w-4 ".concat(n?"text-primary-600":"text-muted-foreground")}),(0,An.jsxs)("div",{children:[(0,An.jsx)("div",{className:"font-medium text-card-foreground",children:e.name}),(0,An.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center space-x-2",children:[(0,An.jsxs)("span",{children:[t.chapters," cap\xedtulos"]}),(0,An.jsx)("span",{children:"\u2022"}),(0,An.jsxs)("span",{children:[t.wordCount.toLocaleString()," palavras"]}),(0,An.jsx)("span",{children:"\u2022"}),(0,An.jsx)("span",{children:b(t.lastModified)})]})]})]}),n&&(0,An.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full"})]})},e.id)})}):(0,An.jsxs)("div",{className:"p-4 text-center text-muted-foreground",children:[(0,An.jsx)(ln,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,An.jsx)("p",{className:"text-sm",children:"Nenhum projeto criado"}),(0,An.jsx)("p",{className:"text-xs",children:"Crie seu primeiro projeto para come\xe7ar"})]}),(0,An.jsx)("div",{className:"border-t border-border mt-2 pt-2",children:(0,An.jsxs)("button",{onClick:()=>{s(!1),x()},className:"w-full flex items-center space-x-2 p-2 text-sm text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-colors",children:[(0,An.jsx)(un,{className:"h-4 w-4"}),(0,An.jsx)("span",{children:"Criar Novo Projeto"})]})})]})})]})};return(0,An.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,An.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-card shadow-lg transform ".concat(r?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0"),children:[(0,An.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-border",children:[(0,An.jsx)("h1",{className:"text-xl font-bold text-card-foreground",children:"Light Novel Creator"}),(0,An.jsx)("button",{onClick:()=>a(!1),className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,An.jsx)(dn,{className:"h-5 w-5"})})]}),(0,An.jsx)("nav",{className:"mt-6 px-3",children:(0,An.jsx)("div",{className:"space-y-1",children:g.map(e=>{const t=i.pathname===e.href;return(0,An.jsxs)(Ce,{to:e.href,className:"sidebar-item ".concat(t?"active":""),onClick:()=>a(!1),children:[(0,An.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})}),(0,An.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border",children:(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsxs)("button",{onClick:x,className:"w-full btn-primary flex items-center justify-center",children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Novo Projeto"]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,An.jsx)("button",{onClick:v,className:"btn-outline flex items-center justify-center text-sm",title:"Exportar Projeto",children:(0,An.jsx)(mn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{p(e.target.result)?Vt.success("Projeto importado com sucesso!"):Vt.error("Erro ao importar projeto")},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center justify-center text-sm",title:"Importar Projeto",children:(0,An.jsx)(pn,{className:"h-4 w-4"})})]})]})})]}),(0,An.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,An.jsx)("header",{className:"bg-card shadow-sm border-b border-border",children:(0,An.jsxs)("div",{className:"flex items-center justify-between h-16 px-6",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)("button",{onClick:()=>a(!0),className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,An.jsx)(fn,{className:"h-5 w-5"})}),(0,An.jsx)(N,{})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)(Ln,{}),(0,An.jsx)(On,{}),(0,An.jsx)(j,{}),c&&(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:v,className:"btn-outline flex items-center",title:"Exportar Projeto",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Exportar"]}),(0,An.jsxs)("button",{onClick:()=>Vt.success("Projeto salvo!"),className:"btn-primary flex items-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Salvar"]})]})]})]})}),(0,An.jsx)("main",{className:"flex-1 overflow-auto",children:(0,An.jsx)("div",{className:"p-6",children:n})})]}),r&&(0,An.jsx)("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>a(!1)})]})},zn=Zt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),qn=Zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Bn=Zt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Fn=Zt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Un=Zt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Hn=Zt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Gn=Zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Vn=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Wn=e=>{let{onSettingsClick:n}=e;const{settings:r}=(0,gn.A)(),[a,o]=(0,t.useState)({}),[s,i]=(0,t.useState)({}),l=[{id:"openai",name:"OpenAI",description:"GPT-4, GPT-3.5 e outros modelos avan\xe7ados",website:"https://platform.openai.com",color:"green",icon:"\ud83e\udd16"},{id:"anthropic",name:"Anthropic",description:"Claude 3.5 Sonnet, Opus e Haiku",website:"https://console.anthropic.com",color:"purple",icon:"\ud83e\udde0"},{id:"google",name:"Google AI",description:"Gemini Pro e Flash",website:"https://ai.google.dev",color:"blue",icon:"\ud83d\udd0d"},{id:"groq",name:"Groq",description:"Llama 3 e Mixtral ultra-r\xe1pidos",website:"https://console.groq.com",color:"orange",icon:"\u26a1"}];(0,t.useEffect)(()=>{l.forEach(e=>{var t;const n=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e.id];null!==n&&void 0!==n&&n.apiKey&&null!==n&&void 0!==n&&n.enabled&&c(e.id)})},[]);const c=async e=>{o(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:!0}));try{var t;await new Promise(e=>setTimeout(e,1500));const a=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e];if(!(null!==a&&void 0!==a&&a.apiKey&&a.apiKey.length>10))throw new Error("API Key inv\xe1lida");var n;i(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:"connected"})),Vt.success("Conex\xe3o com ".concat(null===(n=l.find(t=>t.id===e))||void 0===n?void 0:n.name," estabelecida!"))}catch(s){var a;i(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:"error"})),Vt.error("Erro ao conectar com ".concat(null===(a=l.find(t=>t.id===e))||void 0===a?void 0:a.name))}finally{o(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:!1}))}},u=e=>{var t,n,o,i;const l=s[e],c=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.enabled,u=null===r||void 0===r||null===(o=r.aiProviders)||void 0===o||null===(i=o[e])||void 0===i?void 0:i.apiKey;return a[e]?(0,An.jsx)(Un,{className:"h-4 w-4 animate-spin"}):c?u?"connected"===l?(0,An.jsx)(xn,{className:"h-4 w-4 text-green-500 dark:text-green-400"}):"error"===l?(0,An.jsx)(vn,{className:"h-4 w-4 text-red-500 dark:text-red-400"}):(0,An.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-300 dark:bg-blue-600"}):(0,An.jsx)(Hn,{className:"h-4 w-4 text-yellow-500 dark:text-yellow-400"}):(0,An.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-300 dark:bg-gray-600"})},d=e=>{var t,n,o,i;const l=s[e],c=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.enabled,u=null===r||void 0===r||null===(o=r.aiProviders)||void 0===o||null===(i=o[e])||void 0===i?void 0:i.apiKey;return a[e]?"Testando...":c?u?"connected"===l?"Conectado":"error"===l?"Erro de conex\xe3o":"N\xe3o testado":"API Key necess\xe1ria":"Desabilitado"},m=l.filter(e=>{var t,n,a,o;return(null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e.id])||void 0===n?void 0:n.enabled)&&(null===r||void 0===r||null===(a=r.aiProviders)||void 0===a||null===(o=a[e.id])||void 0===o?void 0:o.apiKey)&&"connected"===s[e.id]});return(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Dn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Integra\xe7\xe3o com IA"}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:m.length>0?"".concat(m.length," provedor(es) conectado(s)"):"Nenhum provedor configurado"})]})]}),(0,An.jsx)("div",{className:"flex items-center space-x-2",children:(0,An.jsxs)("button",{onClick:n,className:"btn-outline flex items-center text-sm",children:[(0,An.jsx)(on,{className:"h-4 w-4 mr-1"}),"Configurar"]})})]}),(0,An.jsx)("div",{className:"mb-6",children:m.length>0?(0,An.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(xn,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"IA Configurada"}),(0,An.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Voc\xea pode usar as funcionalidades de IA para gerar conte\xfado, personagens e muito mais!"})]})]})}):(0,An.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Configure sua IA"}),(0,An.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Configure pelo menos um provedor de IA para desbloquear funcionalidades avan\xe7adas de gera\xe7\xe3o de conte\xfado."})]})]})})}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Provedores Dispon\xedveis"}),l.map(e=>{var t;const n=(null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e.id])||{};return(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border-2 transition-all ".concat(n.enabled?"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/20"),children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"text-2xl mr-3",children:e.icon}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("h5",{className:"text-sm font-medium text-foreground mr-2",children:e.name}),u(e.id)]}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),(0,An.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",d(e.id)]})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[n.apiKey&&n.enabled&&(0,An.jsx)("button",{onClick:()=>c(e.id),disabled:a[e.id],className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50",title:"Testar conex\xe3o",children:(0,An.jsx)(Gn,{className:"h-4 w-4 ".concat(a[e.id]?"animate-spin":"")})}),(0,An.jsx)("button",{onClick:()=>window.open(e.website,"_blank"),className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",title:"Abrir website",children:(0,An.jsx)(Vn,{className:"h-4 w-4"})})]})]},e.id)})]}),0===m.length&&(0,An.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"\ud83d\ude80 Setup R\xe1pido"}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Recomendamos come\xe7ar com o OpenAI (mais popular) ou Groq (mais r\xe1pido e gratuito):"}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>{n(),setTimeout(()=>{const e=document.querySelector('[data-tab="ai"]');e&&e.click()},100)},className:"btn-primary text-sm",children:"Configurar OpenAI"}),(0,An.jsx)("button",{onClick:()=>{window.open("https://console.groq.com","_blank")},className:"btn-outline text-sm",children:"Obter Groq (Gratuito)"})]})]}),(0,An.jsxs)("div",{className:"mt-6 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg",children:[(0,An.jsx)("h5",{className:"text-xs font-medium text-foreground mb-2",children:"\ud83d\udca1 Dicas:"}),(0,An.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,An.jsx)("li",{children:"\u2022 Groq oferece modelos gratuitos e muito r\xe1pidos"}),(0,An.jsx)("li",{children:"\u2022 OpenAI tem os modelos mais avan\xe7ados (GPT-4)"}),(0,An.jsx)("li",{children:"\u2022 Claude (Anthropic) \xe9 excelente para textos longos"}),(0,An.jsx)("li",{children:"\u2022 Voc\xea pode configurar m\xfaltiplos provedores e alternar entre eles"})]})]})]})},Kn=()=>{var e;const n=ee(),{currentProject:r,projects:a,characters:o,worldData:s,loreData:i,editorContent:l}=(0,gn.A)(),c=l.split(/\s+/).filter(e=>e.length>0).length,u=o.length,d=s.locations.length,m=Object.values(i).flat().length,[p,f]=t.useState(()=>{const e=localStorage.getItem("daily-writing-stats");return e?JSON.parse(e):{}}),[h,g]=t.useState(()=>{const e=localStorage.getItem("writing-goals");return e?JSON.parse(e):[]}),x=(()=>{const e=new Date;e.setDate(e.getDate()-e.getDay());let t=0,n=0;for(let a=0;a<7;a++){var r;const o=new Date(e);o.setDate(o.getDate()+a);const s=o.toISOString().split("T")[0],i=(null===(r=p[s])||void 0===r?void 0:r.wordsWritten)||0;t+=i,i>0&&n++}return{totalWords:t,daysWithWriting:n,averageWords:n>0?Math.round(t/n):0}})(),v=(()=>{(new Date).toISOString().split("T")[0];let e=0,t=new Date;for(;(null===(n=p[t.toISOString().split("T")[0]])||void 0===n?void 0:n.wordsWritten)>0;){var n;e++,t.setDate(t.getDate()-1)}return e})(),y=[{name:"Palavras Escritas",value:c.toLocaleString(),icon:nn,color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-50 dark:bg-primary-900/20"},{name:"Personagens",value:u,icon:en,color:"text-secondary-600 dark:text-secondary-400",bgColor:"bg-secondary-50 dark:bg-secondary-900/20"},{name:"Locais",value:d,icon:Qt,color:"text-accent-foreground",bgColor:"bg-accent"},{name:"Elementos de Lore",value:m,icon:$t,color:"text-muted-foreground",bgColor:"bg-muted"}],b=[{name:"Streak Atual",value:v,icon:zn,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20"},{name:"Palavras Esta Semana",value:x.totalWords.toLocaleString(),icon:qn,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20"},{name:"M\xe9dia Di\xe1ria",value:x.averageWords.toLocaleString(),icon:Bn,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{name:"Dias Ativos",value:"".concat(x.daysWithWriting,"/7"),icon:Fn,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20"}],j=[{name:"Continuar Escrita",description:"Retomar o editor de texto",href:"/editor",icon:nn,color:"bg-primary-600"},{name:"Criar Personagem",description:"Gerar novo personagem",href:"/character-generator",icon:en,color:"bg-secondary-600"},{name:"Expandir Mundo",description:"Adicionar locais e culturas",href:"/world-builder",icon:Qt,color:"bg-accent"},{name:"Assistente AI",description:"Obter ajuda criativa",href:"/ai-assistant",icon:Dn,color:"bg-muted"}],N=a.slice(-3).reverse();return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),(0,An.jsx)("p",{className:"text-muted-foreground mt-2",children:"Bem-vindo ao seu criador de Light Novel"})]}),r&&(0,An.jsxs)("div",{className:"text-right",children:[(0,An.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:r.name}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Projeto Ativo"})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(e=>(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bgColor),children:(0,An.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.name}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.value})]})]})},e.name))}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Metas de Escrita"}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map(e=>(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bgColor),children:(0,An.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})}),(0,An.jsxs)("div",{className:"ml-4",children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.name}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.value})]})]})},e.name))})]}),(0,An.jsx)(Wn,{onSettingsClick:()=>n("/settings")}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.map(e=>(0,An.jsx)(Ce,{to:e.href,className:"group block p-4 border border-border rounded-lg hover:border-border hover:shadow-sm transition-all duration-200",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-2 rounded-lg ".concat(e.color," text-white"),children:(0,An.jsx)(e.icon,{className:"h-5 w-5"})}),(0,An.jsxs)("div",{className:"ml-3",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground group-hover:text-primary-600",children:e.name}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),(0,An.jsx)(In,{className:"ml-auto h-4 w-4 text-muted-foreground group-hover:text-primary-600 transition-colors"})]})},e.name))})]}),N.length>0&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Projetos Recentes"}),(0,An.jsx)("div",{className:"space-y-3",children:N.map(e=>(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg hover:bg-accent transition-colors",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)($t,{className:"h-5 w-5 text-muted-foreground mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground",children:e.name}),(0,An.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.genre," \u2022 ",e.wordCount," palavras"]})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)(Fn,{className:"h-4 w-4 text-muted-foreground"}),(0,An.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))})]}),r&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Progresso da Escrita"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Palavras Escritas"}),(0,An.jsxs)("span",{className:"text-sm text-muted-foreground",children:[c.toLocaleString()," / ",r.targetWordCount||"\u221e"]})]}),(0,An.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r.targetWordCount?Math.min(c/r.targetWordCount*100,100):0,"%")}})}),(0,An.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,An.jsx)("span",{children:"In\xedcio"}),(0,An.jsxs)("span",{children:["Meta: ",(null===(e=r.targetWordCount)||void 0===e?void 0:e.toLocaleString())||"N\xe3o definida"]})]})]})]}),(0,An.jsxs)("div",{className:"card bg-gradient-to-r from-primary-100/50 to-secondary-100/50 dark:from-primary-900/20 dark:to-secondary-900/20 border-primary-200 dark:border-primary-800",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"\ud83d\udca1 Dica do Dia"}),(0,An.jsx)("p",{className:"text-foreground",children:"Use o Assistente AI para gerar ideias quando estiver com bloqueio criativo. Ele pode ajudar com desenvolvimento de personagens, enredos e descri\xe7\xf5es de cen\xe1rios."})]})]})};var Yn=n(2823),Xn=n.n(Yn);const Zn=Zt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$n={openai:{name:"OpenAI",baseUrl:"https://api.openai.com/v1",models:{"gpt-4o":{name:"GPT-4o",maxTokens:128e3,cost:"Alto"},"gpt-4o-mini":{name:"GPT-4o Mini",maxTokens:128e3,cost:"M\xe9dio"},"gpt-4-turbo":{name:"GPT-4 Turbo",maxTokens:128e3,cost:"Alto"},"gpt-3.5-turbo":{name:"GPT-3.5 Turbo",maxTokens:16385,cost:"Baixo"}},keyFormat:"sk-...",website:"https://platform.openai.com",description:"Modelos GPT mais populares e vers\xe1teis",setupInstructions:["Acesse https://platform.openai.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys no menu",'Clique em "Create new secret key"',"Cole a chave aqui"]},anthropic:{name:"Anthropic",baseUrl:"https://api.anthropic.com",models:{"claude-3-5-sonnet-20241022":{name:"Claude 3.5 Sonnet",maxTokens:2e5,cost:"M\xe9dio"},"claude-3-opus-20240229":{name:"Claude 3 Opus",maxTokens:2e5,cost:"Alto"},"claude-3-sonnet-20240229":{name:"Claude 3 Sonnet",maxTokens:2e5,cost:"M\xe9dio"},"claude-3-haiku-20240307":{name:"Claude 3 Haiku",maxTokens:2e5,cost:"Baixo"}},keyFormat:"sk-ant-...",website:"https://console.anthropic.com",description:"Excelente para textos longos e an\xe1lise detalhada",setupInstructions:["Acesse https://console.anthropic.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys",'Clique em "Create Key"',"Cole a chave aqui"]},google:{name:"Google AI",baseUrl:"https://generativelanguage.googleapis.com/v1beta",models:{"gemini-1.5-pro":{name:"Gemini 1.5 Pro",maxTokens:2e6,cost:"M\xe9dio"},"gemini-1.5-flash":{name:"Gemini 1.5 Flash",maxTokens:1e6,cost:"Baixo"}},keyFormat:"AI...",website:"https://ai.google.dev",description:"Modelos Gemini com capacidades multimodais",setupInstructions:["Acesse https://ai.google.dev",'Clique em "Get API key in Google AI Studio"',"Fa\xe7a login com sua conta Google",'Clique em "Create API Key"',"Cole a chave aqui"]},groq:{name:"Groq",baseUrl:"https://api.groq.com/openai/v1",models:{"llama3-70b-8192":{name:"Llama 3 70B",id:"llama3-70b-8192",maxTokens:8192,cost:"Gratuito"},"llama3-8b-8192":{name:"Llama 3 8B",id:"llama3-8b-8192",maxTokens:8192,cost:"Gratuito"},"mixtral-8x7b-32768":{name:"Mixtral 8x7B",id:"mixtral-8x7b-32768",maxTokens:32768,cost:"Gratuito"},"gemma-7b-it":{name:"Gemma 7B",id:"gemma-7b-it",maxTokens:8192,cost:"Gratuito"}},keyFormat:"gsk_...",website:"https://console.groq.com",description:"Velocidade ultra-r\xe1pida com modelos gratuitos",setupInstructions:["Acesse https://console.groq.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys",'Clique em "Create API Key"',"Cole a chave aqui"]}};class Jn{constructor(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.provider=e,this.apiKey=t,this.settings=(0,Oe.A)({temperature:.7,maxTokens:2e3},r),this.baseUrl=null===(n=$n[e])||void 0===n?void 0:n.baseUrl}async generateText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.apiKey)throw new Error("API Key n\xe3o configurada");const n=(0,Oe.A)((0,Oe.A)({},this.settings),t);try{let t;switch(this.provider){case"openai":case"groq":t=await this.callOpenAICompatible(e,n);break;case"anthropic":t=await this.callAnthropic(e,n);break;case"google":t=await this.callGoogle(e,n);break;default:throw new Error("Provedor ".concat(this.provider," n\xe3o suportado"))}return t}catch(r){throw console.error("Erro ao chamar ".concat(this.provider,":"),r),r}}async callOpenAICompatible(e,t){var n;const r="groq"===this.provider&&(null===(n=$n.groq.models[t.model])||void 0===n?void 0:n.id)||t.model,a=await fetch("".concat(this.baseUrl,"/chat/completions"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:[{role:"user",content:e}],temperature:t.temperature,max_tokens:t.maxTokens})});if(!a.ok){var o;const e=await a.json();throw new Error((null===(o=e.error)||void 0===o?void 0:o.message)||"Erro HTTP: ".concat(a.status))}return(await a.json()).choices[0].message.content}async callAnthropic(e,t){const n=await fetch("".concat(this.baseUrl,"/v1/messages"),{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:t.model||"claude-3-5-sonnet-20241022",max_tokens:t.maxTokens,temperature:t.temperature,messages:[{role:"user",content:e}]})});if(!n.ok){var r;const e=await n.json();throw new Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Erro HTTP: ".concat(n.status))}return(await n.json()).content[0].text}async callGoogle(e,t){const n=await fetch("".concat(this.baseUrl,"/models/").concat(t.model||"gemini-1.5-flash",":generateContent?key=").concat(this.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}],generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxTokens}})});if(!n.ok){var r;const e=await n.json();throw new Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Erro HTTP: ".concat(n.status))}return(await n.json()).candidates[0].content.parts[0].text}static async testConnection(e,t,n){try{const r=new Jn(e,t),a='Responda apenas "OK" se voc\xea conseguir me ouvir.';return{success:!0,response:(await r.generateText(a,{model:n,maxTokens:10,temperature:0})).trim()}}catch(r){return{success:!1,error:r.message}}}}const Qn={character:{basic:'Crie um personagem para uma light novel usando o CONTEXTO DO MUNDO fornecido. O personagem deve ser coeso com o universo descrito.\n\nConsidere as seguintes caracter\xedsticas:\n- Nome \xfanico e interessante, apropriado para a cultura local (se aplic\xe1vel).\n- Idade e apar\xeancia f\xedsica detalhada, influenciada pela etnia ou povo da regi\xe3o de origem.\n- Personalidade complexa com virtudes e defeitos.\n- Hist\xf3rico pessoal interessante, conectado \xe0 hist\xf3ria ou eventos do mundo.\n- Objetivos e motiva\xe7\xf5es claras.\n- Habilidades ou talentos especiais, consistentes com os sistemas de magia ou tecnologia do mundo.\n\nFormato da resposta em JSON:\n{\n  "name": "",\n  "age": "",\n  "appearance": "",\n  "personality": "",\n  "background": "",\n  "goals": "",\n  "abilities": ""\n}',detailed:"Crie um personagem profundamente desenvolvido para uma light novel, usando o CONTEXTO DO MUNDO fornecido:\n\nINFORMA\xc7\xd5ES B\xc1SICAS:\n- Nome completo (com significado)\n- Idade, g\xeanero, altura, peso\n- Apar\xeancia detalhada (cabelos, olhos, estilo)\n\nPERSONALIDADE:\n- Tra\xe7os principais de personalidade\n- Virtudes e defeitos\n- Medos e inseguran\xe7as\n- Forma de falar e maneirismos\n\nHIST\xd3RIA:\n- Origem e fam\xedlia\n- Eventos importantes do passado\n- Relacionamentos significativos\n- Traumas ou experi\xeancias marcantes\n\nHABILIDADES E PAPEL:\n- Talentos naturais\n- Habilidades aprendidas\n- Papel na hist\xf3ria (protagonista, antagonista, etc.)\n- Arco de desenvolvimento\n\nFormate como JSON estruturado."},world:{location:"Crie um local interessante para uma light novel:\n- Nome \xfanico e evocativo\n- Tipo de local (cidade, floresta, castelo, etc.)\n- Descri\xe7\xe3o visual detalhada\n- Hist\xf3ria e significado cultural\n- Habitantes t\xedpicos\n- Pontos de interesse importantes\n- Atmosfera e sensa\xe7\xf5es\n\nFormate como JSON estruturado.",culture:"Desenvolva uma cultura/civiliza\xe7\xe3o para uma light novel:\n- Nome da cultura/povo\n- Origem e hist\xf3ria\n- Valores e cren\xe7as principais\n- Estrutura social e pol\xedtica\n- Tradi\xe7\xf5es e costumes \xfanicos\n- Arquitetura e arte t\xedpica\n- Rela\xe7\xe3o com outras culturas\n- Conflitos internos ou externos\n\nFormate como JSON estruturado."},story:{plot:"Gere um ponto de enredo interessante:\n- Evento ou situa\xe7\xe3o principal\n- Personagens envolvidos\n- Conflito ou tens\xe3o\n- Poss\xedveis consequ\xeancias\n- Como se conecta com a hist\xf3ria maior\n\nFormate como JSON estruturado.",dialogue:"Crie um di\xe1logo natural entre personagens:\n- Considere as personalidades dos personagens\n- Inclua subtext e emo\xe7\xf5es\n- Mantenha o tom apropriado\n- Avance a hist\xf3ria ou desenvolva personagens\n\nFormate como roteiro com nomes dos personagens."},lore:{legend:'Crie uma lenda para uma light novel baseado no CONTEXTO DO MUNDO fornecido. A lenda deve ser coesa com o universo.\n\nResponda APENAS com o c\xf3digo JSON, seguindo esta estrutura exata:\n{\n  "name": "T\xedtulo da Lenda",\n  "description": "A hist\xf3ria completa da lenda.",\n  "origin": "Onde ou como a lenda surgiu.",\n  "significance": "Qual a import\xe2ncia ou li\xe7\xe3o moral da lenda.",\n  "characters": "Personagens m\xedticos envolvidos.",\n  "locations": "Locais onde a lenda acontece."\n}',artifact:'Desenvolva um artefato para uma light novel, baseado no CONTEXTO DO MUNDO.\n\nResponda APENAS com o c\xf3digo JSON, seguindo esta estrutura exata:\n{\n  "name": "Nome do Artefato",\n  "description": "Apar\xeancia e hist\xf3ria do artefato.",\n  "origin": "Quem o criou e como.",\n  "significance": "Qual sua import\xe2ncia para a hist\xf3ria.",\n  "effects": "Quais seus poderes, habilidades e custos/limita\xe7\xf5es."\n}'}};const er=new class{constructor(){this.events=[],this.performance={},this.writingStats={totalWords:0,totalTime:0,sessions:[],goals:{}},this.isEnabled="false"!==localStorage.getItem("analytics_enabled")}track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isEnabled)return;const n={event:e,data:t,timestamp:(new Date).toISOString(),sessionId:this.getSessionId()};this.events.push(n),this.saveEvents()}trackPerformance(e,t){this.isEnabled&&(this.performance[e]={value:t,timestamp:(new Date).toISOString()},this.savePerformance())}trackWritingSession(e){if(!this.isEnabled)return;const t=(0,Oe.A)((0,Oe.A)({},e),{},{timestamp:(new Date).toISOString(),sessionId:this.getSessionId()});this.writingStats.sessions.push(t),this.saveWritingStats()}updateWritingStats(e){this.writingStats=(0,Oe.A)((0,Oe.A)((0,Oe.A)({},this.writingStats),e),{},{lastUpdated:(new Date).toISOString()}),this.saveWritingStats()}setWritingGoal(e,t){this.writingStats.goals[e]={target:t,createdAt:(new Date).toISOString()},this.saveWritingStats()}getWritingProgress(e){const t=this.writingStats.goals[e];if(!t)return null;const n=(new Date).toDateString(),r=this.writingStats.sessions.filter(e=>new Date(e.timestamp).toDateString()===n).reduce((e,t)=>e+(t.wordsAdded||0),0);return{target:t.target,current:r,progress:Math.min(r/t.target*100,100),remaining:Math.max(t.target-r,0)}}getSessionId(){let e=localStorage.getItem("analytics_session_id");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("analytics_session_id",e)),e}saveEvents(){try{const e=this.events.slice(-100);localStorage.setItem("analytics_events",JSON.stringify(e))}catch(e){console.error("Error saving analytics events:",e)}}savePerformance(){try{localStorage.setItem("analytics_performance",JSON.stringify(this.performance))}catch(e){console.error("Error saving performance data:",e)}}saveWritingStats(){try{localStorage.setItem("analytics_writing_stats",JSON.stringify(this.writingStats))}catch(e){console.error("Error saving writing stats:",e)}}loadData(){try{const e=localStorage.getItem("analytics_events");e&&(this.events=JSON.parse(e));const t=localStorage.getItem("analytics_performance");t&&(this.performance=JSON.parse(t));const n=localStorage.getItem("analytics_writing_stats");n&&(this.writingStats=JSON.parse(n))}catch(e){console.error("Error loading analytics data:",e)}}exportData(){return{events:this.events,performance:this.performance,writingStats:this.writingStats,exportDate:(new Date).toISOString()}}clearData(){this.events=[],this.performance={},this.writingStats={totalWords:0,totalTime:0,sessions:[],goals:{}},localStorage.removeItem("analytics_events"),localStorage.removeItem("analytics_performance"),localStorage.removeItem("analytics_writing_stats"),localStorage.removeItem("analytics_session_id")}setEnabled(e){this.isEnabled=e,localStorage.setItem("analytics_enabled",e.toString())}getSummary(){const e=this.writingStats.sessions.length,t=this.writingStats.sessions.reduce((e,t)=>e+(t.wordsAdded||0),0),n=this.writingStats.sessions.reduce((e,t)=>e+(t.duration||0),0),r=e>0?t/e:0,a=e>0?n/e:0;return{totalSessions:e,totalWords:t,totalTime:n,averageWordsPerSession:Math.round(r),averageTimePerSession:Math.round(a),goals:this.writingStats.goals,lastSession:this.writingStats.sessions[this.writingStats.sessions.length-1]}}};er.loadData(),"undefined"!==typeof window&&window.addEventListener("load",()=>{er.track("page_view",{path:window.location.pathname,title:document.title})});const tr=(e,t)=>er.track(e,t),nr=e=>er.getWritingProgress(e),rr=Zt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ar=e=>{var n;let{onClose:r,onGenerate:a,isGenerating:o,worldData:s,characters:i,selectedText:l}=e;const[c,u]=(0,t.useState)(""),[d,m]=(0,t.useState)("continue"),[p,f]=(0,t.useState)({useCharacters:!0,useLocations:!0,useSelectedText:!0}),h=[{value:"continue",label:"Continuar Hist\xf3ria",icon:$t,desc:"Continue escrevendo de onde parou"},{value:"character",label:"Foco em Personagem",icon:en,desc:"Desenvolva um personagem espec\xedfico"},{value:"scene",label:"Nova Cena",icon:Tn,desc:"Crie uma nova cena ou cen\xe1rio"},{value:"dialogue",label:"Di\xe1logo",icon:rr,desc:"Gere conversas naturais"},{value:"action",label:"Cena de A\xe7\xe3o",icon:Dn,desc:"Escreva sequ\xeancias din\xe2micas"},{value:"custom",label:"Personalizado",icon:rr,desc:"Prompt totalmente customizado"}];return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(Dn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Assistente de Escrita IA"]}),(0,An.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,An.jsx)(dn,{className:"h-5 w-5"})})]})}),(0,An.jsxs)("div",{className:"p-6 space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Assist\xeancia"}),(0,An.jsx)("div",{className:"grid grid-cols-2 gap-3",children:h.map(e=>(0,An.jsxs)("button",{onClick:()=>m(e.value),className:"p-3 text-left border rounded-lg transition-colors ".concat(d===e.value?"border-purple-500 bg-purple-50 text-purple-900":"border-gray-200 hover:border-gray-300"),children:[(0,An.jsxs)("div",{className:"flex items-center mb-2",children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),(0,An.jsx)("span",{className:"font-medium text-sm",children:e.label})]}),(0,An.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]},e.value))})]}),l&&(0,An.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,An.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Texto Selecionado:"}),(0,An.jsxs)("p",{className:"text-sm text-blue-700 italic",children:['"',l.substring(0,200),l.length>200?"...":"",'"']})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"custom"===d?"Prompt Personalizado":"Instru\xe7\xf5es Adicionais (Opcional)"}),(0,An.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),placeholder:"custom"===d?"Descreva exatamente o que voc\xea quer que a IA escreva...":'Ex: "Inclua mais tens\xe3o emocional", "Foque no desenvolvimento do protagonista"...',className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:4})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Contexto a Incluir"}),(0,An.jsxs)("div",{className:"space-y-2",children:[l&&(0,An.jsxs)("label",{className:"flex items-center",children:[(0,An.jsx)("input",{type:"checkbox",checked:p.useSelectedText,onChange:e=>f(t=>(0,Oe.A)((0,Oe.A)({},t),{},{useSelectedText:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,An.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Usar texto selecionado"})]}),i.length>0&&(0,An.jsxs)("label",{className:"flex items-center",children:[(0,An.jsx)("input",{type:"checkbox",checked:p.useCharacters,onChange:e=>f(t=>(0,Oe.A)((0,Oe.A)({},t),{},{useCharacters:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["Incluir informa\xe7\xf5es dos personagens (",i.length,")"]})]}),(null===s||void 0===s||null===(n=s.locations)||void 0===n?void 0:n.length)>0&&(0,An.jsxs)("label",{className:"flex items-center",children:[(0,An.jsx)("input",{type:"checkbox",checked:p.useLocations,onChange:e=>f(t=>(0,Oe.A)((0,Oe.A)({},t),{},{useLocations:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,An.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["Incluir informa\xe7\xf5es dos locais (",s.locations.length,")"]})]})]})]})]}),(0,An.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,An.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,An.jsx)("button",{onClick:()=>{const e={type:d,prompt:c,options:p,selectedText:p.useSelectedText?l:null};a(e)},disabled:o||"custom"===d&&!c.trim(),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):(0,An.jsxs)(An.Fragment,{children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar Texto"]})})]})]})})},or=Zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sr=Zt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ir=Zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),lr=e=>{let{onChapterSelect:n,currentChapter:r,currentVolume:a}=e;const{projectStructure:o,addVolume:s,addChapter:i,updateVolume:l,updateChapter:c,deleteVolume:u,deleteChapter:d}=(0,gn.A)(),[m,p]=(0,t.useState)(new Set),[f,h]=(0,t.useState)(null),[g,x]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),[b,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(null),k=(0,t.useCallback)(e=>{p(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),S=(0,t.useCallback)(()=>{const e=prompt("T\xedtulo do novo volume:");e&&e.trim()&&(s({title:e.trim(),description:""}),Vt.success("Volume criado!"))},[s]),C=(0,t.useCallback)(e=>{const t=prompt("T\xedtulo do novo cap\xedtulo:");t&&t.trim()&&(i(e,{title:t.trim(),description:""}),Vt.success("Cap\xedtulo criado!"),p(t=>new Set([...t,e])))},[i]),_=(0,t.useCallback)(e=>{h(e.id),y(e.title)},[]),E=(0,t.useCallback)(e=>{v.trim()&&(l(e,{title:v.trim()}),h(null),y(""),Vt.success("Volume atualizado!"))},[v,l]),A=(0,t.useCallback)(e=>{x(e.id),j(e.title)},[]),O=(0,t.useCallback)((e,t)=>{b.trim()&&(c(e,t,{title:b.trim()}),x(null),j(""),Vt.success("Cap\xedtulo atualizado!"))},[b,c]),P=(0,t.useCallback)(e=>{window.confirm("Tem certeza que deseja excluir este volume e todos os seus cap\xedtulos?")&&(u(e),Vt.success("Volume exclu\xeddo!"))},[u]),T=(0,t.useCallback)((e,t)=>{window.confirm("Tem certeza que deseja excluir este cap\xedtulo?")&&(d(e,t),Vt.success("Cap\xedtulo exclu\xeddo!"))},[d]),M=(0,t.useCallback)((e,t)=>{const n="".concat(t.title," (C\xf3pia)");i(e,{title:n,description:t.description||"",content:t.content||""}),Vt.success("Cap\xedtulo duplicado!")},[i]),I=(0,t.useCallback)(e=>e.chapters.reduce((e,t)=>e+(t.wordCount||0),0),[]),D=(0,t.useCallback)(e=>e.content&&""!==e.content.trim()?e.wordCount<500?{status:"draft",label:"Rascunho",color:"text-yellow-600"}:e.wordCount<2e3?{status:"progress",label:"Em progresso",color:"text-blue-600"}:{status:"complete",label:"Completo",color:"text-green-600"}:{status:"empty",label:"Vazio",color:"text-gray-400"},[]);return(0,An.jsxs)("div",{className:"h-full flex flex-col",children:[(0,An.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(ln,{className:"h-5 w-5 mr-2 text-blue-600"}),"Estrutura"]}),(0,An.jsx)("button",{onClick:S,className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Adicionar Volume",children:(0,An.jsx)(un,{className:"h-4 w-4"})})]})}),(0,An.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===o.volumes.length?(0,An.jsxs)("div",{className:"p-4 text-center",children:[(0,An.jsx)($t,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),(0,An.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:"Nenhum volume criado"}),(0,An.jsxs)("button",{onClick:S,className:"btn-primary text-sm",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-1"}),"Criar Primeiro Volume"]})]}):(0,An.jsx)("div",{className:"p-2",children:o.volumes.map(e=>(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsxs)("div",{className:"flex items-center p-2 rounded-lg hover:bg-gray-50 transition-colors ".concat((null===a||void 0===a?void 0:a.id)===e.id?"bg-blue-50 border border-blue-200":""),children:[(0,An.jsx)("button",{onClick:()=>k(e.id),className:"p-1 hover:bg-gray-200 rounded mr-1 transition-colors",children:m.has(e.id)?(0,An.jsx)(cn,{className:"h-4 w-4"}):(0,An.jsx)(or,{className:"h-4 w-4"})}),(0,An.jsx)(ln,{className:"h-4 w-4 mr-2 text-blue-600"}),f===e.id?(0,An.jsx)("input",{value:v,onChange:e=>y(e.target.value),onBlur:()=>E(e.id),onKeyDown:t=>{"Enter"===t.key&&E(e.id),"Escape"===t.key&&(h(null),y(""))},className:"flex-1 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):(0,An.jsx)("span",{className:"flex-1 text-sm font-medium text-gray-900 truncate",children:e.title}),(0,An.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,An.jsx)("span",{className:"text-xs text-gray-500",children:I(e).toLocaleString()}),(0,An.jsxs)("div",{className:"relative group",children:[(0,An.jsx)("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:(0,An.jsx)(sr,{className:"h-3 w-3"})}),(0,An.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 hidden group-hover:block z-10 min-w-[140px]",children:[(0,An.jsxs)("button",{onClick:()=>_(e),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,An.jsx)(Jt,{className:"h-3 w-3 mr-2"}),"Renomear"]}),(0,An.jsxs)("button",{onClick:()=>C(e.id),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,An.jsx)(un,{className:"h-3 w-3 mr-2"}),"Novo Cap\xedtulo"]}),(0,An.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,An.jsxs)("button",{onClick:()=>P(e.id),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 text-red-600 flex items-center transition-colors",children:[(0,An.jsx)(wn,{className:"h-3 w-3 mr-2"}),"Excluir"]})]})]})]})]}),m.has(e.id)&&(0,An.jsxs)("div",{className:"ml-6 mt-1 space-y-1",children:[e.chapters.map(t=>{const a=D(t);return(0,An.jsxs)("div",{className:"flex items-center p-2 rounded cursor-pointer hover:bg-gray-50 transition-colors ".concat((null===r||void 0===r?void 0:r.id)===t.id?"bg-blue-50 border border-blue-200":""),onClick:()=>n(e,t),children:[(0,An.jsx)(nn,{className:"h-4 w-4 mr-2 text-gray-500"}),g===t.id?(0,An.jsx)("input",{value:b,onChange:e=>j(e.target.value),onBlur:()=>O(e.id,t.id),onKeyDown:n=>{"Enter"===n.key&&O(e.id,t.id),"Escape"===n.key&&(x(null),j(""))},className:"flex-1 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onClick:e=>e.stopPropagation()}):(0,An.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,An.jsx)("span",{className:"text-sm text-gray-700 truncate block",children:t.title}),(0,An.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,An.jsx)("span",{className:"text-xs ".concat(a.color," font-medium"),children:a.label}),(0,An.jsxs)("span",{className:"text-xs text-gray-400",children:[(t.wordCount||0).toLocaleString()," palavras"]})]})]}),(0,An.jsx)("div",{className:"flex items-center space-x-1 ml-2",children:(0,An.jsxs)("div",{className:"relative group",children:[(0,An.jsx)("button",{className:"p-1 hover:bg-gray-200 rounded opacity-0 group-hover:opacity-100 transition-all",onClick:e=>e.stopPropagation(),children:(0,An.jsx)(sr,{className:"h-3 w-3"})}),(0,An.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 hidden group-hover:block z-10 min-w-[140px]",children:[(0,An.jsxs)("button",{onClick:e=>{e.stopPropagation(),A(t)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,An.jsx)(Jt,{className:"h-3 w-3 mr-2"}),"Renomear"]}),(0,An.jsxs)("button",{onClick:n=>{n.stopPropagation(),M(e.id,t)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,An.jsx)(ir,{className:"h-3 w-3 mr-2"}),"Duplicar"]}),(0,An.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,An.jsxs)("button",{onClick:n=>{n.stopPropagation(),T(e.id,t.id)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 text-red-600 flex items-center transition-colors",children:[(0,An.jsx)(wn,{className:"h-3 w-3 mr-2"}),"Excluir"]})]})]})})]},t.id)}),(0,An.jsxs)("button",{onClick:()=>C(e.id),className:"flex items-center p-2 w-full text-left text-sm text-gray-500 hover:bg-gray-50 rounded transition-colors",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Cap\xedtulo"]})]})]},e.id))})})]})},cr=Zt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),ur=()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!1),[o,s]=(0,t.useState)("daily"),[i,l]=(0,t.useState)("");(0,t.useEffect)(()=>{c();const e=setInterval(c,3e4);return()=>clearInterval(e)},[]);const c=()=>{const e=er.getSummary();n(e)},u=e=>e>=100?"text-green-600":e>=75?"text-blue-600":e>=50?"text-yellow-600":"text-red-600";if(!e)return(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"animate-pulse",children:[(0,An.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,An.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,An.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})});const d=nr("daily"),m=nr("weekly");return(0,An.jsxs)("div",{className:"space-y-4",children:[d&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(Bn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Meta Di\xe1ria"]}),(0,An.jsx)("button",{onClick:()=>a(!0),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:(0,An.jsx)(on,{className:"h-4 w-4"})})]}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,An.jsxs)("span",{className:"text-sm font-medium ".concat(u(d.progress)),children:[d.current," / ",d.target]})]}),(0,An.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,An.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(d.progress>=100?"bg-green-500":d.progress>=75?"bg-blue-500":d.progress>=50?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(d.progress,100),"%")}})}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,An.jsxs)("span",{children:[Math.round(d.progress),"% completo"]}),(0,An.jsxs)("span",{children:[d.remaining," palavras restantes"]})]})]})]}),m&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,An.jsx)(Fn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Meta Semanal"]}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,An.jsxs)("span",{className:"text-sm font-medium ".concat(u(m.progress)),children:[m.current," / ",m.target]})]}),(0,An.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,An.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(m.progress>=100?"bg-green-500":m.progress>=75?"bg-blue-500":m.progress>=50?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(m.progress,100),"%")}})}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,An.jsxs)("span",{children:[Math.round(m.progress),"% completo"]}),(0,An.jsxs)("span",{children:[m.remaining," palavras restantes"]})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,An.jsx)(Zn,{className:"h-5 w-5 mr-2 text-green-600"}),"Estat\xedsticas"]}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,An.jsx)(qn,{className:"h-4 w-4 mr-1"}),"Total de palavras"]}),(0,An.jsx)("span",{className:"text-sm font-medium",children:e.totalWords.toLocaleString()})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,An.jsx)(yn,{className:"h-4 w-4 mr-1"}),"Tempo total"]}),(0,An.jsx)("span",{className:"text-sm font-medium",children:(e=>{if(e<60)return"".concat(e,"min");const t=Math.floor(e/60),n=e%60;return"".concat(t,"h ").concat(n,"min")})(e.totalTime)})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,An.jsx)(Fn,{className:"h-4 w-4 mr-1"}),"Sess\xf5es"]}),(0,An.jsx)("span",{className:"text-sm font-medium",children:e.totalSessions})]}),e.averageWordsPerSession>0&&(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"M\xe9dia por sess\xe3o"}),(0,An.jsxs)("span",{className:"text-sm font-medium",children:[e.averageWordsPerSession," palavras"]})]})]})]}),e.totalWords>0&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,An.jsx)(cr,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Conquistas"]}),(0,An.jsxs)("div",{className:"space-y-2",children:[e.totalWords>=1e3&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,An.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Primeiro Milhar - 1.000 palavras"]}),e.totalWords>=5e3&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,An.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Escritor Dedicado - 5.000 palavras"]}),e.totalWords>=1e4&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,An.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Autor Profissional - 10.000 palavras"]}),e.totalSessions>=10&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[(0,An.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Consist\xeancia - 10 sess\xf5es"]}),d&&d.progress>=100&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,An.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Meta Di\xe1ria Atingida!"]})]})]}),r&&(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Definir Meta de Escrita"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Meta"}),(0,An.jsxs)("select",{value:o,onChange:e=>s(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,An.jsx)("option",{value:"daily",children:"Di\xe1ria"}),(0,An.jsx)("option",{value:"weekly",children:"Semanal"}),(0,An.jsx)("option",{value:"monthly",children:"Mensal"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta (palavras)"}),(0,An.jsx)("input",{type:"number",value:i,onChange:e=>l(e.target.value),placeholder:"Ex: 1000",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,An.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,An.jsx)("button",{onClick:()=>{const e=parseInt(i);isNaN(e)||e<=0?Vt.error("Por favor, insira um valor v\xe1lido"):(((e,t)=>{er.setWritingGoal(e,t)})(o,e),a(!1),l(""),c(),Vt.success("Meta ".concat(o," definida: ").concat(e," palavras")))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Definir Meta"})]})]})})]})},dr=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),mr=Zt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),pr=e=>{var n,r;let{content:a,projectData:o}=e;const[s,i]=(0,t.useState)({}),[l,c]=(0,t.useState)("week"),[u,d]=(0,t.useState)("writing");(0,t.useEffect)(()=>{if(!a)return;const e=a,t=e.split(/\s+/).filter(e=>e.length>0),n=e.split(/[.!?]+/).filter(e=>e.trim().length>0),r=e.split(/\n\s*\n/).filter(e=>e.trim().length>0),o=e.match(/"[^"]*"/g)||[],s=o.join(" ").split(/\s+/).filter(e=>e.length>0),l=n.filter(e=>e.split(/\s+/).length<=10),c=n.filter(e=>{const t=e.split(/\s+/).length;return t>10&&t<=20}),u=n.filter(e=>e.split(/\s+/).length>20),d=new Set(t.map(e=>e.toLowerCase().replace(/[^\w]/g,""))),m=d.size/t.length*100,p=s.length/t.length*100,f=100-p,h={basic:{wordCount:t.length,sentenceCount:n.length,paragraphCount:r.length,characterCount:e.length,averageWordsPerSentence:t.length/n.length,averageWordsPerParagraph:t.length/r.length},dialogue:{dialogueCount:o.length,dialogueWords:s.length,dialogueDensity:p,averageDialogueLength:s.length/o.length,descriptionDensity:f},rhythm:{shortSentences:l.length,mediumSentences:c.length,longSentences:u.length,shortSentencePercentage:l.length/n.length*100,mediumSentencePercentage:c.length/n.length*100,longSentencePercentage:u.length/n.length*100},vocabulary:{uniqueWords:d.size,vocabularyDiversity:m,averageWordLength:t.reduce((e,t)=>e+t.length,0)/t.length}};i(h)},[a]);const m=()=>{if(!s.basic)return"M\xe9dio";const e=s.basic.averageWordsPerSentence;return e<10?"R\xe1pido":e>20?"Lento":"M\xe9dio"},p=()=>{if(!s.rhythm)return"Variado";const e=s.rhythm.shortSentencePercentage,t=s.rhythm.longSentencePercentage;return e>50?"Din\xe2mico":t>30?"Contemplativo":"Variado"},f=[{id:"writing",name:"Escrita",icon:$t,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{id:"dialogue",name:"Di\xe1logos",icon:Mn,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{id:"rhythm",name:"Ritmo",icon:dr,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{id:"vocabulary",name:"Vocabul\xe1rio",icon:Bn,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsx)("div",{className:"flex items-center justify-between",children:(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Analytics Avan\xe7ados"}),(0,An.jsx)("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada do seu texto e m\xe9tricas de escrita"})]})}),(0,An.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:f.map(e=>{const t=e.icon;return(0,An.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ".concat(u===e.id?"".concat(e.bgColor," ").concat(e.color):"bg-muted text-muted-foreground hover:text-foreground"),children:[(0,An.jsx)(t,{className:"h-4 w-4"}),(0,An.jsx)("span",{children:e.name})]},e.id)})}),(0,An.jsxs)("div",{className:"space-y-6",children:["writing"===u&&(()=>{var e,t,n,r,a,o;return(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=s.basic)||void 0===e||null===(t=e.wordCount)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,An.jsx)($t,{className:"h-8 w-8 text-blue-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(n=s.basic)||void 0===n?void 0:n.sentenceCount)||0})]}),(0,An.jsx)(Mn,{className:"h-8 w-8 text-green-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Par\xe1grafos"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=s.basic)||void 0===r?void 0:r.paragraphCount)||0})]}),(0,An.jsx)(Zn,{className:"h-8 w-8 text-purple-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras/Frase"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(a=s.basic)||void 0===a||null===(o=a.averageWordsPerSentence)||void 0===o?void 0:o.toFixed(1))||0})]}),(0,An.jsx)(Bn,{className:"h-8 w-8 text-orange-500"})]})})]})})(),"dialogue"===u&&(()=>{var e,t,n,r,a,o,i,l,c,u,d;return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Di\xe1logos"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=s.dialogue)||void 0===e?void 0:e.dialogueCount)||0})]}),(0,An.jsx)(Mn,{className:"h-8 w-8 text-green-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Densidade"}),(0,An.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[(null===(t=s.dialogue)||void 0===t||null===(n=t.dialogueDensity)||void 0===n?void 0:n.toFixed(1))||0,"%"]})]}),(0,An.jsx)(mr,{className:"h-8 w-8 text-blue-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras/Dial."}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=s.dialogue)||void 0===r||null===(a=r.averageDialogueLength)||void 0===a?void 0:a.toFixed(1))||0})]}),(0,An.jsx)(Bn,{className:"h-8 w-8 text-purple-500"})]})})]}),(0,An.jsxs)("div",{className:"card p-6",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Distribui\xe7\xe3o de Conte\xfado"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,An.jsx)("span",{children:"Di\xe1logos"}),(0,An.jsxs)("span",{children:[(null===(o=s.dialogue)||void 0===o||null===(i=o.dialogueDensity)||void 0===i?void 0:i.toFixed(1))||0,"%"]})]}),(0,An.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(l=s.dialogue)||void 0===l?void 0:l.dialogueDensity)||0,"%")}})})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,An.jsx)("span",{children:"Narrativa"}),(0,An.jsxs)("span",{children:[(null===(c=s.dialogue)||void 0===c||null===(u=c.descriptionDensity)||void 0===u?void 0:u.toFixed(1))||0,"%"]})]}),(0,An.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(d=s.dialogue)||void 0===d?void 0:d.descriptionDensity)||0,"%")}})})]})]})]})]})})(),"rhythm"===u&&(()=>{var e,t,n,r,a,o,i,l,c;return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases Curtas"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=s.rhythm)||void 0===e?void 0:e.shortSentences)||0}),(0,An.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(t=s.rhythm)||void 0===t||null===(n=t.shortSentencePercentage)||void 0===n?void 0:n.toFixed(1))||0,"%"]})]}),(0,An.jsx)(dr,{className:"h-8 w-8 text-green-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases M\xe9dias"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=s.rhythm)||void 0===r?void 0:r.mediumSentences)||0}),(0,An.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(a=s.rhythm)||void 0===a||null===(o=a.mediumSentencePercentage)||void 0===o?void 0:o.toFixed(1))||0,"%"]})]}),(0,An.jsx)(Zn,{className:"h-8 w-8 text-blue-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases Longas"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(i=s.rhythm)||void 0===i?void 0:i.longSentences)||0}),(0,An.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(l=s.rhythm)||void 0===l||null===(c=l.longSentencePercentage)||void 0===c?void 0:c.toFixed(1))||0,"%"]})]}),(0,An.jsx)(qn,{className:"h-8 w-8 text-purple-500"})]})})]}),(0,An.jsxs)("div",{className:"card p-6",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"An\xe1lise de Ritmo"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,An.jsx)("span",{className:"font-medium",children:"Pace de Escrita:"}),(0,An.jsx)("span",{className:"text-blue-600 font-semibold",children:m()})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,An.jsx)("span",{className:"font-medium",children:"Ritmo Geral:"}),(0,An.jsx)("span",{className:"text-purple-600 font-semibold",children:p()})]})]})]})]})})(),"vocabulary"===u&&(()=>{var e,t,n,r,a,o,i,l,c;return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras \xdanicas"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=s.vocabulary)||void 0===e||null===(t=e.uniqueWords)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,An.jsx)(Bn,{className:"h-8 w-8 text-orange-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diversidade"}),(0,An.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[(null===(n=s.vocabulary)||void 0===n||null===(r=n.vocabularyDiversity)||void 0===r?void 0:r.toFixed(1))||0,"%"]})]}),(0,An.jsx)(mr,{className:"h-8 w-8 text-green-500"})]})}),(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tamanho M\xe9dio"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(a=s.vocabulary)||void 0===a||null===(o=a.averageWordLength)||void 0===o?void 0:o.toFixed(1))||0})]}),(0,An.jsx)(Zn,{className:"h-8 w-8 text-blue-500"})]})})]}),(0,An.jsxs)("div",{className:"card p-6",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Recomenda\xe7\xf5es"}),(0,An.jsxs)("div",{className:"space-y-3",children:[(null===(i=s.vocabulary)||void 0===i?void 0:i.vocabularyDiversity)<50&&(0,An.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,An.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,An.jsx)("strong",{children:"Vocabul\xe1rio:"})," Considere usar mais variedade de palavras para enriquecer o texto."]})}),(null===(l=s.dialogue)||void 0===l?void 0:l.dialogueDensity)>70&&(0,An.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,An.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,An.jsx)("strong",{children:"Di\xe1logos:"})," O texto tem muitos di\xe1logos. Considere adicionar mais descri\xe7\xf5es."]})}),(null===(c=s.rhythm)||void 0===c?void 0:c.longSentencePercentage)>40&&(0,An.jsx)("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:(0,An.jsxs)("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:[(0,An.jsx)("strong",{children:"Ritmo:"})," Muitas frases longas podem tornar a leitura cansativa. Considere quebrar algumas frases."]})})]})]})]})})()]}),(0,An.jsxs)("div",{className:"card p-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Resumo Geral"}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pace de Escrita"}),(0,An.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:m()})]}),(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Balance de Di\xe1logos"}),(0,An.jsx)("p",{className:"text-lg font-semibold text-green-600",children:(()=>{if(!s.dialogue)return"Equilibrado";const e=s.dialogue.dialogueDensity;return e<20?"Narrativo":e>60?"Dialogado":"Equilibrado"})()})]}),(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ritmo"}),(0,An.jsx)("p",{className:"text-lg font-semibold text-purple-600",children:p()})]}),(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diversidade"}),(0,An.jsxs)("p",{className:"text-lg font-semibold text-orange-600",children:[(null===(n=s.vocabulary)||void 0===n||null===(r=n.vocabularyDiversity)||void 0===r?void 0:r.toFixed(1))||0,"%"]})]})]})]})]})},fr=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),hr=Zt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),gr=Zt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),xr=3e5,vr=10,yr=50,br=5,jr=36e5,Nr=52428800;const wr=new class{constructor(){this.autoBackupInterval=null,this.safetyBackupInterval=null,this.lastBackupTime=this.getLastBackupTime(),this.isBackupInProgress=!1}init(){this.startAutoBackup(),this.startSafetyBackup(),this.cleanupOldBackups()}destroy(){this.autoBackupInterval&&clearInterval(this.autoBackupInterval),this.safetyBackupInterval&&clearInterval(this.safetyBackupInterval)}startAutoBackup(){this.autoBackupInterval=setInterval(()=>{this.performAutoBackup()},xr)}startSafetyBackup(){this.safetyBackupInterval=setInterval(()=>{this.performSafetyBackup()},jr)}async performAutoBackup(){if(!this.isBackupInProgress)try{this.isBackupInProgress=!0;const e=this.getCurrentProjectData();if(!e.project)return;const t=(0,Oe.A)((0,Oe.A)({},e),{},{timestamp:Date.now(),type:"auto",version:"1.0"}),n="backup_auto_".concat(Date.now()),r=JSON.stringify(t);if(r.length>Nr)return void console.warn("Backup muito grande, pulando...");localStorage.setItem(n,r),this.updateBackupMetadata(n,"auto"),this.cleanupOldBackups(),console.log("Backup autom\xe1tico realizado com sucesso")}catch(e){console.error("Erro no backup autom\xe1tico:",e)}finally{this.isBackupInProgress=!1}}async performSafetyBackup(){if(!this.isBackupInProgress)try{this.isBackupInProgress=!0;const e=this.getCurrentProjectData();if(!e.project)return;const t=(0,Oe.A)((0,Oe.A)({},e),{},{timestamp:Date.now(),type:"safety",version:"1.0"}),n="backup_safety_".concat(Date.now()),r=JSON.stringify(t);if(r.length>Nr)return void console.warn("Backup de seguran\xe7a muito grande, pulando...");localStorage.setItem(n,r),this.updateBackupMetadata(n,"safety"),this.cleanupOldBackups(),console.log("Backup de seguran\xe7a realizado com sucesso")}catch(e){console.error("Erro no backup de seguran\xe7a:",e)}finally{this.isBackupInProgress=!1}}async performManualBackup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isBackupInProgress)throw new Error("Backup j\xe1 est\xe1 em andamento");try{this.isBackupInProgress=!0;const t=this.getCurrentProjectData();if(!t.project)throw new Error("Nenhum projeto ativo para backup");const n=(0,Oe.A)((0,Oe.A)({},t),{},{timestamp:Date.now(),type:"manual",description:e,version:"1.0"}),r="backup_manual_".concat(Date.now()),a=JSON.stringify(n);if(a.length>Nr)throw new Error("Dados do projeto muito grandes para backup");return localStorage.setItem(r,a),this.updateBackupMetadata(r,"manual",e),this.cleanupOldBackups(),this.lastBackupTime=Date.now(),localStorage.setItem("lastBackupTime",this.lastBackupTime.toString()),console.log("Backup manual realizado com sucesso"),{success:!0,message:"Backup realizado com sucesso",backupKey:r,timestamp:Date.now()}}catch(t){throw console.error("Erro no backup manual:",t),t}finally{this.isBackupInProgress=!1}}async restoreBackup(e){try{const t=localStorage.getItem(e);if(!t)throw new Error("Backup n\xe3o encontrado");const n=JSON.parse(t);if(!n.project||!n.volumes)throw new Error("Dados do backup inv\xe1lidos");return this.restoreProjectData(n),console.log("Backup restaurado com sucesso"),{success:!0,message:"Backup restaurado com sucesso",backupData:n}}catch(t){throw console.error("Erro ao restaurar backup:",t),t}}getCurrentProjectData(){var e;const t=n(9088).A.getState();return{project:t.currentProject,volumes:(null===(e=t.projectStructure)||void 0===e?void 0:e.volumes)||[],worldData:t.worldData||{},characters:t.characters||[],loreData:t.loreData||{},narrativeData:t.narrativeData||{},settings:t.settings||{},goals:JSON.parse(localStorage.getItem("writing-goals")||"[]"),dailyStats:JSON.parse(localStorage.getItem("daily-writing-stats")||"{}"),quickNotes:JSON.parse(localStorage.getItem("quick-notes")||"[]")}}restoreProjectData(e){const t=n(9088).A.getState();e.project&&t.setCurrentProject(e.project),e.volumes&&t.setProjectStructure({volumes:e.volumes}),e.worldData&&t.setWorldData(e.worldData),e.characters&&t.setCharacters(e.characters),e.loreData&&t.setLoreData(e.loreData),e.narrativeData&&t.setNarrativeData(e.narrativeData),e.settings&&t.setSettings(e.settings),e.goals&&localStorage.setItem("writing-goals",JSON.stringify(e.goals)),e.dailyStats&&localStorage.setItem("daily-writing-stats",JSON.stringify(e.dailyStats)),e.quickNotes&&localStorage.setItem("quick-notes",JSON.stringify(e.quickNotes))}updateBackupMetadata(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=this.getBackupMetadata();a.backups.push({key:e,type:t,description:r,timestamp:Date.now(),size:(null===(n=localStorage.getItem(e))||void 0===n?void 0:n.length)||0}),localStorage.setItem("backupMetadata",JSON.stringify(a))}getBackupMetadata(){const e=localStorage.getItem("backupMetadata");return e?JSON.parse(e):{backups:[]}}cleanupOldBackups(){const e=this.getBackupMetadata(),{backups:t}=e,n=t.filter(e=>"auto"===e.type),r=t.filter(e=>"manual"===e.type),a=t.filter(e=>"safety"===e.type);if(n.length>vr){const t=n.sort((e,t)=>e.timestamp-t.timestamp).slice(0,n.length-vr);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}if(r.length>yr){const t=r.sort((e,t)=>e.timestamp-t.timestamp).slice(0,r.length-yr);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}if(a.length>br){const t=a.sort((e,t)=>e.timestamp-t.timestamp).slice(0,a.length-br);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}localStorage.setItem("backupMetadata",JSON.stringify(e))}getBackupStats(){const e=this.getBackupMetadata(),{backups:t}=e,n=t.reduce((e,t)=>e+t.size,0),r=t.filter(e=>"auto"===e.type).length,a=t.filter(e=>"manual"===e.type).length,o=t.filter(e=>"safety"===e.type).length;return{totalBackups:t.length,totalSize:this.formatBytes(n),autoBackups:r,manualBackups:a,safetyBackups:o,lastBackup:this.lastBackupTime?new Date(this.lastBackupTime).toLocaleString():"Nunca",nextAutoBackup:this.getNextAutoBackupTime()}}getBackupList(){return this.getBackupMetadata().backups.sort((e,t)=>t.timestamp-e.timestamp).map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{date:new Date(e.timestamp).toLocaleString(),size:this.formatBytes(e.size)}))}deleteBackup(e){try{localStorage.removeItem(e);const t=this.getBackupMetadata();return t.backups=t.backups.filter(t=>t.key!==e),localStorage.setItem("backupMetadata",JSON.stringify(t)),{success:!0,message:"Backup exclu\xeddo com sucesso"}}catch(t){throw console.error("Erro ao excluir backup:",t),t}}async exportBackupToFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);if(!n)throw new Error("Backup n\xe3o encontrado");JSON.parse(n);const r=this.getBackupMetadata().backups.find(t=>t.key===e);if(!t){const e=new Date(r.timestamp).toISOString().split("T")[0],n=new Date(r.timestamp).toTimeString().split(" ")[0].replace(/:/g,"-");t="backup_".concat(r.type,"_").concat(e,"_").concat(n,".json")}const a=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(a),s=document.createElement("a");return s.href=o,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),{success:!0,message:"Backup exportado com sucesso",filename:t}}catch(n){throw console.error("Erro ao exportar backup:",n),n}}async importBackupFromFile(e){try{const t=await e.text(),n=JSON.parse(t);if(!n.project||!n.volumes)throw new Error("Arquivo de backup inv\xe1lido");const r="backup_imported_".concat(Date.now());return localStorage.setItem(r,t),this.updateBackupMetadata(r,"imported","Importado de ".concat(e.name)),{success:!0,message:"Backup importado com sucesso",backupKey:r}}catch(t){throw console.error("Erro ao importar backup:",t),t}}getLastBackupTime(){const e=localStorage.getItem("lastBackupTime");return e?parseInt(e):null}getNextAutoBackupTime(){if(!this.lastBackupTime)return"Desconhecido";const e=this.lastBackupTime+xr;return new Date(e).toLocaleString()}formatBytes(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}checkBackupIntegrity(){const e=this.getBackupMetadata(),t=[];return e.backups.forEach(e=>{const n=localStorage.getItem(e.key);if(n)try{const r=JSON.parse(n);r.project&&r.volumes||t.push("Backup ".concat(e.key," tem dados inv\xe1lidos"))}catch(r){t.push("Backup ".concat(e.key," tem formato JSON inv\xe1lido"))}else t.push("Backup ".concat(e.key," n\xe3o encontrado no localStorage"))}),{isValid:0===t.length,issues:t}}},kr=wr,Sr=e=>{var n;let{onClose:r}=e;const[a,o]=(0,t.useState)([]),[s,i]=(0,t.useState)({}),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[f,h]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{b(),kr.init()},[]);const b=()=>{o(kr.getBackupList()),i(kr.getBackupStats()),y(kr.checkBackupIntegrity())},j=e=>{switch(e){case"auto":return(0,An.jsx)(yn,{className:"h-4 w-4 text-blue-500"});case"manual":return(0,An.jsx)(hn,{className:"h-4 w-4 text-green-500"});case"safety":return(0,An.jsx)(fr,{className:"h-4 w-4 text-purple-500"});case"imported":return(0,An.jsx)(pn,{className:"h-4 w-4 text-orange-500"});default:return(0,An.jsx)(nn,{className:"h-4 w-4 text-gray-500"})}},N=e=>{switch(e){case"auto":return"Autom\xe1tico";case"manual":return"Manual";case"safety":return"Seguran\xe7a";case"imported":return"Importado";default:return e}},w=e=>{switch(e){case"auto":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"manual":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"safety":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"imported":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-6xl h-[90vh] overflow-hidden",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Gerenciador de Backups"}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gerencie seus backups autom\xe1ticos e manuais"})]}),(0,An.jsx)("button",{onClick:r,className:"text-muted-foreground hover:text-foreground",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("div",{className:"flex h-full",children:[(0,An.jsx)("div",{className:"w-80 bg-muted border-r border-border p-6",children:(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Estat\xedsticas"}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total de Backups:"}),(0,An.jsx)("span",{className:"font-semibold text-foreground",children:s.totalBackups||0})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tamanho Total:"}),(0,An.jsx)("span",{className:"font-semibold text-foreground",children:s.totalSize||"0 Bytes"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Autom\xe1ticos:"}),(0,An.jsx)("span",{className:"font-semibold text-blue-600",children:s.autoBackups||0})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Manuais:"}),(0,An.jsx)("span",{className:"font-semibold text-green-600",children:s.manualBackups||0})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Seguran\xe7a:"}),(0,An.jsx)("span",{className:"font-semibold text-purple-600",children:s.safetyBackups||0})]})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status"}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"\xdaltimo Backup:"}),(0,An.jsx)("span",{className:"text-xs text-foreground",children:s.lastBackup||"Nunca"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:"Pr\xf3ximo Auto:"}),(0,An.jsx)("span",{className:"text-xs text-foreground",children:s.nextAutoBackup||"Desconhecido"})]}),(0,An.jsxs)("div",{className:"mt-4",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[null!==v&&void 0!==v&&v.isValid?(0,An.jsx)(xn,{className:"h-4 w-4 text-green-500"}):(0,An.jsx)(vn,{className:"h-4 w-4 text-yellow-500"}),(0,An.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Integridade"})]}),(null===v||void 0===v||null===(n=v.issues)||void 0===n?void 0:n.length)>0&&(0,An.jsxs)("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[v.issues.length," problema(s) encontrado(s)"]})]})]})]}),(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsxs)("button",{onClick:()=>d(!0),className:"w-full btn-primary flex items-center justify-center",disabled:g,children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Criar Backup"]}),(0,An.jsxs)("label",{className:"w-full btn-outline flex items-center justify-center cursor-pointer",children:[(0,An.jsx)(pn,{className:"mr-2 h-4 w-4"}),"Importar Backup",(0,An.jsx)("input",{type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await kr.importBackupFromFile(t);Vt.success(e.message),b()}catch(n){Vt.error("Erro ao importar backup: ".concat(n.message))}},className:"hidden"})]}),(0,An.jsxs)("button",{onClick:b,className:"w-full btn-outline flex items-center justify-center",disabled:g,children:[(0,An.jsx)(Gn,{className:"mr-2 h-4 w-4"}),"Atualizar"]})]})]})}),(0,An.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(0,An.jsx)("div",{className:"space-y-4",children:0===a.length?(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(hr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Nenhum backup encontrado"}),(0,An.jsx)("p",{className:"text-muted-foreground",children:"Crie seu primeiro backup para come\xe7ar"})]}):a.map(e=>(0,An.jsx)("div",{className:"card p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[j(e.type),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)("span",{className:"font-medium text-foreground",children:N(e.type)}),(0,An.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(w(e.type)),children:e.type})]}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:e.date}),e.description&&(0,An.jsx)("p",{className:"text-sm text-foreground mt-1",children:e.description})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)("span",{className:"text-sm text-muted-foreground",children:e.size}),(0,An.jsxs)("div",{className:"flex space-x-1",children:[(0,An.jsx)("button",{onClick:()=>(async e=>{try{const t=await kr.exportBackupToFile(e);Vt.success(t.message)}catch(t){Vt.error("Erro ao exportar backup: ".concat(t.message))}})(e.key),className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded",title:"Exportar",children:(0,An.jsx)(mn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>{c(e),p(!0)},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded",title:"Restaurar",children:(0,An.jsx)(gr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este backup?"))try{const t=kr.deleteBackup(e);Vt.success(t.message),b()}catch(t){Vt.error("Erro ao excluir backup: ".concat(t.message))}})(e.key),className:"p-2 text-muted-foreground hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Excluir",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]})]})},e.key))})})]}),u&&(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Criar Backup Manual"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descri\xe7\xe3o (opcional)"}),(0,An.jsx)("textarea",{value:f,onChange:e=>h(e.target.value),placeholder:"Ex: Antes de grandes mudan\xe7as no cap\xedtulo 5",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground",rows:"3"})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>d(!1),className:"flex-1 btn-outline",disabled:g,children:"Cancelar"}),(0,An.jsx)("button",{onClick:async()=>{if(f.trim()){x(!0);try{const e=await kr.performManualBackup(f);Vt.success(e.message),h(""),d(!1),b()}catch(e){Vt.error("Erro ao criar backup: ".concat(e.message))}finally{x(!1)}}else Vt.error("Por favor, adicione uma descri\xe7\xe3o para o backup")},className:"flex-1 btn-primary",disabled:g,children:g?"Criando...":"Criar Backup"})]})]})]})}),m&&l&&(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Restaurar Backup"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,An.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,An.jsx)(vn,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium",children:"Aten\xe7\xe3o!"}),(0,An.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Esta a\xe7\xe3o substituir\xe1 todos os dados atuais. Esta opera\xe7\xe3o n\xe3o pode ser desfeita."})]})]})}),(0,An.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,An.jsxs)("p",{className:"text-sm text-foreground",children:[(0,An.jsx)("strong",{children:"Backup:"})," ",l.description||N(l.type)]}),(0,An.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,An.jsx)("strong",{children:"Data:"})," ",l.date]}),(0,An.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,An.jsx)("strong",{children:"Tamanho:"})," ",l.size]})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsx)("button",{onClick:()=>p(!1),className:"flex-1 btn-outline",disabled:g,children:"Cancelar"}),(0,An.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja restaurar este backup? Isso substituir\xe1 todos os dados atuais.")){x(!0);try{const t=await kr.restoreBackup(e);Vt.success(t.message),p(!1),c(null),window.location.reload()}catch(t){Vt.error("Erro ao restaurar backup: ".concat(t.message))}finally{x(!1)}}})(l.key),className:"flex-1 btn-primary bg-red-600 hover:bg-red-700",disabled:g,children:g?"Restaurando...":"Restaurar Backup"})]})]})]})})]})})},Cr=()=>{const{editorContent:e,setEditorContent:n,addToHistory:r,currentProject:a,characters:o,worldData:s,settings:i,projectStructure:l,currentChapter:c,currentVolume:u,setCurrentChapter:d,setCurrentVolume:m,updateChapter:p}=(0,gn.A)(),{checkWritingProgress:f,checkWritingSession:h}=En(),[g,x]=(0,t.useState)(!1),[v,y]=(0,t.useState)(0),[b,j]=(0,t.useState)(0),[N,w]=(0,t.useState)(0),[k,S]=(0,t.useState)(""),[C,_]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[O,P]=(0,t.useState)(!1),[T,M]=(0,t.useState)(!0),[I,D]=(0,t.useState)(!1),[L,R]=(0,t.useState)(!1),[z,q]=(0,t.useState)(Date.now()),B=(0,t.useRef)(null),F=(0,t.useRef)(null),U=(0,t.useRef)(null),H=(0,t.useMemo)(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image","blockquote","code-block"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}),[]),G=(0,t.useMemo)(()=>["header","bold","italic","underline","strike","list","bullet","align","link","image","blockquote","code-block","color","background"],[]),V=(0,t.useMemo)(()=>{const t=e.replace(/<[^>]*>/g,""),n=t.split(/\s+/).filter(e=>e.length>0),r=t.length,a=Math.ceil(n.length/200);return{wordCount:n.length,charCount:r,readingTime:a,paragraphCount:(e.match(/<p>/g)||[]).length}},[e]);(0,t.useEffect)(()=>{y(V.wordCount),j(V.charCount),w(V.readingTime),f(V.wordCount)},[V,f]);const W=(0,t.useCallback)(()=>{e&&c&&u&&(p(u.id,c.id,{content:e}),r(e),Vt.success("Cap\xedtulo salvo automaticamente!",{duration:1e3}))},[e,c,u,p,r]);(0,t.useEffect)(()=>{if(F.current&&clearTimeout(F.current),e&&!1!==(null===i||void 0===i?void 0:i.autoSave)){const e=(null===i||void 0===i?void 0:i.autoSaveInterval)||30;F.current=setTimeout(W,1e3*e)}return()=>{F.current&&clearTimeout(F.current)}},[e,W,null===i||void 0===i?void 0:i.autoSave,null===i||void 0===i?void 0:i.autoSaveInterval]),(0,t.useEffect)(()=>{c&&c.content!==e&&n(c.content||"")},[c,n]),(0,t.useEffect)(()=>(q(Date.now()),U.current=setInterval(()=>{const e=Date.now()-z;h(e)},3e5),()=>{U.current&&clearInterval(U.current)}),[z,h,e]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{document.querySelectorAll(".ql-editor, .ql-container").forEach(e=>{e.style.backgroundColor="#ffffff",e.style.color="#1f2937"});const e=document.querySelector(".ql-toolbar");e&&(e.style.backgroundColor="#ffffff")},100);return()=>clearTimeout(e)},[e]);const K=(0,t.useCallback)((t,n)=>{c&&u&&e!==c.content&&p(u.id,c.id,{content:e}),m(t),d(n)},[c,u,e,p,m,d]),Y=(0,t.useCallback)(()=>{c&&u?(p(u.id,c.id,{content:e}),Vt.success("Cap\xedtulo salvo!"),tr("chapter_saved",{chapterId:c.id,volumeId:u.id,wordCount:V.wordCount})):(r(e),Vt.success("Conte\xfado salvo!"),tr("content_saved",{wordCount:V.wordCount}))},[c,u,e,p,r,V.wordCount]),X=(0,t.useCallback)((e,t,n)=>{if(e&&e.length>0){const t=n.getText(e.index,e.length);S(t)}else S("")},[]),Z=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===i||void 0===i||!i.defaultAIProvider)return void Vt.error("Configure um provedor de IA nas configura\xe7\xf5es");A(!0);const n=Vt.loading("Gerando texto com IA...");try{var r;const l=i.aiProviders[i.defaultAIProvider];if(!l||!l.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const c=new Jn(i.defaultAIProvider,l.apiKey,{model:l.defaultModel,temperature:l.temperature,maxTokens:l.maxTokens}),u={project:(null===a||void 0===a?void 0:a.name)||"Light Novel",genre:(null===a||void 0===a?void 0:a.genre)||(null===s||void 0===s?void 0:s.genre),characters:o.map(e=>({name:e.name,role:e.role})),locations:(null===s||void 0===s||null===(r=s.locations)||void 0===r?void 0:r.map(e=>e.name))||[],currentText:k};let d="";if(t)d="".concat(t,"\n\nCONTEXTO DO PROJETO:\n").concat(JSON.stringify(u,null,2),"\n\nResponda apenas com o texto da light novel, sem explica\xe7\xf5es adicionais.");else{const t={continuar:"Continue escrevendo esta light novel de forma natural e envolvente. ".concat(k?'Baseie-se no texto selecionado: "'.concat(k,'"'):"Continue a partir do contexto atual."),"descrever personagem":"Crie uma descri\xe7\xe3o detalhada e envolvente de um personagem para esta light novel. ".concat(k?'Contexto: "'.concat(k,'"'):""),"cena de a\xe7\xe3o":"Escreva uma cena de a\xe7\xe3o din\xe2mica e emocionante para esta light novel. ".concat(k?'Baseie-se em: "'.concat(k,'"'):""),"di\xe1logo":"Crie um di\xe1logo natural e interessante entre personagens desta light novel. ".concat(k?'Contexto: "'.concat(k,'"'):""),"descri\xe7\xe3o de cen\xe1rio":"Descreva um cen\xe1rio ou ambiente de forma v\xedvida e imersiva para esta light novel. ".concat(k?'Baseie-se em: "'.concat(k,'"'):""),"transi\xe7\xe3o":"Crie uma transi\xe7\xe3o suave e natural entre cenas desta light novel. ".concat(k?'A partir de: "'.concat(k,'"'):""),melhorar:k?'Melhore e reescreva este trecho de forma mais envolvente: "'.concat(k,'"'):"Melhore o texto atual."};d=t[e]||t.continuar,d+="\n\nCONTEXTO DO PROJETO:\n".concat(JSON.stringify(u,null,2)),d+="\n\nResponda apenas com o texto da light novel, sem explica\xe7\xf5es adicionais."}const m=await c.generateText(d);if(B.current){const t=B.current.getEditor(),n=t.getSelection();"melhorar"===e&&k&&n?(t.deleteText(n.index,n.length),t.insertText(n.index,m)):n?t.insertText(n.index,m):t.insertText(t.getLength(),m)}Vt.success("Texto gerado com sucesso!",{id:n}),tr("ai_text_generated",{promptType:e,wordCount:m.split(" ").length,provider:i.defaultAIProvider})}catch(l){Vt.error("Erro ao gerar texto: ".concat(l.message),{id:n}),tr("ai_generation_error",{error:l.message,promptType:e})}finally{A(!1)}},[i,a,o,s,k]),$=(0,t.useCallback)(async e=>{P(!1);const t={continue:"continuar",character:"descrever personagem",scene:"descri\xe7\xe3o de cen\xe1rio",dialogue:"di\xe1logo",action:"cena de a\xe7\xe3o",custom:"custom"};"custom"===e.type?await Z("custom",e.prompt):await Z(t[e.type],e.prompt)},[Z]),J=(0,t.useCallback)(()=>{const t=e.replace(/<[^>]*>/g,""),n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="".concat((null===a||void 0===a?void 0:a.name)||"novel",".txt"),o.click(),URL.revokeObjectURL(r),Vt.success("Exportado como texto!")},[e,a]),Q=(0,t.useCallback)(()=>{const t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat((null===a||void 0===a?void 0:a.name)||"novel",".html"),r.click(),URL.revokeObjectURL(n),Vt.success("Exportado como HTML!")},[e,a]),ee=(0,t.useCallback)(async()=>{const e={project:a,volumes:l.volumes,worldData:s,characters:o},t=await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e;let o='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="UTF-8">\n        <title>'.concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</title>\n        <style>\n          body {\n            font-family: 'Times New Roman', serif;\n            line-height: 1.6;\n            margin: 2cm;\n            font-size: 12pt;\n          }\n          .title-page {\n            text-align: center;\n            page-break-after: always;\n            margin-top: 30%;\n          }\n          .title-page h1 {\n            font-size: 24pt;\n            margin-bottom: 1em;\n          }\n          .title-page .author {\n            font-size: 14pt;\n            margin-bottom: 2em;\n          }\n          .chapter-title {\n            font-size: 16pt;\n            font-weight: bold;\n            margin-top: 2em;\n            margin-bottom: 1em;\n            page-break-before: always;\n          }\n          .chapter-content {\n            text-align: justify;\n            margin-bottom: 1em;\n          }\n          .page-break {\n            page-break-before: always;\n          }\n          @media print {\n            body { margin: 0; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"title-page\">\n          <h1>").concat((null===t||void 0===t?void 0:t.name)||"Light Novel",'</h1>\n          <div class="author">').concat((null===t||void 0===t?void 0:t.author)||"Autor","</div>\n          <div>").concat((null===t||void 0===t?void 0:t.genre)||"G\xeanero","</div>\n        </div>\n    ");null===n||void 0===n||n.forEach(e=>{var t;o+='<h2 class="chapter-title">'.concat(e.title,"</h2>"),null===(t=e.chapters)||void 0===t||t.forEach(e=>{o+='\n          <h3 class="chapter-title">'.concat(e.title,'</h3>\n          <div class="chapter-content">\n            ').concat(e.content||"","\n          </div>\n        ")})}),o+="\n      </body>\n      </html>\n    ";const s=new Blob([o],{type:"text/html"}),i=URL.createObjectURL(s),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".html"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"PDF export initiated (HTML format)"}}catch(t){return console.error("PDF export error:",t),{success:!1,error:t.message}}}(e);t.success?Vt.success(t.message):Vt.error("Erro ao exportar PDF: ".concat(t.error))},[a,l.volumes,s,o]),te=(0,t.useCallback)(async()=>{const e={project:a,volumes:l.volumes,worldData:s,characters:o},t=await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e,o={title:(null===t||void 0===t?void 0:t.name)||"Light Novel",author:(null===t||void 0===t?void 0:t.author)||"Autor",language:"pt-BR",chapters:[]};null===n||void 0===n||n.forEach(e=>{var t;null===(t=e.chapters)||void 0===t||t.forEach(t=>{o.chapters.push({title:"".concat(e.title," - ").concat(t.title),content:t.content||"",id:"chapter-".concat(t.id)})})});const s=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),i=URL.createObjectURL(s),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".epub.json"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"EPUB structure exported (JSON format)"}}catch(t){return console.error("EPUB export error:",t),{success:!1,error:t.message}}}(e);t.success?Vt.success(t.message):Vt.error("Erro ao exportar EPUB: ".concat(t.error))},[a,l.volumes,s,o]),ne=(0,t.useCallback)(async()=>{const e={project:a,volumes:l.volumes,worldData:s,characters:o},t=await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e;let o="\n      <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>".concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</title>\n        <style>\n          body {\n            font-family: 'Times New Roman', serif;\n            font-size: 12pt;\n            line-height: 1.6;\n            margin: 2.54cm;\n          }\n          .title {\n            font-size: 18pt;\n            font-weight: bold;\n            text-align: center;\n            margin-bottom: 2em;\n          }\n          .chapter-title {\n            font-size: 14pt;\n            font-weight: bold;\n            margin-top: 2em;\n            margin-bottom: 1em;\n            page-break-before: always;\n          }\n          .content {\n            text-align: justify;\n            margin-bottom: 1em;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"title\">").concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</div>\n    ");null===n||void 0===n||n.forEach(e=>{var t;o+='<h2 class="chapter-title">'.concat(e.title,"</h2>"),null===(t=e.chapters)||void 0===t||t.forEach(e=>{o+='\n          <h3 class="chapter-title">'.concat(e.title,'</h3>\n          <div class="content">\n            ').concat(e.content||"","\n          </div>\n        ")})}),o+="</body></html>";const s=new Blob([o],{type:"application/msword"}),i=URL.createObjectURL(s),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".doc"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"Word document exported"}}catch(t){return console.error("Word export error:",t),{success:!1,error:t.message}}}(e);t.success?Vt.success(t.message):Vt.error("Erro ao exportar Word: ".concat(t.error))},[a,l.volumes,s,o]),re=(0,t.useCallback)(()=>{const e=(e=>{try{var t;const{project:n,volumes:r,worldData:a,characters:o}=e,s={project:{name:null===n||void 0===n?void 0:n.name,genre:null===n||void 0===n?void 0:n.genre,author:null===n||void 0===n?void 0:n.author,createdAt:null===n||void 0===n?void 0:n.createdAt,updatedAt:null===n||void 0===n?void 0:n.updatedAt},volumes:(null===r||void 0===r?void 0:r.length)||0,chapters:(null===r||void 0===r?void 0:r.reduce((e,t)=>{var n;return e+((null===(n=t.chapters)||void 0===n?void 0:n.length)||0)},0))||0,totalWords:(null===r||void 0===r?void 0:r.reduce((e,t)=>{var n;return e+(null===(n=t.chapters)||void 0===n?void 0:n.reduce((e,t)=>e+(t.wordCount||0),0))},0))||0,characters:(null===o||void 0===o?void 0:o.length)||0,locations:(null===a||void 0===a||null===(t=a.locations)||void 0===t?void 0:t.length)||0,exportDate:(new Date).toISOString()},i=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),c=document.createElement("a");return c.href=l,c.download="".concat((null===n||void 0===n?void 0:n.name)||"novel","_statistics.json"),c.click(),URL.revokeObjectURL(l),{success:!0,message:"Statistics exported"}}catch(n){return console.error("Statistics export error:",n),{success:!1,error:n.message}}})({project:a,volumes:l.volumes,worldData:s,characters:o});e.success?Vt.success(e.message):Vt.error("Erro ao exportar estat\xedsticas: ".concat(e.error))},[a,l.volumes,s,o]),ae=(0,t.useCallback)(()=>{const e=(e=>{try{var t;const n=(0,Oe.A)((0,Oe.A)({},e),{},{exportDate:(new Date).toISOString(),version:"2.0.0",exportType:"backup"}),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),o=document.createElement("a");return o.href=a,o.download="".concat((null===(t=e.project)||void 0===t?void 0:t.name)||"novel","_backup_").concat((new Date).toISOString().split("T")[0],".json"),o.click(),URL.revokeObjectURL(a),{success:!0,message:"Backup exported successfully"}}catch(n){return console.error("Backup export error:",n),{success:!1,error:n.message}}})({project:a,volumes:l.volumes,worldData:s,characters:o,loreData:gn.A.getState().loreData,narrativeData:gn.A.getState().narrativeData});e.success?Vt.success(e.message):Vt.error("Erro ao exportar backup: ".concat(e.error))},[a,l.volumes,s,o]),oe=(0,t.useCallback)(e=>{if(B.current){const t=B.current.getEditor(),n=t.getSelection(),r="[".concat(e.name,"]");n?t.insertText(n.index,r):t.insertText(t.getLength(),r)}},[]),se=(0,t.useCallback)(e=>{if(B.current){const t=B.current.getEditor(),n=t.getSelection(),r="[".concat(e.name,"]");n?t.insertText(n.index,r):t.insertText(t.getLength(),r)}},[]);return(0,An.jsxs)("div",{className:"h-full flex flex-col",children:[(0,An.jsx)("div",{className:"bg-card border-b border-border p-4",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:c?c.title:"Editor de Texto"}),u&&(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:u.title})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,An.jsx)(nn,{className:"h-4 w-4"}),(0,An.jsxs)("span",{children:[v.toLocaleString()," palavras"]}),(0,An.jsx)("span",{children:"\u2022"}),(0,An.jsx)(yn,{className:"h-4 w-4"}),(0,An.jsxs)("span",{children:[N," min de leitura"]})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:Y,className:"btn-primary flex items-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Salvar"]}),(0,An.jsxs)("button",{onClick:()=>P(!0),className:"btn-secondary flex items-center bg-purple-600 hover:bg-purple-700 text-white",children:[(0,An.jsx)(Dn,{className:"mr-2 h-4 w-4"}),"IA Avan\xe7ada"]}),(0,An.jsxs)("button",{onClick:()=>_(!C),className:"btn-outline flex items-center",children:[(0,An.jsx)(Dn,{className:"mr-2 h-4 w-4"}),"AI Helper"]}),(0,An.jsxs)("button",{onClick:()=>x(!g),className:"btn-outline flex items-center",children:[g?(0,An.jsx)(kn,{className:"mr-2 h-4 w-4"}):(0,An.jsx)(Nn,{className:"mr-2 h-4 w-4"}),g?"Editar":"Visualizar"]}),(0,An.jsxs)("button",{onClick:()=>M(!T),className:"btn-outline flex items-center",children:[(0,An.jsx)($t,{className:"mr-2 h-4 w-4"}),"Cap\xedtulos"]}),(0,An.jsxs)("button",{onClick:()=>D(!I),className:"btn-outline flex items-center",children:[(0,An.jsx)(Zn,{className:"mr-2 h-4 w-4"}),"Analytics"]}),(0,An.jsxs)("button",{onClick:()=>R(!0),className:"btn-outline flex items-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Backups"]})]})]})}),(0,An.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[T&&(0,An.jsx)("div",{className:"w-64 bg-card border-r border-border",children:(0,An.jsx)(lr,{onChapterSelect:K,currentChapter:c,currentVolume:u})}),(0,An.jsx)("div",{className:"flex-1 flex flex-col mr-80",children:g?(0,An.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,An.jsx)("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:e}})}):(0,An.jsx)("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"#ffffff"},children:(0,An.jsx)(Xn(),{ref:B,theme:"snow",value:e,onChange:n,modules:H,formats:G,placeholder:"Comece a escrever sua light novel...",onSelectionChange:X,className:"flex-1",style:{height:"100%",backgroundColor:"#ffffff"}})})}),(0,An.jsx)("div",{className:"w-80 bg-muted border-l border-border overflow-y-auto",children:(0,An.jsxs)("div",{className:"p-4 space-y-6",children:[(0,An.jsx)(ur,{}),C&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,An.jsx)(Dn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Assistente IA"]}),k&&(0,An.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,An.jsx)("p",{className:"text-sm text-blue-800",children:(0,An.jsx)("strong",{children:"Texto selecionado:"})}),(0,An.jsxs)("p",{className:"text-sm text-blue-700 mt-1 italic",children:['"',k.substring(0,100),k.length>100?"...":"",'"']})]}),(0,An.jsx)("div",{className:"space-y-2",children:[{key:"continuar",label:"\u270d\ufe0f Continuar escrevendo",desc:"Continue a hist\xf3ria"},{key:"descrever personagem",label:"\ud83d\udc64 Descrever personagem",desc:"Crie descri\xe7\xf5es detalhadas"},{key:"cena de a\xe7\xe3o",label:"\u26a1 Cena de a\xe7\xe3o",desc:"Escreva cenas din\xe2micas"},{key:"di\xe1logo",label:"\ud83d\udcac Di\xe1logo",desc:"Crie conversas naturais"},{key:"descri\xe7\xe3o de cen\xe1rio",label:"\ud83c\udfde\ufe0f Cen\xe1rio",desc:"Descreva ambientes"},{key:"transi\xe7\xe3o",label:"\ud83d\udd04 Transi\xe7\xe3o",desc:"Conecte cenas suavemente"},...k?[{key:"melhorar",label:"\u2728 Melhorar texto",desc:"Aprimore o texto selecionado"}]:[]].map(e=>(0,An.jsxs)("button",{onClick:()=>Z(e.key),disabled:E,className:"w-full text-left p-3 text-sm hover:bg-gray-100 rounded-lg transition-colors border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,An.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,An.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.desc})]},e.key))}),E&&(0,An.jsx)("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,An.jsxs)("div",{className:"flex items-center text-purple-700",children:[(0,An.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-700 mr-2"}),(0,An.jsx)("span",{className:"text-sm",children:"Gerando texto com IA..."})]})}),(0,An.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,An.jsx)("textarea",{placeholder:"Ou escreva um prompt personalizado...",className:"w-full p-2 text-sm border border-gray-300 rounded-lg resize-none",rows:3,onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&e.target.value.trim()&&(Z("custom",e.target.value),e.target.value="")}}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ctrl + Enter para enviar"})]})]}),o.length>0&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Personagens"}),(0,An.jsx)("div",{className:"space-y-2",children:o.slice(0,5).map(e=>(0,An.jsx)("button",{onClick:()=>oe(e),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",children:e.name},e.id))})]}),s.locations.length>0&&(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Locais"}),(0,An.jsx)("div",{className:"space-y-2",children:s.locations.slice(0,5).map(e=>(0,An.jsx)("button",{onClick:()=>se(e),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",children:e.name},e.id))})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Exportar"}),(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsxs)("button",{onClick:J,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Como Texto (.txt)"]}),(0,An.jsxs)("button",{onClick:Q,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Como HTML (.html)"]}),(0,An.jsxs)("button",{onClick:ne,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Como Word (.doc)"]}),(0,An.jsxs)("button",{onClick:ee,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Como PDF (.html)"]}),(0,An.jsxs)("button",{onClick:te,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Como EPUB (.json)"]}),(0,An.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,An.jsxs)("button",{onClick:re,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Estat\xedsticas"]}),(0,An.jsxs)("button",{onClick:ae,className:"w-full btn-outline flex items-center justify-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Backup Completo"]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Estat\xedsticas"}),(0,An.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Palavras:"}),(0,An.jsx)("span",{className:"font-medium",children:v.toLocaleString()})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Caracteres:"}),(0,An.jsx)("span",{className:"font-medium",children:b.toLocaleString()})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Tempo de leitura:"}),(0,An.jsxs)("span",{className:"font-medium",children:[N," min"]})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Par\xe1grafos:"}),(0,An.jsx)("span",{className:"font-medium",children:V.paragraphCount})]})]})]})]})})]}),O&&(0,An.jsx)(ar,{onClose:()=>P(!1),onGenerate:$,isGenerating:E,worldData:s,characters:o,selectedText:k}),I&&(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,An.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-6xl h-[90vh] overflow-hidden",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Analytics Avan\xe7ados"}),(0,An.jsx)("button",{onClick:()=>D(!1),className:"text-muted-foreground hover:text-foreground",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsx)("div",{className:"p-6 overflow-y-auto h-full",children:(0,An.jsx)(pr,{content:e.replace(/<[^>]*>/g,""),projectData:{project:a,volumes:l.volumes,worldData:s,characters:o}})})]})}),L&&(0,An.jsx)(Sr,{onClose:()=>R(!1)})]})},_r=Zt("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Er=Zt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Ar=Zt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Or=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Pr=Zt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Tr=Zt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Mr=Zt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Ir=Zt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Dr=Zt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Lr=Zt("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),Rr=Zt("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),zr=Zt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),qr=Zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Br=Zt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Fr=Zt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);function Ur(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ur(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Hr=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ur(e))&&(r&&(r+=" "),r+=t);return r},Gr=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Vr=e=>"number"==typeof e&&!isNaN(e),Wr=e=>"string"==typeof e,Kr=e=>"function"==typeof e,Yr=e=>Wr(e)||Kr(e)?e:null,Xr=(e,t)=>!1===e||Vr(e)&&e>0?e:t,Zr=e=>(0,t.isValidElement)(e)||Wr(e)||Kr(e)||Vr(e);function $r(e){let{enter:n,exit:r,appendPosition:a=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(e){let{children:i,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:m,playToast:p}=e,f=a?"".concat(n,"--").concat(l):n,h=a?"".concat(r,"--").concat(l):r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=d.current,t=f.split(" "),n=r=>{r.target===d.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,u,s):u()};m||(c?t():(g.current=1,e.className+=" ".concat(h),e.addEventListener("animationend",t)))},[m]),t.createElement(t.Fragment,null,i)}}function Jr(e,t){return{content:Qr(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Qr(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!Wr(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):Kr(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function ea(e){let{delay:n,isRunning:r,closeToast:a,type:o="default",hide:s,className:i,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:m}=e,p=s||l&&0===c,f={animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(f.transform="scaleX(".concat(c,")"));let h=Hr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":u}),g=Kr(i)?i({rtl:u,type:o,defaultClassName:h}):Hr(h,i),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&a()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(m," Toastify__progress-bar--").concat(o)}),t.createElement("div",(0,Oe.A)({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:f},x)))}var ta=1,na=()=>"".concat(ta++);function ra(e,t,n){let r=1,a=0,o=[],s=[],i=t,l=new Map,c=new Set,u=()=>{s=Array.from(l.values()),c.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}u()},p=e=>{var t,r;let{toastId:a,updateId:o}=e.props,s=null==o;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(a,e),u(),n(Jr(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:m,toasts:l,clearQueue:()=>{a-=o.length,o=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:a}=t,o=n?n!==e:1!==e,s=l.has(r)&&null==a;return o||s})(s))return;let{toastId:c,updateId:d,data:f,staleId:h,delay:g}=s,x=null==d;x&&a++;let v=(0,Oe.A)((0,Oe.A)((0,Oe.A)({},i),{},{style:i.toastStyle,key:r++},Object.fromEntries(Object.entries(s).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:c,updateId:d,data:f,isIn:!1,className:Yr(s.className||i.toastClassName),progressClassName:Yr(s.progressClassName||i.progressClassName),autoClose:!s.isLoading&&Xr(s.autoClose,i.autoClose),closeToast(e){l.get(c).removalReason=e,m(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(Jr(e,"removed")),l.delete(c),a--,a<0&&(a=0),o.length>0)return void p(o.shift());u()}}});v.closeButton=i.closeButton,!1===s.closeButton||Zr(s.closeButton)?v.closeButton=s.closeButton:!0===s.closeButton&&(v.closeButton=!Zr(i.closeButton)||i.closeButton);let y={content:t,props:v,staleId:h};i.limit&&i.limit>0&&a>i.limit&&x?o.push(y):Vr(g)?setTimeout(()=>{p(y)},g):p(y)},setProps(e){i=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var aa=new Map,oa=[],sa=new Set,ia=e=>sa.forEach(t=>t(e)),la=()=>aa.size>0;function ca(e,t){var n;if(t)return!(null==(n=aa.get(t))||!n.isToastActive(e));let r=!1;return aa.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function ua(e){if(la()){if(null==e||(e=>Wr(e)||Vr(e))(e))aa.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=aa.get(e.containerId);t?t.removeToast(e.id):aa.forEach(t=>{t.removeToast(e.id)})}}else oa=oa.filter(t=>null!=e&&t.options.toastId!==e)}function da(e,t){Zr(e)&&(la()||oa.push({content:e,options:t}),aa.forEach(n=>{n.buildToast(e,t)}))}function ma(e,t){aa.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function pa(e){let t=e.containerId||1;return{subscribe(n){let r=ra(t,e,ia);aa.set(t,r);let a=r.observe(n);return oa.forEach(e=>da(e.content,e.options)),oa=[],()=>{a(),aa.delete(t)}},setProps(e){var n;null==(n=aa.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=aa.get(t))?void 0:e.getSnapshot()}}}function fa(e){return e&&(Wr(e.toastId)||Vr(e.toastId))?e.toastId:na()}function ha(e,t){return da(e,t),t.toastId}function ga(e,t){return(0,Oe.A)((0,Oe.A)({},t),{},{type:t&&t.type||e,toastId:fa(t)})}function xa(e){return(t,n)=>ha(t,ga(e,n))}function va(e,t){return ha(e,ga("default",t))}function ya(e){let[n,r]=(0,t.useState)(!1),[a,o]=(0,t.useState)(!1),s=(0,t.useRef)(null),i=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:m}=e;function p(){r(!0)}function f(){r(!1)}function h(t){let r=s.current;if(i.canDrag&&r){i.didMove=!0,n&&f(),"x"===e.draggableDirection?i.delta=t.clientX-i.start:i.delta=t.clientY-i.start,i.start!==t.clientX&&(i.canCloseOnClick=!1);let a="x"===e.draggableDirection?"".concat(i.delta,"px, var(--y)"):"0, calc(".concat(i.delta,"px + var(--y))");r.style.transform="translate3d(".concat(a,",0)"),r.style.opacity="".concat(1-Math.abs(i.delta/i.removalDistance))}}function g(){document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",g);let t=s.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=aa.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",p),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",h),document.addEventListener("pointerup",g);let n=s.current;i.canCloseOnClick=!0,i.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:a,right:o}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?f():p()}};return l&&c&&(x.onMouseEnter=f,e.stacked||(x.onMouseLeave=p)),m&&(x.onClick=e=>{d&&d(e),i.canCloseOnClick&&u(!0)}),{playToast:p,pauseToast:f,isRunning:n,preventExitTransition:a,toastRef:s,eventHandlers:x}}va.loading=(e,t)=>ha(e,ga("default",(0,Oe.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),va.promise=function(e,t,n){let r,{pending:a,error:o,success:s}=t;a&&(r=Wr(a)?va.loading(a,n):va.loading(a.render,(0,Oe.A)((0,Oe.A)({},n),a)));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void va.dismiss(r);let o=(0,Oe.A)((0,Oe.A)((0,Oe.A)({type:e},i),n),{},{data:a}),s=Wr(t)?{render:t}:t;return r?va.update(r,(0,Oe.A)((0,Oe.A)({},o),s)):va(s.render,(0,Oe.A)((0,Oe.A)({},o),s)),a},c=Kr(e)?e():e;return c.then(e=>l("success",s,e)).catch(e=>l("error",o,e)),c},va.success=xa("success"),va.info=xa("info"),va.error=xa("error"),va.warning=xa("warning"),va.warn=va.warning,va.dark=(e,t)=>ha(e,ga("default",(0,Oe.A)({theme:"dark"},t))),va.dismiss=function(e){ua(e)},va.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};aa.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},va.isActive=ca,va.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=aa.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:a}=n,o=(0,Oe.A)((0,Oe.A)((0,Oe.A)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:na()});o.toastId!==e&&(o.staleId=e);let s=o.render||a;delete o.render,ha(s,o)}},va.done=e=>{va.update(e,{progress:1})},va.onChange=function(e){return sa.add(e),()=>{sa.delete(e)}},va.play=e=>ma(!0,e),va.pause=e=>ma(!1,e);var ba="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,ja=e=>{let{theme:n,type:r,isLoading:a}=e,o=Wt(e,Gr);return t.createElement("svg",(0,Oe.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},o))};var Na={info:function(e){return t.createElement(ja,(0,Oe.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(ja,(0,Oe.A)({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(ja,(0,Oe.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(ja,(0,Oe.A)({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function wa(e){let{theme:n,type:r,isLoading:a,icon:o}=e,s=null,i={theme:n,type:r};return!1===o||(Kr(o)?s=o((0,Oe.A)((0,Oe.A)({},i),{},{isLoading:a})):(0,t.isValidElement)(o)?s=(0,t.cloneElement)(o,i):a?s=Na.spinner():(e=>e in Na)(r)&&(s=Na[r](i))),s}var ka=e=>{let{isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:o,playToast:s}=ya(e),{closeButton:i,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:m,closeToast:p,transition:f,position:h,className:g,style:x,progressClassName:v,updateId:y,role:b,progress:j,rtl:N,toastId:w,deleteToast:k,isIn:S,isLoading:C,closeOnClick:_,theme:E,ariaLabel:A}=e,O=Hr("Toastify__toast","Toastify__toast-theme--".concat(E),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":_}),P=Kr(g)?g({rtl:N,position:h,type:d,defaultClassName:O}):Hr(O,g),T=wa(e),M=!!j||!c,I={closeToast:p,type:d,theme:E},D=null;return!1===i||(D=Kr(i)?i(I):(0,t.isValidElement)(i)?(0,t.cloneElement)(i,I):function(e){let{closeToast:n,theme:r,ariaLabel:a="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(I)),t.createElement(f,{isIn:S,done:k,position:h,preventExitTransition:r,nodeRef:a,playToast:s},t.createElement("div",(0,Oe.A)((0,Oe.A)({id:w,tabIndex:0,onClick:u,"data-in":S,className:P},o),{},{style:x,ref:a},S&&{role:b,"aria-label":A}),null!=T&&t.createElement("div",{className:Hr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},T),Qr(l,e,!n),D,!e.customProgressBar&&t.createElement(ea,(0,Oe.A)((0,Oe.A)({},y&&!M?{key:"p-".concat(y)}:{}),{},{rtl:N,theme:E,delay:c,isRunning:n,isIn:S,closeToast:p,hide:m,type:d,className:v,controlledProgress:M,progress:j||0}))))},Sa=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Ca=$r(Sa("bounce",!0)),_a=($r(Sa("slide",!0)),$r(Sa("zoom")),$r(Sa("flip")),{position:"top-right",transition:Ca,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Ea(e){let n=(0,Oe.A)((0,Oe.A)({},_a),e),r=e.stacked,[a,o]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getToastToRender:i,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:a,setProps:o}=(0,t.useRef)(pa(e)).current;o(e);let s=null==(n=(0,t.useSyncExternalStore)(r,a,a))?void 0:n.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:ca,count:null==s?void 0:s.length}}(n),{className:u,style:d,rtl:m,containerId:p,hotKeys:f}=n;function h(e){let t=Hr("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":m});return Kr(u)?u({position:e,rtl:m,defaultClassName:t}):Hr(t,Yr(u))}function g(){r&&(o(!0),va.play())}return ba(()=>{var e;if(r){let t=s.current.querySelectorAll('[data-in="true"]'),r=12,o=null==(e=n.position)?void 0:e.includes("top"),i=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(a)),n.dataset.pos||(n.dataset.pos=o?"top":"bot");let s=i*(a?.2:1)+(a?0:r*t);n.style.setProperty("--y","".concat(o?s:-1*s,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(a?l:0))),i+=n.offsetHeight,l+=.025})}},[a,c,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=s.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),va.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),va.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),t.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{r&&(o(!1),va.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},i((e,n)=>{let a=n.length?(0,Oe.A)({},d):(0,Oe.A)((0,Oe.A)({},d),{},{pointerEvents:"none"});return t.createElement("div",{tabIndex:-1,className:h(e),"data-stacked":r,style:a,key:"c-".concat(e)},n.map(e=>{let{content:n,props:a}=e;return t.createElement(ka,(0,Oe.A)((0,Oe.A)({},a),{},{stacked:r,collapseAll:g,isIn:l(a.toastId,a.containerId),key:"t-".concat(a.key)}),n)}))}))}function Aa(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=Aa(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Oa=n(8443),Pa=n(3802);const{useDebugValue:Ta}=t,{useSyncExternalStoreWithSelector:Ma}=Oa,Ia=e=>e;function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia,n=arguments.length>2?arguments[2]:void 0;const r=Ma(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ta(r),r}const La=(e,t)=>{const n=(0,Pa.y)(e),r=function(e){return Da(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function Ra(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var za={value:()=>{}};function qa(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ba(r)}function Ba(e){this._=e}function Fa(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function Ua(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=za,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ba.prototype=qa.prototype={constructor:Ba,on:function(e,t){var n,r,a=this._,o=(r=a,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),s=-1,i=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<i;)if(n=(e=o[s]).type)a[n]=Ua(a[n],e.name,t);else if(null==t)for(n in a)a[n]=Ua(a[n],e.name,null);return this}for(;++s<i;)if((n=(e=o[s]).type)&&(n=Fa(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ba(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};const Ha=qa;function Ga(){}function Va(e){return null==e?Ga:function(){return this.querySelector(e)}}function Wa(){return[]}function Ka(e){return null==e?Wa:function(){return this.querySelectorAll(e)}}function Ya(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function Xa(e){return function(){return this.matches(e)}}function Za(e){return function(t){return t.matches(e)}}var $a=Array.prototype.find;function Ja(){return this.firstElementChild}var Qa=Array.prototype.filter;function eo(){return Array.from(this.children)}function to(e){return new Array(e.length)}function no(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ro(e,t,n,r,a,o){for(var s,i=0,l=t.length,c=o.length;i<c;++i)(s=t[i])?(s.__data__=o[i],r[i]=s):n[i]=new no(e,o[i]);for(;i<l;++i)(s=t[i])&&(a[i]=s)}function ao(e,t,n,r,a,o,s){var i,l,c,u=new Map,d=t.length,m=o.length,p=new Array(d);for(i=0;i<d;++i)(l=t[i])&&(p[i]=c=s.call(l,l.__data__,i,t)+"",u.has(c)?a[i]=l:u.set(c,l));for(i=0;i<m;++i)c=s.call(e,o[i],i,o)+"",(l=u.get(c))?(r[i]=l,l.__data__=o[i],u.delete(c)):n[i]=new no(e,o[i]);for(i=0;i<d;++i)(l=t[i])&&u.get(p[i])===l&&(a[i]=l)}function oo(e){return e.__data__}function so(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function io(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}no.prototype={constructor:no,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var lo="http://www.w3.org/1999/xhtml";const co={svg:"http://www.w3.org/2000/svg",xhtml:lo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function uo(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),co.hasOwnProperty(t)?{space:co[t],local:e}:e}function mo(e){return function(){this.removeAttribute(e)}}function po(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fo(e,t){return function(){this.setAttribute(e,t)}}function ho(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function go(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function xo(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yo(e){return function(){this.style.removeProperty(e)}}function bo(e,t,n){return function(){this.style.setProperty(e,t,n)}}function jo(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function No(e,t){return e.style.getPropertyValue(t)||vo(e).getComputedStyle(e,null).getPropertyValue(t)}function wo(e){return function(){delete this[e]}}function ko(e,t){return function(){this[e]=t}}function So(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Co(e){return e.trim().split(/^|\s+/)}function _o(e){return e.classList||new Eo(e)}function Eo(e){this._node=e,this._names=Co(e.getAttribute("class")||"")}function Ao(e,t){for(var n=_o(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Oo(e,t){for(var n=_o(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function Po(e){return function(){Ao(this,e)}}function To(e){return function(){Oo(this,e)}}function Mo(e,t){return function(){(t.apply(this,arguments)?Ao:Oo)(this,e)}}function Io(){this.textContent=""}function Do(e){return function(){this.textContent=e}}function Lo(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Ro(){this.innerHTML=""}function zo(e){return function(){this.innerHTML=e}}function qo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Bo(){this.nextSibling&&this.parentNode.appendChild(this)}function Fo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Uo(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===lo&&t.documentElement.namespaceURI===lo?t.createElement(e):t.createElementNS(n,e)}}function Ho(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Go(e){var t=uo(e);return(t.local?Ho:Uo)(t)}function Vo(){return null}function Wo(){var e=this.parentNode;e&&e.removeChild(this)}function Ko(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xo(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function Zo(e,t,n){return function(){var r,a=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var s=0,i=a.length;s<i;++s)if((r=a[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(r):this.__on=[r]}}function $o(e,t,n){var r=vo(e),a=r.CustomEvent;"function"===typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Jo(e,t){return function(){return $o(this,e,t)}}function Qo(e,t){return function(){return $o(this,e,t.apply(this,arguments))}}Eo.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var es=[null];function ts(e,t){this._groups=e,this._parents=t}function ns(){return new ts([[document.documentElement]],es)}ts.prototype=ns.prototype={constructor:ts,select:function(e){"function"!==typeof e&&(e=Va(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,s,i=t[a],l=i.length,c=r[a]=new Array(l),u=0;u<l;++u)(o=i[u])&&(s=e.call(o,o.__data__,u,i))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new ts(r,this._parents)},selectAll:function(e){e="function"===typeof e?Ya(e):Ka(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s,i=t[o],l=i.length,c=0;c<l;++c)(s=i[c])&&(r.push(e.call(s,s.__data__,c,i)),a.push(s));return new ts(r,a)},selectChild:function(e){return this.select(null==e?Ja:function(e){return function(){return $a.call(this.children,e)}}("function"===typeof e?e:Za(e)))},selectChildren:function(e){return this.selectAll(null==e?eo:function(e){return function(){return Qa.call(this.children,e)}}("function"===typeof e?e:Za(e)))},filter:function(e){"function"!==typeof e&&(e=Xa(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,s=t[a],i=s.length,l=r[a]=[],c=0;c<i;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new ts(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,oo);var n,r=t?ao:ro,a=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=o.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=a[u],m=o[u],p=m.length,f=so(e.call(d,d&&d.__data__,u,a)),h=f.length,g=l[u]=new Array(h),x=i[u]=new Array(h);r(d,m,g,x,c[u]=new Array(p),f,t);for(var v,y,b=0,j=0;b<h;++b)if(v=g[b]){for(b>=j&&(j=b+1);!(y=x[j])&&++j<h;);v._next=y||null}}return(i=new ts(i,a))._enter=l,i._exit=c,i},enter:function(){return new ts(this._enter||this._groups.map(to),this._parents)},exit:function(){return new ts(this._exit||this._groups.map(to),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?o.remove():n(o),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),l=0;l<s;++l)for(var c,u=n[l],d=r[l],m=u.length,p=i[l]=new Array(m),f=0;f<m;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<a;++l)i[l]=n[l];return new ts(i,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],o=a.length-1,s=a[o];--o>=0;)(r=a[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=io);for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s,i=n[o],l=i.length,c=a[o]=new Array(l),u=0;u<l;++u)(s=i[u])&&(c[u]=s);c.sort(t)}return new ts(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,o=t[n],s=0,i=o.length;s<i;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this},attr:function(e,t){var n=uo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?po:mo:"function"===typeof t?n.local?xo:go:n.local?ho:fo)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?yo:"function"===typeof t?jo:bo)(e,t,null==n?"":n)):No(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?wo:"function"===typeof t?So:ko)(e,t)):this.node()[e]},classed:function(e,t){var n=Co(e+"");if(arguments.length<2){for(var r=_o(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?Mo:t?Po:To)(n,t))},text:function(e){return arguments.length?this.each(null==e?Io:("function"===typeof e?Lo:Do)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ro:("function"===typeof e?qo:zo)(e)):this.node().innerHTML},raise:function(){return this.each(Bo)},lower:function(){return this.each(Fo)},append:function(e){var t="function"===typeof e?e:Go(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:Go(e),r=null==t?Vo:"function"===typeof t?t:Va(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Wo)},clone:function(e){return this.select(e?Yo:Ko)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),s=o.length;if(!(arguments.length<2)){for(i=t?Zo:Xo,r=0;r<s;++r)this.each(i(o[r],t,n));return this}var i=this.node().__on;if(i)for(var l,c=0,u=i.length;c<u;++c)for(r=0,l=i[c];r<s;++r)if((a=o[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Qo:Jo)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],o=0,s=a.length;o<s;++o)(r=a[o])&&(yield r)}};const rs=ns;function as(e){return"string"===typeof e?new ts([[document.querySelector(e)]],[document.documentElement]):new ts([[e]],es)}const os={passive:!1},ss={capture:!0,passive:!1};function is(e){e.stopImmediatePropagation()}function ls(e){e.preventDefault(),e.stopImmediatePropagation()}function cs(e){var t=e.document.documentElement,n=as(e).on("dragstart.drag",ls,ss);"onselectstart"in t?n.on("selectstart.drag",ls,ss):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function us(e,t){var n=e.document.documentElement,r=as(e).on("dragstart.drag",null);t&&(r.on("click.drag",ls,ss),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ds(e){return((e=Math.exp(e))+1/e)/2}const ms=function e(t,n,r){function a(e,a){var o,s,i=e[0],l=e[1],c=e[2],u=a[0],d=a[1],m=a[2],p=u-i,f=d-l,h=p*p+f*f;if(h<1e-12)s=Math.log(m/c)/t,o=function(e){return[i+e*p,l+e*f,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(h),x=(m*m-c*c+r*h)/(2*c*n*g),v=(m*m-c*c-r*h)/(2*m*n*g),y=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(v*v+1)-v);s=(b-y)/t,o=function(e){var r,a=e*s,o=ds(y),u=c/(n*g)*(o*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[i+u*p,l+u*f,c*o/ds(t*a+y)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function ps(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var fs,hs,gs=0,xs=0,vs=0,ys=0,bs=0,js=0,Ns="object"===typeof performance&&performance.now?performance:Date,ws="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ks(){return bs||(ws(Ss),bs=Ns.now()+js)}function Ss(){bs=0}function Cs(){this._call=this._time=this._next=null}function _s(e,t,n){var r=new Cs;return r.restart(e,t,n),r}function Es(){bs=(ys=Ns.now())+js,gs=xs=0;try{!function(){ks(),++gs;for(var e,t=fs;t;)(e=bs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gs}()}finally{gs=0,function(){var e,t,n=fs,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:fs=t);hs=e,Os(r)}(),bs=0}}function As(){var e=Ns.now(),t=e-ys;t>1e3&&(js-=t,ys=e)}function Os(e){gs||(xs&&(xs=clearTimeout(xs)),e-bs>24?(e<1/0&&(xs=setTimeout(Es,e-Ns.now()-js)),vs&&(vs=clearInterval(vs))):(vs||(ys=Ns.now(),vs=setInterval(As,1e3)),gs=1,ws(Es)))}function Ps(e,t,n){var r=new Cs;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Cs.prototype=_s.prototype={constructor:Cs,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?ks():+n)+(null==t?0:+t),this._next||hs===this||(hs?hs._next=this:fs=this,hs=this),this._call=e,this._time=n,Os()},stop:function(){this._call&&(this._call=null,this._time=1/0,Os())}};var Ts=Ha("start","end","cancel","interrupt"),Ms=[];function Is(e,t,n,r,a,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function o(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(o){var c,u,d,m;if(1!==n.state)return l();for(c in a)if((m=a[c]).name===n.name){if(3===m.state)return Ps(s);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete a[c]):+c<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete a[c])}if(Ps(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=m);r.length=u+1}}function i(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=_s(o,0,n.time)}(e,n,{name:t,index:r,group:a,on:Ts,tween:Ms,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ds(e,t){var n=Rs(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ls(e,t){var n=Rs(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Rs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zs(e,t){var n,r,a,o=e.__transition,s=!0;if(o){for(a in t=null==t?null:t+"",o)(n=o[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[a]):s=!1;s&&delete e.__transition}}function qs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Bs,Fs=180/Math.PI,Us={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hs(e,t,n,r,a,o){var s,i,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Fs,skewX:Math.atan(l)*Fs,scaleX:s,scaleY:i}}function Gs(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(o,s){var i=[],l=[];return o=e(o),s=e(s),function(e,r,a,o,s,i){if(e!==a||r!==o){var l=s.push("translate(",null,t,null,n);i.push({i:l-4,x:qs(e,a)},{i:l-2,x:qs(r,o)})}else(a||o)&&s.push("translate("+a+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,i,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(a(n)+"rotate(",null,r)-2,x:qs(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(o.rotate,s.rotate,i,l),function(e,t,n,o){e!==t?o.push({i:n.push(a(n)+"skewX(",null,r)-2,x:qs(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(o.skewX,s.skewX,i,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var i=o.push(a(o)+"scale(",null,",",null,")");s.push({i:i-4,x:qs(e,n)},{i:i-2,x:qs(t,r)})}else 1===n&&1===r||o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,i,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)i[(t=l[n]).i]=t.x(e);return i.join("")}}}var Vs=Gs(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Us:Hs(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Ws=Gs(function(e){return null==e?Us:(Bs||(Bs=document.createElementNS("http://www.w3.org/2000/svg","g")),Bs.setAttribute("transform",e),(e=Bs.transform.baseVal.consolidate())?Hs((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Us)},", ",")",")");function Ks(e,t){var n,r;return function(){var a=Ls(this,e),o=a.tween;if(o!==n)for(var s=0,i=(r=n=o).length;s<i;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}a.tween=r}}function Ys(e,t,n){var r,a;if("function"!==typeof n)throw new Error;return function(){var o=Ls(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=i;break}l===c&&a.push(i)}o.tween=a}}function Xs(e,t,n){var r=e._id;return e.each(function(){var e=Ls(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Rs(e,r).value[t]}}function Zs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $s(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Js(){}var Qs=.7,ei=1/Qs,ti="\\s*([+-]?\\d+)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ai=/^#([0-9a-f]{3,8})$/,oi=new RegExp("^rgb\\(".concat(ti,",").concat(ti,",").concat(ti,"\\)$")),si=new RegExp("^rgb\\(".concat(ri,",").concat(ri,",").concat(ri,"\\)$")),ii=new RegExp("^rgba\\(".concat(ti,",").concat(ti,",").concat(ti,",").concat(ni,"\\)$")),li=new RegExp("^rgba\\(".concat(ri,",").concat(ri,",").concat(ri,",").concat(ni,"\\)$")),ci=new RegExp("^hsl\\(".concat(ni,",").concat(ri,",").concat(ri,"\\)$")),ui=new RegExp("^hsla\\(".concat(ni,",").concat(ri,",").concat(ri,",").concat(ni,"\\)$")),di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mi(){return this.rgb().formatHex()}function pi(){return this.rgb().formatRgb()}function fi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ai.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hi(t):3===n?new vi(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?gi(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?gi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oi.exec(e))?new vi(t[1],t[2],t[3],1):(t=si.exec(e))?new vi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ii.exec(e))?gi(t[1],t[2],t[3],t[4]):(t=li.exec(e))?gi(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ci.exec(e))?ki(t[1],t[2]/100,t[3]/100,1):(t=ui.exec(e))?ki(t[1],t[2]/100,t[3]/100,t[4]):di.hasOwnProperty(e)?hi(di[e]):"transparent"===e?new vi(NaN,NaN,NaN,0):null}function hi(e){return new vi(e>>16&255,e>>8&255,255&e,1)}function gi(e,t,n,r){return r<=0&&(e=t=n=NaN),new vi(e,t,n,r)}function xi(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Js||(e=fi(e)),e?new vi((e=e.rgb()).r,e.g,e.b,e.opacity):new vi}(e):new vi(e,t,n,null==r?1:r)}function vi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function yi(){return"#".concat(wi(this.r)).concat(wi(this.g)).concat(wi(this.b))}function bi(){const e=ji(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ni(this.r),", ").concat(Ni(this.g),", ").concat(Ni(this.b)).concat(1===e?")":", ".concat(e,")"))}function ji(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wi(e){return((e=Ni(e))<16?"0":"")+e.toString(16)}function ki(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ci(e,t,n,r)}function Si(e){if(e instanceof Ci)return new Ci(e.h,e.s,e.l,e.opacity);if(e instanceof Js||(e=fi(e)),!e)return new Ci;if(e instanceof Ci)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,l=(o+a)/2;return i?(s=t===o?(n-r)/i+6*(n<r):n===o?(r-t)/i+2:(t-n)/i+4,i/=l<.5?o+a:2-o-a,s*=60):i=l>0&&l<1?0:s,new Ci(s,i,l,e.opacity)}function Ci(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _i(e){return(e=(e||0)%360)<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function Ai(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Oi(e,t,n,r,a){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*a)/6}Zs(Js,fi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mi,formatHex:mi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Si(this).formatHsl()},formatRgb:pi,toString:pi}),Zs(vi,xi,$s(Js,{brighter(e){return e=null==e?ei:Math.pow(ei,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Qs:Math.pow(Qs,e),new vi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vi(Ni(this.r),Ni(this.g),Ni(this.b),ji(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yi,formatHex:yi,formatHex8:function(){return"#".concat(wi(this.r)).concat(wi(this.g)).concat(wi(this.b)).concat(wi(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:bi,toString:bi})),Zs(Ci,function(e,t,n,r){return 1===arguments.length?Si(e):new Ci(e,t,n,null==r?1:r)},$s(Js,{brighter(e){return e=null==e?ei:Math.pow(ei,e),new Ci(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Qs:Math.pow(Qs,e),new Ci(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new vi(Ai(e>=240?e-240:e+120,a,r),Ai(e,a,r),Ai(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ci(_i(this.h),Ei(this.s),Ei(this.l),ji(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ji(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(_i(this.h),", ").concat(100*Ei(this.s),"%, ").concat(100*Ei(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Pi=e=>()=>e;function Ti(e,t){return function(n){return e+n*t}}function Mi(e){return 1===(e=+e)?Ii:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Pi(isNaN(t)?n:t)}}function Ii(e,t){var n=t-e;return n?Ti(e,n):Pi(isNaN(e)?t:e)}const Di=function e(t){var n=Mi(t);function r(e,t){var r=n((e=xi(e)).r,(t=xi(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),s=Ii(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Li(e){return function(t){var n,r,a=t.length,o=new Array(a),s=new Array(a),i=new Array(a);for(n=0;n<a;++n)r=xi(t[n]),o[n]=r.r||0,s[n]=r.g||0,i[n]=r.b||0;return o=e(o),s=e(s),i=e(i),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=i(e),r+""}}}Li(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],s=r>0?e[r-1]:2*a-o,i=r<t-1?e[r+2]:2*o-a;return Oi((n-r/t)*t,s,a,o,i)}}),Li(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],i=e[(r+2)%t];return Oi((n-r/t)*t,a,o,s,i)}});var Ri=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zi=new RegExp(Ri.source,"g");function qi(e,t){var n,r,a,o=Ri.lastIndex=zi.lastIndex=0,s=-1,i=[],l=[];for(e+="",t+="";(n=Ri.exec(e))&&(r=zi.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),i[s]?i[s]+=a:i[++s]=a),(n=n[0])===(r=r[0])?i[s]?i[s]+=r:i[++s]=r:(i[++s]=null,l.push({i:s,x:qs(n,r)})),o=zi.lastIndex;return o<t.length&&(a=t.slice(o),i[s]?i[s]+=a:i[++s]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function Bi(e,t){var n;return("number"===typeof t?qs:t instanceof fi?Di:(n=fi(t))?(t=n,Di):qi)(e,t)}function Fi(e){return function(){this.removeAttribute(e)}}function Ui(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hi(e,t,n){var r,a,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?a:a=t(r=s,n)}}function Gi(e,t,n){var r,a,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?a:a=t(r=s,n)}}function Vi(e,t,n){var r,a,o;return function(){var s,i,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(i=l+"")?null:s===r&&i===a?o:(a=i,o=t(r=s,l));this.removeAttribute(e)}}function Wi(e,t,n){var r,a,o;return function(){var s,i,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(i=l+"")?null:s===r&&i===a?o:(a=i,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Ki(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,a)),n}return a._value=t,a}function Yi(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,a)),n}return a._value=t,a}function Xi(e,t){return function(){Ds(this,e).delay=+t.apply(this,arguments)}}function Zi(e,t){return t=+t,function(){Ds(this,e).delay=t}}function $i(e,t){return function(){Ls(this,e).duration=+t.apply(this,arguments)}}function Ji(e,t){return t=+t,function(){Ls(this,e).duration=t}}var Qi=rs.prototype.constructor;function el(e){return function(){this.style.removeProperty(e)}}var tl=0;function nl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rl(){return++tl}var al=rs.prototype;nl.prototype=function(e){return rs().transition(e)}.prototype={constructor:nl,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Va(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i,l,c=r[s],u=c.length,d=o[s]=new Array(u),m=0;m<u;++m)(i=c[m])&&(l=e.call(i,i.__data__,m,c))&&("__data__"in i&&(l.__data__=i.__data__),d[m]=l,Is(d[m],t,n,m,d,Rs(i,n)));return new nl(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Ka(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var l,c=r[i],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var m,p=e.call(l,l.__data__,d,c),f=Rs(l,n),h=0,g=p.length;h<g;++h)(m=p[h])&&Is(m,t,n,h,p,f);o.push(p),s.push(l)}return new nl(o,s,t,n)},selectChild:al.selectChild,selectChildren:al.selectChildren,filter:function(e){"function"!==typeof e&&(e=Xa(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,s=t[a],i=s.length,l=r[a]=[],c=0;c<i;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new nl(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var l,c=t[i],u=n[i],d=c.length,m=s[i]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(m[p]=l);for(;i<r;++i)s[i]=t[i];return new nl(s,this._parents,this._name,this._id)},selection:function(){return new Qi(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=rl(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s,i=r[o],l=i.length,c=0;c<l;++c)if(s=i[c]){var u=Rs(s,t);Is(s,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nl(r,this._parents,e,n)},call:al.call,nodes:al.nodes,node:al.node,size:al.size,empty:al.empty,each:al.each,on:function(e,t){var n=this._id;return arguments.length<2?Rs(this.node(),n).on.on(e):this.each(function(e,t,n){var r,a,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Ds:Ls;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}(n,e,t))},attr:function(e,t){var n=uo(e),r="transform"===n?Ws:Bi;return this.attrTween(e,"function"===typeof t?(n.local?Wi:Vi)(n,r,Xs(this,"attr."+e,t)):null==t?(n.local?Ui:Fi)(n):(n.local?Gi:Hi)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=uo(e);return this.tween(n,(r.local?Ki:Yi)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Vs:Bi;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var o=No(this,e),s=(this.style.removeProperty(e),No(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}(e,r)).on("end.style."+e,el(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,a,o;return function(){var s=No(this,e),i=n(this),l=i+"";return null==i&&(this.style.removeProperty(e),l=i=No(this,e)),s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i))}}(e,r,Xs(this,"style."+e,t))).each(function(e,t){var n,r,a,o,s="style."+t,i="end."+s;return function(){var l=Ls(this,e),c=l.on,u=null==l.value[s]?o||(o=el(t)):void 0;c===n&&a===u||(r=(n=c).copy()).on(i,a=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,o=n+"";return function(){var s=No(this,e);return s===o?null:s===r?a:a=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,a;function o(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Xs(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=Rs(this.node(),n).tween,o=0,s=a.length;o<s;++o)if((r=a[o]).name===e)return r.value;return null}return this.each((null==t?Ks:Ys)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Xi:Zi)(t,e)):Rs(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?$i:Ji)(t,e)):Rs(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Ls(this,e).ease=t}}(t,e)):Rs(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Ls(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},l={value:function(){0===--a&&o()}};n.each(function(){var n=Ls(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),n.on=t}),0===a&&o()})},[Symbol.iterator]:al[Symbol.iterator]};var ol={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function sl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}rs.prototype.interrupt=function(e){return this.each(function(){zs(this,e)})},rs.prototype.transition=function(e){var t,n;e instanceof nl?(t=e._id,e=e._name):(t=rl(),(n=ol).time=ks(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s,i=r[o],l=i.length,c=0;c<l;++c)(s=i[c])&&Is(s,e,t,c,i,n||sl(s,t));return new nl(r,this._parents,e,t)};const il=e=>()=>e;function ll(e,t){let{sourceEvent:n,target:r,transform:a,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function cl(e,t,n){this.k=e,this.x=t,this.y=n}cl.prototype={constructor:cl,scale:function(e){return 1===e?this:new cl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new cl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ul=new cl(1,0,0);function dl(e){e.stopImmediatePropagation()}function ml(e){e.preventDefault(),e.stopImmediatePropagation()}function pl(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function fl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function hl(){return this.__zoom||ul}function gl(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function xl(){return navigator.maxTouchPoints||"ontouchstart"in this}function vl(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function yl(){var e,t,n,r=pl,a=fl,o=vl,s=gl,i=xl,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=ms,m=Ha("start","zoom","end"),p=0,f=10;function h(e){e.property("__zoom",hl).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",w).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",S).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new cl(t,e.x,e.y)}function x(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new cl(e.k,r,a)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,o=arguments,s=b(e,o).event(r),i=a.apply(e,o),l=null==n?v(i):"function"===typeof n?n.apply(e,o):n,c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=e.__zoom,m="function"===typeof t?t.apply(e,o):t,p=d(u.invert(l).concat(c/u.k),m.invert(l).concat(c/m.k));return function(e){if(1===e)e=m;else{var t=p(e),n=c/t[2];e=new cl(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var i=b(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,s.apply(this,arguments)))),m=ps(e);if(i.wheel)i.mouse[0][0]===m[0]&&i.mouse[0][1]===m[1]||(i.mouse[1]=u.invert(i.mouse[0]=m)),clearTimeout(i.wheel);else{if(u.k===d)return;i.mouse=[m,u.invert(m)],zs(this),i.start()}ml(e),i.wheel=setTimeout(function(){i.wheel=null,i.end()},150),i.zoom("mouse",o(x(g(u,d),i.mouse[0],i.mouse[1]),i.extent,c))}}function w(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];if(!n&&r.apply(this,arguments)){var i=e.currentTarget,l=b(this,a,!0).event(e),u=as(e.view).on("mousemove.zoom",function(e){if(ml(e),!l.moved){var t=e.clientX-m,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",o(x(l.that.__zoom,l.mouse[0]=ps(e,i),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){u.on("mousemove.zoom mouseup.zoom",null),us(e.view,l.moved),ml(e),l.event(e).end()},!0),d=ps(e,i),m=e.clientX,f=e.clientY;cs(e.view),dl(e),l.mouse=[d,this.__zoom.invert(d)],zs(this),l.start()}}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(r.apply(this,arguments)){var i=this.__zoom,l=ps(e.changedTouches?e.changedTouches[0]:e,this),d=i.invert(l),m=i.k*(e.shiftKey?.5:2),p=o(x(g(i,m),l,d),a.apply(this,n),c);ml(e),u>0?as(this).transition().duration(u).call(y,p,l,e):as(this).call(h.transform,p,l,e)}}function S(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if(r.apply(this,arguments)){var i,l,c,u,d=n.touches,m=d.length,p=b(this,o,n.changedTouches.length===m).event(n);for(dl(n),l=0;l<m;++l)u=[u=ps(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,i=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(p.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),zs(this),p.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s,i,l,u=b(this,n).event(e),d=e.changedTouches,m=d.length;for(ml(e),a=0;a<m;++a)i=ps(s=d[a],this),u.touch0&&u.touch0[2]===s.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===s.identifier&&(u.touch1[0]=i);if(s=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],h=u.touch1[0],v=u.touch1[1],y=(y=h[0]-p[0])*y+(y=h[1]-p[1])*y,j=(j=v[0]-f[0])*j+(j=v[1]-f[1])*j;s=g(s,Math.sqrt(y/j)),i=[(p[0]+h[0])/2,(p[1]+h[1])/2],l=[(f[0]+v[0])/2,(f[1]+v[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],l=u.touch0[1]}u.zoom("touch",o(x(s,i,l),u.extent,c))}}function _(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(this.__zooming){var s,i,l=b(this,a).event(e),c=e.changedTouches,u=c.length;for(dl(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),s=0;s<u;++s)i=c[s],l.touch0&&l.touch0[2]===i.identifier?delete l.touch0:l.touch1&&l.touch1[2]===i.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(i=ps(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<f)){var d=as(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return h.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",hl),e!==a?y(e,t,n,r):a.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},h.scaleBy=function(e,t,n,r){h.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},h.scaleTo=function(e,t,n,r){h.transform(e,function(){var e=a.apply(this,arguments),r=this.__zoom,s=null==n?v(e):"function"===typeof n?n.apply(this,arguments):n,i=r.invert(s),l="function"===typeof t?t.apply(this,arguments):t;return o(x(g(r,l),s,i),e,c)},n,r)},h.translateBy=function(e,t,n,r){h.transform(e,function(){return o(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),a.apply(this,arguments),c)},null,r)},h.translateTo=function(e,t,n,r,s){h.transform(e,function(){var e=a.apply(this,arguments),s=this.__zoom,i=null==r?v(e):"function"===typeof r?r.apply(this,arguments):r;return o(ul.translate(i[0],i[1]).scale(s.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,s)},j.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=as(this.that).datum();m.call(e,this.that,new ll(e,{sourceEvent:this.sourceEvent,target:h,type:e,transform:this.that.__zoom,dispatch:m}),t)}},h.wheelDelta=function(e){return arguments.length?(s="function"===typeof e?e:il(+e),h):s},h.filter=function(e){return arguments.length?(r="function"===typeof e?e:il(!!e),h):r},h.touchable=function(e){return arguments.length?(i="function"===typeof e?e:il(!!e),h):i},h.extent=function(e){return arguments.length?(a="function"===typeof e?e:il([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):a},h.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],h):[l[0],l[1]]},h.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],h):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},h.constrain=function(e){return arguments.length?(o=e,h):o},h.duration=function(e){return arguments.length?(u=+e,h):u},h.interpolate=function(e){return arguments.length?(d=e,h):d},h.on=function(){var e=m.on.apply(m,arguments);return e===m?h:e},h.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,h):Math.sqrt(p)},h.tapDistance=function(e){return arguments.length?(f=+e,h):f},h}cl.prototype;const bl=e=>()=>e;function jl(e,t){let{sourceEvent:n,subject:r,target:a,identifier:o,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function Nl(e){return!e.ctrlKey&&!e.button}function wl(){return this.parentNode}function kl(e,t){return null==t?{x:e.x,y:e.y}:t}function Sl(){return navigator.maxTouchPoints||"ontouchstart"in this}jl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const Cl=["position","children","className","style"],_l=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],El=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],Al=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],Ol=(0,t.createContext)(null),Pl=Ol.Provider,Tl=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),Ml=()=>"The React Flow parent container needs a width and a height to render the graph.",Il=()=>"Only child nodes can use a parent extent.",Dl=()=>"Can't create edge. An edge needs a source and a target.",Ll=e=>'Marker type "'.concat(e,"\" doesn't exist."),Rl=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),zl=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",ql=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),Bl=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),Fl=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Ul(e,n){const r=(0,t.useContext)(Ol);if(null===r)throw new Error(Fl);return Da(r,e,n)}const Hl=()=>{const e=(0,t.useContext)(Ol);if(null===e)throw new Error(Fl);return(0,t.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Gl=e=>e.userSelectionActive?"none":"all";function Vl(e){let{position:n,children:r,className:a,style:o}=e,s=Wt(e,Cl);const i=Ul(Gl),l="".concat(n).split("-");return t.createElement("div",(0,Oe.A)({className:Aa(["react-flow__panel",a,...l]),style:(0,Oe.A)((0,Oe.A)({},o),{},{pointerEvents:i})},s),r)}function Wl(e){let{proOptions:n,position:r="bottom-right"}=e;return null!==n&&void 0!==n&&n.hideAttribution?null:t.createElement(Vl,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},t.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Kl=(0,t.memo)(e=>{let{x:n,y:r,label:a,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:d}=e,m=Wt(e,_l);const p=(0,t.useRef)(null),[f,h]=(0,t.useState)({x:0,y:0,width:0,height:0}),g=Aa(["react-flow__edge-textwrapper",d]);return(0,t.useEffect)(()=>{if(p.current){const e=p.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),"undefined"!==typeof a&&a?t.createElement("g",(0,Oe.A)({transform:"translate(".concat(n-f.width/2," ").concat(r-f.height/2,")"),className:g,visibility:f.width?"visible":"hidden"},m),s&&t.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),t.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:o},a),u):null});const Yl=e=>({width:e.offsetWidth,height:e.offsetHeight}),Xl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Zl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Xl(e.x,t[0][0],t[1][0]),y:Xl(e.y,t[0][1],t[1][1])}},$l=(e,t,n)=>e<t?Xl(Math.abs(e-t),1,50)/50:e>n?-Xl(Math.abs(e-n),1,50)/50:0,Jl=(e,t)=>[20*$l(e.x,35,t.width-35),20*$l(e.y,35,t.height-35)],Ql=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},ec=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tc=e=>{let{x:t,y:n,width:r,height:a}=e;return{x:t,y:n,x2:t+r,y2:n+a}},nc=e=>{let{x:t,y:n,x2:r,y2:a}=e;return{x:t,y:n,width:r-t,height:a-n}},rc=e=>(0,Oe.A)((0,Oe.A)({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),ac=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},oc=e=>!isNaN(e)&&isFinite(e),sc=Symbol.for("internals"),ic=["Enter"," ","Escape"],lc=(e,t)=>{0};function cc(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const uc=e=>"clientX"in e,dc=(e,t)=>{var n,r,a,o;const s=uc(e),i=s?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=s?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:i-(null!==(a=null===t||void 0===t?void 0:t.left)&&void 0!==a?a:0),y:l-(null!==(o=null===t||void 0===t?void 0:t.top)&&void 0!==o?o:0)}},mc=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},pc=e=>{let{id:n,path:r,labelX:a,labelY:o,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:f,interactionWidth:h=20}=e;return t.createElement(t.Fragment,null,t.createElement("path",{id:n,style:m,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:f}),h&&t.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),s&&oc(a)&&oc(o)?t.createElement(Kl,{x:a,y:o,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};pc.displayName="BaseEdge";function fc(e,t,n){return void 0===n?n:r=>{const a=t().edges.find(t=>t.id===e);a&&n(r,(0,Oe.A)({},a))}}function hc(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const o=Math.abs(r-t)/2,s=r<t?r+o:r-o,i=Math.abs(a-n)/2;return[s,a<n?a+i:a-i,o,i]}function gc(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}=e;const c=.125*t+.375*o+.375*i+.125*r,u=.125*n+.375*s+.375*l+.125*a;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var xc,vc,yc,bc,jc,Nc;function wc(e){let{pos:t,x1:n,y1:r,x2:a,y2:o}=e;return t===Nc.Left||t===Nc.Right?[.5*(n+a),r]:[n,.5*(r+o)]}function kc(e){let{sourceX:t,sourceY:n,sourcePosition:r=Nc.Bottom,targetX:a,targetY:o,targetPosition:s=Nc.Top}=e;const[i,l]=wc({pos:r,x1:t,y1:n,x2:a,y2:o}),[c,u]=wc({pos:s,x1:a,y1:o,x2:t,y2:n}),[d,m,p,f]=gc({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(i,",").concat(l," ").concat(c,",").concat(u," ").concat(a,",").concat(o),d,m,p,f]}!function(e){e.Strict="strict",e.Loose="loose"}(xc||(xc={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(vc||(vc={})),function(e){e.Partial="partial",e.Full="full"}(yc||(yc={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(bc||(bc={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(jc||(jc={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Nc||(Nc={}));const Sc=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:s=Nc.Bottom,targetPosition:i=Nc.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,interactionWidth:x}=e;const[v,y,b]=kc({sourceX:n,sourceY:r,sourcePosition:s,targetX:a,targetY:o,targetPosition:i});return t.createElement(pc,{path:v,labelX:y,labelY:b,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,interactionWidth:x})});Sc.displayName="SimpleBezierEdge";const Cc={[Nc.Left]:{x:-1,y:0},[Nc.Right]:{x:1,y:0},[Nc.Top]:{x:0,y:-1},[Nc.Bottom]:{x:0,y:1}},_c=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ec(e){let{source:t,sourcePosition:n=Nc.Bottom,target:r,targetPosition:a=Nc.Top,center:o,offset:s}=e;const i=Cc[n],l=Cc[a],c={x:t.x+i.x*s,y:t.y+i.y*s},u={x:r.x+l.x*s,y:r.y+l.y*s},d=(e=>{let{source:t,sourcePosition:n=Nc.Bottom,target:r}=e;return n===Nc.Left||n===Nc.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),m=0!==d.x?"x":"y",p=d[m];let f,h,g=[];const x={x:0,y:0},v={x:0,y:0},[y,b,j,N]=hc({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(i[m]*l[m]===-1){var w,k;f=null!==(w=o.x)&&void 0!==w?w:y,h=null!==(k=o.y)&&void 0!==k?k:b;const e=[{x:f,y:c.y},{x:f,y:u.y}],t=[{x:c.x,y:h},{x:u.x,y:h}];g=i[m]===p?"x"===m?e:t:"x"===m?t:e}else{const e=[{x:c.x,y:u.y}],o=[{x:u.x,y:c.y}];if(g="x"===m?i.x===p?o:e:i.y===p?e:o,n===a){const e=Math.abs(t[m]-r[m]);if(e<=s){const n=Math.min(s-1,s-e);i[m]===p?x[m]=(c[m]>t[m]?-1:1)*n:v[m]=(u[m]>r[m]?-1:1)*n}}if(n!==a){const t="x"===m?"y":"x",n=i[m]===l[t],r=c[t]>u[t],a=c[t]<u[t];(1===i[m]&&(!n&&r||n&&a)||1!==i[m]&&(!n&&a||n&&r))&&(g="x"===m?e:o)}const d={x:c.x+x.x,y:c.y+x.y},y={x:u.x+v.x,y:u.y+v.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(y.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(y.y-g[0].y))?(f=(d.x+y.x)/2,h=g[0].y):(f=g[0].x,h=(d.y+y.y)/2)}return[[t,{x:c.x+x.x,y:c.y+x.y},...g,{x:u.x+v.x,y:u.y+v.y},r],f,h,j,N]}function Ac(e){let{sourceX:t,sourceY:n,sourcePosition:r=Nc.Bottom,targetX:a,targetY:o,targetPosition:s=Nc.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20}=e;const[d,m,p,f,h]=Ec({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:o},targetPosition:s,center:{x:l,y:c},offset:u}),g=d.reduce((e,t,n)=>{let r="";return r=n>0&&n<d.length-1?function(e,t,n,r){const a=Math.min(_c(e,t)/2,_c(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return"L".concat(o," ").concat(s);if(e.y===s){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(o+a*t,",").concat(s,"Q ").concat(o,",").concat(s," ").concat(o,",").concat(s+a*r)}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(o,",").concat(s+a*l,"Q ").concat(o,",").concat(s," ").concat(o+a*i,",").concat(s)}(d[n-1],t,d[n+1],i):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r},"");return[g,m,p,f,h]}const Oc=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:o,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,sourcePosition:p=Nc.Bottom,targetPosition:f=Nc.Top,markerEnd:h,markerStart:g,pathOptions:x,interactionWidth:v}=e;const[y,b,j]=Ac({sourceX:n,sourceY:r,sourcePosition:p,targetX:a,targetY:o,targetPosition:f,borderRadius:null===x||void 0===x?void 0:x.borderRadius,offset:null===x||void 0===x?void 0:x.offset});return t.createElement(pc,{path:y,labelX:b,labelY:j,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:h,markerStart:g,interactionWidth:v})});Oc.displayName="SmoothStepEdge";const Pc=(0,t.memo)(e=>{var n;return t.createElement(Oc,(0,Oe.A)((0,Oe.A)({},e),{},{pathOptions:(0,t.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(n=e.pathOptions)||void 0===n?void 0:n.offset])}))});Pc.displayName="StepEdge";const Tc=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:o,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:f,interactionWidth:h}=e;const[g,x,v]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const[o,s,i,l]=hc({sourceX:t,sourceY:n,targetX:r,targetY:a});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(a),o,s,i,l]}({sourceX:n,sourceY:r,targetX:a,targetY:o});return t.createElement(pc,{path:g,labelX:x,labelY:v,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:f,interactionWidth:h})});function Mc(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ic(e){let{pos:t,x1:n,y1:r,x2:a,y2:o,c:s}=e;switch(t){case Nc.Left:return[n-Mc(n-a,s),r];case Nc.Right:return[n+Mc(a-n,s),r];case Nc.Top:return[n,r-Mc(r-o,s)];case Nc.Bottom:return[n,r+Mc(o-r,s)]}}function Dc(e){let{sourceX:t,sourceY:n,sourcePosition:r=Nc.Bottom,targetX:a,targetY:o,targetPosition:s=Nc.Top,curvature:i=.25}=e;const[l,c]=Ic({pos:r,x1:t,y1:n,x2:a,y2:o,c:i}),[u,d]=Ic({pos:s,x1:a,y1:o,x2:t,y2:n,c:i}),[m,p,f,h]=gc({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(u,",").concat(d," ").concat(a,",").concat(o),m,p,f,h]}Tc.displayName="StraightEdge";const Lc=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:o,sourcePosition:s=Nc.Bottom,targetPosition:i=Nc.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,pathOptions:x,interactionWidth:v}=e;const[y,b,j]=Dc({sourceX:n,sourceY:r,sourcePosition:s,targetX:a,targetY:o,targetPosition:i,curvature:null===x||void 0===x?void 0:x.curvature});return t.createElement(pc,{path:y,labelX:b,labelY:j,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,interactionWidth:v})});Lc.displayName="BezierEdge";const Rc=(0,t.createContext)(null),zc=Rc.Provider;Rc.Consumer;const qc=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:a}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(a||"")},Bc=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},Fc=(e,t,n,r)=>{let{x:a,y:o}=e,[s,i,l]=t,[c,u]=r;const d={x:(a-s)/l,y:(o-i)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},Uc=(e,t)=>{let{x:n,y:r}=e,[a,o,s]=t;return{x:n*s+a,y:r*s+o}},Hc=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const a=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],o=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],s={x:e.position.x-a,y:e.position.y-o};return(0,Oe.A)((0,Oe.A)({},s),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-o}:s})},Gc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:a}=Hc(n,t).positionAbsolute;return ec(e,tc({x:r,y:a,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nc(n)},Vc=function(e,t){let[n,r,a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:a=!1}=e;if(s&&!r||a)return!1;const{positionAbsolute:u}=Hc(e,i),d={x:u.x,y:u.y,width:t||0,height:n||0},m=ac(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||o&&m>0||m>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},Wc=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},Kc=function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),l=Math.min(s,i),c=Xl(l,r,a);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},Yc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Xc(e,t,n,r){return(t[n]||[]).reduce((t,a)=>{var o,s,i,l;"".concat(e.id,"-").concat(a.id,"-").concat(n)!==r&&t.push({id:a.id||null,type:n,nodeId:e.id,x:(null!==(o=null===(s=e.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==o?o:0)+a.x+a.width/2,y:(null!==(i=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+a.y+a.height/2});return t},[])}const Zc={source:null,target:null,sourceHandle:null,targetHandle:null},$c=()=>({handleDomNode:null,isValid:!1,connection:Zc,endHandle:null});function Jc(e,t,n,r,a,o,s){const i="target"===a,l=s.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=(0,Oe.A)((0,Oe.A)({},$c()),{},{handleDomNode:l});if(l){const e=Qc(void 0,l),a=l.getAttribute("data-nodeid"),s=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),m={source:i?a:n,sourceHandle:i?s:r,target:i?n:a,targetHandle:i?r:s};c.connection=m;u&&d&&(t===xc.Strict?i&&"source"===e||!i&&"target"===e:a!==n||s!==r)&&(c.endHandle={nodeId:a,handleId:s,type:e},c.isValid=o(m))}return c}function Qc(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function eu(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tu(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function nu(e){let{event:t,handleId:n,nodeId:r,onConnect:a,isTarget:o,getState:s,setState:i,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=Ql(t.target),{connectionMode:m,domNode:p,autoPanOnConnect:f,connectionRadius:h,onConnectStart:g,panBy:x,getNodes:v,cancelConnection:y}=s();let b,j=0;const{x:N,y:w}=dc(t),k=null===d||void 0===d?void 0:d.elementFromPoint(N,w),S=Qc(c,k),C=null===p||void 0===p?void 0:p.getBoundingClientRect();if(!C||!S)return;let _,E=dc(t,C),A=!1,O=null,P=!1,T=null;const M=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:a}=e;return t.reduce((e,t)=>{if(t[sc]){const{handleBounds:o}=t[sc];let s=[],i=[];o&&(s=Xc(t,o,"source","".concat(n,"-").concat(r,"-").concat(a)),i=Xc(t,o,"target","".concat(n,"-").concat(r,"-").concat(a))),e.push(...s,...i)}return e},[])}({nodes:v(),nodeId:r,handleId:n,handleType:S}),I=()=>{if(!f)return;const[e,t]=Jl(E,C);x({x:e,y:t}),j=requestAnimationFrame(I)};function D(e){const{transform:t}=s();E=dc(e,C);const{handle:a,validHandleResult:c}=function(e,t,n,r,a,o){const{x:s,y:i}=dc(e),l=t.elementsFromPoint(s,i).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=Qc(void 0,l),r=l.getAttribute("data-handleid"),s=o({nodeId:e,id:r,type:t});if(s){const o=a.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null===o||void 0===o?void 0:o.x)||n.x,y:(null===o||void 0===o?void 0:o.y)||n.y},validHandleResult:s}}}}let c=[],u=1/0;if(a.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=o(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:$c()};if(1===c.length)return c[0];const d=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),m=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return m?"target"===t.type:!d||n.isValid})||c[0]}(e,d,Fc(E,t,!1,[1,1]),h,M,e=>Jc(e,m,r,n,o?"target":"source",l,d));if(b=a,A||(I(),A=!0),T=c.handleDomNode,O=c.connection,P=c.isValid,i({connectionPosition:b&&P?Uc({x:b.x,y:b.y},t):E,connectionStatus:tu(!!b,P),connectionEndHandle:c.endHandle}),!b&&!P&&!T)return eu(_);O.source!==O.target&&T&&(eu(_),_=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",P),T.classList.toggle("react-flow__handle-valid",P))}function L(e){var t,n;(b||T)&&O&&P&&(null===a||void 0===a||a(O)),null===(t=(n=s()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===u||void 0===u||u(e)),eu(_),y(),cancelAnimationFrame(j),A=!1,P=!1,O=null,T=null,d.removeEventListener("mousemove",D),d.removeEventListener("mouseup",L),d.removeEventListener("touchmove",D),d.removeEventListener("touchend",L)}i({connectionPosition:E,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:S,connectionStartHandle:{nodeId:r,handleId:n,type:S},connectionEndHandle:null}),null===g||void 0===g||g(t,{nodeId:r,handleId:n,handleType:S}),d.addEventListener("mousemove",D),d.addEventListener("mouseup",L),d.addEventListener("touchmove",D),d.addEventListener("touchend",L)}const ru=()=>!0,au=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ou=(0,t.forwardRef)((e,n)=>{let{type:r="source",position:a=Nc.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:i=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:m,onMouseDown:p,onTouchStart:f}=e,h=Wt(e,El);const g=c||null,x="target"===r,v=Hl(),y=(0,t.useContext)(Rc),{connectOnClick:b,noPanClassName:j}=Ul(au,Ra),{connecting:N,clickConnecting:w}=Ul(((e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n||(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n,clickConnecting:(null===s||void 0===s?void 0:s.nodeId)===e&&(null===s||void 0===s?void 0:s.handleId)===t&&(null===s||void 0===s?void 0:s.type)===n}})(y,g,r),Ra);var k,S;y||(null===(k=(S=v.getState()).onError)||void 0===k||k.call(S,"010",zl()));const C=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),a=(0,Oe.A)((0,Oe.A)({},t),e);if(r){const{edges:e,setEdges:t}=v.getState();t(((e,t)=>{if(!e.source||!e.target)return lc(0,Dl()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?(0,Oe.A)({},e):(0,Oe.A)((0,Oe.A)({},e),{},{id:qc(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)})(a,e))}null===n||void 0===n||n(a),null===u||void 0===u||u(a)},_=e=>{if(!y)return;const t=uc(e);i&&(t&&0===e.button||!t)&&nu({event:e,handleId:g,nodeId:y,onConnect:C,isTarget:x,getState:v.getState,setState:v.setState,isValidConnection:o||v.getState().isValidConnection||ru}),t?null===p||void 0===p||p(e):null===f||void 0===f||f(e)};return t.createElement("div",(0,Oe.A)({"data-handleid":g,"data-nodeid":y,"data-handlepos":a,"data-id":"".concat(y,"-").concat(g,"-").concat(r),className:Aa(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",j,m,{source:!x,target:x,connectable:s,connectablestart:i,connectableend:l,connecting:w,connectionindicator:s&&(i&&!N||l&&N)}]),onMouseDown:_,onTouchStart:_,onClick:b?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l}=v.getState();if(!y||!a&&!i)return;if(!a)return null===t||void 0===t||t(e,{nodeId:y,handleId:g,handleType:r}),void v.setState({connectionClickStartHandle:{nodeId:y,type:r,handleId:g}});const c=Ql(e.target),u=o||l||ru,{connection:d,isValid:m}=Jc({nodeId:y,id:g,type:r},s,a.nodeId,a.handleId||null,a.type,u,c);m&&C(d),null===n||void 0===n||n(e),v.setState({connectionClickStartHandle:null})}:void 0,ref:n},h),d)});ou.displayName="Handle";var su=(0,t.memo)(ou);const iu=e=>{let{data:n,isConnectable:r,targetPosition:a=Nc.Top,sourcePosition:o=Nc.Bottom}=e;return t.createElement(t.Fragment,null,t.createElement(su,{type:"target",position:a,isConnectable:r}),null===n||void 0===n?void 0:n.label,t.createElement(su,{type:"source",position:o,isConnectable:r}))};iu.displayName="DefaultNode";var lu=(0,t.memo)(iu);const cu=e=>{let{data:n,isConnectable:r,sourcePosition:a=Nc.Bottom}=e;return t.createElement(t.Fragment,null,null===n||void 0===n?void 0:n.label,t.createElement(su,{type:"source",position:a,isConnectable:r}))};cu.displayName="InputNode";var uu=(0,t.memo)(cu);const du=e=>{let{data:n,isConnectable:r,targetPosition:a=Nc.Top}=e;return t.createElement(t.Fragment,null,t.createElement(su,{type:"target",position:a,isConnectable:r}),null===n||void 0===n?void 0:n.label)};du.displayName="OutputNode";var mu=(0,t.memo)(du);const pu=()=>null;pu.displayName="GroupNode";const fu=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>(0,Oe.A)({},e))}),hu=e=>e.id;function gu(e,t){return Ra(e.selectedNodes.map(hu),t.selectedNodes.map(hu))&&Ra(e.selectedEdges.map(hu),t.selectedEdges.map(hu))}const xu=(0,t.memo)(e=>{let{onSelectionChange:n}=e;const r=Hl(),{selectedNodes:a,selectedEdges:o}=Ul(fu,gu);return(0,t.useEffect)(()=>{const e={nodes:a,edges:o};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach(t=>t(e))},[a,o,n]),null});xu.displayName="SelectionListener";const vu=e=>!!e.onSelectionChange;function yu(e){let{onSelectionChange:n}=e;const r=Ul(vu);return n||r?t.createElement(xu,{onSelectionChange:n}):null}const bu=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ju(e,n){(0,t.useEffect)(()=>{"undefined"!==typeof e&&n(e)},[e])}function Nu(e,n,r){(0,t.useEffect)(()=>{"undefined"!==typeof n&&r({[e]:n})},[n])}const wu=e=>{let{nodes:n,edges:r,defaultNodes:a,defaultEdges:o,onConnect:s,onConnectStart:i,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:m,nodesFocusable:p,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:x,maxZoom:v,nodeExtent:y,onNodesChange:b,onEdgesChange:j,elementsSelectable:N,connectionMode:w,snapGrid:k,snapToGrid:S,translateExtent:C,connectOnClick:_,defaultEdgeOptions:E,fitView:A,fitViewOptions:O,onNodesDelete:P,onEdgesDelete:T,onNodeDrag:M,onNodeDragStart:I,onNodeDragStop:D,onSelectionDrag:L,onSelectionDragStart:R,onSelectionDragStop:z,noPanClassName:q,nodeOrigin:B,rfId:F,autoPanOnConnect:U,autoPanOnNodeDrag:H,onError:G,connectionRadius:V,isValidConnection:W,nodeDragThreshold:K}=e;const{setNodes:Y,setEdges:X,setDefaultNodesAndEdges:Z,setMinZoom:$,setMaxZoom:J,setTranslateExtent:Q,setNodeExtent:ee,reset:te}=Ul(bu,Ra),ne=Hl();return(0,t.useEffect)(()=>{const e=null===o||void 0===o?void 0:o.map(e=>(0,Oe.A)((0,Oe.A)({},e),E));return Z(a,e),()=>{te()}},[]),Nu("defaultEdgeOptions",E,ne.setState),Nu("connectionMode",w,ne.setState),Nu("onConnect",s,ne.setState),Nu("onConnectStart",i,ne.setState),Nu("onConnectEnd",l,ne.setState),Nu("onClickConnectStart",c,ne.setState),Nu("onClickConnectEnd",u,ne.setState),Nu("nodesDraggable",d,ne.setState),Nu("nodesConnectable",m,ne.setState),Nu("nodesFocusable",p,ne.setState),Nu("edgesFocusable",f,ne.setState),Nu("edgesUpdatable",h,ne.setState),Nu("elementsSelectable",N,ne.setState),Nu("elevateNodesOnSelect",g,ne.setState),Nu("snapToGrid",S,ne.setState),Nu("snapGrid",k,ne.setState),Nu("onNodesChange",b,ne.setState),Nu("onEdgesChange",j,ne.setState),Nu("connectOnClick",_,ne.setState),Nu("fitViewOnInit",A,ne.setState),Nu("fitViewOnInitOptions",O,ne.setState),Nu("onNodesDelete",P,ne.setState),Nu("onEdgesDelete",T,ne.setState),Nu("onNodeDrag",M,ne.setState),Nu("onNodeDragStart",I,ne.setState),Nu("onNodeDragStop",D,ne.setState),Nu("onSelectionDrag",L,ne.setState),Nu("onSelectionDragStart",R,ne.setState),Nu("onSelectionDragStop",z,ne.setState),Nu("noPanClassName",q,ne.setState),Nu("nodeOrigin",B,ne.setState),Nu("rfId",F,ne.setState),Nu("autoPanOnConnect",U,ne.setState),Nu("autoPanOnNodeDrag",H,ne.setState),Nu("onError",G,ne.setState),Nu("connectionRadius",V,ne.setState),Nu("isValidConnection",W,ne.setState),Nu("nodeDragThreshold",K,ne.setState),ju(n,Y),ju(r,X),ju(x,$),ju(v,J),ju(C,Q),ju(y,ee),null},ku={display:"none"},Su={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cu="react-flow__node-desc",_u="react-flow__edge-desc",Eu=e=>e.ariaLiveMessage;function Au(e){let{rfId:n}=e;const r=Ul(Eu);return t.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:Su},r)}function Ou(e){let{rfId:n,disableKeyboardA11y:r}=e;return t.createElement(t.Fragment,null,t.createElement("div",{id:"".concat(Cu,"-").concat(n),style:ku},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),t.createElement("div",{id:"".concat(_u,"-").concat(n),style:ku},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&t.createElement(Au,{rfId:n}))}var Pu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,a]=(0,t.useState)(!1),o=(0,t.useRef)(!1),s=(0,t.useRef)(new Set([])),[i,l]=(0,t.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,t.useEffect)(()=>{const t="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||t;if(null!==e){const e=e=>{o.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!o.current||o.current&&!n.actInsideInputWithModifier)&&cc(e))return!1;const t=Mu(e.code,l);s.current.add(e[t]),Tu(i,s.current,!1)&&(e.preventDefault(),a(!0))},t=e=>{if((!o.current||o.current&&!n.actInsideInputWithModifier)&&cc(e))return!1;const t=Mu(e.code,l);Tu(i,s.current,!0)?(a(!1),s.current.clear()):s.current.delete(e[t]),"Meta"===e.key&&s.current.clear(),o.current=!1},c=()=>{s.current.clear(),a(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}},[e,a]),r};function Tu(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function Mu(e,t){return t.includes(e)?"code":"key"}function Iu(e,t,n,r){var a,o,s,i,l,c,u,d;const m=e.parentNode||e.parentId;if(!m)return n;const p=t.get(m),f=Hc(p,r);return Iu(p,t,{x:(null!==(a=n.x)&&void 0!==a?a:0)+f.x,y:(null!==(o=n.y)&&void 0!==o?o:0)+f.y,z:(null!==(s=null===(i=p[sc])||void 0===i?void 0:i.z)&&void 0!==s?s:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(u=p[sc])||void 0===u?void 0:u.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},r)}function Du(e,t,n){e.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error("Parent node ".concat(a," not found"));if(a||null!==n&&void 0!==n&&n[r.id]){var o,s;const{x:a,y:i,z:l}=Iu(r,e,(0,Oe.A)((0,Oe.A)({},r.position),{},{z:null!==(o=null===(s=r[sc])||void 0===s?void 0:s.z)&&void 0!==o?o:0}),t);r.positionAbsolute={x:a,y:i},r[sc].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[sc].isParent=!0)}})}function Lu(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(e=>{var n;const r=(oc(e.zIndex)?e.zIndex:0)+(e.selected?s:0),i=t.get(e.id),l=(0,Oe.A)((0,Oe.A)({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(o[c]=!0);const u=(null===i||void 0===i?void 0:i.type)&&(null===i||void 0===i?void 0:i.type)!==e.type;Object.defineProperty(l,sc,{enumerable:!1,value:{handleBounds:u||null===i||void 0===i||null===(n=i[sc])||void 0===n?void 0:n.handleBounds,z:r}}),a.set(e.id,l)}),Du(a,n,o),a}function Ru(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),m=t.initial&&!c&&u;if(i&&l&&(m||!t.initial)){const e=n().filter(e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some(t=>t.id===e.id):r}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var p,f,h;const n=Gc(e,d),{x:c,y:u,zoom:m}=Kc(n,r,a,null!==(p=t.minZoom)&&void 0!==p?p:o,null!==(f=t.maxZoom)&&void 0!==f?f:s,null!==(h=t.padding)&&void 0!==h?h:.1),g=ul.translate(c,u).scale(m);return"number"===typeof t.duration&&t.duration>0?i.transform(Yc(l,t.duration),g):i.transform(l,g),!0}}return!1}function zu(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,(0,Oe.A)((0,Oe.A)({},n),{},{[sc]:n[sc],selected:e.selected}))}),new Map(t)}function qu(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function Bu(e){let{changedNodes:t,changedEdges:n,get:r,set:a}=e;const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();null!==t&&void 0!==t&&t.length&&(c&&a({nodeInternals:zu(t,o)}),null===i||void 0===i||i(t)),null!==n&&void 0!==n&&n.length&&(u&&a({edges:qu(n,s)}),null===l||void 0===l||l(n))}const Fu=()=>{},Uu={zoomIn:Fu,zoomOut:Fu,zoomTo:Fu,getZoom:()=>1,setViewport:Fu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Fu,fitBounds:Fu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Hu=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Gu(){const e=(()=>{const e=Hl(),{d3Zoom:n,d3Selection:r}=Ul(Hu,Ra),a=(0,t.useMemo)(()=>r&&n?{zoomIn:e=>n.scaleBy(Yc(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(Yc(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(Yc(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(t,a)=>{var o,s,i;const[l,c,u]=e.getState().transform,d=ul.translate(null!==(o=t.x)&&void 0!==o?o:l,null!==(s=t.y)&&void 0!==s?s:c).scale(null!==(i=t.zoom)&&void 0!==i?i:u);n.transform(Yc(r,null===a||void 0===a?void 0:a.duration),d)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>Ru(e.getState,t),setCenter:(t,a,o)=>{const{width:s,height:i,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===o||void 0===o?void 0:o.zoom)?o.zoom:l,u=s/2-t*c,d=i/2-a*c,m=ul.translate(u,d).scale(c);n.transform(Yc(r,null===o||void 0===o?void 0:o.duration),m)},fitBounds:(t,a)=>{var o;const{width:s,height:i,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:m}=Kc(t,s,i,l,c,null!==(o=null===a||void 0===a?void 0:a.padding)&&void 0!==o?o:.1),p=ul.translate(u,d).scale(m);n.transform(Yc(r,null===a||void 0===a?void 0:a.duration),p)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Fc(t,n,r,a)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:a,domNode:o}=e.getState();if(!o)return t;const{x:s,y:i}=o.getBoundingClientRect(),l={x:t.x-s,y:t.y-i};return Fc(l,n,r,a)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:o}=r.getBoundingClientRect(),s=Uc(t,n);return{x:s.x+a,y:s.y+o}},viewportInitialized:!0}:Uu,[n,r]);return a})(),n=Hl(),r=(0,t.useCallback)(()=>n.getState().getNodes().map(e=>(0,Oe.A)({},e)),[]),a=(0,t.useCallback)(e=>n.getState().nodeInternals.get(e),[]),o=(0,t.useCallback)(()=>{const{edges:e=[]}=n.getState();return e.map(e=>(0,Oe.A)({},e))},[]),s=(0,t.useCallback)(e=>{const{edges:t=[]}=n.getState();return t.find(t=>t.id===e)},[]),i=(0,t.useCallback)(e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:a,onNodesChange:o}=n.getState(),s=t(),i="function"===typeof e?e(s):e;if(a)r(i);else if(o){const e=0===i.length?s.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"}));o(e)}},[]),l=(0,t.useCallback)(e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:o}=n.getState(),s="function"===typeof e?e(t):e;if(a)r(s);else if(o){o(0===s.length?t.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))}},[]),c=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:a,hasDefaultNodes:o,onNodesChange:s}=n.getState();if(o){a([...r(),...t])}else if(s){const e=t.map(e=>({item:e,type:"add"}));s(e)}},[]),u=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:a,hasDefaultEdges:o,onEdgesChange:s}=n.getState();if(o)a([...r,...t]);else if(s){s(t.map(e=>({item:e,type:"add"})))}},[]),d=(0,t.useCallback)(()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[a,o,s]=r;return{nodes:e().map(e=>(0,Oe.A)({},e)),edges:t.map(e=>(0,Oe.A)({},e)),viewport:{x:a,y:o,zoom:s}}},[]),m=(0,t.useCallback)(e=>{let{nodes:t,edges:r}=e;const{nodeInternals:a,getNodes:o,edges:s,hasDefaultNodes:i,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:m}=n.getState(),p=(t||[]).map(e=>e.id),f=(r||[]).map(e=>e.id),h=o().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!p.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(p.includes(t.id)||r)&&e.push(t),e},[]),g=s.filter(e=>"boolean"!==typeof e.deletable||e.deletable),x=g.filter(e=>f.includes(e.id));if(h||x){const e=Wc(h,g),t=[...x,...e],r=t.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||i)&&(l&&n.setState({edges:s.filter(e=>!r.includes(e.id))}),i&&(h.forEach(e=>{a.delete(e.id)}),n.setState({nodeInternals:new Map(a)}))),r.length>0&&(null===u||void 0===u||u(t),m&&m(r.map(e=>({id:e,type:"remove"})))),h.length>0&&(null===c||void 0===c||c(h),d)){const e=h.map(e=>({id:e.id,type:"remove"}));d(e)}}},[]),p=(0,t.useCallback)(e=>{const t=oc((r=e).width)&&oc(r.height)&&oc(r.x)&&oc(r.y);var r;const a=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!a)return[null,null,t];return[t?e:rc(a),a,t]},[]),f=(0,t.useCallback)(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[a,o,s]=p(e);return a?(r||n.getState().getNodes()).filter(e=>{if(!s&&(e.id===o.id||!e.positionAbsolute))return!1;const n=rc(e),r=ac(n,a);return t&&r>0||r>=a.width*a.height}):[]},[]),h=(0,t.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=p(e);if(!r)return!1;const a=ac(r,t);return n&&a>0||a>=r.width*r.height},[]);return(0,t.useMemo)(()=>(0,Oe.A)((0,Oe.A)({},e),{},{getNodes:r,getNode:a,getEdges:o,getEdge:s,setNodes:i,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:m,getIntersectingNodes:f,isNodeIntersecting:h}),[e,r,a,o,s,i,l,c,u,d,m,f,h])}const Vu={actInsideInputWithModifier:!1};const Wu={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ku=e=>({x:e.x,y:e.y,zoom:e.k}),Yu=(e,t)=>e.target.closest(".".concat(t)),Xu=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Zu=e=>{const t=e.ctrlKey&&mc()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},$u=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ju=e=>{let{onMove:n,onMoveStart:r,onMoveEnd:a,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=vc.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:p=!0,defaultViewport:f,translateExtent:h,minZoom:g,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:y=!0,children:b,noWheelClassName:j,noPanClassName:N}=e;const w=(0,t.useRef)(),k=Hl(),S=(0,t.useRef)(!1),C=(0,t.useRef)(!1),_=(0,t.useRef)(null),E=(0,t.useRef)({x:0,y:0,zoom:0}),{d3Zoom:A,d3Selection:O,d3ZoomHandler:P,userSelectionActive:T}=Ul($u,Ra),M=Pu(v),I=(0,t.useRef)(0),D=(0,t.useRef)(!1),L=(0,t.useRef)();return function(e){const n=Hl();(0,t.useEffect)(()=>{let t;const r=()=>{if(!e.current)return;const t=Yl(e.current);var r,a;0!==t.height&&0!==t.width||null===(r=(a=n.getState()).onError)||void 0===r||r.call(a,"004",Ml()),n.setState({width:t.width||500,height:t.height||500})};return r(),window.addEventListener("resize",r),e.current&&(t=new ResizeObserver(()=>r()),t.observe(e.current)),()=>{window.removeEventListener("resize",r),t&&e.current&&t.unobserve(e.current)}},[])}(_),(0,t.useEffect)(()=>{if(_.current){const e=_.current.getBoundingClientRect(),t=yl().scaleExtent([g,x]).translateExtent(h),n=as(_.current).call(t),r=ul.translate(f.x,f.y).scale(Xl(f.zoom,g,x)),a=[[0,0],[e.width,e.height]],o=t.constrain()(r,a,h);t.transform(n,o),t.wheelDelta(Zu),k.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:_.current.closest(".react-flow")})}},[]),(0,t.useEffect)(()=>{O&&A&&(!l||M||T?"undefined"!==typeof P&&O.on("wheel.zoom",function(e,t){if(!y&&"wheel"===e.type&&!e.ctrlKey||Yu(e,j))return null;e.preventDefault(),P.call(this,e,t)},{passive:!1}):O.on("wheel.zoom",e=>{if(Yu(e,j))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=O.property("__zoom").k||1;if(e.ctrlKey&&i){const n=ps(e),r=Zu(e),a=t*Math.pow(2,r);return void A.scaleTo(O,a,n,e)}const o=1===e.deltaMode?20:1;let s=u===vc.Vertical?0:e.deltaX*o,l=u===vc.Horizontal?0:e.deltaY*o;!mc()&&e.shiftKey&&u!==vc.Vertical&&(s=e.deltaY*o,l=0),A.translateBy(O,-s/t*c,-l/t*c,{internal:!0});const d=Ku(O.property("__zoom")),{onViewportChangeStart:m,onViewportChange:p,onViewportChangeEnd:f}=k.getState();clearTimeout(L.current),D.current||(D.current=!0,null===r||void 0===r||r(e,d),null===m||void 0===m||m(d)),D.current&&(null===n||void 0===n||n(e,d),null===p||void 0===p||p(d),L.current=setTimeout(()=>{null===a||void 0===a||a(e,d),null===f||void 0===f||f(d),D.current=!1},150))},{passive:!1}))},[T,l,u,O,A,P,M,i,y,j,r,n,a]),(0,t.useEffect)(()=>{A&&A.on("start",e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;I.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:a}=k.getState(),o=Ku(e.transform);S.current=!0,E.current=o,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&k.setState({paneDragging:!0}),null===a||void 0===a||a(o),null===r||void 0===r||r(e.sourceEvent,o)})},[A,r]),(0,t.useEffect)(()=>{A&&(T&&!S.current?A.on("zoom",null):T||A.on("zoom",e=>{var t,r;const{onViewportChange:a}=k.getState();if(k.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),C.current=!(!o||!Xu(p,null!==(t=I.current)&&void 0!==t?t:0)),(n||a)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=Ku(e.transform);null===a||void 0===a||a(t),null===n||void 0===n||n(e.sourceEvent,t)}}))},[T,A,n,p,o]),(0,t.useEffect)(()=>{A&&A.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=k.getState();if(S.current=!1,k.setState({paneDragging:!1}),o&&Xu(p,null!==(t=I.current)&&void 0!==t?t:0)&&!C.current&&o(e.sourceEvent),C.current=!1,(a||n)&&(r=E.current,s=e.transform,r.x!==s.x||r.y!==s.y||r.zoom!==s.k)){const t=Ku(e.transform);E.current=t,clearTimeout(w.current),w.current=setTimeout(()=>{null===n||void 0===n||n(t),null===a||void 0===a||a(e.sourceEvent,t)},l?150:0)}var r,s})},[A,l,p,a,o]),(0,t.useEffect)(()=>{A&&A.filter(e=>{const t=M||s,n=i&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(Yu(e,"react-flow__node")||Yu(e,"react-flow__edge")))return!0;if(!p&&!t&&!l&&!d&&!i)return!1;if(T)return!1;if(!d&&"dblclick"===e.type)return!1;if(Yu(e,j)&&"wheel"===e.type)return!1;if(Yu(e,N)&&("wheel"!==e.type||l&&"wheel"===e.type&&!M))return!1;if(!i&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[T,A,s,i,l,d,p,m,M]),t.createElement("div",{className:"react-flow__renderer",ref:_,style:Wu},b)},Qu=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ed(){const{userSelectionActive:e,userSelectionRect:n}=Ul(Qu,Ra);return e&&n?t.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function td(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var a,o;if(r.style=(0,Oe.A)({},r.style)||{},r.style.width=null!==(a=r.style.width)&&void 0!==a?a:r.width,r.style.height=null!==(o=r.style.height)&&void 0!==o?o:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function nd(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const a=(0,Oe.A)({},n);for(const e of r)if(e)switch(e.type){case"select":a.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(a.position=e.position),"undefined"!==typeof e.positionAbsolute&&(a.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(a.dragging=e.dragging),a.expandParent&&td(t,a);break;case"dimensions":"undefined"!==typeof e.dimensions&&(a.width=e.dimensions.width,a.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(a.style=(0,Oe.A)((0,Oe.A)({},a.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(a.resizing=e.resizing),a.expandParent&&td(t,a);break;case"remove":return t}return t.push(a),t},n)}function rd(e,t){return nd(e,t)}const ad=(e,t)=>({id:e,type:"select",selected:t});function od(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(ad(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(ad(n.id,!1))),e},[])}const sd=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},id=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),ld=(0,t.memo)(e=>{let{isSelecting:n,selectionMode:r=yc.Full,panOnDrag:a,onSelectionStart:o,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:m,children:p}=e;const f=(0,t.useRef)(null),h=Hl(),g=(0,t.useRef)(0),x=(0,t.useRef)(0),v=(0,t.useRef)(),{userSelectionActive:y,elementsSelectable:b,dragging:j}=Ul(id,Ra),N=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,x.current=0},w=e=>{null===i||void 0===i||i(e),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},k=c?e=>c(e):void 0,S=b&&(n||y);return t.createElement("div",{className:Aa(["react-flow__pane",{dragging:j,selection:n}]),onClick:S?void 0:sd(w,f),onContextMenu:sd(e=>{Array.isArray(a)&&null!==a&&void 0!==a&&a.includes(2)?e.preventDefault():null===l||void 0===l||l(e)},f),onWheel:sd(k,f),onMouseEnter:S?void 0:u,onMouseDown:S?e=>{const{resetSelectedElements:t,domNode:r}=h.getState();if(v.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!b||!n||0!==e.button||e.target!==f.current||!v.current)return;const{x:a,y:s}=dc(e,v.current);t(),h.setState({userSelectionRect:{width:0,height:0,startX:a,startY:s,x:a,y:s}}),null===o||void 0===o||o(e)}:void 0,onMouseMove:S?e=>{var t,a;const{userSelectionRect:o,nodeInternals:s,edges:i,transform:l,onNodesChange:c,onEdgesChange:u,nodeOrigin:d,getNodes:m}=h.getState();if(!n||!v.current||!o)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const p=dc(e,v.current),f=null!==(t=o.startX)&&void 0!==t?t:0,y=null!==(a=o.startY)&&void 0!==a?a:0,b=(0,Oe.A)((0,Oe.A)({},o),{},{x:p.x<f?p.x:f,y:p.y<y?p.y:y,width:Math.abs(p.x-f),height:Math.abs(p.y-y)}),j=m(),N=Vc(s,b,l,r===yc.Partial,!0,d),w=Wc(N,i).map(e=>e.id),k=N.map(e=>e.id);if(g.current!==k.length){g.current=k.length;const e=od(j,k);e.length&&(null===c||void 0===c||c(e))}if(x.current!==w.length){x.current=w.length;const e=od(i,w);e.length&&(null===u||void 0===u||u(e))}h.setState({userSelectionRect:b})}:d,onMouseUp:S?e=>{if(0!==e.button)return;const{userSelectionRect:t}=h.getState();!y&&t&&e.target===f.current&&(null===w||void 0===w||w(e)),h.setState({nodesSelectionActive:g.current>0}),N(),null===s||void 0===s||s(e)}:void 0,onMouseLeave:S?e=>{y&&(h.setState({nodesSelectionActive:g.current>0}),null===s||void 0===s||s(e)),N()}:m,ref:f,style:Wu},p,t.createElement(ed,null))});function cd(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||cd(r,t))}function ud(e,t,n){let r=e;do{var a;if(null!==(a=r)&&void 0!==a&&a.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function dd(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!cd(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,r,a,o;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(a=null===(o=e.positionAbsolute)||void 0===o?void 0:o.y)&&void 0!==a?a:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function md(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],o=arguments.length>5?arguments[5]:void 0;const s=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let i=s;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:o}=Hc(t,a).positionAbsolute;i=[[e.extent[0][0]+r,e.extent[0][1]+o],[e.extent[1][0]+r,e.extent[1][1]+o]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:o}=Hc(t,a).positionAbsolute;i=t&&oc(r)&&oc(o)&&oc(t.width)&&oc(t.height)?[[r+e.width*a[0],o+e.height*a[1]],[r+t.width-e.width+e.width*a[0],o+t.height-e.height+e.height*a[1]]]:i}else null===o||void 0===o||o("005",Il()),i=s;let c={x:0,y:0};if(l){const e=n.get(l);c=Hc(e,a).positionAbsolute}const u=i&&"parent"!==i?Zl(t,i):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function pd(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const a=n.map(e=>{const t=r.get(e.id);return(0,Oe.A)((0,Oe.A)({},t),{},{position:e.position,positionAbsolute:e.positionAbsolute})});return[t?a.find(e=>e.id===t):a[0],a]}ld.displayName="Pane";const fd=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i=s.width*r[0],l=s.height*r[1];return o.map(e=>{const t=e.getBoundingClientRect();return(0,Oe.A)({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-s.left-i)/n,y:(t.top-s.top-l)/n},Yl(e))})};function hd(e,t,n){return void 0===n?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,(0,Oe.A)({},a))}}function gd(e){let{id:t,store:n,unselect:r=!1,nodeRef:a}=e;const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.blur()})):o([t])):null===c||void 0===c||c("012",Bl(t))}function xd(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function vd(e){let{nodeRef:n,disabled:r=!1,noDragClassName:a,handleSelector:o,nodeId:s,isSelectable:i,selectNodesOnDrag:l}=e;const c=Hl(),[u,d]=(0,t.useState)(!1),m=(0,t.useRef)([]),p=(0,t.useRef)({x:null,y:null}),f=(0,t.useRef)(0),h=(0,t.useRef)(null),g=(0,t.useRef)({x:0,y:0}),x=(0,t.useRef)(null),v=(0,t.useRef)(!1),y=(0,t.useRef)(!1),b=(0,t.useRef)(!1),j=function(){const e=Hl(),n=(0,t.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return(0,Oe.A)({xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y},l)},[]);return n}();return(0,t.useEffect)(()=>{if(null!==n&&void 0!==n&&n.current){const e=as(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:a,onSelectionDrag:o,updateNodePositions:i,nodeExtent:l,snapGrid:u,snapToGrid:f,nodeOrigin:h,onError:g}=c.getState();p.current={x:t,y:n};let v=!1,y={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&l){const e=Gc(m.current,h);y=tc(e)}if(m.current=m.current.map(e=>{const a={x:t-e.distance.x,y:n-e.distance.y};f&&(a.x=u[0]*Math.round(a.x/u[0]),a.y=u[1]*Math.round(a.y/u[1]));const o=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var s,i;m.current.length>1&&l&&!e.extent&&(o[0][0]=e.positionAbsolute.x-y.x+l[0][0],o[1][0]=e.positionAbsolute.x+(null!==(s=e.width)&&void 0!==s?s:0)-y.x2+l[1][0],o[0][1]=e.positionAbsolute.y-y.y+l[0][1],o[1][1]=e.positionAbsolute.y+(null!==(i=e.height)&&void 0!==i?i:0)-y.y2+l[1][1]);const c=md(e,a,r,o,h,g);return v=v||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e}),!v)return;i(m.current,!0,!0),d(!0);const b=s?a:xd(o);if(b&&x.current){const[e,t]=pd({nodeId:s,dragItems:m.current,nodeInternals:r});b(x.current,e,t)}},u=()=>{if(!h.current)return;const[e,n]=Jl(g.current,h.current);if(0!==e||0!==n){var r,a;const{transform:o,panBy:s}=c.getState();p.current.x=(null!==(r=p.current.x)&&void 0!==r?r:0)-e/o[2],p.current.y=(null!==(a=p.current.y)&&void 0!==a?a:0)-n/o[2],s({x:e,y:n})&&t(p.current)}f.current=requestAnimationFrame(u)},N=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:a,unselectNodesAndEdges:o,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();y.current=!0;const f=s?u:xd(d);var h;l&&i||r||!s||(null!==(h=t.get(s))&&void 0!==h&&h.selected||o());s&&i&&l&&gd({id:s,store:c,nodeRef:n});const g=j(e);if(p.current=g,m.current=dd(t,a,g,s),f&&m.current){const[n,r]=pd({nodeId:s,dragItems:m.current,nodeInternals:t});f(e.sourceEvent,n,r)}};if(!r){const r=function(){var e,t,n,r,a=Nl,o=wl,s=kl,i=Sl,l={},c=Ha("start","drag","end"),u=0,d=0;function m(e){e.on("mousedown.drag",p).filter(i).on("touchstart.drag",g).on("touchmove.drag",x,os).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,i){if(!r&&a.call(this,s,i)){var l=y(this,o.call(this,s,i),s,i,"mouse");l&&(as(s.view).on("mousemove.drag",f,ss).on("mouseup.drag",h,ss),cs(s.view),is(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function f(r){if(ls(r),!n){var a=r.clientX-e,o=r.clientY-t;n=a*a+o*o>d}l.mouse("drag",r)}function h(e){as(e.view).on("mousemove.drag mouseup.drag",null),us(e.view,n),ls(e),l.mouse("end",e)}function g(e,t){if(a.call(this,e,t)){var n,r,s=e.changedTouches,i=o.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=y(this,i,e,t,s[n].identifier,s[n]))&&(is(e),r("start",e,s[n]))}}function x(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=l[r[t].identifier])&&(ls(e),n("drag",e,r[t]))}function v(e){var t,n,a=e.changedTouches,o=a.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=l[a[t].identifier])&&(is(e),n("end",e,a[t]))}function y(e,t,n,r,a,o){var i,d,p,f=c.copy(),h=ps(o||n,t);if(null!=(p=s.call(e,new jl("beforestart",{sourceEvent:n,target:m,identifier:a,active:u,x:h[0],y:h[1],dx:0,dy:0,dispatch:f}),r)))return i=p.x-h[0]||0,d=p.y-h[1]||0,function n(o,s,c){var g,x=h;switch(o){case"start":l[a]=n,g=u++;break;case"end":delete l[a],--u;case"drag":h=ps(c||s,t),g=u}f.call(o,e,new jl(o,{sourceEvent:s,subject:p,target:m,identifier:a,active:g,x:h[0]+i,y:h[1]+d,dx:h[0]-x[0],dy:h[1]-x[1],dispatch:f}),r)}}return m.filter=function(e){return arguments.length?(a="function"===typeof e?e:bl(!!e),m):a},m.container=function(e){return arguments.length?(o="function"===typeof e?e:bl(e),m):o},m.subject=function(e){return arguments.length?(s="function"===typeof e?e:bl(e),m):s},m.touchable=function(e){return arguments.length?(i="function"===typeof e?e:bl(!!e),m):i},m.on=function(){var e=c.on.apply(c,arguments);return e===c?m:e},m.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,m):Math.sqrt(d)},m}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&N(e),b.current=!1;const r=j(e);p.current=r,h.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,g.current=dc(e.sourceEvent,h.current)}).on("drag",e=>{const n=j(e),{autoPanOnNodeDrag:r,nodeDragThreshold:a}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!v.current&&y.current&&r&&(v.current=!0,u()),!y.current){var o,s,i,l;const t=n.xSnapped-(null!==(o=null===p||void 0===p||null===(s=p.current)||void 0===s?void 0:s.x)&&void 0!==o?o:0),r=n.ySnapped-(null!==(i=null===p||void 0===p||null===(l=p.current)||void 0===l?void 0:l.y)&&void 0!==i?i:0);Math.sqrt(t*t+r*r)>a&&N(e)}(p.current.x!==n.xSnapped||p.current.y!==n.ySnapped)&&m.current&&y.current&&(x.current=e.sourceEvent,g.current=dc(e.sourceEvent,h.current),t(n))}}).on("end",e=>{if(y.current&&!b.current&&(d(!1),v.current=!1,y.current=!1,cancelAnimationFrame(f.current),m.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=c.getState(),o=s?r:xd(a);if(t(m.current,!1,!1),o){const[t,r]=pd({nodeId:s,dragItems:m.current,nodeInternals:n});o(e.sourceEvent,t,r)}}}).filter(e=>{const t=e.target;return!e.button&&(!a||!ud(t,".".concat(a),n))&&(!o||ud(t,o,n))});return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[n,r,a,o,i,c,s,l,j]),u}function yd(){const e=Hl(),n=(0,t.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:a,getNodes:o,snapToGrid:s,snapGrid:i,onError:l,nodesDraggable:c}=e.getState(),u=o().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),d=s?i[0]:5,m=s?i[1]:5,p=t.isShiftPressed?4:1,f=t.x*d*p,h=t.y*m*p,g=u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+h};s&&(t.x=i[0]*Math.round(t.x/i[0]),t.y=i[1]*Math.round(t.y/i[1]));const{positionAbsolute:a,position:o}=md(e,t,n,r,void 0,l);e.position=o,e.positionAbsolute=a}return e});a(g,!0,!1)},[]);return n}const bd={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var jd=e=>{const n=n=>{let{id:r,type:a,data:o,xPos:s,yPos:i,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:m,onMouseMove:p,onMouseLeave:f,onContextMenu:h,onDoubleClick:g,style:x,className:v,isDraggable:y,isSelectable:b,isConnectable:j,isFocusable:N,selectNodesOnDrag:w,sourcePosition:k,targetPosition:S,hidden:C,resizeObserver:_,dragHandle:E,zIndex:A,isParent:O,noDragClassName:P,noPanClassName:T,initialized:M,disableKeyboardA11y:I,ariaLabel:D,rfId:L,hasHandleBounds:R}=n;const z=Hl(),q=(0,t.useRef)(null),B=(0,t.useRef)(null),F=(0,t.useRef)(k),U=(0,t.useRef)(S),H=(0,t.useRef)(a),G=b||y||d||m||p||f,V=yd(),W=hd(r,z.getState,m),K=hd(r,z.getState,p),Y=hd(r,z.getState,f),X=hd(r,z.getState,h),Z=hd(r,z.getState,g);(0,t.useEffect)(()=>()=>{B.current&&(null===_||void 0===_||_.unobserve(B.current),B.current=null)},[]),(0,t.useEffect)(()=>{if(q.current&&!C){const e=q.current;M&&R&&B.current===e||(B.current&&(null===_||void 0===_||_.unobserve(B.current)),null===_||void 0===_||_.observe(e),B.current=e)}},[C,M,R]),(0,t.useEffect)(()=>{const e=H.current!==a,t=F.current!==k,n=U.current!==S;q.current&&(e||t||n)&&(e&&(H.current=a),t&&(F.current=k),n&&(U.current=S),z.getState().updateNodeDimensions([{id:r,nodeElement:q.current,forceUpdate:!0}]))},[r,a,k,S]);const $=vd({nodeRef:q,disabled:C||!y,noDragClassName:P,handleSelector:E,nodeId:r,isSelectable:b,selectNodesOnDrag:w});return C?null:t.createElement("div",{className:Aa(["react-flow__node","react-flow__node-".concat(a),{[T]:y},v,{selected:u,selectable:b,parent:O,dragging:$}]),ref:q,style:(0,Oe.A)({zIndex:A,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:G?"all":"none",visibility:M?"visible":"hidden"},x),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:W,onMouseMove:K,onMouseLeave:Y,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:t}=z.getState();if(b&&(!w||!y||t>0)&&gd({id:r,store:z,nodeRef:q}),d){const t=z.getState().nodeInternals.get(r);t&&d(e,(0,Oe.A)({},t))}},onDoubleClick:Z,onKeyDown:N?e=>{if(!cc(e)&&!I)if(ic.includes(e.key)&&b){const t="Escape"===e.key;gd({id:r,store:z,unselect:t,nodeRef:q})}else y&&u&&Object.prototype.hasOwnProperty.call(bd,e.key)&&(z.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~s,", y: ").concat(~~i)}),V({x:bd[e.key].x,y:bd[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":I?void 0:"".concat(Cu,"-").concat(L),"aria-label":D},t.createElement(zc,{value:r},t.createElement(e,{id:r,data:o,type:a,xPos:s,yPos:i,selected:u,isConnectable:j,sourcePosition:k,targetPosition:S,dragging:$,dragHandle:E,zIndex:A})))};return n.displayName="NodeWrapper",(0,t.memo)(n)};const Nd=e=>{const t=e.getNodes().filter(e=>e.selected);return(0,Oe.A)((0,Oe.A)({},Gc(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var wd=(0,t.memo)(function(e){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:a}=e;const o=Hl(),{width:s,height:i,x:l,y:c,transformString:u,userSelectionActive:d}=Ul(Nd,Ra),m=yd(),p=(0,t.useRef)(null);if((0,t.useEffect)(()=>{var e;a||(null===(e=p.current)||void 0===e||e.focus({preventScroll:!0}))},[a]),vd({nodeRef:p}),d||!s||!i)return null;const f=n?e=>{const t=o.getState().getNodes().filter(e=>e.selected);n(e,t)}:void 0;return t.createElement("div",{className:Aa(["react-flow__nodesselection","react-flow__container",r]),style:{transform:u}},t.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:a?void 0:-1,onKeyDown:a?void 0:e=>{Object.prototype.hasOwnProperty.call(bd,e.key)&&m({x:bd[e.key].x,y:bd[e.key].y,isShiftPressed:e.shiftKey})},style:{width:s,height:i,top:c,left:l}}))});const kd=e=>e.nodesSelectionActive,Sd=e=>{let{children:n,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:m,selectionKeyCode:p,selectionOnDrag:f,selectionMode:h,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:j,zoomOnScroll:N,zoomOnPinch:w,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:_,panOnDrag:E,defaultViewport:A,translateExtent:O,minZoom:P,maxZoom:T,preventScrolling:M,onSelectionContextMenu:I,noWheelClassName:D,noPanClassName:L,disableKeyboardA11y:R}=e;const z=Ul(kd),q=Pu(p),B=Pu(y),F=B||E,U=B||k,H=q||f&&!0!==F;return(e=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=e;const a=Hl(),{deleteElements:o}=Gu(),s=Pu(n,Vu),i=Pu(r);(0,t.useEffect)(()=>{if(s){const{edges:e,getNodes:t}=a.getState(),n=t().filter(e=>e.selected),r=e.filter(e=>e.selected);o({nodes:n,edges:r}),a.setState({nodesSelectionActive:!1})}},[s]),(0,t.useEffect)(()=>{a.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:c,multiSelectionKeyCode:v}),t.createElement(Ju,{onMove:u,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:i,elementsSelectable:j,zoomOnScroll:N,zoomOnPinch:w,panOnScroll:U,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:_,panOnDrag:!q&&F,defaultViewport:A,translateExtent:O,minZoom:P,maxZoom:T,zoomActivationKeyCode:b,preventScrolling:M,noWheelClassName:D,noPanClassName:L},t.createElement(ld,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:F,isSelecting:!!H,selectionMode:h},n,z&&t.createElement(wd,{onSelectionContextMenu:I,noPanClassName:L,disableKeyboardA11y:R})))};Sd.displayName="FlowRenderer";var Cd=(0,t.memo)(Sd);function _d(e){const t={input:jd(e.input||uu),default:jd(e.default||lu),output:jd(e.output||mu),group:jd(e.group||pu)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=jd(e[n]||lu),t),{});return(0,Oe.A)((0,Oe.A)({},t),n)}const Ed=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ad=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:o,updateNodeDimensions:s,onError:i}=Ul(Ed,Ra),l=function(e){const n=Ul((0,t.useCallback)(t=>e?Vc(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]));return n}(e.onlyRenderVisibleElements),c=(0,t.useRef)(),u=(0,t.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));s(t)});return c.current=e,e},[]);return(0,t.useEffect)(()=>()=>{var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()},[]),t.createElement("div",{className:"react-flow__nodes",style:Wu},l.map(s=>{var l,c,d,m,p,f,h,g;let x=s.type||"default";e.nodeTypes[x]||(null===i||void 0===i||i("003",Tl(x)),x="default");const v=e.nodeTypes[x]||e.nodeTypes.default,y=!!(s.draggable||n&&"undefined"===typeof s.draggable),b=!!(s.selectable||o&&"undefined"===typeof s.selectable),j=!!(s.connectable||r&&"undefined"===typeof s.connectable),N=!!(s.focusable||a&&"undefined"===typeof s.focusable),w=e.nodeExtent?Zl(s.positionAbsolute,e.nodeExtent):s.positionAbsolute,k=null!==(l=null===w||void 0===w?void 0:w.x)&&void 0!==l?l:0,S=null!==(c=null===w||void 0===w?void 0:w.y)&&void 0!==c?c:0,C=(e=>{let{x:t,y:n,width:r,height:a,origin:o}=e;return r&&a?o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:n}:{x:t-r*o[0],y:n-a*o[1]}:{x:t,y:n}})({x:k,y:S,width:null!==(d=s.width)&&void 0!==d?d:0,height:null!==(m=s.height)&&void 0!==m?m:0,origin:e.nodeOrigin});return t.createElement(v,{key:s.id,id:s.id,className:s.className,style:s.style,type:x,data:s.data,sourcePosition:s.sourcePosition||Nc.Bottom,targetPosition:s.targetPosition||Nc.Top,hidden:s.hidden,xPos:k,yPos:S,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!s.selected,isDraggable:y,isSelectable:b,isConnectable:j,isFocusable:N,resizeObserver:u,dragHandle:s.dragHandle,zIndex:null!==(p=null===(f=s[sc])||void 0===f?void 0:f.z)&&void 0!==p?p:0,isParent:!(null===(h=s[sc])||void 0===h||!h.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!s.width&&!!s.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:s.ariaLabel,hasHandleBounds:!(null===(g=s[sc])||void 0===g||!g.handleBounds)})}))};Ad.displayName="NodeRenderer";var Od=(0,t.memo)(Ad);const Pd=(e,t,n)=>n===Nc.Left?e-t:n===Nc.Right?e+t:e,Td=(e,t,n)=>n===Nc.Top?e-t:n===Nc.Bottom?e+t:e,Md="react-flow__edgeupdater",Id=e=>{let{position:n,centerX:r,centerY:a,radius:o=10,onMouseDown:s,onMouseEnter:i,onMouseOut:l,type:c}=e;return t.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:l,className:Aa([Md,"".concat(Md,"-").concat(c)]),cx:Pd(r,o,n),cy:Td(a,o,n),r:o,stroke:"transparent",fill:"transparent"})},Dd=()=>!0;var Ld=e=>{const n=n=>{let{id:r,className:a,type:o,data:s,onClick:i,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:x,source:v,target:y,sourceX:b,sourceY:j,targetX:N,targetY:w,sourcePosition:k,targetPosition:S,elementsSelectable:C,hidden:_,sourceHandleId:E,targetHandleId:A,onContextMenu:O,onMouseEnter:P,onMouseMove:T,onMouseLeave:M,reconnectRadius:I,onReconnect:D,onReconnectStart:L,onReconnectEnd:R,markerEnd:z,markerStart:q,rfId:B,ariaLabel:F,isFocusable:U,isReconnectable:H,pathOptions:G,interactionWidth:V,disableKeyboardA11y:W}=n;const K=(0,t.useRef)(null),[Y,X]=(0,t.useState)(!1),[Z,$]=(0,t.useState)(!1),J=Hl(),Q=(0,t.useMemo)(()=>"url('#".concat(Bc(q,B),"')"),[q,B]),ee=(0,t.useMemo)(()=>"url('#".concat(Bc(z,B),"')"),[z,B]);if(_)return null;const te=fc(r,J.getState,l),ne=fc(r,J.getState,O),re=fc(r,J.getState,P),ae=fc(r,J.getState,T),oe=fc(r,J.getState,M),se=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:a}=J.getState(),o=t?y:v,s=(t?A:E)||null,i=t?"target":"source",l=a||Dd,c=t,u=n.find(e=>e.id===r);$(!0),null===L||void 0===L||L(e,u,i);nu({event:e,handleId:s,nodeId:o,onConnect:e=>null===D||void 0===D?void 0:D(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:i,onReconnectEnd:e=>{$(!1),null===R||void 0===R||R(e,u,i)}})},ie=()=>X(!0),le=()=>X(!1),ce=!C&&!i;return t.createElement("g",{className:Aa(["react-flow__edge","react-flow__edge-".concat(o),a,{selected:c,animated:u,inactive:ce,updating:Y}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:a,multiSelectionActive:o}=J.getState(),s=t.find(e=>e.id===r);if(s){var l;if(C)if(J.setState({nodesSelectionActive:!1}),s.selected&&o)a({nodes:[],edges:[s]}),null===(l=K.current)||void 0===l||l.blur();else n([r]);i&&i(e,s)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:ae,onMouseLeave:oe,onKeyDown:U?e=>{if(!W&&ic.includes(e.key)&&C){const{unselectNodesAndEdges:n,addSelectedEdges:a,edges:o}=J.getState();var t;if("Escape"===e.key)null===(t=K.current)||void 0===t||t.blur(),n({edges:[o.find(e=>e.id===r)]});else a([r])}}:void 0,tabIndex:U?0:void 0,role:U?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===F?void 0:F||"Edge from ".concat(v," to ").concat(y),"aria-describedby":U?"".concat(_u,"-").concat(B):void 0,ref:K},!Z&&t.createElement(e,{id:r,source:v,target:y,selected:c,animated:u,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,data:s,style:x,sourceX:b,sourceY:j,targetX:N,targetY:w,sourcePosition:k,targetPosition:S,sourceHandleId:E,targetHandleId:A,markerStart:Q,markerEnd:ee,pathOptions:G,interactionWidth:V}),H&&t.createElement(t.Fragment,null,("source"===H||!0===H)&&t.createElement(Id,{position:k,centerX:b,centerY:j,radius:I,onMouseDown:e=>se(e,!0),onMouseEnter:ie,onMouseOut:le,type:"source"}),("target"===H||!0===H)&&t.createElement(Id,{position:S,centerX:N,centerY:w,radius:I,onMouseDown:e=>se(e,!1),onMouseEnter:ie,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,t.memo)(n)};function Rd(e){const t={default:Ld(e.default||Lc),straight:Ld(e.bezier||Tc),step:Ld(e.step||Pc),smoothstep:Ld(e.step||Oc),simplebezier:Ld(e.simplebezier||Sc)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=Ld(e[n]||Lc),t),{});return(0,Oe.A)((0,Oe.A)({},t),n)}function zd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,a=((null===n||void 0===n?void 0:n.y)||0)+t.y,o=(null===n||void 0===n?void 0:n.width)||t.width,s=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Nc.Top:return{x:r+o/2,y:a};case Nc.Right:return{x:r+o,y:a+s/2};case Nc.Bottom:return{x:r+o/2,y:a+s};case Nc.Left:return{x:r,y:a+s/2}}}function qd(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function Bd(e){var t,n,r,a,o;const s=(null===e||void 0===e||null===(t=e[sc])||void 0===t?void 0:t.handleBounds)||null,i=s&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)||0,y:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},s,!!i]}const Fd=[{level:0,isMaxLevel:!0,edges:[]}];function Ud(e,n,r){const a=Ul((0,t.useCallback)(t=>e?t.edges.filter(e=>{const r=n.get(e.source),a=n.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===a||void 0===a?void 0:a.width)&&(null===a||void 0===a?void 0:a.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:a,targetWidth:o,targetHeight:s,width:i,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+a,n.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=tc({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:l/c[2]}),m=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(m*p)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:a.width,targetHeight:a.height,width:t.width,height:t.height,transform:t.transform})}):t.edges,[e,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const a=e.reduce((e,a)=>{const o=oc(a.zIndex);let s=o?a.zIndex:0;if(n){var i,l;const e=t.get(a.target),n=t.get(a.source),r=a.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(i=n[sc])||void 0===i?void 0:i.z)||0,(null===e||void 0===e||null===(l=e[sc])||void 0===l?void 0:l.z)||0,1e3);s=(o?a.zIndex:0)+(r?c:0)}return e[s]?e[s].push(a):e[s]=[a],r=s>r?s:r,e},{}),o=Object.entries(a).map(e=>{let[t,n]=e;const a=+t;return{edges:n,level:a,isMaxLevel:a===r}});return 0===o.length?Fd:o}(a,n,r)}const Hd={[jc.Arrow]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[jc.ArrowClosed]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Gd=e=>{let{id:n,type:r,color:a,width:o=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const u=function(e){const n=Hl();return(0,t.useMemo)(()=>{var t,r;return Object.prototype.hasOwnProperty.call(Hd,e)?Hd[e]:(null===(t=(r=n.getState()).onError)||void 0===t||t.call(r,"009",Ll(e)),null)},[e])}(r);return u?t.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(o),markerHeight:"".concat(s),viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},t.createElement(u,{color:a,strokeWidth:l})):null},Vd=e=>{let{defaultColor:n,rfId:r}=e;const a=Ul((0,t.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,a)=>([a.markerStart,a.markerEnd].forEach(a=>{if(a&&"object"===typeof a){const o=Bc(a,n);r.includes(o)||(e.push((0,Oe.A)({id:o,color:a.color||t},a)),r.push(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:n,rfId:r}),[n,r]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return t.createElement("defs",null,a.map(e=>t.createElement(Gd,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};Vd.displayName="MarkerDefinitions";var Wd=(0,t.memo)(Vd);const Kd=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Yd=e=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:a,rfId:o,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:x,children:v,disableKeyboardA11y:y}=e;const{edgesFocusable:b,edgesUpdatable:j,elementsSelectable:N,width:w,height:k,connectionMode:S,nodeInternals:C,onError:_}=Ul(Kd,Ra),E=Ud(r,C,a);return w?t.createElement(t.Fragment,null,E.map(e=>{let{level:r,edges:a,isMaxLevel:v}=e;return t.createElement("svg",{key:r,style:{zIndex:r},width:w,height:k,className:"react-flow__edges react-flow__container"},v&&t.createElement(Wd,{defaultColor:n,rfId:o}),t.createElement("g",null,a.map(e=>{var n,r;const[a,v,w]=Bd(C.get(e.source)),[k,E,A]=Bd(C.get(e.target));if(!w||!A)return null;let O=e.type||"default";s[O]||(null===_||void 0===_||_("011",ql(O)),O="default");const P=s[O]||s.default,T=S===xc.Strict?E.target:(null!==(n=E.target)&&void 0!==n?n:[]).concat(null!==(r=E.source)&&void 0!==r?r:[]),M=qd(v.source,e.sourceHandle),I=qd(T,e.targetHandle),D=(null===M||void 0===M?void 0:M.position)||Nc.Bottom,L=(null===I||void 0===I?void 0:I.position)||Nc.Top,R=!!(e.focusable||b&&"undefined"===typeof e.focusable),z=e.reconnectable||e.updatable,q="undefined"!==typeof f&&(z||j&&"undefined"===typeof z);if(!M||!I)return null===_||void 0===_||_("008",Rl(M,e)),null;const{sourceX:B,sourceY:F,targetX:U,targetY:H}=((e,t,n,r,a,o)=>{const s=zd(n,e,t),i=zd(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}})(a,M,D,k,I,L);return t.createElement(P,{key:e.id,id:e.id,className:Aa([e.className,i]),type:O,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:B,sourceY:F,targetX:U,targetY:H,sourcePosition:D,targetPosition:L,elementsSelectable:N,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:m,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:x,rfId:o,ariaLabel:e.ariaLabel,isFocusable:R,isReconnectable:q,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:y})})))}),v):null};Yd.displayName="EdgeRenderer";var Xd=(0,t.memo)(Yd);const Zd=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function $d(e){let{children:n}=e;const r=Ul(Zd);return t.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const Jd={[Nc.Left]:Nc.Right,[Nc.Right]:Nc.Left,[Nc.Top]:Nc.Bottom,[Nc.Bottom]:Nc.Top},Qd=e=>{var n,r,a,o,s,i,l;let{nodeId:c,handleType:u,style:d,type:m=bc.Bezier,CustomComponent:p,connectionStatus:f}=e;const{fromNode:h,handleId:g,toX:x,toY:v,connectionMode:y}=Ul((0,t.useCallback)(e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[c]),Ra),b=null===h||void 0===h||null===(n=h[sc])||void 0===n?void 0:n.handleBounds;let j=null===b||void 0===b?void 0:b[u];if(y===xc.Loose&&(j=j||(null===b||void 0===b?void 0:b["source"===u?"target":"source"])),!h||!j)return null;const N=g?j.find(e=>e.id===g):j[0],w=N?N.x+N.width/2:(null!==(r=h.width)&&void 0!==r?r:0)/2,k=N?N.y+N.height/2:null!==(a=h.height)&&void 0!==a?a:0,S=(null!==(o=null===(s=h.positionAbsolute)||void 0===s?void 0:s.x)&&void 0!==o?o:0)+w,C=(null!==(i=null===(l=h.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+k,_=null===N||void 0===N?void 0:N.position,E=_?Jd[_]:null;if(!_||!E)return null;if(p)return t.createElement(p,{connectionLineType:m,connectionLineStyle:d,fromNode:h,fromHandle:N,fromX:S,fromY:C,toX:x,toY:v,fromPosition:_,toPosition:E,connectionStatus:f});let A="";const O={sourceX:S,sourceY:C,sourcePosition:_,targetX:x,targetY:v,targetPosition:E};return m===bc.Bezier?[A]=Dc(O):m===bc.Step?[A]=Ac((0,Oe.A)((0,Oe.A)({},O),{},{borderRadius:0})):m===bc.SmoothStep?[A]=Ac(O):m===bc.SimpleBezier?[A]=kc(O):A="M".concat(S,",").concat(C," ").concat(x,",").concat(v),t.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:d})};Qd.displayName="ConnectionLine";const em=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function tm(e){let{containerStyle:n,style:r,type:a,component:o}=e;const{nodeId:s,handleType:i,nodesConnectable:l,width:c,height:u,connectionStatus:d}=Ul(em,Ra);return!!(s&&i&&c&&l)?t.createElement("svg",{style:n,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},t.createElement("g",{className:Aa(["react-flow__connection",d])},t.createElement(Qd,{nodeId:s,handleType:i,style:r,type:a,CustomComponent:o,connectionStatus:d}))):null}function nm(e,n){(0,t.useRef)(null),Hl();return(0,t.useMemo)(()=>n(e),[e])}const rm=e=>{let{nodeTypes:n,edgeTypes:r,onMove:a,onMoveStart:o,onMoveEnd:s,onInit:i,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:x,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:j,connectionLineContainerStyle:N,selectionKeyCode:w,selectionOnDrag:k,selectionMode:S,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:E,deleteKeyCode:A,onlyRenderVisibleElements:O,elementsSelectable:P,selectNodesOnDrag:T,defaultViewport:M,translateExtent:I,minZoom:D,maxZoom:L,preventScrolling:R,defaultMarkerColor:z,zoomOnScroll:q,zoomOnPinch:B,panOnScroll:F,panOnScrollSpeed:U,panOnScrollMode:H,zoomOnDoubleClick:G,panOnDrag:V,onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:Z,onPaneContextMenu:$,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:oe,noDragClassName:se,noWheelClassName:ie,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:me,rfId:pe}=e;const fe=nm(n,_d),he=nm(r,Rd);return function(e){const n=Gu(),r=(0,t.useRef)(!1);(0,t.useEffect)(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}(i),t.createElement(Cd,{onPaneClick:W,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:$,onPaneScroll:Z,deleteKeyCode:A,selectionKeyCode:w,selectionOnDrag:k,selectionMode:S,onSelectionStart:x,onSelectionEnd:v,multiSelectionKeyCode:C,panActivationKeyCode:_,zoomActivationKeyCode:E,elementsSelectable:P,onMove:a,onMoveStart:o,onMoveEnd:s,zoomOnScroll:q,zoomOnPinch:B,zoomOnDoubleClick:G,panOnScroll:F,panOnScrollSpeed:U,panOnScrollMode:H,panOnDrag:V,defaultViewport:M,translateExtent:I,minZoom:D,maxZoom:L,onSelectionContextMenu:g,preventScrolling:R,noDragClassName:se,noWheelClassName:ie,noPanClassName:le,disableKeyboardA11y:ue},t.createElement($d,null,t.createElement(Xd,{edgeTypes:he,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:O,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:oe,defaultMarkerColor:z,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:pe},t.createElement(tm,{style:b,type:y,component:j,containerStyle:N})),t.createElement("div",{className:"react-flow__edgelabel-renderer"}),t.createElement(Od,{nodeTypes:fe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:T,onlyRenderVisibleElements:O,noPanClassName:le,noDragClassName:se,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:me,rfId:pe})))};rm.displayName="GraphView";var am=(0,t.memo)(rm);const om=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sm={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:om,nodeExtent:om,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:xc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:lc,isValidConnection:void 0},im=()=>{return e=(e,t)=>(0,Oe.A)((0,Oe.A)({},sm),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Lu(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>(0,Oe.A)((0,Oe.A)({},r),e))})},setDefaultNodesAndEdges:(n,r)=>{const a="undefined"!==typeof n,o="undefined"!==typeof r,s=a?Lu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:l,nodeOrigin:c}=t(),u=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((e,t)=>{const n=a.get(t.id);if(null!==n&&void 0!==n&&n.hidden)a.set(n.id,(0,Oe.A)((0,Oe.A)({},n),{},{[sc]:(0,Oe.A)((0,Oe.A)({},n[sc]),{},{handleBounds:void 0})}));else if(n){const r=Yl(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(a.set(n.id,(0,Oe.A)((0,Oe.A)({},n),{},{[sc]:(0,Oe.A)((0,Oe.A)({},n[sc]),{},{handleBounds:{source:fd(".source",t.nodeElement,m,c),target:fd(".target",t.nodeElement,m,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);Du(a,c);const f=s||o&&!s&&Ru(t,(0,Oe.A)({initial:!0},i));e({nodeInternals:new Map(a),fitViewOnInitDone:f}),(null===p||void 0===p?void 0:p.length)>0&&(null===r||void 0===r||r(p))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:a}=t(),o=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(o){const t=Lu(rd(n,i()),a,s,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(e=>ad(e,!0)):(s=od(o(),n),i=od(a,[])),Bu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(e=>ad(e,!0)):(s=od(a,n),i=od(o(),[])),Bu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:a,getNodes:o}=t(),s=r||a,i=(n||o()).map(e=>(e.selected=!1,ad(e.id,!1)));Bu({changedNodes:i,changedEdges:s.map(e=>ad(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();null===r||void 0===r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();null===r||void 0===r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(e=>e.selected).map(e=>ad(e.id,!1)),o=n.filter(e=>e.selected).map(e=>ad(e.id,!1));Bu({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=Zl(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:a,d3Zoom:o,d3Selection:s,translateExtent:i}=t();if(!o||!s||!e.x&&!e.y)return!1;const l=ul.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,a]],u=null===o||void 0===o?void 0:o.constrain()(l,c,i);return o.transform(s,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:sm.connectionNodeId,connectionHandleId:sm.connectionHandleId,connectionHandleType:sm.connectionHandleType,connectionStatus:sm.connectionStatus,connectionStartHandle:sm.connectionStartHandle,connectionEndHandle:sm.connectionEndHandle}),reset:()=>e((0,Oe.A)({},sm))}),t=Object.is,e?La(e,t):La;var e,t},lm=e=>{let{children:n}=e;const r=(0,t.useRef)(null);return r.current||(r.current=im()),t.createElement(Pl,{value:r.current},n)};lm.displayName="ReactFlowProvider";const cm=e=>{let{children:n}=e;return(0,t.useContext)(Ol)?t.createElement(t.Fragment,null,n):t.createElement(lm,null,n)};cm.displayName="ReactFlowWrapper";const um={input:uu,default:lu,output:mu,group:pu},dm={default:Lc,straight:Tc,step:Pc,smoothstep:Oc,simplebezier:Sc},mm=[0,0],pm=[15,15],fm={x:0,y:0,zoom:1},hm={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},gm=(0,t.forwardRef)((e,n)=>{let{nodes:r,edges:a,defaultNodes:o,defaultEdges:s,className:i,nodeTypes:l=um,edgeTypes:c=dm,onNodeClick:u,onEdgeClick:d,onInit:m,onMove:p,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:S,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:E,onNodesDelete:A,onEdgesDelete:O,onSelectionChange:P,onSelectionDragStart:T,onSelectionDrag:M,onSelectionDragStop:I,onSelectionContextMenu:D,onSelectionStart:L,onSelectionEnd:R,connectionMode:z=xc.Strict,connectionLineType:q=bc.Bezier,connectionLineStyle:B,connectionLineComponent:F,connectionLineContainerStyle:U,deleteKeyCode:H="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:V=!1,selectionMode:W=yc.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:Y=(mc()?"Meta":"Control"),zoomActivationKeyCode:X=(mc()?"Meta":"Control"),snapToGrid:Z=!1,snapGrid:$=pm,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=mm,edgesFocusable:ae,edgesUpdatable:oe,elementsSelectable:se,defaultViewport:ie=fm,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=om,preventScrolling:de=!0,nodeExtent:me,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:fe=!0,zoomOnPinch:he=!0,panOnScroll:ge=!1,panOnScrollSpeed:xe=.5,panOnScrollMode:ve=vc.Free,zoomOnDoubleClick:ye=!0,panOnDrag:be=!0,onPaneClick:je,onPaneMouseEnter:Ne,onPaneMouseMove:we,onPaneMouseLeave:ke,onPaneScroll:Se,onPaneContextMenu:Ce,children:_e,onEdgeContextMenu:Ee,onEdgeDoubleClick:Ae,onEdgeMouseEnter:Pe,onEdgeMouseMove:Te,onEdgeMouseLeave:Me,onEdgeUpdate:Ie,onEdgeUpdateStart:De,onEdgeUpdateEnd:Le,onReconnect:Re,onReconnectStart:ze,onReconnectEnd:qe,reconnectRadius:Be=10,edgeUpdaterRadius:Fe=10,onNodesChange:Ue,onEdgesChange:He,noDragClassName:Ge="nodrag",noWheelClassName:Ve="nowheel",noPanClassName:We="nopan",fitView:Ke=!1,fitViewOptions:Ye,connectOnClick:Xe=!0,attributionPosition:Ze,proOptions:$e,defaultEdgeOptions:Je,elevateNodesOnSelect:Qe=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:at=20,isValidConnection:ot,onError:st,style:it,id:lt,nodeDragThreshold:ct}=e,ut=Wt(e,Al);const dt=lt||"1";return t.createElement("div",(0,Oe.A)((0,Oe.A)({},ut),{},{style:(0,Oe.A)((0,Oe.A)({},it),hm),ref:n,className:Aa(["react-flow",i]),"data-testid":"rf__wrapper",id:lt}),t.createElement(cm,null,t.createElement(am,{onInit:m,onMove:p,onMoveStart:f,onMoveEnd:h,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:S,nodeTypes:l,edgeTypes:c,connectionLineType:q,connectionLineStyle:B,connectionLineComponent:F,connectionLineContainerStyle:U,selectionKeyCode:G,selectionOnDrag:V,selectionMode:W,deleteKeyCode:H,multiSelectionKeyCode:Y,panActivationKeyCode:K,zoomActivationKeyCode:X,onlyRenderVisibleElements:J,selectNodesOnDrag:Q,defaultViewport:ie,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:de,zoomOnScroll:fe,zoomOnPinch:he,zoomOnDoubleClick:ye,panOnScroll:ge,panOnScrollSpeed:xe,panOnScrollMode:ve,panOnDrag:be,onPaneClick:je,onPaneMouseEnter:Ne,onPaneMouseMove:we,onPaneMouseLeave:ke,onPaneScroll:Se,onPaneContextMenu:Ce,onSelectionContextMenu:D,onSelectionStart:L,onSelectionEnd:R,onEdgeContextMenu:Ee,onEdgeDoubleClick:Ae,onEdgeMouseEnter:Pe,onEdgeMouseMove:Te,onEdgeMouseLeave:Me,onReconnect:null!==Re&&void 0!==Re?Re:Ie,onReconnectStart:null!==ze&&void 0!==ze?ze:De,onReconnectEnd:null!==qe&&void 0!==qe?qe:Le,reconnectRadius:null!==Be&&void 0!==Be?Be:Fe,defaultMarkerColor:pe,noDragClassName:Ge,noWheelClassName:Ve,noPanClassName:We,elevateEdgesOnSelect:et,rfId:dt,disableKeyboardA11y:tt,nodeOrigin:re,nodeExtent:me}),t.createElement(wu,{nodes:r,edges:a,defaultNodes:o,defaultEdges:s,onConnect:g,onConnectStart:x,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:ae,edgesUpdatable:oe,elementsSelectable:se,elevateNodesOnSelect:Qe,minZoom:le,maxZoom:ce,nodeExtent:me,onNodesChange:Ue,onEdgesChange:He,snapToGrid:Z,snapGrid:$,connectionMode:z,translateExtent:ue,connectOnClick:Xe,defaultEdgeOptions:Je,fitView:Ke,fitViewOptions:Ye,onNodesDelete:A,onEdgesDelete:O,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:E,onSelectionDrag:M,onSelectionDragStart:T,onSelectionDragStop:I,noPanClassName:We,nodeOrigin:re,rfId:dt,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,onError:st,connectionRadius:at,isValidConnection:ot,nodeDragThreshold:ct}),t.createElement(yu,{onSelectionChange:P}),_e,t.createElement(Wl,{proOptions:$e,position:Ze}),t.createElement(Ou,{rfId:dt,disableKeyboardA11y:tt})))});gm.displayName="ReactFlow";function xm(e){return n=>{const[r,a]=(0,t.useState)(n),o=(0,t.useCallback)(t=>a(n=>e(t,n)),[]);return[r,a,o]}}xm(rd),xm(function(e,t){return nd(e,t)});const vm=e=>{let{id:n,x:r,y:a,width:o,height:s,style:i,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:m,shapeRendering:p,onClick:f,selected:h}=e;const{background:g,backgroundColor:x}=i||{},v=l||g||x;return t.createElement("rect",{className:Aa(["react-flow__minimap-node",{selected:h},d]),x:r,y:a,rx:m,ry:m,width:o,height:s,fill:v,stroke:c,strokeWidth:u,shapeRendering:p,onClick:f?e=>f(e,n):void 0})};vm.displayName="MiniMapNode";var ym=(0,t.memo)(vm);const bm=e=>e.nodeOrigin,jm=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Nm=e=>e instanceof Function?e:()=>e;var wm=(0,t.memo)(function(e){let{nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:i=ym,onClick:l}=e;const c=Ul(jm,Ra),u=Ul(bm),d=Nm(r),m=Nm(n),p=Nm(a),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return t.createElement(t.Fragment,null,c.map(e=>{const{x:n,y:r}=Hc(e,u).positionAbsolute;return t.createElement(i,{key:e.id,x:n,y:r,width:e.width,height:e.height,style:e.style,selected:e.selected,className:p(e),color:d(e),borderRadius:o,strokeColor:m(e),strokeWidth:s,shapeRendering:f,onClick:l,id:e.id})}))});const km=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=Gc(t,e.nodeOrigin),a=n,nc(ec(tc(r),tc(a)))):n,rfId:e.rfId};var r,a};function Sm(e){var n,r;let{style:a,className:o,nodeStrokeColor:s="transparent",nodeColor:i="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:d,maskColor:m="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:f=1,position:h="bottom-right",onClick:g,onNodeClick:x,pannable:v=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:j=!1,zoomStep:N=10,offsetScale:w=5}=e;const k=Hl(),S=(0,t.useRef)(null),{boundingRect:C,viewBB:_,rfId:E}=Ul(km,Ra),A=null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:200,O=null!==(r=null===a||void 0===a?void 0:a.height)&&void 0!==r?r:150,P=C.width/A,T=C.height/O,M=Math.max(P,T),I=M*A,D=M*O,L=w*M,R=C.x-(I-C.width)/2-L,z=C.y-(D-C.height)/2-L,q=I+2*L,B=D+2*L,F="".concat("react-flow__minimap-desc","-").concat(E),U=(0,t.useRef)(0);U.current=M,(0,t.useEffect)(()=>{if(S.current){const e=as(S.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=k.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const a=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*N,o=t[2]*Math.pow(2,a);r.scaleTo(n,o)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:a,width:o,height:s}=k.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const i=U.current*Math.max(1,t[2])*(j?-1:1),l={x:t[0]-e.sourceEvent.movementX*i,y:t[1]-e.sourceEvent.movementY*i},c=[[0,0],[o,s]],u=ul.translate(l.x,l.y).scale(t[2]),d=r.constrain()(u,c,a);r.transform(n,d)},r=yl().on("zoom",v?n:null).on("zoom.wheel",y?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[v,y,j,N]);const H=g?e=>{const t=ps(e);g(e,{x:t[0],y:t[1]})}:void 0,G=x?(e,t)=>{const n=k.getState().nodeInternals.get(t);x(e,n)}:void 0;return t.createElement(Vl,{position:h,style:a,className:Aa(["react-flow__minimap",o]),"data-testid":"rf__minimap"},t.createElement("svg",{width:A,height:O,viewBox:"".concat(R," ").concat(z," ").concat(q," ").concat(B),role:"img","aria-labelledby":F,ref:S,onClick:H},b&&t.createElement("title",{id:F},b),t.createElement(wm,{onClick:G,nodeColor:i,nodeStrokeColor:s,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),t.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(R-L,",").concat(z-L,"h").concat(q+2*L,"v").concat(B+2*L,"h").concat(-q-2*L,"z\n        M").concat(_.x,",").concat(_.y,"h").concat(_.width,"v").concat(_.height,"h").concat(-_.width,"z"),fill:m,fillRule:"evenodd",stroke:p,strokeWidth:f,pointerEvents:"none"})))}Sm.displayName="MiniMap";var Cm=(0,t.memo)(Sm);const _m=["children","className"];function Em(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Am(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},t.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Om(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Pm(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Tm(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Mm=e=>{let{children:n,className:r}=e,a=Wt(e,_m);return t.createElement("button",(0,Oe.A)({type:"button",className:Aa(["react-flow__controls-button",r])},a),n)};Mm.displayName="ControlButton";const Im=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Dm=e=>{let{style:n,showZoom:r=!0,showFitView:a=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:m,position:p="bottom-left"}=e;const f=Hl(),[h,g]=(0,t.useState)(!1),{isInteractive:x,minZoomReached:v,maxZoomReached:y}=Ul(Im,Ra),{zoomIn:b,zoomOut:j,fitView:N}=Gu();if((0,t.useEffect)(()=>{g(!0)},[]),!h)return null;return t.createElement(Vl,{className:Aa(["react-flow__controls",d]),position:p,style:n,"data-testid":"rf__controls"},r&&t.createElement(t.Fragment,null,t.createElement(Mm,{onClick:()=>{b(),null===i||void 0===i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},t.createElement(Em,null)),t.createElement(Mm,{onClick:()=>{j(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},t.createElement(Am,null))),a&&t.createElement(Mm,{className:"react-flow__controls-fitview",onClick:()=>{N(s),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},t.createElement(Om,null)),o&&t.createElement(Mm,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),null===u||void 0===u||u(!x)},title:"toggle interactivity","aria-label":"toggle interactivity"},x?t.createElement(Tm,null):t.createElement(Pm,null)),m)};Dm.displayName="Controls";var Lm,Rm=(0,t.memo)(Dm);function zm(e){let{color:n,dimensions:r,lineWidth:a}=e;return t.createElement("path",{stroke:n,strokeWidth:a,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function qm(e){let{color:n,radius:r}=e;return t.createElement("circle",{cx:r,cy:r,r:r,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Lm||(Lm={}));const Bm={[Lm.Dots]:"#91919a",[Lm.Lines]:"#eee",[Lm.Cross]:"#e2e2e2"},Fm={[Lm.Dots]:1,[Lm.Lines]:1,[Lm.Cross]:6},Um=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function Hm(e){let{id:n,variant:r=Lm.Dots,gap:a=20,size:o,lineWidth:s=1,offset:i=2,color:l,style:c,className:u}=e;const d=(0,t.useRef)(null),{transform:m,patternId:p}=Ul(Um,Ra),f=l||Bm[r],h=o||Fm[r],g=r===Lm.Dots,x=r===Lm.Cross,v=Array.isArray(a)?a:[a,a],y=[v[0]*m[2]||1,v[1]*m[2]||1],b=h*m[2],j=x?[b,b]:y,N=g?[b/i,b/i]:[j[0]/i,j[1]/i];return t.createElement("svg",{className:Aa(["react-flow__background",u]),style:(0,Oe.A)((0,Oe.A)({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:d,"data-testid":"rf__background"},t.createElement("pattern",{id:p+n,x:m[0]%y[0],y:m[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(N[0],",-").concat(N[1],")")},g?t.createElement(qm,{color:f,radius:b/i}):t.createElement(zm,{dimensions:j,color:f,lineWidth:s})),t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(p+n,")")}))}Hm.displayName="Background";var Gm=(0,t.memo)(Hm);const Vm=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Wm=Zt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Km=[{id:"overview",label:"Vis\xe3o Geral",icon:Qt,description:"Resumo do mundo criado",color:"blue"},{id:"geography",label:"Geografia",icon:Fr,description:"Mapa, locais, regi\xf5es e clima",color:"green"},{id:"cultures",label:"Culturas",icon:en,description:"Povos, idiomas e tradi\xe7\xf5es",color:"yellow"},{id:"systems",label:"Sistemas",icon:Dn,description:"Magia, tecnologia e pol\xedtica",color:"orange"},{id:"history",label:"Hist\xf3ria",icon:ln,description:"Linha do tempo, eventos e eras",color:"red"},{id:"assistant",label:"Assistente IA",icon:rn,description:"Converse com a IA para ideias",color:"purple"},{id:"settings",label:"Configura\xe7\xf5es",icon:on,description:"Ajustes do projeto e da IA",color:"gray"},{id:"dashboard",label:"Dashboard",icon:Vm,description:"Vis\xe3o geral dos projetos",color:"teal"},{id:"editor",label:"Editor",icon:nn,description:"Escreva sua light novel",color:"cyan"},{id:"themes",label:"Temas",icon:Wm,description:"Temas e estilos visuais",color:"pink"}],Ym=[{value:"city",label:"Cidade",description:"Grande assentamento urbano com governo pr\xf3prio.",icon:"Building"},{value:"town",label:"Vila",description:"Assentamento menor que uma cidade, geralmente focado em com\xe9rcio local.",icon:"Home"},{value:"village",label:"Aldeia",description:"Pequeno agrupamento de casas em uma \xe1rea rural.",icon:"Tent"},{value:"capital",label:"Capital",description:"Centro administrativo de uma na\xe7\xe3o ou imp\xe9rio.",icon:"Crown"},{value:"fortress",label:"Fortaleza",description:"Estrutura militar fortificada para defesa.",icon:"Castle"},{value:"ruins",label:"Ru\xednas",description:"Restos de uma estrutura ou cidade antiga.",icon:"Landmark"},{value:"dungeon",label:"Masmorra",description:"Local subterr\xe2neo perigoso, cheio de monstros e tesouros.",icon:"Key"},{value:"forest",label:"Floresta",description:"Grande \xe1rea coberta por \xe1rvores e vegeta\xe7\xe3o densa.",icon:"Trees"},{value:"mountain",label:"Montanha",description:"Grande eleva\xe7\xe3o natural da superf\xedcie terrestre.",icon:"Mountain"},{value:"river",label:"Rio",description:"Curso de \xe1gua natural que flui para um oceano, lago ou outro rio.",icon:"Waves"},{value:"ocean",label:"Oceano",description:"Vasta extens\xe3o de \xe1gua salgada que cobre a maior parte da Terra.",icon:"Sailboat"},{value:"other",label:"Outro",description:"Qualquer outro tipo de local n\xe3o listado acima.",icon:"MapPin"}],Xm=[{value:"festival",label:"Festival"},{value:"ritual",label:"Ritual"},{value:"ceremony",label:"Cerim\xf4nia"},{value:"custom",label:"Costume"},{value:"celebration",label:"Celebra\xe7\xe3o"},{value:"rite",label:"Rito de Passagem"},{value:"tradition",label:"Tradi\xe7\xe3o Familiar"},{value:"observance",label:"Observ\xe2ncia Religiosa"}],Zm=[{value:"natural",label:"Natural"},{value:"ruins",label:"Ru\xednas"},{value:"monument",label:"Monumento"},{value:"structure",label:"Estrutura"},{value:"magical",label:"M\xe1gico"},{value:"religious",label:"Religioso"},{value:"historical",label:"Hist\xf3rico"},{value:"mysterious",label:"Misterioso"}],$m=[{value:"mineral",label:"Mineral"},{value:"vegetal",label:"Vegetal"},{value:"animal",label:"Animal"},{value:"magical",label:"M\xe1gico"},{value:"energy",label:"Energia"},{value:"liquid",label:"L\xedquido"},{value:"gas",label:"Gasoso"},{value:"artifact",label:"Artefato"}],Jm=[{value:"comum",label:"Comum"},{value:"incomum",label:"Incomum"},{value:"raro",label:"Raro"},{value:"muito_raro",label:"Muito Raro"},{value:"lendario",label:"Lend\xe1rio"},{value:"unico",label:"\xdanico"}],Qm=[{value:"monarchy",label:"Monarquia"},{value:"republic",label:"Rep\xfablica"},{value:"teocracy",label:"Teocracia"},{value:"democracy",label:"Democracia"},{value:"dictatorship",label:"Ditadura"},{value:"federation",label:"Federa\xe7\xe3o"},{value:"confederation",label:"Confedera\xe7\xe3o"},{value:"communism",label:"Comunismo"}],ep=e=>{let{economy:n,onClose:r,onSave:a,aiProvider:o,isGenerating:s,onGenerateWithAI:i}=e;const[l,c]=(0,t.useState)((0,Oe.A)({name:"",currency:"",description:"",mainExports:"",wealthDistribution:""},n)),[u,d]=(0,t.useState)(""),m=async e=>{if(!o)return void va.error("Configure um provedor de IA");d(e);const t={description:'Descreva o sistema econ\xf4mico "'.concat(l.name,'".'),currency:'Defina a moeda principal do sistema "'.concat(l.name,'".'),mainExports:'Descreva as principais exporta\xe7\xf5es do sistema "'.concat(l.name,'".'),wealthDistribution:'Descreva a distribui\xe7\xe3o de riqueza do sistema "'.concat(l.name,'".')};try{const n=await i("economy_field",t[e]);n&&(c(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema Econ\xf4mico":"Adicionar Sistema Econ\xf4mico"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.name.trim()?a(l):va.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Sistema *"}),(0,An.jsx)("input",{type:"text",value:l.name,onChange:e=>c((0,Oe.A)((0,Oe.A)({},l),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Mercantilismo de Prata",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Moeda"}),o&&(0,An.jsx)("button",{type:"button",onClick:()=>m("currency"),disabled:"currency"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"currency"===u?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:l.currency,onChange:e=>c((0,Oe.A)((0,Oe.A)({},l),{},{currency:e.target.value})),className:"input-field",placeholder:"Ex: Draconian Gold"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,An.jsx)("button",{type:"button",onClick:()=>m("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:l.description,onChange:e=>c((0,Oe.A)((0,Oe.A)({},l),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do sistema...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Exporta\xe7\xf5es"}),o&&(0,An.jsx)("button",{type:"button",onClick:()=>m("mainExports"),disabled:"mainExports"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"mainExports"===u?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:l.mainExports,onChange:e=>c((0,Oe.A)((0,Oe.A)({},l),{},{mainExports:e.target.value})),className:"textarea-field",placeholder:"Principais exporta\xe7\xf5es...",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Distribui\xe7\xe3o de Riqueza"}),o&&(0,An.jsx)("button",{type:"button",onClick:()=>m("wealthDistribution"),disabled:"wealthDistribution"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"wealthDistribution"===u?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:l.wealthDistribution,onChange:e=>c((0,Oe.A)((0,Oe.A)({},l),{},{wealthDistribution:e.target.value})),className:"textarea-field",placeholder:"Como a riqueza \xe9 distribu\xedda?",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema Econ\xf4mico"]})]})]})]})})},tp=Zt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),np=Zt("Tent",[["path",{d:"M19 20 10 4",key:"1ak541"}],["path",{d:"m5 20 9-16",key:"11dtj9"}],["path",{d:"M3 20h18",key:"1l19wn"}],["path",{d:"m12 15-3 5",key:"1c5kej"}],["path",{d:"m12 15 3 5",key:"odkmhi"}]]),rp=Zt("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]),ap=Zt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),op=Zt("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),sp=Zt("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),ip=Zt("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),lp=Zt("Sailboat",[["path",{d:"M22 18H2a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4Z",key:"1404fh"}],["path",{d:"M21 14 10 2 3 14h18Z",key:"1nzg7v"}],["path",{d:"M10 2v16",key:"1labyt"}]]),cp={Building:Ir,Home:tp,Tent:np,Crown:Tr,Castle:rp,Landmark:ap,Key:Hn,Trees:op,Mountain:sp,Waves:ip,Sailboat:lp,MapPin:Tn},up=e=>{let{location:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",type:"city",description:"",population:"",government:"",economy:"",history:""},n)),[d,m]=(0,t.useState)("");(0,t.useEffect)(()=>{n&&u((0,Oe.A)({},n))},[n]);const p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Gere uma descri\xe7\xe3o detalhada para o local "'.concat(c.name,'", que \xe9 do tipo "').concat(c.type,'".'),population:'Estime a popula\xe7\xe3o para "'.concat(c.name,'".'),government:'Descreva o governo de "'.concat(c.name,'".'),economy:'Descreva a economia de "'.concat(c.name,'".'),history:'Crie um breve hist\xf3rico para "'.concat(c.name,'".')};try{const n=await l("location_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e.charAt(0).toUpperCase()+e.slice(1)," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}},f=Ym.find(e=>e.value===c.type),h=f&&cp[f.icon]?cp[f.icon]:Tn;return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(h,{className:"h-6 w-6 mr-3 text-indigo-500"}),n?"Editar Local":"Adicionar Local"]}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do local \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Local *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Cidade da Lua Prateada",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Local"}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:Ym.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsxs)("button",{type:"button",onClick:()=>p("description"),disabled:i&&"description"===d,className:"btn-ai",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),i&&"description"===d?"Gerando...":"IA"]})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva a apar\xeancia, atmosfera e caracter\xedsticas do local.",rows:"4"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Popula\xe7\xe3o"}),s&&(0,An.jsxs)("button",{type:"button",onClick:()=>p("population"),disabled:i&&"population"===d,className:"btn-ai",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),i&&"population"===d?"Gerando...":"IA"]})]}),(0,An.jsx)("input",{type:"text",value:c.population,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{population:e.target.value})),className:"input-field",placeholder:"Ex: 50.000 habitantes"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Governo"}),s&&(0,An.jsxs)("button",{type:"button",onClick:()=>p("government"),disabled:i&&"government"===d,className:"btn-ai",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),i&&"government"===d?"Gerando...":"IA"]})]}),(0,An.jsx)("input",{type:"text",value:c.government,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{government:e.target.value})),className:"input-field",placeholder:"Ex: Monarquia Constitucional"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Economia"}),s&&(0,An.jsxs)("button",{type:"button",onClick:()=>p("economy"),disabled:i&&"economy"===d,className:"btn-ai",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),i&&"economy"===d?"Gerando...":"IA"]})]}),(0,An.jsx)("textarea",{value:c.economy,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{economy:e.target.value})),className:"textarea-field",placeholder:"Principais ind\xfastrias, com\xe9rcio e recursos.",rows:"2"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Hist\xf3ria"}),s&&(0,An.jsxs)("button",{type:"button",onClick:()=>p("history"),disabled:i&&"history"===d,className:"btn-ai",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),i&&"history"===d?"Gerando...":"IA"]})]}),(0,An.jsx)("textarea",{value:c.history,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{history:e.target.value})),className:"textarea-field",placeholder:"Breve hist\xf3rico do local, eventos importantes.",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsx)("button",{type:"submit",className:"btn-primary",children:n?"Atualizar Local":"Criar Local"})]})]})]})]})})},dp=e=>{let{people:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",classification:"",description:"",society:"",traditions:"",appearance:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Gere uma descri\xe7\xe3o detalhada para o povo "'.concat(c.name,'".'),society:'Descreva a sociedade do povo "'.concat(c.name,'".'),traditions:'Descreva as tradi\xe7\xf5es do povo "'.concat(c.name,'".'),appearance:'Descreva a apar\xeancia do povo "'.concat(c.name,'".')};try{const n=await l("people_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Povo":"Adicionar Povo"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do povo \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Povo *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Elfos da Floresta",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Classifica\xe7\xe3o"}),(0,An.jsx)("input",{type:"text",value:c.classification,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{classification:e.target.value})),className:"input-field",placeholder:"Ex: Humanoide, Fae"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Apar\xeancia"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("appearance"),disabled:"appearance"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"appearance"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.appearance,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{appearance:e.target.value})),className:"textarea-field",placeholder:"Descreva a apar\xeancia f\xedsica do povo...",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o Geral"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva o povo, sua cultura e caracter\xedsticas.",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sociedade"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("society"),disabled:"society"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"society"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.society,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{society:e.target.value})),className:"textarea-field",placeholder:"Estrutura social, governo, etc.",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tradi\xe7\xf5es"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("traditions"),disabled:"traditions"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"traditions"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.traditions,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{traditions:e.target.value})),className:"textarea-field",placeholder:"Costumes e tradi\xe7\xf5es importantes.",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Povo"]})]})]})]})]})})},mp=e=>{let{religion:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",deities:"",description:"",practices:"",followers:"",symbols:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva as cren\xe7as centrais da religi\xe3o "'.concat(c.name,'".'),deities:'Liste e descreva as principais divindades da religi\xe3o "'.concat(c.name,'".'),practices:'Descreva as pr\xe1ticas e rituais da religi\xe3o "'.concat(c.name,'".'),followers:'Descreva os principais seguidores da religi\xe3o "'.concat(c.name,'".'),symbols:'Descreva os s\xedmbolos sagrados da religi\xe3o "'.concat(c.name,'".')};try{const n=await l("religion_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Religi\xe3o":"Adicionar Religi\xe3o"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome da religi\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Religi\xe3o *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Culto da Luz Eterna",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o das Cren\xe7as"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Cren\xe7as centrais da religi\xe3o...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Divindades"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("deities"),disabled:"deities"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"deities"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.deities,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{deities:e.target.value})),className:"textarea-field",placeholder:"Principais divindades e conceitos...",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pr\xe1ticas e Rituais"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("practices"),disabled:"practices"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"practices"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.practices,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{practices:e.target.value})),className:"textarea-field",placeholder:"Como praticam sua f\xe9?",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Seguidores"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("followers"),disabled:"followers"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"followers"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.followers,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{followers:e.target.value})),className:"textarea-field",placeholder:"Principais seguidores...",rows:"2"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"S\xedmbolos Sagrados"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("symbols"),disabled:"symbols"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"symbols"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.symbols,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{symbols:e.target.value})),className:"textarea-field",placeholder:"S\xedmbolos e artefatos sagrados...",rows:"2"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Religi\xe3o"]})]})]})]})]})})},pp=e=>{let{region:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",description:"",climate:"",terrain:"",population:"",features:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente a geografia da regi\xe3o "'.concat(c.name,'".'),climate:'Descreva o clima da regi\xe3o "'.concat(c.name,'".'),terrain:'Descreva o terreno caracter\xedstico da regi\xe3o "'.concat(c.name,'".'),population:'Estime a popula\xe7\xe3o da regi\xe3o "'.concat(c.name,'".'),features:'Descreva caracter\xedsticas especiais da regi\xe3o "'.concat(c.name,'".')};try{const n=await l("region_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Regi\xe3o":"Adicionar Regi\xe3o"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome da regi\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Regi\xe3o *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Plan\xedcies Douradas",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o Geogr\xe1fica"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva a geografia da regi\xe3o...",rows:"4"})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Clima"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("climate"),disabled:"climate"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"climate"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.climate,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{climate:e.target.value})),className:"input-field",placeholder:"Ex: Temperado, Tropical"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Terreno"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("terrain"),disabled:"terrain"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"terrain"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.terrain,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{terrain:e.target.value})),className:"input-field",placeholder:"Ex: Plan\xedcies, Montanhas"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Popula\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("population"),disabled:"population"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"population"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.population,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{population:e.target.value})),className:"input-field",placeholder:"Ex: 50.000 habitantes"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Caracter\xedsticas Especiais"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("features"),disabled:"features"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"features"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.features,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{features:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas \xfanicas da regi\xe3o...",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Regi\xe3o"]})]})]})]})]})})},fp=e=>{let{landmark:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",type:"natural",description:"",significance:"",location:"",features:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente o marco "'.concat(c.name,'".'),significance:'Explique a import\xe2ncia hist\xf3rica ou cultural do marco "'.concat(c.name,'".'),location:'Descreva a localiza\xe7\xe3o do marco "'.concat(c.name,'".'),features:'Descreva caracter\xedsticas especiais do marco "'.concat(c.name,'".')};try{const n=await l("landmark_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Marco":"Adicionar Marco"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do marco \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Marco *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Torre dos Ventos",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:Zm.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do marco...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Import\xe2ncia Hist\xf3rica"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("significance"),disabled:"significance"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"significance"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.significance,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{significance:e.target.value})),className:"textarea-field",placeholder:"Por que este marco \xe9 importante?",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Localiza\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("location"),disabled:"location"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"location"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.location,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{location:e.target.value})),className:"input-field",placeholder:"Onde est\xe1 localizado?"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Caracter\xedsticas Especiais"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("features"),disabled:"features"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"features"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.features,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{features:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas \xfanicas do marco...",rows:"2"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Marco"]})]})]})]})]})})},hp=[{value:"political",label:"Pol\xedtico"},{value:"war",label:"Guerra"},{value:"discovery",label:"Descoberta"},{value:"disaster",label:"Desastre"},{value:"cultural",label:"Cultural"},{value:"magical",label:"M\xe1gico"},{value:"religious",label:"Religioso"},{value:"technological",label:"Tecnol\xf3gico"}],gp=e=>{let{event:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",description:"",year:"",type:"political",impact:"",participants:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente um evento hist\xf3rico chamado "'.concat(c.name,'" que aconteceu no ano ').concat(c.year||"desconhecido","."),impact:'Descreva o impacto e consequ\xeancias do evento "'.concat(c.name,'" no mundo.'),participants:'Liste os principais participantes, her\xf3is ou vil\xf5es envolvidos no evento "'.concat(c.name,'".')};try{const n=await l("event_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Evento":"Adicionar Evento"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do evento \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Evento *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: A Grande Guerra dos Drag\xf5es",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano"}),(0,An.jsx)("input",{type:"number",value:c.year,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{year:e.target.value})),className:"input-field",placeholder:"Ex: 1205"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Evento"}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:hp.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"O que aconteceu neste evento?",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Impacto e Consequ\xeancias"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("impact"),disabled:"impact"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"impact"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.impact,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{impact:e.target.value})),className:"textarea-field",placeholder:"Quais foram as consequ\xeancias deste evento?",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Participantes"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("participants"),disabled:"participants"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"participants"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.participants,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{participants:e.target.value})),className:"textarea-field",placeholder:"Quem esteve envolvido?",rows:"2"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Evento"]})]})]})]})]})})},xp=e=>{let{system:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",description:"",rules:"",source:"",limitations:""},n)),[d,m]=(0,t.useState)("");return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema de Magia":"Adicionar Sistema de Magia"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6 space-y-6",children:[(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{name:e.target.value})),className:"input-field",placeholder:"Nome do Sistema de Magia",required:!0}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o geral"}),(0,An.jsx)("textarea",{value:c.rules,onChange:e=>u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{rules:e.target.value})),className:"textarea-field",placeholder:"Regras principais"}),(0,An.jsx)("textarea",{value:c.source,onChange:e=>u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{source:e.target.value})),className:"textarea-field",placeholder:"Fonte da magia"}),(0,An.jsx)("textarea",{value:c.limitations,onChange:e=>u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{limitations:e.target.value})),className:"textarea-field",placeholder:"Limita\xe7\xf5es e custos"}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema"]})]})]})]})]})})},vp=e=>{let{language:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",family:"",description:"",speakers:"",script:"",examples:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente as caracter\xedsticas do idioma "'.concat(c.name,'".'),family:'Defina a fam\xedlia lingu\xedstica do idioma "'.concat(c.name,'".'),speakers:'Descreva os principais falantes do idioma "'.concat(c.name,'".'),script:'Descreva o sistema de escrita do idioma "'.concat(c.name,'".'),examples:'Crie exemplos de palavras ou frases do idioma "'.concat(c.name,'".')};try{const n=await l("language_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Idioma":"Adicionar Idioma"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do idioma \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Idioma *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: \xc9lfico Antigo",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fam\xedlia Lingu\xedstica"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("family"),disabled:"family"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"family"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.family,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{family:e.target.value})),className:"input-field",placeholder:"Ex: Proto-\xc9lfico"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas do idioma...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Principais Falantes"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("speakers"),disabled:"speakers"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"speakers"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.speakers,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{speakers:e.target.value})),className:"textarea-field",placeholder:"Quem fala este idioma?",rows:"2"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sistema de Escrita"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("script"),disabled:"script"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"script"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.script,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{script:e.target.value})),className:"textarea-field",placeholder:"Como \xe9 escrito?",rows:"2"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Exemplos"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("examples"),disabled:"examples"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"examples"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.examples,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{examples:e.target.value})),className:"textarea-field",placeholder:"Palavras ou frases de exemplo...",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Idioma"]})]})]})]})]})})},yp=e=>{let{tradition:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",type:"festival",description:"",origin:"",practice:"",frequency:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente a tradi\xe7\xe3o "'.concat(c.name,'".'),origin:'Descreva a origem hist\xf3rica da tradi\xe7\xe3o "'.concat(c.name,'".'),practice:'Descreva como \xe9 praticada a tradi\xe7\xe3o "'.concat(c.name,'".'),frequency:'Defina com que frequ\xeancia acontece a tradi\xe7\xe3o "'.concat(c.name,'".')};try{const n=await l("tradition_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Tradi\xe7\xe3o":"Adicionar Tradi\xe7\xe3o"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome da tradi\xe7\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Tradi\xe7\xe3o *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Festival das Flores",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:Xm.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada da tradi\xe7\xe3o...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Origem Hist\xf3rica"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("origin"),disabled:"origin"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"origin"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.origin,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{origin:e.target.value})),className:"textarea-field",placeholder:"Como surgiu esta tradi\xe7\xe3o?",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Como \xe9 Praticada"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("practice"),disabled:"practice"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"practice"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.practice,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{practice:e.target.value})),className:"textarea-field",placeholder:"Detalhes de como \xe9 praticada...",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Frequ\xeancia"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("frequency"),disabled:"frequency"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"frequency"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.frequency,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{frequency:e.target.value})),className:"input-field",placeholder:"Ex: Anualmente, Sazonal, Mensal..."})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Tradi\xe7\xe3o"]})]})]})]})]})})},bp=e=>{let{resource:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",type:"mineral",description:"",rarity:"comum",uses:"",location:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente o recurso "'.concat(c.name,'".'),uses:'Descreva os principais usos do recurso "'.concat(c.name,'".'),location:'Descreva onde o recurso "'.concat(c.name,'" pode ser encontrado.')};try{const n=await l("resource_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Recurso":"Adicionar Recurso"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do recurso \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Recurso *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Cristal de Mana",required:!0})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:$m.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raridade"}),(0,An.jsx)("select",{value:c.rarity,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{rarity:e.target.value})),className:"input-field",children:Jm.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas do recurso...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Principais Usos"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("uses"),disabled:"uses"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"uses"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.uses,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{uses:e.target.value})),className:"textarea-field",placeholder:"Para que \xe9 usado?",rows:"3"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Onde \xe9 Encontrado"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("location"),disabled:"location"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"location"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.location,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{location:e.target.value})),className:"textarea-field",placeholder:"Localiza\xe7\xe3o e condi\xe7\xf5es de obten\xe7\xe3o...",rows:"2"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Recurso"]})]})]})]})]})})},jp=e=>{let{technology:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",level:"",description:"",applications:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva detalhadamente a tecnologia "'.concat(c.name,'".'),applications:'Descreva as principais aplica\xe7\xf5es da tecnologia "'.concat(c.name,'".'),level:'Defina o n\xedvel tecnol\xf3gico da tecnologia "'.concat(c.name,'".')};try{const n=await l("technology_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Tecnologia":"Adicionar Tecnologia"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome da tecnologia \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Tecnologia *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Tecnologia de Teletransporte",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"N\xedvel Tecnol\xf3gico"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("level"),disabled:"level"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"level"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.level,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{level:e.target.value})),className:"input-field",placeholder:"Ex: N\xedvel 5"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada da tecnologia...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Aplica\xe7\xf5es"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("applications"),disabled:"applications"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"applications"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.applications,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{applications:e.target.value})),className:"textarea-field",placeholder:"Principais aplica\xe7\xf5es da tecnologia...",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Tecnologia"]})]})]})]})]})})},Np=e=>{let{government:n,onClose:r,onSave:a,onDelete:o,aiProvider:s,isGenerating:i,onGenerateWithAI:l}=e;const[c,u]=(0,t.useState)((0,Oe.A)({name:"",type:"monarchy",description:"",leaderTitle:"",laws:""},n)),[d,m]=(0,t.useState)(""),p=async e=>{if(!s)return void va.error("Configure um provedor de IA");m(e);const t={description:'Descreva o sistema pol\xedtico "'.concat(c.name,'".'),leaderTitle:'Defina o t\xedtulo do l\xedder do sistema "'.concat(c.name,'".'),laws:'Descreva as principais leis do sistema "'.concat(c.name,'".'),type:'Defina o tipo de governo do sistema "'.concat(c.name,'".')};try{const n=await l("government_field",t[e]);n&&(u(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:n})),va.success("".concat(e," gerado com sucesso!")))}catch(n){va.error("Erro ao gerar conte\xfado")}finally{m("")}};return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,An.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,An.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema Pol\xedtico":"Adicionar Sistema Pol\xedtico"}),(0,An.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,An.jsx)(dn,{className:"h-6 w-6"})})]}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):va.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Sistema *"}),(0,An.jsx)("input",{type:"text",value:c.name,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Imp\xe9rio de Eldoria",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("type"),disabled:"type"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"type"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("select",{value:c.type,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{type:e.target.value})),className:"input-field",children:Qm.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("description"),disabled:"description"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.description,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do sistema...",rows:"4"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"L\xedder"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("leaderTitle"),disabled:"leaderTitle"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"leaderTitle"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("input",{type:"text",value:c.leaderTitle,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{leaderTitle:e.target.value})),className:"input-field",placeholder:"Ex: Imperador"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Leis"}),s&&(0,An.jsx)("button",{type:"button",onClick:()=>p("laws"),disabled:"laws"===d,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"laws"===d?"Gerando...":"\u2728 IA"})]}),(0,An.jsx)("textarea",{value:c.laws,onChange:e=>u((0,Oe.A)((0,Oe.A)({},c),{},{laws:e.target.value})),className:"textarea-field",placeholder:"Principais leis do sistema...",rows:"3"})]})]}),(0,An.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,An.jsx)("div",{children:n&&(0,An.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&o(n.id)},className:"btn-danger",children:[(0,An.jsx)(wn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,An.jsxs)("div",{className:"flex space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,An.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema Pol\xedtico"]})]})]})]})]})})},wp=()=>{var e,n;const{worldData:r,updateWorldData:a,addLocation:o,settings:s,characters:i,addWorldItem:l,updateWorldItem:c,deleteWorldItem:u}=(0,gn.A)(),[d,m]=(0,t.useState)("overview"),[p,f]=(0,t.useState)("locations"),[h,g]=(0,t.useState)("grid"),[x,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[j,N]=(0,t.useState)(""),[w,k]=(0,t.useState)("all"),[S,C]=(0,t.useState)("name"),[_,E]=(0,t.useState)("asc"),[A,O]=(0,t.useState)(!1),[P,T]=(0,t.useState)(""),[M,I]=(0,t.useState)(0),[D,L]=(0,t.useState)(!1),[R,z]=(0,t.useState)(!0),[q,B]=(0,t.useState)({}),F=(0,t.useMemo)(()=>{var e,t,n,a;return[{id:"locations",label:"Locais",icon:Tn,count:(null===r||void 0===r||null===(e=r.locations)||void 0===e?void 0:e.length)||0},{id:"regions",label:"Regi\xf5es",icon:_r,count:(null===r||void 0===r||null===(t=r.regions)||void 0===t?void 0:t.length)||0},{id:"landmarks",label:"Marcos",icon:Er,count:(null===r||void 0===r||null===(n=r.landmarks)||void 0===n?void 0:n.length)||0},{id:"resources",label:"Recursos",icon:Ar,count:(null===r||void 0===r||null===(a=r.resources)||void 0===a?void 0:a.length)||0}]},[r]),U=(0,t.useMemo)(()=>{var e,t,n,a;return[{id:"peoples",label:"Povos",icon:en,count:(null===r||void 0===r||null===(e=r.peoples)||void 0===e?void 0:e.length)||0},{id:"languages",label:"Idiomas",icon:$t,count:(null===r||void 0===r||null===(t=r.languages)||void 0===t?void 0:t.length)||0},{id:"religions",label:"Religi\xf5es",icon:Or,count:(null===r||void 0===r||null===(n=r.religions)||void 0===n?void 0:n.length)||0},{id:"traditions",label:"Tradi\xe7\xf5es",icon:Pr,count:(null===r||void 0===r||null===(a=r.traditions)||void 0===a?void 0:a.length)||0}]},[r]),H=(0,t.useMemo)(()=>{var e,t,n,a;return[{id:"magicSystems",label:"Magia",icon:Dn,count:(null===r||void 0===r||null===(e=r.magicSystems)||void 0===e?void 0:e.length)||0},{id:"technologies",label:"Tecnologia",icon:sn,count:(null===r||void 0===r||null===(t=r.technologies)||void 0===t?void 0:t.length)||0},{id:"governments",label:"Pol\xedtica",icon:Tr,count:(null===r||void 0===r||null===(n=r.governments)||void 0===n?void 0:n.length)||0},{id:"economies",label:"Economia",icon:Mr,count:(null===r||void 0===r||null===(a=r.economies)||void 0===a?void 0:a.length)||0}]},[r]);(0,t.useMemo)(()=>{var e,t;return[{id:"events",label:"Eventos",icon:Fn,count:(null===r||void 0===r||null===(e=r.events)||void 0===e?void 0:e.length)||0},{id:"eras",label:"Eras",icon:ln,count:(null===r||void 0===r||null===(t=r.eras)||void 0===t?void 0:t.length)||0}]},[null===r||void 0===r||null===(e=r.events)||void 0===e?void 0:e.length,null===r||void 0===r||null===(n=r.eras)||void 0===n?void 0:n.length]);(0,t.useEffect)(()=>{const e=Object.keys((null===s||void 0===s?void 0:s.aiProviders)||{}).filter(e=>{var t,n;return(null===(t=s.aiProviders[e])||void 0===t?void 0:t.enabled)&&(null===(n=s.aiProviders[e])||void 0===n?void 0:n.apiKey)});e.length>0&&T(e[0])},[s]);const G=(0,t.useCallback)(()=>{var e;if(!P||null===s||void 0===s||null===(e=s.aiProviders)||void 0===e||!e[P])throw new Error("Nenhum provedor de IA configurado");const t=s.aiProviders[P];return new Jn(P,t.apiKey,{model:t.defaultModel,temperature:t.temperature,maxTokens:t.maxTokens})},[P,s]),V=(0,t.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!P)return va.error("Configure um provedor de IA nas configura\xe7\xf5es"),null;O(!0),I(0);try{var r,a;const e=G(),o=((e,t)=>{var n;const r=null===(n=$n[e])||void 0===n?void 0:n.models;if(!r)return null;const a=Object.keys(r);switch(t){case"creative_writing":return"openai"===e?"gpt-4o":"anthropic"===e?"claude-3-5-sonnet-20241022":"google"===e?"gemini-1.5-pro":"llama3-70b-8192";case"fast_generation":return"openai"===e?"gpt-3.5-turbo":"anthropic"===e?"claude-3-haiku-20240307":"google"===e?"gemini-1.5-flash":"llama3-8b-8192";case"long_context":return"anthropic"===e?"claude-3-5-sonnet-20241022":"google"===e?"gemini-1.5-pro":"groq"===e?"mixtral-8x7b-32768":"gpt-4-turbo"}return a[0]})(P,"creative_writing"),s=setInterval(()=>{I(e=>Math.min(e+10,90))},200);let i=t;n.worldName&&(i='Para o mundo "'.concat(n.worldName,'":\n\n').concat(t)),(null===(r=n.existingElements)||void 0===r?void 0:r.length)>0&&(i+="\n\nElementos existentes para refer\xeancia:\n".concat(n.existingElements.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n"))),(null===(a=n.characters)||void 0===a?void 0:a.length)>0&&(i+="\n\nPersonagens relacionados:\n".concat(n.characters.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n")));const l=await e.generateText(i,{model:o});return clearInterval(s),I(100),setTimeout(()=>{I(0),O(!1)},500),l}catch(o){return O(!1),I(0),console.error("Erro na gera\xe7\xe3o:",o),va.error("Erro ao gerar conte\xfado: ".concat(o.message)),null}},[P,G]),W=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"random";const t={random:'Crie um local \xfanico e interessante para uma light novel. Inclua:\n- Nome criativo e evocativo\n- Tipo de local (cidade, floresta, castelo, etc.)\n- Descri\xe7\xe3o visual detalhada\n- Hist\xf3ria e significado cultural\n- Habitantes t\xedpicos\n- Pontos de interesse importantes\n- Atmosfera e sensa\xe7\xf5es \xfanicas\n\nFormate como JSON:\n{\n  "name": "Nome do Local",\n  "type": "tipo",\n  "description": "Descri\xe7\xe3o detalhada...",\n  "climate": "Clima predominante",\n  "population": "Informa\xe7\xf5es sobre popula\xe7\xe3o",\n  "culture": "Aspectos culturais",\n  "government": "Sistema de governo",\n  "economy": "Base econ\xf4mica",\n  "pointsOfInterest": ["Ponto 1", "Ponto 2", "Ponto 3"],\n  "atmosphere": "Descri\xe7\xe3o da atmosfera",\n  "secrets": "Segredos ou mist\xe9rios do local"\n}',city:"Crie uma cidade fascinante para uma light novel com arquitetura \xfanica, distritos interessantes, e uma rica vida urbana.",wilderness:"Crie uma \xe1rea selvagem misteriosa com paisagens \xfanicas, criaturas interessantes e segredos ocultos.",mystical:"Crie um local m\xe1gico com propriedades sobrenaturais, energia m\xedstica e fen\xf4menos inexplic\xe1veis."},n={worldName:(null===r||void 0===r?void 0:r.name)||"Mundo da Light Novel",existingElements:(null===r||void 0===r?void 0:r.locations)||[],characters:(null===i||void 0===i?void 0:i.slice(0,3))||[]},a=await V("location",t[e]||t.random,n);if(a)try{const e=JSON.parse(a);return(0,Oe.A)({id:Date.now(),createdAt:(new Date).toISOString(),generatedBy:P},e)}catch(Pe){return{id:Date.now(),name:"Local Gerado ".concat(Date.now()),type:"random"===e?"city":e,description:a,createdAt:(new Date).toISOString(),generatedBy:P}}return null},[V,r,i,P]),K=((0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingElements:(null===r||void 0===r?void 0:r.peoples)||[]},t=await V("people",'Crie um povo ou ra\xe7a para uma light novel. Inclua:\n- Nome\n- Classifica\xe7\xe3o (humano, elfo, etc.)\n- Descri\xe7\xe3o f\xedsica e cultural\n- Sociedade e estrutura pol\xedtica\n- Tradi\xe7\xf5es e costumes\n\nFormate como JSON:\n{\n  "name": "Nome",\n  "classification": "Classifica\xe7\xe3o",\n  "description": "Descri\xe7\xe3o",\n  "society": "Sociedade",\n  "traditions": "Tradi\xe7\xf5es",\n  "appearance": "Apar\xeancia"\n}',e);if(t)try{const e=JSON.parse(t);l("peoples",e),va.success('Povo "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingEvents:(null===r||void 0===r?void 0:r.events)||[]},t=await V("event",'Crie um evento hist\xf3rico para uma light novel. Inclua:\n- Nome do evento\n- Ano aproximado\n- Tipo (pol\xedtico, guerra, descoberta, etc.)\n- Descri\xe7\xe3o detalhada\n- Impacto no mundo\n- Principais participantes\n\nFormate como JSON:\n{\n  "name": "Nome do Evento",\n  "year": "Ano",\n  "type": "Tipo",\n  "description": "Descri\xe7\xe3o",\n  "impact": "Impacto",\n  "participants": "Participantes"\n}',e);if(t)try{const e=JSON.parse(t);l("events",e),va.success('Evento "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l])),Y=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingSystems:(null===r||void 0===r?void 0:r.magicSystems)||[]},t=await V("magicSystem",'Crie um sistema de magia \xfanico para uma light novel. Inclua:\n- Nome do sistema\n- Descri\xe7\xe3o detalhada\n- Regras e funcionamento\n- Fonte de poder\n- Limita\xe7\xf5es e custos\n\nFormate como JSON:\n{\n  "name": "Nome do Sistema",\n  "description": "Descri\xe7\xe3o detalhada",\n  "rules": "Regras de funcionamento",\n  "source": "Fonte de poder",\n  "limitations": "Limita\xe7\xf5es e custos"\n}',e);if(t)try{const e=JSON.parse(t);l("magicSystems",e),va.success('Sistema "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),X=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingLanguages:(null===r||void 0===r?void 0:r.languages)||[],peoples:(null===r||void 0===r?void 0:r.peoples)||[]},t=await V("language",'Crie um idioma \xfanico para uma light novel. Inclua:\n- Nome do idioma\n- Fam\xedlia lingu\xedstica\n- Descri\xe7\xe3o das caracter\xedsticas\n- Principais falantes/povos\n- Sistema de escrita\n- Exemplos de palavras ou frases\n\nFormate como JSON:\n{\n  "name": "Nome do Idioma",\n  "family": "Fam\xedlia Lingu\xedstica",\n  "description": "Descri\xe7\xe3o detalhada",\n  "speakers": "Principais falantes",\n  "script": "Sistema de escrita",\n  "examples": "Exemplos de palavras"\n}',e);if(t)try{const e=JSON.parse(t);l("languages",e),va.success('Idioma "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),Z=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingReligions:(null===r||void 0===r?void 0:r.religions)||[],peoples:(null===r||void 0===r?void 0:r.peoples)||[]},t=await V("religion",'Crie uma religi\xe3o \xfanica para uma light novel. Inclua:\n- Nome da religi\xe3o\n- Principais divindades ou conceitos\n- Descri\xe7\xe3o das cren\xe7as centrais\n- Pr\xe1ticas e rituais\n- Seguidores principais\n- S\xedmbolos sagrados\n\nFormate como JSON:\n{\n  "name": "Nome da Religi\xe3o",\n  "deities": "Divindades principais",\n  "description": "Cren\xe7as centrais",\n  "practices": "Pr\xe1ticas e rituais",\n  "followers": "Principais seguidores",\n  "symbols": "S\xedmbolos sagrados"\n}',e);if(t)try{const e=JSON.parse(t);l("religions",e),va.success('Religi\xe3o "'.concat(e.name,'" gerada com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),$=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingTraditions:(null===r||void 0===r?void 0:r.traditions)||[],peoples:(null===r||void 0===r?void 0:r.peoples)||[],religions:(null===r||void 0===r?void 0:r.religions)||[]},t=await V("tradition",'Crie uma tradi\xe7\xe3o cultural \xfanica para uma light novel. Inclua:\n- Nome da tradi\xe7\xe3o\n- Tipo (festival, ritual, costume, etc.)\n- Descri\xe7\xe3o detalhada\n- Origem hist\xf3rica\n- Como \xe9 praticada\n- Frequ\xeancia (anual, sazonal, etc.)\n\nFormate como JSON:\n{\n  "name": "Nome da Tradi\xe7\xe3o",\n  "type": "Tipo da tradi\xe7\xe3o",\n  "description": "Descri\xe7\xe3o detalhada",\n  "origin": "Origem hist\xf3rica",\n  "practice": "Como \xe9 praticada",\n  "frequency": "Frequ\xeancia"\n}',e);if(t)try{const e=JSON.parse(t);l("traditions",e),va.success('Tradi\xe7\xe3o "'.concat(e.name,'" gerada com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),J=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingRegions:(null===r||void 0===r?void 0:r.regions)||[],locations:(null===r||void 0===r?void 0:r.locations)||[]},t=await V("region",'Crie uma regi\xe3o geogr\xe1fica \xfanica para uma light novel. Inclua:\n- Nome da regi\xe3o\n- Descri\xe7\xe3o geogr\xe1fica detalhada\n- Tipo de clima predominante\n- Terreno caracter\xedstico\n- Popula\xe7\xe3o estimada\n- Caracter\xedsticas especiais\n\nFormate como JSON:\n{\n  "name": "Nome da Regi\xe3o",\n  "description": "Descri\xe7\xe3o geogr\xe1fica",\n  "climate": "Clima predominante",\n  "terrain": "Tipo de terreno",\n  "population": "Popula\xe7\xe3o estimada",\n  "features": "Caracter\xedsticas especiais"\n}',e);if(t)try{const e=JSON.parse(t);l("regions",e),va.success('Regi\xe3o "'.concat(e.name,'" gerada com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),Q=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingLandmarks:(null===r||void 0===r?void 0:r.landmarks)||[],regions:(null===r||void 0===r?void 0:r.regions)||[]},t=await V("landmark",'Crie um marco/ponto de refer\xeancia \xfanico para uma light novel. Inclua:\n- Nome do marco\n- Tipo (montanha, ru\xednas, monumento, etc.)\n- Descri\xe7\xe3o detalhada\n- Import\xe2ncia hist\xf3rica ou cultural\n- Localiza\xe7\xe3o aproximada\n- Caracter\xedsticas especiais\n\nFormate como JSON:\n{\n  "name": "Nome do Marco",\n  "type": "Tipo do marco",\n  "description": "Descri\xe7\xe3o detalhada",\n  "significance": "Import\xe2ncia hist\xf3rica",\n  "location": "Localiza\xe7\xe3o",\n  "features": "Caracter\xedsticas especiais"\n}',e);if(t)try{const e=JSON.parse(t);l("landmarks",e),va.success('Marco "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),ee=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingResources:(null===r||void 0===r?void 0:r.resources)||[],regions:(null===r||void 0===r?void 0:r.regions)||[]},t=await V("resource",'Crie um recurso natural/material \xfanico para uma light novel. Inclua:\n- Nome do recurso\n- Tipo (mineral, vegetal, animal, m\xe1gico, etc.)\n- Descri\xe7\xe3o das caracter\xedsticas\n- N\xedvel de raridade\n- Principais usos e aplica\xe7\xf5es\n- Onde pode ser encontrado\n\nFormate como JSON:\n{\n  "name": "Nome do Recurso",\n  "type": "Tipo do recurso",\n  "description": "Caracter\xedsticas",\n  "rarity": "N\xedvel de raridade",\n  "uses": "Principais usos",\n  "location": "Onde \xe9 encontrado"\n}',e);if(t)try{const e=JSON.parse(t);l("resources",e),va.success('Recurso "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),te=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingTechnologies:(null===r||void 0===r?void 0:r.technologies)||[]},t=await V("technology",'Crie uma tecnologia \xfanica para uma light novel. Inclua:\n- Nome da tecnologia\n- N\xedvel tecnol\xf3gico (ex: Medieval, Renascentista, Industrial, Futurista)\n- Descri\xe7\xe3o detalhada de como funciona\n- Principais aplica\xe7\xf5es e usos\n- Impacto na sociedade\n\nFormate como JSON:\n{\n  "name": "Nome da Tecnologia",\n  "level": "N\xedvel Tecnol\xf3gico",\n  "description": "Descri\xe7\xe3o detalhada",\n  "applications": "Aplica\xe7\xf5es e usos",\n  "impact": "Impacto na sociedade"\n}',e);if(t)try{const e=JSON.parse(t);l("technologies",e),va.success('Tecnologia "'.concat(e.name,'" gerada com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),ne=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingGovernments:(null===r||void 0===r?void 0:r.governments)||[],peoples:(null===r||void 0===r?void 0:r.peoples)||[],regions:(null===r||void 0===r?void 0:r.regions)||[]},t=await V("government",'Crie um sistema pol\xedtico/governo \xfanico para uma light novel. Inclua:\n- Nome do governo (ex: Imp\xe9rio de Eldoria)\n- Tipo de governo (ex: Monarquia, Rep\xfablica, Teocracia)\n- Descri\xe7\xe3o da estrutura de poder\n- T\xedtulo do l\xedder (ex: Imperador, Presidente, Sumo Sacerdote)\n- Leis e ideologias principais\n\nFormate como JSON:\n{\n  "name": "Nome do Governo",\n  "type": "Tipo de Governo",\n  "description": "Estrutura de poder",\n  "leaderTitle": "T\xedtulo do L\xedder",\n  "laws": "Leis e ideologias"\n}',e);if(t)try{const e=JSON.parse(t);l("governments",e),va.success('Sistema pol\xedtico "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),re=(0,t.useCallback)(async()=>{const e={worldName:null===r||void 0===r?void 0:r.name,existingEconomies:(null===r||void 0===r?void 0:r.economies)||[],resources:(null===r||void 0===r?void 0:r.resources)||[],regions:(null===r||void 0===r?void 0:r.regions)||[]},t=await V("economy",'Crie um sistema econ\xf4mico \xfanico para uma light novel. Inclua:\n- Nome do sistema (ex: Mercantilismo de Prata)\n- Descri\xe7\xe3o do funcionamento\n- Moeda principal\n- Principais exporta\xe7\xf5es e importa\xe7\xf5es\n- N\xedvel de riqueza e distribui\xe7\xe3o\n\nFormate como JSON:\n{\n  "name": "Nome do Sistema",\n  "description": "Funcionamento da economia",\n  "currency": "Moeda Principal",\n  "mainExports": "Principais Exporta\xe7\xf5es",\n  "wealthDistribution": "Distribui\xe7\xe3o de Riqueza"\n}',e);if(t)try{const e=JSON.parse(t);l("economies",e),va.success('Sistema econ\xf4mico "'.concat(e.name,'" gerado com sucesso!'))}catch(Pe){va.error("A IA retornou um formato inv\xe1lido.")}},[V,r,l]),ae=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;L(!0);const n=[];for(let r=0;r<t;r++){va.loading("Gerando ".concat(r+1,"/").concat(t,"..."),{id:"batch-generation"});const a=await W(e);a&&(n.push(a),o(a)),await new Promise(e=>setTimeout(e,1e3))}return L(!1),va.success("".concat(n.length," locais gerados com sucesso!"),{id:"batch-generation"}),n},[W,o]),oe=(0,t.useCallback)(()=>{if("geography"===d)switch(p){case"locations":return(null===r||void 0===r?void 0:r.locations)||[];case"regions":return(null===r||void 0===r?void 0:r.regions)||[];case"climate":return(null===r||void 0===r?void 0:r.climates)||[];case"resources":return(null===r||void 0===r?void 0:r.resources)||[];default:return[]}if("cultures"===d)switch(p){case"peoples":return(null===r||void 0===r?void 0:r.peoples)||[];case"languages":return(null===r||void 0===r?void 0:r.languages)||[];case"religions":return(null===r||void 0===r?void 0:r.religions)||[];case"traditions":return(null===r||void 0===r?void 0:r.traditions)||[];default:return[]}if("systems"===d)switch(p){case"magicSystems":return(null===r||void 0===r?void 0:r.magicSystems)||[];case"technologies":return(null===r||void 0===r?void 0:r.technologies)||[];case"governments":return(null===r||void 0===r?void 0:r.governments)||[];case"economies":return(null===r||void 0===r?void 0:r.economies)||[];default:return[]}if("history"===d)switch(p){case"events":return(null===r||void 0===r?void 0:r.events)||[];case"eras":return(null===r||void 0===r?void 0:r.eras)||[];default:return[]}return[]},[d,p,r]),se=(0,t.useMemo)(()=>{let e=oe().filter(e=>{var t,n;const r=(j||"").toLowerCase(),a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r)),o="all"===w||e.type===w;return a&&o});return e.sort((e,t)=>{let n=e[S]||"",r=t[S]||"";return"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),"asc"===_?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}),e},[j,w,S,_,oe]),ie=(0,t.useMemo)(()=>{const e=(null===r||void 0===r?void 0:r.locations)||[],t=(null===r||void 0===r?void 0:r.cultures)||[],n=(null===r||void 0===r?void 0:r.religions)||[];return{totalElements:e.length+t.length+n.length,locations:e.length,cultures:t.length,religions:n.length,avgWordsPerLocation:e.length>0?Math.round(e.reduce((e,t)=>{var n;return e+((null===(n=t.description)||void 0===n?void 0:n.split(" ").length)||0)},0)/e.length):0,mostCommonType:e.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}),recentlyAdded:e.filter(e=>new Date(e.createdAt||0)>new Date(Date.now()-6048e5)).length}},[r]),le=(e,t)=>{const n=e.endsWith("s")?e.slice(0,-1):e;y?(c(e,y.id,t),va.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," atualizado com sucesso!"))):(l(e,t),va.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," adicionado com sucesso!"))),v(null),b(null)},ce=(e,t)=>{const n=e.endsWith("s")?e.slice(0,-1):e;u(e,t),va.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," exclu\xeddo com sucesso!")),v(null),b(null)},ue=()=>{var e,t,n;return(0,An.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,An.jsx)("div",{className:"card-compact hover-lift",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:(0,An.jsx)(Tn,{className:"h-6 w-6 text-blue-600"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Elementos"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ie.totalElements})]})]})}),(0,An.jsx)("div",{className:"card-compact hover-lift",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:(0,An.jsx)(Ir,{className:"h-6 w-6 text-green-600"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Locais"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ie.locations})]})]})}),(0,An.jsx)("div",{className:"card-compact hover-lift",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:(0,An.jsx)(en,{className:"h-6 w-6 text-purple-600"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Culturas"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ie.cultures})]})]})}),(0,An.jsx)("div",{className:"card-compact hover-lift",children:(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg mr-4",children:(0,An.jsx)(Or,{className:"h-6 w-6 text-orange-600"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Religi\xf5es"}),(0,An.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ie.religions})]})]})})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,An.jsx)("button",{className:"btn-ghost",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nome do Mundo"}),(0,An.jsx)("input",{type:"text",value:(null===r||void 0===r?void 0:r.name)||"",onChange:e=>a({name:e.target.value}),className:"input-field",placeholder:"Digite o nome do seu mundo..."})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descri\xe7\xe3o Geral"}),(0,An.jsx)("textarea",{value:(null===r||void 0===r?void 0:r.description)||"",onChange:e=>a({description:e.target.value}),className:"textarea-field",rows:"4",placeholder:"Descreva seu mundo, sua atmosfera, caracter\xedsticas principais..."})]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"G\xeanero"}),(0,An.jsxs)("select",{value:(null===r||void 0===r?void 0:r.genre)||"",onChange:e=>a({genre:e.target.value}),className:"input-field",children:[(0,An.jsx)("option",{value:"",children:"Selecione..."}),(0,An.jsx)("option",{value:"fantasy",children:"Fantasia"}),(0,An.jsx)("option",{value:"sci-fi",children:"Fic\xe7\xe3o Cient\xedfica"}),(0,An.jsx)("option",{value:"urban-fantasy",children:"Fantasia Urbana"}),(0,An.jsx)("option",{value:"historical",children:"Hist\xf3rico"}),(0,An.jsx)("option",{value:"modern",children:"Moderno"}),(0,An.jsx)("option",{value:"post-apocalyptic",children:"P\xf3s-Apocal\xedptico"}),(0,An.jsx)("option",{value:"steampunk",children:"Steampunk"}),(0,An.jsx)("option",{value:"cyberpunk",children:"Cyberpunk"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"N\xedvel Tecnol\xf3gico"}),(0,An.jsxs)("select",{value:(null===r||void 0===r?void 0:r.techLevel)||"",onChange:e=>a({techLevel:e.target.value}),className:"input-field",children:[(0,An.jsx)("option",{value:"",children:"Selecione..."}),(0,An.jsx)("option",{value:"stone-age",children:"Idade da Pedra"}),(0,An.jsx)("option",{value:"bronze-age",children:"Idade do Bronze"}),(0,An.jsx)("option",{value:"iron-age",children:"Idade do Ferro"}),(0,An.jsx)("option",{value:"medieval",children:"Medieval"}),(0,An.jsx)("option",{value:"renaissance",children:"Renascimento"}),(0,An.jsx)("option",{value:"industrial",children:"Industrial"}),(0,An.jsx)("option",{value:"modern",children:"Moderno"}),(0,An.jsx)("option",{value:"futuristic",children:"Futur\xedstico"})]})]})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Dn,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Assistente IA"})]}),P&&(0,An.jsx)("span",{className:"badge badge-success",children:(null===s||void 0===s||null===(e=s.aiProviders)||void 0===e||null===(t=e[P])||void 0===t?void 0:t.name)||P})]}),P?(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,An.jsxs)("button",{onClick:()=>W("city"),disabled:A,className:"btn-outline flex items-center justify-center",children:[(0,An.jsx)(Ir,{className:"h-4 w-4 mr-2"}),"Gerar Cidade"]}),(0,An.jsxs)("button",{onClick:()=>W("wilderness"),disabled:A,className:"btn-outline flex items-center justify-center",children:[(0,An.jsx)(Lr,{className:"h-4 w-4 mr-2"}),"Gerar Natureza"]}),(0,An.jsxs)("button",{onClick:()=>W("mystical"),disabled:A,className:"btn-outline flex items-center justify-center",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar M\xedstico"]}),(0,An.jsxs)("button",{onClick:()=>ae("random",3),disabled:A||D,className:"btn-primary flex items-center justify-center",children:[(0,An.jsx)(sn,{className:"h-4 w-4 mr-2"}),"Lote (3x)"]})]}),(A||D)&&(0,An.jsxs)("div",{className:"space-y-2",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,An.jsx)("span",{className:"text-muted-foreground",children:D?"Gera\xe7\xe3o em lote...":"Gerando conte\xfado..."}),(0,An.jsxs)("span",{className:"text-muted-foreground",children:[M,"%"]})]}),(0,An.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(M,"%")}})})]}),(0,An.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,An.jsxs)("p",{className:"text-sm text-blue-700",children:["\ud83d\udca1 ",(0,An.jsx)("strong",{children:"Dica:"})," A IA usa o contexto do seu mundo e personagens para gerar conte\xfado mais coerente e interessante."]})})]}):(0,An.jsxs)("div",{className:"text-center py-8",children:[(0,An.jsx)(sn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,An.jsx)("p",{className:"text-muted-foreground mb-4",children:"Configure um provedor de IA para usar a gera\xe7\xe3o autom\xe1tica"}),(0,An.jsx)("button",{onClick:()=>window.location.href="/settings",className:"btn-primary",children:"Configurar IA"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Elementos Recentes"}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("span",{className:"text-sm text-muted-foreground",children:[ie.recentlyAdded," esta semana"]}),(0,An.jsx)(yn,{className:"h-4 w-4 text-muted-foreground"})]})]}),(null===r||void 0===r||null===(n=r.locations)||void 0===n?void 0:n.length)>0?(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.locations.slice(-6).map(e=>{var t,n;return(0,An.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,An.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,An.jsx)("span",{className:"badge ".concat((null===(t=Ym.find(t=>t.value===e.type))||void 0===t?void 0:t.color)||"badge-gray"),children:(null===(n=Ym.find(t=>t.value===e.type))||void 0===n?void 0:n.label)||e.type})]}),(0,An.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),e.generatedBy&&(0,An.jsxs)("div",{className:"mt-2 flex items-center text-xs text-purple-600",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"Gerado por IA"]})]},e.id)})}):(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(Qt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Comece a construir seu mundo"}),(0,An.jsx)("p",{className:"text-muted-foreground mb-6",children:"Crie locais, culturas e sistemas para dar vida \xe0 sua hist\xf3ria"}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>m("geography"),className:"btn-primary",children:"Adicionar Local"}),(0,An.jsx)("button",{onClick:()=>m("cultures"),className:"btn-outline",children:"Criar Cultura"})]})]})]})]})},de=()=>0===se.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Tn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:j||"all"!==w?"Nenhum local encontrado":"Nenhum local criado ainda"}),(0,An.jsx)("p",{className:"text-muted-foreground mb-6",children:j||"all"!==w?"Tente ajustar os filtros de busca":"Comece adicionando seu primeiro local ou use a IA para gerar automaticamente"}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("location"),className:"btn-primary",children:"Adicionar Manualmente"}),P&&(0,An.jsxs)("button",{onClick:()=>W("random"),className:"btn-outline",disabled:A,children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):"grid"===h?(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(e=>(0,An.jsx)(me,{location:e},e.id))}):(0,An.jsx)("div",{className:"space-y-4",children:se.map(e=>(0,An.jsx)(pe,{location:e},e.id))}),me=e=>{var t,n,r;let{location:a}=e;const o=Ym.find(e=>e.value===a.type)||Ym[0],s=q[a.id];return(0,An.jsxs)("div",{className:"card hover-lift group",children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-2 rounded-lg mr-3 ".concat(null===o||void 0===o||null===(t=o.color)||void 0===t||null===(n=t.replace("text-","text-white bg-"))||void 0===n?void 0:n.replace("-800","-500")),children:(0,An.jsx)(o.icon,{className:"h-5 w-5"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"font-semibold text-foreground group-hover:text-primary-600 transition-colors",children:a.name}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:o.label})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,An.jsx)("button",{onClick:()=>B(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[a.id]:!e[a.id]})),className:"p-1 text-gray-400 hover:text-gray-600",children:s?(0,An.jsx)(kn,{className:"h-4 w-4"}):(0,An.jsx)(Nn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>{b(a),v("location")},className:"p-1 text-gray-400 hover:text-green-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed ".concat(s?"":"line-clamp-3"),children:a.description}),s&&(0,An.jsxs)("div",{className:"mt-4 space-y-3 animate-slide-up",children:[a.climate&&(0,An.jsxs)("div",{className:"flex items-center text-sm",children:[(0,An.jsx)(qr,{className:"h-4 w-4 text-orange-500 mr-2"}),(0,An.jsxs)("span",{className:"text-gray-600",children:["Clima: ",a.climate]})]}),a.population&&(0,An.jsxs)("div",{className:"flex items-center text-sm",children:[(0,An.jsx)(en,{className:"h-4 w-4 text-blue-500 mr-2"}),(0,An.jsxs)("span",{className:"text-gray-600",children:["Popula\xe7\xe3o: ",a.population]})]}),(null===(r=a.pointsOfInterest)||void 0===r?void 0:r.length)>0&&(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Pontos de Interesse:"}),(0,An.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:a.pointsOfInterest.map((e,t)=>(0,An.jsxs)("li",{className:"flex items-center",children:[(0,An.jsx)(Or,{className:"h-3 w-3 text-yellow-500 mr-2 flex-shrink-0"}),e]},t))})]})]}),(0,An.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[a.generatedBy&&(0,An.jsxs)("span",{className:"badge badge-primary flex items-center",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"IA"]}),a.createdAt&&(0,An.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("button",{className:"p-1 text-gray-400 hover:text-blue-600",title:"Copiar",children:(0,An.jsx)(ir,{className:"h-4 w-4"})}),(0,An.jsx)("button",{className:"p-1 text-gray-400 hover:text-green-600",title:"Compartilhar",children:(0,An.jsx)(Br,{className:"h-4 w-4"})})]})]})]})},pe=e=>{var t,n;let{location:r}=e;const a=Ym.find(e=>e.value===r.type)||Ym[0];return(0,An.jsxs)("div",{className:"card flex items-center justify-between hover-lift",children:[(0,An.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,An.jsx)("div",{className:"p-2 rounded-lg mr-4 ".concat(null===a||void 0===a||null===(t=a.color)||void 0===t||null===(n=t.replace("text-","text-white bg-"))||void 0===n?void 0:n.replace("-800","-500")),children:(0,An.jsx)(a.icon,{className:"h-5 w-5"})}),(0,An.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:r.name}),(0,An.jsx)("span",{className:"badge ".concat(a.color),children:a.label}),r.generatedBy&&(0,An.jsxs)("span",{className:"badge badge-primary flex items-center",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"IA"]})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm truncate mt-1",children:r.description})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[r.createdAt&&(0,An.jsx)("span",{className:"text-xs text-gray-500",children:new Date(r.createdAt).toLocaleDateString("pt-BR")}),(0,An.jsx)("button",{onClick:()=>{b(r),v("location")},className:"p-2 text-gray-400 hover:text-green-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]})},fe=()=>{const e=(null===r||void 0===r?void 0:r.regions)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Fr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma regi\xe3o criada ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione regi\xf5es geogr\xe1ficas para organizar seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("region"),className:"btn-primary",children:"Adicionar Regi\xe3o"}),P&&(0,An.jsxs)("button",{onClick:()=>J(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Regi\xf5es (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("region"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Regi\xe3o"]}),P&&(0,An.jsxs)("button",{onClick:()=>J(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("region")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,An.jsx)(Fr,{className:"h-5 w-5 text-primary-500"})]}),(0,An.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.climate&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Clima:"}),(0,An.jsx)("p",{className:"text-sm text-foreground",children:e.climate})]}),e.terrain&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Terreno:"}),(0,An.jsx)("p",{className:"text-sm text-foreground",children:e.terrain})]}),e.population&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Popula\xe7\xe3o:"}),(0,An.jsx)("p",{className:"text-sm text-foreground",children:e.population})]})]},e.id))})]})},he=()=>{const e=(null===r||void 0===r?void 0:r.landmarks)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Er,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum marco criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione marcos e pontos de refer\xeancia importantes."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("landmark"),className:"btn-primary",children:"Adicionar Marco"}),P&&(0,An.jsxs)("button",{onClick:()=>Q(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Marcos (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("landmark"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Marco"]}),P&&(0,An.jsxs)("button",{onClick:()=>Q(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("landmark")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,An.jsx)(Er,{className:"h-5 w-5 text-primary-500"})]}),(0,An.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("span",{className:"inline-block px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded",children:e.type})}),e.significance&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Import\xe2ncia:"}),(0,An.jsx)("p",{className:"text-sm text-foreground line-clamp-2",children:e.significance})]}),e.location&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Localiza\xe7\xe3o:"}),(0,An.jsx)("p",{className:"text-sm text-foreground",children:e.location})]})]},e.id))})]})},ge=()=>{const e=(null===r||void 0===r?void 0:r.resources)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Ar,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum recurso criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione recursos naturais e materiais do seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("resource"),className:"btn-primary",children:"Adicionar Recurso"}),P&&(0,An.jsxs)("button",{onClick:()=>ee(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Recursos (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("resource"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Recurso"]}),P&&(0,An.jsxs)("button",{onClick:()=>ee(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("resource")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,An.jsx)(Ar,{className:"h-5 w-5 text-secondary-500"})]}),(0,An.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("span",{className:"inline-block px-2 py-1 bg-secondary-100 text-secondary-800 text-xs rounded",children:e.type})}),e.rarity&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Raridade:"}),(0,An.jsx)("p",{className:"text-sm text-foreground",children:e.rarity})]}),e.uses&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Usos:"}),(0,An.jsx)("p",{className:"text-sm text-foreground line-clamp-2",children:e.uses})]})]},e.id))})]})},xe=()=>0===se.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(en,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum povo criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Comece a adicionar os povos e ra\xe7as que habitam seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("people"),className:"btn-primary",children:"Adicionar Povo"}),P&&(0,An.jsxs)("button",{className:"btn-outline",disabled:A,children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):"grid"===h?(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(e=>(0,An.jsx)(ve,{people:e,onClick:()=>{v("people"),b(e)}},e.id))}):(0,An.jsx)("div",{className:"space-y-4"}),ve=e=>{let{people:t,onClick:n}=e;return(0,An.jsxs)("div",{className:"card hover-lift group",onClick:n,children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"p-2 rounded-lg mr-3 bg-purple-100 text-purple-600",children:(0,An.jsx)(en,{className:"h-5 w-5"})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:t.name}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:t.classification})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,An.jsx)("button",{className:"p-1 text-gray-400 hover:text-purple-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3",children:t.description})]})},ye=()=>{const e=(null===r||void 0===r?void 0:r.languages)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)($t,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum idioma criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione os idiomas e dialetos falados em seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("language"),className:"btn-primary",children:"Adicionar Idioma"}),P&&(0,An.jsxs)("button",{onClick:()=>X(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Idiomas (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("language"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Idioma"]}),P&&(0,An.jsxs)("button",{onClick:()=>X(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("language")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)($t,{className:"h-5 w-5 text-blue-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.family&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Fam\xedlia:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.family})]}),e.speakers&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Falantes:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.speakers})]}),e.script&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Escrita:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.script})]})]},e.id))})]})},be=()=>{const e=(null===r||void 0===r?void 0:r.religions)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Or,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma religi\xe3o criada ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as religi\xf5es, deuses e cren\xe7as do seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("religion"),className:"btn-primary",children:"Adicionar Religi\xe3o"}),P&&(0,An.jsxs)("button",{onClick:()=>Z(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Religi\xf5es (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("religion"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Religi\xe3o"]}),P&&(0,An.jsxs)("button",{onClick:()=>Z(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("religion")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(Or,{className:"h-5 w-5 text-yellow-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.deities&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Divindades:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.deities})]}),e.practices&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Pr\xe1ticas:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.practices})]}),e.followers&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Seguidores:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.followers})]})]},e.id))})]})},je=()=>{const e=(null===r||void 0===r?void 0:r.traditions)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Pr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma tradi\xe7\xe3o criada ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as tradi\xe7\xf5es, festivais e costumes culturais."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("tradition"),className:"btn-primary",children:"Adicionar Tradi\xe7\xe3o"}),P&&(0,An.jsxs)("button",{onClick:()=>$(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Tradi\xe7\xf5es (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("tradition"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Tradi\xe7\xe3o"]}),P&&(0,An.jsxs)("button",{onClick:()=>$(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("tradition")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(Pr,{className:"h-5 w-5 text-red-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:e.type})}),e.origin&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Origem:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.origin})]}),e.frequency&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Frequ\xeancia:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.frequency})]})]},e.id))})]})},Ne=()=>{const e=(null===r||void 0===r?void 0:r.magicSystems)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Dn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum Sistema de Magia criado"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Defina as regras e fontes da magia em seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{className:"btn-primary",onClick:()=>v("magicSystem"),children:"Adicionar Sistema de Magia"}),P&&(0,An.jsxs)("button",{onClick:()=>Y(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas de Magia (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("magicSystem"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),P&&(0,An.jsxs)("button",{onClick:()=>Y(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("magicSystem")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(Dn,{className:"h-5 w-5 text-purple-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.source&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Fonte:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.source})]}),e.limitations&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Limita\xe7\xf5es:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.limitations})]})]},e.id))})]})},we=()=>{const e=(null===r||void 0===r?void 0:r.technologies)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(sn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma tecnologia criada ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as tecnologias, inven\xe7\xf5es e n\xedveis de avan\xe7o do seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("technology"),className:"btn-primary",children:"Adicionar Tecnologia"}),P&&(0,An.jsxs)("button",{onClick:()=>te(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Tecnologias (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("technology"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Tecnologia"]}),P&&(0,An.jsxs)("button",{onClick:()=>te(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("technology")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(sn,{className:"h-5 w-5 text-yellow-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.level&&(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsxs)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:["N\xedvel: ",e.level]})}),e.applications&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Aplica\xe7\xf5es:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.applications})]})]},e.id))})]})},ke=()=>{const e=(null===r||void 0===r?void 0:r.governments)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Tr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum sistema pol\xedtico criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione reinos, imp\xe9rios, rep\xfablicas e outras formas de governo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("government"),className:"btn-primary",children:"Adicionar Sistema Pol\xedtico"}),P&&(0,An.jsxs)("button",{onClick:()=>ne(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas Pol\xedticos (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("government"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),P&&(0,An.jsxs)("button",{onClick:()=>ne(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("government")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(Tr,{className:"h-5 w-5 text-indigo-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,An.jsx)("div",{className:"mb-2",children:(0,An.jsx)("span",{className:"inline-block px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded",children:e.type})}),e.leaderTitle&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"L\xedder:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.leaderTitle})]})]},e.id))})]})},Se=()=>{const e=(null===r||void 0===r?void 0:r.economies)||[];return 0===e.length?(0,An.jsxs)("div",{className:"text-center py-16",children:[(0,An.jsx)(Mr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum sistema econ\xf4mico criado ainda"}),(0,An.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione sistemas de troca, moedas e atividades econ\xf4micas."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("economy"),className:"btn-primary",children:"Adicionar Sistema Econ\xf4mico"}),P&&(0,An.jsxs)("button",{onClick:()=>re(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas Econ\xf4micos (",e.length,")"]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("economy"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),P&&(0,An.jsxs)("button",{onClick:()=>re(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,An.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("economy")},children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,An.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)(Mr,{className:"h-5 w-5 text-green-500"})]}),(0,An.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.currency&&(0,An.jsxs)("div",{className:"mb-2",children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Moeda:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700",children:e.currency})]}),e.mainExports&&(0,An.jsxs)("div",{children:[(0,An.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Exporta\xe7\xf5es:"}),(0,An.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.mainExports})]})]},e.id))})]})};return(0,An.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,An.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,An.jsx)("div",{className:"mb-8",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[(0,An.jsx)(Qt,{className:"h-8 w-8 text-green-600 mr-3"}),"Construtor de Mundo"]}),(0,An.jsx)("p",{className:"text-muted-foreground mt-2",children:"Crie mundos ricos e detalhados para suas hist\xf3rias"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[R&&(0,An.jsxs)("div",{className:"text-right",children:[(0,An.jsx)("div",{className:"text-2xl font-bold text-foreground",children:ie.totalElements}),(0,An.jsx)("div",{className:"text-sm text-muted-foreground",children:"elementos criados"})]}),(0,An.jsx)("button",{onClick:()=>z(!R),className:"btn-ghost",children:R?(0,An.jsx)(kn,{className:"h-4 w-4"}):(0,An.jsx)(Nn,{className:"h-4 w-4"})}),(0,An.jsxs)("button",{className:"btn-outline flex items-center",children:[(0,An.jsx)(mn,{className:"h-4 w-4 mr-2"}),"Exportar"]}),(0,An.jsxs)("button",{className:"btn-outline flex items-center",children:[(0,An.jsx)(pn,{className:"h-4 w-4 mr-2"}),"Importar"]})]})]})}),(0,An.jsx)("div",{className:"border-b border-border mb-8",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:Km.map(e=>(0,An.jsxs)("button",{onClick:()=>{m(e.id),f("")},className:"group whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(d===e.id?"border-".concat(e.color,"-500 text-").concat(e.color,"-600"):"border-transparent text-muted-foreground hover:text-foreground hover:border-border"),children:[(0,An.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),(0,An.jsxs)("div",{className:"text-left",children:[(0,An.jsx)("div",{children:e.label}),(0,An.jsx)("div",{className:"text-xs text-muted-foreground group-hover:text-foreground mt-0.5",children:e.description})]})]},e.id))})}),(()=>{switch(d){case"overview":default:return ue();case"geography":return(0,An.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,An.jsx)("div",{className:"border-b border-border",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:F.map(e=>(0,An.jsxs)("button",{onClick:()=>f(e.id),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(p===e.id?"border-primary-500 text-primary-600":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label,e.count>0&&(0,An.jsx)("span",{className:"ml-2 bg-muted text-muted-foreground py-0.5 px-2 rounded-full text-xs",children:e.count})]},e.id))})}),(0,An.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar locais...",value:j,onChange:e=>N(e.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground"})]}),(0,An.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground",children:[(0,An.jsx)("option",{value:"all",children:"Todos os tipos"}),Ym.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,An.jsxs)("select",{value:"".concat(S,"-").concat(_),onChange:e=>{const[t,n]=e.target.value.split("-");C(t),E(n)},className:"border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground",children:[(0,An.jsx)("option",{value:"name-asc",children:"Nome (A-Z)"}),(0,An.jsx)("option",{value:"name-desc",children:"Nome (Z-A)"}),(0,An.jsx)("option",{value:"type-asc",children:"Tipo (A-Z)"}),(0,An.jsx)("option",{value:"createdAt-desc",children:"Mais recentes"}),(0,An.jsx)("option",{value:"createdAt-asc",children:"Mais antigos"})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("div",{className:"flex items-center border border-border rounded-lg",children:[(0,An.jsx)("button",{onClick:()=>g("grid"),className:"p-2 ".concat("grid"===h?"bg-muted":""),children:(0,An.jsx)(Rr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>g("list"),className:"p-2 ".concat("list"===h?"bg-muted":""),children:(0,An.jsx)(zr,{className:"h-4 w-4"})})]}),(0,An.jsxs)("button",{onClick:()=>v("location"),className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Local"]})]})]}),"locations"===p&&de(),"regions"===p&&fe(),"landmarks"===p&&he(),"resources"===p&&ge()]});case"cultures":return(0,An.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,An.jsx)("div",{className:"border-b border-gray-200",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:U.map(e=>(0,An.jsxs)("button",{onClick:()=>f(e.id),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(p===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label,e.count>0&&(0,An.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:e.count})]},e.id))})}),(0,An.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar culturas...",value:j,onChange:e=>N(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,An.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,An.jsx)("option",{value:"all",children:"Todos os tipos"}),Ym.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,An.jsxs)("select",{value:"".concat(S,"-").concat(_),onChange:e=>{const[t,n]=e.target.value.split("-");C(t),E(n)},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,An.jsx)("option",{value:"name-asc",children:"Nome (A-Z)"}),(0,An.jsx)("option",{value:"name-desc",children:"Nome (Z-A)"}),(0,An.jsx)("option",{value:"type-asc",children:"Tipo (A-Z)"}),(0,An.jsx)("option",{value:"createdAt-desc",children:"Mais recentes"}),(0,An.jsx)("option",{value:"createdAt-asc",children:"Mais antigos"})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,An.jsx)("button",{onClick:()=>g("grid"),className:"p-2 ".concat("grid"===h?"bg-gray-100":""),children:(0,An.jsx)(Rr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>g("list"),className:"p-2 ".concat("list"===h?"bg-gray-100":""),children:(0,An.jsx)(zr,{className:"h-4 w-4"})})]}),(0,An.jsxs)("button",{onClick:()=>v("people"),className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Cultura"]})]})]}),"peoples"===p&&xe(),"languages"===p&&ye(),"religions"===p&&be(),"traditions"===p&&je()]});case"systems":return(0,An.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,An.jsx)("div",{className:"border-b border-gray-200",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:H.map(e=>(0,An.jsxs)("button",{onClick:()=>f(e.id),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(p===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label,e.count>0&&(0,An.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:e.count})]},e.id))})}),"magicSystems"===p&&Ne(),"technologies"===p&&we(),"governments"===p&&ke(),"economies"===p&&Se()]});case"history":return(()=>{const e=[...(null===r||void 0===r?void 0:r.events)||[]].sort((e,t)=>(e.year||0)-(t.year||0));return(0,An.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline Hist\xf3rica"}),(0,An.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," eventos"]})]}),(0,An.jsxs)("div",{className:"flex space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>v("event"),className:"btn-primary",children:[(0,An.jsx)(un,{className:"h-4 w-4 mr-2"}),"Adicionar Evento"]}),P&&(0,An.jsxs)("button",{onClick:()=>K(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,An.jsxs)("div",{className:"relative pl-8",children:[(0,An.jsx)("div",{className:"absolute left-12 top-0 h-full w-0.5 bg-gray-200"}),e.length>0?e.map((e,t)=>(0,An.jsxs)("div",{className:"relative mb-8 group",children:[(0,An.jsx)("div",{className:"absolute left-12 top-1/2 -translate-y-1/2 w-4 h-4 bg-red-500 rounded-full border-2 border-white"}),(0,An.jsx)("div",{className:"ml-12 pl-8 bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{b(e),v("event")},children:(0,An.jsxs)("div",{className:"flex justify-between items-start",children:[(0,An.jsxs)("div",{className:"flex-1",children:[(0,An.jsx)("p",{className:"font-bold text-lg text-red-700",children:e.year||"Data Indefinida"}),(0,An.jsx)("h4",{className:"font-semibold text-xl text-gray-900 mb-2",children:e.name}),(0,An.jsx)("p",{className:"text-gray-600 line-clamp-3",children:e.description}),e.type&&(0,An.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e.type})]}),(0,An.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity ml-4",children:(0,An.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e),v("event")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})})})]})})]},e.id)):(0,An.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,An.jsx)(yn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum evento hist\xf3rico adicionado"}),(0,An.jsx)("p",{className:"mb-6",children:"Adicione eventos para construir a linha do tempo do seu mundo."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,An.jsx)("button",{onClick:()=>v("event"),className:"btn-primary",children:"Adicionar Evento"}),P&&(0,An.jsxs)("button",{onClick:()=>K(),className:"btn-outline",children:[(0,An.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]})]})]})})();case"relationships":return(()=>{const e=[],t=[];let n=1;return e.push({id:"0",position:{x:400,y:50},data:{label:(null===r||void 0===r?void 0:r.name)||"Seu Mundo",style:{background:"#3B82F6",color:"white",fontWeight:"bold"}},style:{background:"#3B82F6",color:"white",fontWeight:"bold"}}),i&&i.length>0&&i.slice(0,5).forEach((r,a)=>{const o="char-".concat(n++);e.push({id:o,position:{x:100+150*a,y:200},data:{label:r.name,subtitle:r.role||"Personagem"},style:{background:"#10B981",color:"white"}}),t.push({id:"e0-".concat(o),source:"0",target:o})}),null!==r&&void 0!==r&&r.locations&&r.locations.length>0&&r.locations.slice(0,5).forEach((r,a)=>{const o="loc-".concat(n++);e.push({id:o,position:{x:600+150*a,y:200},data:{label:r.name,subtitle:r.type||"Local"},style:{background:"#F59E0B",color:"white"}}),t.push({id:"e0-".concat(o),source:"0",target:o})}),null!==r&&void 0!==r&&r.peoples&&r.peoples.length>0&&r.peoples.slice(0,3).forEach((r,a)=>{const o="people-".concat(n++);e.push({id:o,position:{x:200+200*a,y:350},data:{label:r.name,subtitle:r.classification||"Povo"},style:{background:"#8B5CF6",color:"white"}}),t.push({id:"e0-".concat(o),source:"0",target:o})}),null!==r&&void 0!==r&&r.magicSystems&&r.magicSystems.length>0&&r.magicSystems.slice(0,3).forEach((r,a)=>{const o="magic-".concat(n++);e.push({id:o,position:{x:700+200*a,y:350},data:{label:r.name,subtitle:"Sistema de Magia"},style:{background:"#EF4444",color:"white"}}),t.push({id:"e0-".concat(o),source:"0",target:o})}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex justify-between items-center",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Rela\xe7\xf5es"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Visualiza\xe7\xe3o das conex\xf5es entre elementos do seu mundo"})]}),(0,An.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,An.jsx)("span",{children:"Personagens"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),(0,An.jsx)("span",{children:"Locais"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded"}),(0,An.jsx)("span",{children:"Povos"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"}),(0,An.jsx)("span",{children:"Magia"})]})]})]}),(0,An.jsx)("div",{style:{height:"600px"},className:"border rounded-lg bg-gray-50",children:e.length>1?(0,An.jsxs)(gm,{nodes:e,edges:t,fitView:!0,attributionPosition:"bottom-left",children:[(0,An.jsx)(Cm,{}),(0,An.jsx)(Rm,{}),(0,An.jsx)(Gm,{})]}):(0,An.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)(Br,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma rela\xe7\xe3o para exibir"}),(0,An.jsx)("p",{className:"mb-4",children:"Adicione personagens, locais e outros elementos para ver suas conex\xf5es."}),(0,An.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,An.jsx)("button",{onClick:()=>{m("cultures"),f("peoples")},className:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200",children:"Adicionar Personagens"}),(0,An.jsx)("button",{onClick:()=>{m("geography"),f("locations")},className:"text-sm bg-yellow-100 text-yellow-700 px-3 py-1 rounded hover:bg-yellow-200",children:"Adicionar Locais"})]})]})})})]})})()}})()]}),"location"===x&&(0,An.jsx)(up,{location:y,onClose:()=>v(null),onSave:e=>{y?c("locations",y.id,e):l("locations",e),v(null),b(null)},onDelete:e=>{u("locations",e),va.success("Local exclu\xeddo com sucesso!"),v(null),b(null)},aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"people"===x&&(0,An.jsx)(dp,{people:y,onClose:()=>{v(null),b(null)},onSave:e=>{y?c("peoples",y.id,e):l("peoples",e),v(null),b(null)},onDelete:e=>{u("peoples",e),va.success("Povo exclu\xeddo com sucesso!"),v(null),b(null)},aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"magicSystem"===x&&(0,An.jsx)(xp,{system:y,onClose:()=>v(null),onSave:e=>le("magicSystems",e),onDelete:e=>ce("magicSystems",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"event"===x&&(0,An.jsx)(gp,{event:y,onClose:()=>v(null),onSave:e=>le("events",e),onDelete:e=>ce("events",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"language"===x&&(0,An.jsx)(vp,{language:y,onClose:()=>v(null),onSave:e=>le("languages",e),onDelete:e=>ce("languages",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"religion"===x&&(0,An.jsx)(mp,{religion:y,onClose:()=>v(null),onSave:e=>le("religions",e),onDelete:e=>ce("religions",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"tradition"===x&&(0,An.jsx)(yp,{tradition:y,onClose:()=>v(null),onSave:e=>le("traditions",e),onDelete:e=>ce("traditions",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"region"===x&&(0,An.jsx)(pp,{region:y,onClose:()=>v(null),onSave:e=>le("regions",e),onDelete:e=>ce("regions",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"landmark"===x&&(0,An.jsx)(fp,{landmark:y,onClose:()=>v(null),onSave:e=>le("landmarks",e),onDelete:e=>ce("landmarks",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"resource"===x&&(0,An.jsx)(bp,{resource:y,onClose:()=>v(null),onSave:e=>le("resources",e),onDelete:e=>ce("resources",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"technology"===x&&(0,An.jsx)(jp,{technology:y,onClose:()=>v(null),onSave:e=>le("technologies",e),onDelete:e=>ce("technologies",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"government"===x&&(0,An.jsx)(Np,{government:y,onClose:()=>v(null),onSave:e=>le("governments",e),onDelete:e=>ce("governments",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),"economy"===x&&(0,An.jsx)(ep,{economy:y,onClose:()=>v(null),onSave:e=>le("economies",e),onDelete:e=>ce("economies",e),aiProvider:P,isGenerating:A,onGenerateWithAI:V}),(0,An.jsx)(Ea,{})]})},kp=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sp=Zt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Cp=Zt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),_p=e=>{let{onClose:n,onGenerate:r,isGenerating:a,regions:o}=e;const[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)("protagonist"),[u,d]=(0,t.useState)("");return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[(0,An.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,An.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(Dn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Gerar Personagem com IA"]})}),(0,An.jsxs)("div",{className:"p-6 space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descreva o personagem (opcional)"}),(0,An.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),className:"textarea-field",rows:"3",placeholder:"Ex: um cavaleiro sombrio com um passado tr\xe1gico e um senso de humor sarc\xe1stico."}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para um personagem completamente aleat\xf3rio."})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Personagem"}),(0,An.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:[{value:"protagonist",label:"Protagonista"},{value:"antagonist",label:"Antagonista"},{value:"supporting",label:"Coadjuvante"},{value:"mentor",label:"Mentor"},{value:"love_interest",label:"Interesse Rom\xe2ntico"},{value:"any",label:"Qualquer"}].map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Regi\xe3o de Origem (Opcional)"}),(0,An.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"input-field",disabled:!o||0===o.length,children:[(0,An.jsx)("option",{value:"",children:"Aleat\xf3ria"}),o&&o.map(e=>(0,An.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]})]}),(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:n,className:"btn-outline",children:"Cancelar"}),(0,An.jsx)("button",{type:"button",onClick:()=>{r(s,l,u)},disabled:a,className:"btn-primary",children:a?"Gerando...":"Gerar Personagem"})]})]})})},Ep=()=>{const{characters:e,addCharacter:n,updateCharacter:r,deleteCharacter:a,settings:o,worldData:s,setSelectedCharacter:i,selectedCharacter:l}=(0,gn.A)(),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[x,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[j,N]=(0,t.useState)({name:"",role:"protagonist",age:"",gender:"",appearance:"",personality:"",background:"",goals:"",conflicts:"",relationships:"",abilities:"",weaknesses:"",arc:"",notes:""}),w=[{value:"protagonist",label:"Protagonista",color:"bg-blue-100 text-blue-800"},{value:"antagonist",label:"Antagonista",color:"bg-red-100 text-red-800"},{value:"deuteragonist",label:"Deuteragonista",color:"bg-green-100 text-green-800"},{value:"supporting",label:"Coadjuvante",color:"bg-yellow-100 text-yellow-800"},{value:"mentor",label:"Mentor",color:"bg-purple-100 text-purple-800"},{value:"love_interest",label:"Interesse Rom\xe2ntico",color:"bg-pink-100 text-pink-800"}],k=(e,t)=>{N(n=>(0,Oe.A)((0,Oe.A)({},n),{},{[e]:t}))},S=()=>{N({name:"",role:"protagonist",age:"",gender:"",appearance:"",personality:"",background:"",goals:"",conflicts:"",relationships:"",abilities:"",weaknesses:"",arc:"",notes:""}),m(null),u(!1)},C=e.filter(e=>{const t=e.name.toLowerCase().includes(p.toLowerCase())||e.personality.toLowerCase().includes(p.toLowerCase()),n=!h||e.role===h;return t&&n});return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Personagens"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie e gerencie personagens para sua light novel"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="characters.json",a.click(),URL.revokeObjectURL(r),Vt.success("Personagens exportados!")},className:"btn-outline flex items-center",children:[(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),"Exportar"]}),(0,An.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{JSON.parse(e.target.result).forEach(e=>n(e)),Vt.success("Personagens importados!")}catch(t){Vt.error("Erro ao importar personagens")}},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center",children:[(0,An.jsx)(pn,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,An.jsxs)("button",{onClick:()=>{m(null),u(!0)},className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Novo Personagem"]}),(0,An.jsxs)("button",{onClick:()=>b(!0),className:"btn-secondary flex items-center bg-purple-600 text-white hover:bg-purple-700",children:[(0,An.jsx)(Dn,{className:"mr-2 h-4 w-4"}),"Criar com IA"]})]})]}),(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)("div",{className:"flex-1",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar personagens...",value:p,onChange:e=>f(e.target.value),className:"input-field pl-10"})]})}),(0,An.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"input-field w-48",children:[(0,An.jsx)("option",{value:"",children:"Todos os pap\xe9is"}),w.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}),y&&(0,An.jsx)(_p,{onClose:()=>b(!1),onGenerate:async(e,t,n)=>{v(!0),b(!1);const r=Vt.loading("Gerando personagem completo com IA...");try{const a=o.aiProviders[o.defaultAIProvider];if(!a||!a.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const i=new Jn(o.defaultAIProvider,a.apiKey,{model:a.defaultModel,temperature:a.temperature,maxTokens:a.maxTokens}),l={name:s.name,genre:s.genre,regions:s.regions.map(e=>e.name),peoples:s.peoples.map(e=>e.name),magicSystems:s.magicSystems.map(e=>e.name),technologies:s.technologies.map(e=>e.name)};let c=Qn.character.basic;c+="\n\nCONTEXTO DO MUNDO:\n".concat(JSON.stringify(l,null,2)),e&&(c+="\n\nInstru\xe7\xf5es adicionais do usu\xe1rio: ".concat(e)),t&&"any"!==t&&(c+="\nO personagem deve ter o papel de: ".concat(t)),n&&(c+="\nO personagem \xe9 origin\xe1rio da regi\xe3o de: ".concat(n,". Use isso para influenciar sua apar\xeancia, cultura e hist\xf3ria."));const d=await i.generateText(c),p=d.match(/\{[\s\S]*?\}/);let f;if(!p)throw new Error("A IA n\xe3o retornou um JSON v\xe1lido.");try{const e=p[0];f=JSON.parse(e)}catch(Pe){const t=d.match(/\{\s*"name"[\s\S]*?\}/);if(!t)throw new Error("A IA n\xe3o retornou um JSON v\xe1lido.");f=JSON.parse(t[0])}N(e=>(0,Oe.A)((0,Oe.A)((0,Oe.A)({},e),f),{},{role:"any"!==t?t:f.role||"protagonist"})),u(!0),m(null),Vt.success("Personagem gerado com sucesso!",{id:r})}catch(a){Vt.error("Erro ao gerar personagem: ".concat(a.message),{id:r})}finally{v(!1)}},isGenerating:x,regions:(null===s||void 0===s?void 0:s.regions)||[]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c&&(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"card sticky top-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d?"Editar Personagem":"Novo Personagem"}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j.name.trim()?(d?(r(d.id,j),Vt.success("Personagem atualizado!")):(n(j),Vt.success("Personagem criado!")),S()):Vt.error("Nome do personagem \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,An.jsx)("input",{type:"text",value:j.name,onChange:e=>k("name",e.target.value),className:"input-field",placeholder:"Nome do personagem",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papel"}),(0,An.jsx)("select",{value:j.role,onChange:e=>k("role",e.target.value),className:"input-field",children:w.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),(0,An.jsx)("input",{type:"text",value:j.age,onChange:e=>k("age",e.target.value),className:"input-field",placeholder:"25 anos"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,An.jsx)("input",{type:"text",value:j.gender,onChange:e=>k("gender",e.target.value),className:"input-field",placeholder:"Masculino"})]})]}),[{field:"appearance",label:"Apar\xeancia",icon:Nn},{field:"personality",label:"Personalidade",icon:Pr},{field:"background",label:"Hist\xf3rico",icon:kp},{field:"goals",label:"Objetivos",icon:Bn},{field:"conflicts",label:"Conflitos",icon:Sp},{field:"relationships",label:"Relacionamentos",icon:en},{field:"abilities",label:"Habilidades",icon:sn},{field:"weaknesses",label:"Fraquezas",icon:fr},{field:"arc",label:"Arco de Desenvolvimento",icon:Cp}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,An.jsxs)("button",{type:"button",onClick:()=>(async e=>{v(!0);try{const t=o.aiProviders[o.defaultAIProvider];if(!t||!t.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const n=new Jn(o.defaultAIProvider,t.apiKey,{model:t.defaultModel,temperature:t.temperature,maxTokens:t.maxTokens}),r='Para um personagem de light novel chamado "'.concat(j.name||"um novo personagem",'", gere uma descri\xe7\xe3o para o seguinte campo: ').concat(e,"."),a="Contexto: ".concat(JSON.stringify({name:j.name,role:j.role,personality:j.personality})),s="".concat(r,"\n").concat(a),i=await n.generateText(s);k(e,i),Vt.success("".concat(e," gerado com sucesso!"))}catch(t){Vt.error("Erro ao gerar com IA: ".concat(t.message))}finally{v(!1)}})(t),disabled:x,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,An.jsx)("textarea",{value:j[t],onChange:e=>k(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,An.jsx)("textarea",{value:j.notes,onChange:e=>k("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),d?"Atualizar":"Criar"]}),(0,An.jsx)("button",{type:"button",onClick:S,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,An.jsxs)("div",{className:"".concat(c?"lg:col-span-2":"lg:col-span-3"),children:[(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:C.map(e=>{const t=w.find(t=>t.value===e.role);return(0,An.jsxs)("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===t||void 0===t?void 0:t.color),children:null===t||void 0===t?void 0:t.label})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{m(e),N(e),u(!0)})(e)},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,window.confirm("Tem certeza que deseja excluir este personagem?")&&(a(n),Vt.success("Personagem exclu\xeddo!"))},className:"p-1 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),(0,An.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.age&&(0,An.jsxs)("p",{children:[(0,An.jsx)("strong",{children:"Idade:"})," ",e.age]}),e.personality&&(0,An.jsxs)("p",{className:"line-clamp-2",children:[(0,An.jsx)("strong",{children:"Personalidade:"})," ",e.personality]}),e.goals&&(0,An.jsxs)("p",{className:"line-clamp-2",children:[(0,An.jsx)("strong",{children:"Objetivos:"})," ",e.goals]})]})]},e.id)})}),0===C.length&&(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(en,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum personagem encontrado"}),(0,An.jsx)("p",{className:"text-gray-500",children:0===e.length?"Crie seu primeiro personagem para come\xe7ar":"Tente ajustar os filtros de busca"})]})]})]})]})},Ap=(Zt("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]),Zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])),Op=e=>{let{onClose:n,onGenerate:r,isGenerating:a,loreTypes:o}=e;const[s,i]=(0,t.useState)(""),[l,c]=(0,t.useState)("myth");return(0,An.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,An.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[(0,An.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,An.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,An.jsx)(Dn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Gerar Lore com IA"]})}),(0,An.jsxs)("div",{className:"p-6 space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descreva o que voc\xea quer criar (opcional)"}),(0,An.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),className:"textarea-field",rows:"3",placeholder:"Ex: uma lenda sobre uma espada amaldi\xe7oada..."}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para um item de lore completamente aleat\xf3rio."})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Lore"}),(0,An.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:o.map(e=>(0,An.jsx)("option",{value:e.id,children:e.label},e.id))})]})]}),(0,An.jsxs)("div",{className:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[(0,An.jsx)("button",{type:"button",onClick:n,className:"btn-outline",children:"Cancelar"}),(0,An.jsx)("button",{type:"button",onClick:()=>{r(s,l)},disabled:a,className:"btn-primary",children:a?"Gerando...":"Gerar Item de Lore"})]})]})})},Pp=()=>{var e,n,r,a;const{loreData:o,addLoreItem:s,worldData:i,settings:l}=(0,gn.A)(),[c,u]=(0,t.useState)("myths"),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[h,g]=(0,t.useState)(""),[x,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[j,N]=(0,t.useState)({name:"",description:"",origin:"",significance:"",characters:"",locations:"",effects:"",notes:""}),w=[{id:"myths",label:"Mitos",icon:$t,color:"bg-blue-100 text-blue-800"},{id:"legends",label:"Lendas",icon:Or,color:"bg-yellow-100 text-yellow-800"},{id:"prophecies",label:"Profecias",icon:Nn,color:"bg-purple-100 text-purple-800"},{id:"artifacts",label:"Artefatos",icon:Ar,color:"bg-green-100 text-green-800"},{id:"rituals",label:"Rituais",icon:zn,color:"bg-red-100 text-red-800"},{id:"customs",label:"Costumes",icon:Tr,color:"bg-indigo-100 text-indigo-800"}],k=(e,t)=>{N(n=>(0,Oe.A)((0,Oe.A)({},n),{},{[e]:t}))},S=()=>{N({name:"",description:"",origin:"",significance:"",characters:"",locations:"",effects:"",notes:""}),f(null),m(!1)},C=(e,t)=>{const n={},r=[/\*\*([^*]+)\*\*\s*\n/,/"([^"]+)"/,/Mito[^:]*:\s*([^\n]+)/i,/Lenda[^:]*:\s*([^\n]+)/i,/Artefato[^:]*:\s*([^\n]+)/i,/^([^\n]+)/m];for(const a of r){const t=e.match(a);if(t&&t[1]&&t[1].trim().length>3){n.name=t[1].trim().replace(/[*"]/g,"");break}}if(!n.name){const e={myths:"Mito Gerado por IA",legends:"Lenda Gerada por IA",artifacts:"Artefato Gerado por IA",prophecies:"Profecia Gerada por IA",rituals:"Ritual Gerado por IA",customs:"Costume Gerado por IA"};n.name=e[t]||"Item de Lore Gerado por IA"}return n.description=e.replace(/\*\*[^*]+\*\*/g,"").replace(/#+\s*[^\n]+/g,"").replace(/\n\s*\n/g,"\n").trim(),"artifacts"===t?(n.origin="Origem a ser descoberta",n.effects="Efeitos m\xe1gicos ou especiais"):(n.origin="Tradi\xe7\xe3o oral antiga",n.significance="Importante para a cultura e hist\xf3ria local"),n},_=async(e,t)=>{v(!0),b(!1);const n=Vt.loading("Gerando ".concat(t,"..."));try{const r=l.aiProviders[l.defaultAIProvider];if(!r||!r.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const a=new Jn(l.defaultAIProvider,r.apiKey,{model:r.defaultModel,temperature:r.temperature,maxTokens:r.maxTokens}),o={name:i.name,genre:i.genre,regions:i.regions.map(e=>e.name),peoples:i.peoples.map(e=>e.name),characters:gn.A.getState().characters.map(e=>e.name),magicSystems:i.magicSystems.map(e=>e.name)};let s=Qn.lore[t]||'Crie um item de lore do tipo "'.concat(t,'".');s+="\n\nCONTEXTO DO MUNDO:\n".concat(JSON.stringify(o,null,2)),e&&(s+="\n\nInstru\xe7\xf5es adicionais do usu\xe1rio: ".concat(e));const c=await a.generateText(s),d=c.match(/\{[\s\S]*\}/);let p;if(d)try{const e=d[0];p=JSON.parse(e)}catch(Pe){p=C(c,t)}else p=C(c,t);N(e=>(0,Oe.A)((0,Oe.A)({},e),p)),u(t),m(!0),f(null),Vt.success("Item de lore gerado com sucesso!",{id:n})}catch(r){Vt.error("Erro ao gerar lore: ".concat(r.message),{id:n})}finally{v(!1)}},E=o[c]||[],A=E.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.description.toLowerCase().includes(h.toLowerCase()));return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Lore"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie mitos, lendas, profecias e elementos de lore para seu mundo"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>b(!0),className:"btn-secondary flex items-center bg-purple-600 text-white hover:bg-purple-700",children:[(0,An.jsx)(Dn,{className:"mr-2 h-4 w-4"}),"Criar com IA"]}),(0,An.jsxs)("button",{onClick:()=>m(!d),className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Novo Item"]})]})]}),(0,An.jsx)("div",{className:"border-b border-gray-200",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:w.map(e=>(0,An.jsxs)("button",{onClick:()=>u(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(c===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar ".concat(null===(e=w.find(e=>e.id===c))||void 0===e?void 0:e.label.toLowerCase(),"..."),value:h,onChange:e=>g(e.target.value),className:"input-field pl-10"})]})}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d&&(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"card sticky top-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:p?"Editar Item":"Novo ".concat(null===(n=w.find(e=>e.id===c))||void 0===n?void 0:n.label)}),(0,An.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),j.name.trim()){if(p){const e=(o[c]||[]).map(e=>e.id===p.id?(0,Oe.A)((0,Oe.A)({},j),{},{id:e.id}):e);s(c,e),Vt.success("Item atualizado!")}else s(c,j),Vt.success("Item criado!");S()}else Vt.error("Nome \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,An.jsx)("input",{type:"text",value:j.name,onChange:e=>k("name",e.target.value),className:"input-field",placeholder:"Nome do ".concat(null===(r=w.find(e=>e.id===c))||void 0===r?void 0:r.label.toLowerCase()),required:!0})]}),[{field:"description",label:"Descri\xe7\xe3o",icon:$t},{field:"origin",label:"Origem",icon:Or},{field:"significance",label:"Significado",icon:Nn},{field:"characters",label:"Personagens Envolvidos",icon:Tr},{field:"locations",label:"Locais Relacionados",icon:Tn},{field:"effects",label:"Efeitos/Impacto",icon:sn}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,An.jsxs)("button",{type:"button",onClick:()=>_("",c),disabled:x,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,An.jsx)("textarea",{value:j[t],onChange:e=>k(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,An.jsx)("textarea",{value:j.notes,onChange:e=>k("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),p?"Atualizar":"Criar"]}),(0,An.jsx)("button",{type:"button",onClick:S,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,An.jsxs)("div",{className:"".concat(d?"lg:col-span-2":"lg:col-span-3"),children:[(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(e=>{const t=w.find(e=>e.id===c);return(0,An.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===t||void 0===t?void 0:t.color),children:null===t||void 0===t?void 0:t.label})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("button",{onClick:()=>(e=>{f(e),N(e),m(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Tem certeza que deseja excluir este item?")){const t=(o[c]||[]).filter(t=>t.id!==e);s(c,t),Vt.success("Item exclu\xeddo!")}})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),(0,An.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.description&&(0,An.jsxs)("p",{className:"line-clamp-2",children:[(0,An.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",e.description]}),e.origin&&(0,An.jsxs)("p",{className:"line-clamp-1",children:[(0,An.jsx)("strong",{children:"Origem:"})," ",e.origin]}),e.significance&&(0,An.jsxs)("p",{className:"line-clamp-1",children:[(0,An.jsx)("strong",{children:"Significado:"})," ",e.significance]})]})]},e.id)})}),0===A.length&&(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum item encontrado"}),(0,An.jsx)("p",{className:"text-gray-500",children:0===E.length?"Crie seu primeiro ".concat(null===(a=w.find(e=>e.id===c))||void 0===a?void 0:a.label.toLowerCase()," para come\xe7ar"):"Tente ajustar a busca"})]})]})]}),y&&(0,An.jsx)(Op,{onClose:()=>b(!1),onGenerate:_,isGenerating:x,loreTypes:w})]})},Tp=()=>{var e,n,r,a;const{narrativeData:o,addNarrativeItem:s}=(0,gn.A)(),[i,l]=(0,t.useState)("plotPoints"),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(""),[h,g]=(0,t.useState)(!1),[x,v]=(0,t.useState)({name:"",description:"",characters:"",locations:"",consequences:"",timeline:"",notes:""}),y=[{id:"plotPoints",label:"Plot Points",icon:Bn,color:"bg-blue-100 text-blue-800"},{id:"storyArcs",label:"Arcos de Hist\xf3ria",icon:qn,color:"bg-green-100 text-green-800"},{id:"themes",label:"Temas",icon:Pr,color:"bg-purple-100 text-purple-800"},{id:"conflicts",label:"Conflitos",icon:Sp,color:"bg-red-100 text-red-800"},{id:"resolutions",label:"Resolu\xe7\xf5es",icon:xn,color:"bg-yellow-100 text-yellow-800"}],b=[{value:"inciting_incident",label:"Incidente Incitador",icon:sn},{value:"first_plot_point",label:"Primeiro Plot Point",icon:In},{value:"midpoint",label:"Ponto M\xe9dio",icon:yn},{value:"second_plot_point",label:"Segundo Plot Point",icon:qn},{value:"climax",label:"Cl\xedmax",icon:Or},{value:"resolution",label:"Resolu\xe7\xe3o",icon:xn}],j=[{value:"man_vs_man",label:"Homem vs Homem",icon:en},{value:"man_vs_self",label:"Homem vs Si Mesmo",icon:Pr},{value:"man_vs_nature",label:"Homem vs Natureza",icon:Tn},{value:"man_vs_society",label:"Homem vs Sociedade",icon:$t},{value:"man_vs_technology",label:"Homem vs Tecnologia",icon:sn},{value:"man_vs_supernatural",label:"Homem vs Sobrenatural",icon:Or}],N=(e,t)=>{v(n=>(0,Oe.A)((0,Oe.A)({},n),{},{[e]:t}))},w=()=>{v({name:"",description:"",characters:"",locations:"",consequences:"",timeline:"",notes:""}),m(null),u(!1)},k=o[i]||[],S=k.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase()));return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Narrativa"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie plot points, arcos de hist\xf3ria e elementos narrativos"})]}),(0,An.jsxs)("button",{onClick:()=>u(!c),className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Novo Item"]})]}),(0,An.jsx)("div",{className:"border-b border-gray-200",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:y.map(e=>(0,An.jsxs)("button",{onClick:()=>l(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar ".concat(null===(e=y.find(e=>e.id===i))||void 0===e?void 0:e.label.toLowerCase(),"..."),value:p,onChange:e=>f(e.target.value),className:"input-field pl-10"})]})}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c&&(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"card sticky top-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d?"Editar Item":"Novo ".concat(null===(n=y.find(e=>e.id===i))||void 0===n?void 0:n.label)}),(0,An.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),x.name.trim()){if(d){const e=(o[i]||[]).map(e=>e.id===d.id?(0,Oe.A)((0,Oe.A)({},x),{},{id:e.id}):e);s(i,e),Vt.success("Item atualizado!")}else s(i,x),Vt.success("Item criado!");w()}else Vt.error("Nome \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,An.jsx)("input",{type:"text",value:x.name,onChange:e=>N("name",e.target.value),className:"input-field",placeholder:"Nome do ".concat(null===(r=y.find(e=>e.id===i))||void 0===r?void 0:r.label.toLowerCase()),required:!0})]}),"plotPoints"===i&&(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Plot Point"}),(0,An.jsxs)("select",{value:x.type||"",onChange:e=>N("type",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"",children:"Selecione o tipo"}),b.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),"conflicts"===i&&(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conflito"}),(0,An.jsxs)("select",{value:x.conflictType||"",onChange:e=>N("conflictType",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"",children:"Selecione o tipo"}),j.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),[{field:"description",label:"Descri\xe7\xe3o",icon:nn},{field:"characters",label:"Personagens Envolvidos",icon:en},{field:"locations",label:"Locais",icon:Tn},{field:"consequences",label:"Consequ\xeancias",icon:In},{field:"timeline",label:"Cronologia",icon:yn}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,An.jsxs)("div",{children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,An.jsxs)("button",{type:"button",onClick:()=>(async e=>{g(!0);try{var t;await new Promise(e=>setTimeout(e,2e3));const n=(null===(t={plotPoints:{name:"A Descoberta do Artefato",description:"O protagonista encontra um artefato antigo que revela uma verdade chocante sobre sua origem e destino.",characters:"Protagonista, Mentor, Antagonista",locations:"Ru\xednas Antigas, Biblioteca Secreta, Templo Esquecido",consequences:"Muda completamente a dire\xe7\xe3o da hist\xf3ria e for\xe7a o protagonista a questionar tudo que sabia.",timeline:"Acontece no primeiro ter\xe7o da hist\xf3ria, ap\xf3s a introdu\xe7\xe3o dos personagens principais."},storyArcs:{name:"Arco de Descoberta",description:"O protagonista descobre sua verdadeira identidade e prop\xf3sito, enfrentando desafios que testam sua determina\xe7\xe3o.",characters:"Protagonista, Aliados, Oponentes",locations:"M\xfaltiplas localiza\xe7\xf5es conforme a jornada se desenvolve",consequences:"Transforma\xe7\xe3o fundamental do personagem e estabelecimento de novos objetivos.",timeline:"Desenvolve-se ao longo de v\xe1rios cap\xedtulos, com pontos de tens\xe3o e revela\xe7\xf5es."},themes:{name:"Identidade e Destino",description:"Explora como as escolhas individuais moldam o destino e como a identidade pode ser tanto uma pris\xe3o quanto uma liberta\xe7\xe3o.",characters:"Todos os personagens principais, cada um representando diferentes aspectos do tema",locations:"Locais simb\xf3licos que refletem a jornada de autodescoberta",consequences:"Profunda reflex\xe3o sobre o que significa ser quem somos e para onde vamos.",timeline:"Tema que permeia toda a narrativa, com momentos de destaque em pontos-chave."},conflicts:{name:"Conflito de Lealdades",description:"O protagonista deve escolher entre sua fam\xedlia de sangue e sua nova fam\xedlia de aliados.",characters:"Protagonista, Fam\xedlia Original, Novos Aliados",locations:"Casa da Fam\xedlia, Base dos Aliados, Locais Neutros",consequences:"Decis\xe3o que define o car\xe1ter do protagonista e afeta todos os relacionamentos futuros.",timeline:"Conflito que se intensifica gradualmente at\xe9 um momento de decis\xe3o cr\xedtica."},resolutions:{name:"Reconcilia\xe7\xe3o e Aceita\xe7\xe3o",description:"O protagonista encontra um equil\xedbrio entre suas diferentes identidades e aceita seu destino \xfanico.",characters:"Protagonista, Todos os Personagens Principais",locations:"Local simb\xf3lico que representa uni\xe3o e paz",consequences:"Resolu\xe7\xe3o satisfat\xf3ria que honra a jornada de todos os personagens.",timeline:"Ocorre no final da hist\xf3ria, proporcionando fechamento adequado."}}[i])||void 0===t?void 0:t[e])||"Conte\xfado gerado com AI";N(e,n),Vt.success("".concat(e," gerado com AI!"))}catch(n){Vt.error("Erro ao gerar com AI")}finally{g(!1)}})(t),disabled:h,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,An.jsx)(Dn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,An.jsx)("textarea",{value:x[t],onChange:e=>N(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,An.jsx)("textarea",{value:x.notes,onChange:e=>N("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),d?"Atualizar":"Criar"]}),(0,An.jsx)("button",{type:"button",onClick:w,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,An.jsxs)("div",{className:"".concat(c?"lg:col-span-2":"lg:col-span-3"),children:[(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(e=>{var t,n;const r=y.find(e=>e.id===i);return(0,An.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,An.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===r||void 0===r?void 0:r.color),children:null===r||void 0===r?void 0:r.label}),e.type&&(0,An.jsx)("span",{className:"text-xs text-gray-500",children:(null===(t=b.find(t=>t.value===e.type))||void 0===t?void 0:t.label)||e.type}),e.conflictType&&(0,An.jsx)("span",{className:"text-xs text-gray-500",children:(null===(n=j.find(t=>t.value===e.conflictType))||void 0===n?void 0:n.label)||e.conflictType})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("button",{onClick:()=>(e=>{m(e),v(e),u(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Tem certeza que deseja excluir este item?")){const t=(o[i]||[]).filter(t=>t.id!==e);s(i,t),Vt.success("Item exclu\xeddo!")}})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),(0,An.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.description&&(0,An.jsxs)("p",{className:"line-clamp-2",children:[(0,An.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",e.description]}),e.characters&&(0,An.jsxs)("p",{className:"line-clamp-1",children:[(0,An.jsx)("strong",{children:"Personagens:"})," ",e.characters]}),e.consequences&&(0,An.jsxs)("p",{className:"line-clamp-1",children:[(0,An.jsx)("strong",{children:"Consequ\xeancias:"})," ",e.consequences]})]})]},e.id)})}),0===S.length&&(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(nn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum item encontrado"}),(0,An.jsx)("p",{className:"text-gray-500",children:0===k.length?"Crie seu primeiro ".concat(null===(a=y.find(e=>e.id===i))||void 0===a?void 0:a.label.toLowerCase()," para come\xe7ar"):"Tente ajustar a busca"})]})]})]})]})},Mp=Zt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Ip=Zt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Dp=()=>{const{aiConversations:e,addAIConversation:n,aiSettings:r,updateAISettings:a,characters:o,worldData:s,loreData:i,narrativeData:l}=(0,gn.A)(),[c,u]=(0,t.useState)([]),[d,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[h,g]=(0,t.useState)("chat"),[x,v]=(0,t.useState)(""),y=(0,t.useRef)(null),b=[{id:"chat",label:"Chat",icon:Mn},{id:"prompts",label:"Prompts",icon:Mp},{id:"settings",label:"Configura\xe7\xf5es",icon:on}],j=[{category:"Personagens",icon:en,prompts:["Crie um personagem principal com backstory detalhado","Desenvolva um antagonista complexo","Gere di\xe1logo entre dois personagens","Crie um arco de desenvolvimento para um personagem"]},{category:"Mundo",icon:Qt,prompts:["Descreva uma cidade fant\xe1stica","Crie um sistema de magia \xfanico","Desenvolva uma cultura com costumes interessantes","Gere a hist\xf3ria de um reino"]},{category:"Narrativa",icon:nn,prompts:["Crie um plot twist surpreendente","Desenvolva uma cena de a\xe7\xe3o emocionante","Gere um conflito interno para o protagonista","Crie um final satisfat\xf3rio para um arco"]},{category:"Lore",icon:$t,prompts:["Crie uma lenda antiga","Desenvolva um mito de cria\xe7\xe3o","Gere uma profecia misteriosa","Crie um artefato lend\xe1rio"]}];(0,t.useEffect)(()=>{(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[c]);const N=async()=>{if(!d.trim())return;const e={id:Date.now(),type:"user",content:d,timestamp:(new Date).toISOString()};u(t=>[...t,e]),m(""),f(!0);try{await new Promise(e=>setTimeout(e,2e3));const t=await w(d),r={id:Date.now()+1,type:"bot",content:t,timestamp:(new Date).toISOString()};u(e=>[...e,r]),n({title:d.substring(0,50)+"...",messages:[...c,e,r],timestamp:(new Date).toISOString()})}catch(t){Vt.error("Erro ao gerar resposta")}finally{f(!1)}},w=async e=>{const t="Aqui est\xe1 uma sugest\xe3o para um personagem interessante: Um jovem artes\xe3o que descobriu que pode dar vida aos objetos que cria, mas cada cria\xe7\xe3o consome um pouco de sua pr\xf3pria vitalidade. Ele deve equilibrar seu dom com o custo pessoal.",n="Para um mundo fant\xe1stico, considere: Um continente flutuante onde as ilhas s\xe3o conectadas por pontes de cristal que mudam de cor conforme a esta\xe7\xe3o. A magia \xe9 alimentada pela luz solar refletida nessas pontes.",r="Um plot twist interessante seria: O mentor do protagonista revela que na verdade \xe9 uma vers\xe3o futura do pr\xf3prio protagonista, que voltou no tempo para evitar um erro tr\xe1gico que ainda n\xe3o aconteceu.",a="Uma lenda antiga: Os primeiros habitantes do mundo eram feitos de luz pura, mas ao descobrir a escurid\xe3o, alguns escolheram abra\xe7\xe1-la, criando a primeira divis\xe3o entre os povos da luz e das sombras.",o=e.toLowerCase();return o.includes("personagem")?t:o.includes("mundo")||o.includes("cidade")?n:o.includes("narrativa")||o.includes("plot")?r:o.includes("lore")||o.includes("lenda")?a:"Entendo sua solicita\xe7\xe3o. Posso ajudar com desenvolvimento de personagens, cria\xe7\xe3o de mundo, elementos narrativos e lore. Que aspecto espec\xedfico voc\xea gostaria de explorar?"},k=e=>{navigator.clipboard.writeText(e),Vt.success("Copiado para a \xe1rea de transfer\xeancia!")},S=()=>(0,An.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,An.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===c.length?(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Bem-vindo ao Assistente AI"}),(0,An.jsx)("p",{className:"text-gray-500",children:"Pe\xe7a ajuda com personagens, mundo, narrativa ou lore"})]}):c.map(e=>(0,An.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,An.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.type?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,An.jsx)("p",{className:"text-sm",children:e.content}),(0,An.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,An.jsx)("span",{className:"text-xs opacity-70",children:new Date(e.timestamp).toLocaleTimeString()}),"bot"===e.type&&(0,An.jsx)("button",{onClick:()=>k(e.content),className:"text-xs opacity-70 hover:opacity-100",children:(0,An.jsx)(ir,{className:"h-3 w-3"})})]})]})},e.id)),p&&(0,An.jsx)("div",{className:"flex justify-start",children:(0,An.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("div",{className:"animate-pulse",children:"\u25cf"}),(0,An.jsx)("div",{className:"animate-pulse delay-100",children:"\u25cf"}),(0,An.jsx)("div",{className:"animate-pulse delay-200",children:"\u25cf"})]})})}),(0,An.jsx)("div",{ref:y})]}),(0,An.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&N(),placeholder:"Digite sua mensagem...",className:"flex-1 input-field",disabled:p}),(0,An.jsx)("button",{onClick:N,disabled:p||!d.trim(),className:"btn-primary",children:(0,An.jsx)(Ip,{className:"h-4 w-4"})})]})})]}),C=()=>(0,An.jsx)("div",{className:"space-y-6",children:(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(e=>(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-4",children:[(0,An.jsx)(e.icon,{className:"h-5 w-5 text-primary-600 mr-2"}),(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.category})]}),(0,An.jsx)("div",{className:"space-y-2",children:e.prompts.map((e,t)=>(0,An.jsx)("button",{onClick:()=>(e=>{m(e),g("chat")})(e),className:"w-full text-left p-3 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200 hover:border-gray-300",children:e},t))})]},e.category))})}),_=()=>(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configura\xe7\xf5es do AI"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo"}),(0,An.jsxs)("select",{value:r.model,onChange:e=>a({model:e.target.value}),className:"input-field",children:[(0,An.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,An.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,An.jsx)("option",{value:"claude-3",children:"Claude-3"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temperatura: ",r.temperature]}),(0,An.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.temperature,onChange:e=>a({temperature:parseFloat(e.target.value)}),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,An.jsx)("span",{children:"Mais Focado"}),(0,An.jsx)("span",{children:"Mais Criativo"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe1ximo de Tokens"}),(0,An.jsx)("input",{type:"number",value:r.maxTokens,onChange:e=>a({maxTokens:parseInt(e.target.value)}),className:"input-field",min:"100",max:"4000"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversas Salvas"}),(0,An.jsx)("div",{className:"space-y-2",children:e.slice(-5).reverse().map(e=>(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,An.jsxs)("div",{className:"flex-1",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,An.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsx)("button",{onClick:()=>(e=>{u(e.messages),Vt.success("Conversa carregada!")})(e),className:"text-primary-600 hover:text-primary-700 text-sm",children:"Carregar"}),(0,An.jsx)("button",{onClick:()=>k(e.messages.map(e=>"".concat(e.type,": ").concat(e.content)).join("\n")),className:"text-gray-400 hover:text-gray-600",children:(0,An.jsx)(ir,{className:"h-4 w-4"})})]})]},e.id))})]})]});return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Assistente AI"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Seu parceiro criativo para desenvolvimento de light novels"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>{c.length>0&&(n({title:"Conversa ".concat((new Date).toLocaleString()),messages:c,timestamp:(new Date).toISOString()}),Vt.success("Conversa salva!"))},className:"btn-outline flex items-center",children:[(0,An.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Salvar"]}),(0,An.jsxs)("button",{onClick:()=>{window.confirm("Tem certeza que deseja limpar o chat?")&&(u([]),Vt.success("Chat limpo!"))},className:"btn-outline flex items-center",children:[(0,An.jsx)(wn,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]}),(0,An.jsx)("div",{className:"border-b border-gray-200",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8",children:b.map(e=>(0,An.jsxs)("button",{onClick:()=>g(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(h===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,An.jsx)("div",{className:"card",children:(()=>{switch(h){case"chat":default:return S();case"prompts":return C();case"settings":return _()}})()})]})},Lp=()=>{const{projects:e,addProject:n,updateProject:r,deleteProject:a,setCurrentProject:o,currentProject:s}=(0,gn.A)(),[i,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[h,g]=(0,t.useState)("updated"),[x,v]=(0,t.useState)({name:"",description:"",genre:"",targetAudience:"",targetWordCount:"",status:"active",tags:""}),y=["Fantasia","Fic\xe7\xe3o Cient\xedfica","Romance","A\xe7\xe3o/Aventura","Mist\xe9rio/Suspense","Terror","Drama","Com\xe9dia","Hist\xf3rico","Contempor\xe2neo","Isekai","Slice of Life","Outro"],b=[{value:"planning",label:"Planejamento",color:"bg-gray-100 text-gray-800"},{value:"active",label:"Em Andamento",color:"bg-blue-100 text-blue-800"},{value:"paused",label:"Pausado",color:"bg-yellow-100 text-yellow-800"},{value:"completed",label:"Conclu\xeddo",color:"bg-green-100 text-green-800"},{value:"abandoned",label:"Abandonado",color:"bg-red-100 text-red-800"}],j=(e,t)=>{v(n=>(0,Oe.A)((0,Oe.A)({},n),{},{[e]:t}))},N=()=>{v({name:"",description:"",genre:"",targetAudience:"",targetWordCount:"",status:"active",tags:""}),u(null),l(!1)},w=e.filter(e=>{const t=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),n=!p||e.genre===p;return t&&n}).sort((e,t)=>{switch(h){case"name":return e.name.localeCompare(t.name);case"created":return new Date(t.createdAt)-new Date(e.createdAt);case"updated":return new Date(t.updatedAt||t.createdAt)-new Date(e.updatedAt||e.createdAt);case"wordCount":return(t.wordCount||0)-(e.wordCount||0);default:return 0}});return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciador de Projetos"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Gerencie todos os seus projetos de light novel"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);n(t),Vt.success("Projeto importado!")}catch(t){Vt.error("Erro ao importar projeto")}},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center",children:[(0,An.jsx)(pn,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,An.jsxs)("button",{onClick:()=>l(!i),className:"btn-primary flex items-center",children:[(0,An.jsx)(un,{className:"mr-2 h-4 w-4"}),"Novo Projeto"]})]})]}),(0,An.jsx)("div",{className:"card",children:(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsx)("div",{className:"flex-1",children:(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)(Pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,An.jsx)("input",{type:"text",placeholder:"Buscar projetos...",value:d,onChange:e=>m(e.target.value),className:"input-field pl-10"})]})}),(0,An.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"input-field w-48",children:[(0,An.jsx)("option",{value:"",children:"Todos os g\xeaneros"}),y.map(e=>(0,An.jsx)("option",{value:e,children:e},e))]}),(0,An.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"input-field w-48",children:[(0,An.jsx)("option",{value:"updated",children:"Mais Recentes"}),(0,An.jsx)("option",{value:"created",children:"Data de Cria\xe7\xe3o"}),(0,An.jsx)("option",{value:"name",children:"Nome"}),(0,An.jsx)("option",{value:"wordCount",children:"Palavras"})]})]})}),(0,An.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i&&(0,An.jsx)("div",{className:"lg:col-span-1",children:(0,An.jsxs)("div",{className:"card sticky top-6",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c?"Editar Projeto":"Novo Projeto"}),(0,An.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x.name.trim()?(c?(r(c.id,(0,Oe.A)((0,Oe.A)({},x),{},{updatedAt:(new Date).toISOString()})),Vt.success("Projeto atualizado!")):(n((0,Oe.A)((0,Oe.A)({},x),{},{createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),wordCount:0,chapters:[]})),Vt.success("Projeto criado!")),N()):Vt.error("Nome do projeto \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,An.jsx)("input",{type:"text",value:x.name,onChange:e=>j("name",e.target.value),className:"input-field",placeholder:"Nome do projeto",required:!0})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,An.jsx)("textarea",{value:x.description,onChange:e=>j("description",e.target.value),className:"input-field",rows:3,placeholder:"Descri\xe7\xe3o do projeto..."})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,An.jsxs)("select",{value:x.genre,onChange:e=>j("genre",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"",children:"Selecione um g\xeanero"}),y.map(e=>(0,An.jsx)("option",{value:e,children:e},e))]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"P\xfablico-Alvo"}),(0,An.jsx)("input",{type:"text",value:x.targetAudience,onChange:e=>j("targetAudience",e.target.value),className:"input-field",placeholder:"Jovens adultos"})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta de Palavras"}),(0,An.jsx)("input",{type:"number",value:x.targetWordCount,onChange:e=>j("targetWordCount",e.target.value),className:"input-field",placeholder:"50000"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,An.jsx)("select",{value:x.status,onChange:e=>j("status",e.target.value),className:"input-field",children:b.map(e=>(0,An.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,An.jsx)("input",{type:"text",value:x.tags,onChange:e=>j("tags",e.target.value),className:"input-field",placeholder:"fantasia, aventura, magia"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,An.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,An.jsx)(on,{className:"mr-2 h-4 w-4"}),c?"Atualizar":"Criar"]}),(0,An.jsx)("button",{type:"button",onClick:N,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,An.jsxs)("div",{className:"".concat(i?"lg:col-span-2":"lg:col-span-3"),children:[(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:w.map(e=>{const t=(e=>{var t;const n=e.wordCount||0,r=e.targetWordCount||0;return{wordCount:n,targetWords:r,progress:r>0?Math.min(n/r*100,100):0,chapters:(null===(t=e.chapters)||void 0===t?void 0:t.length)||0}})(e),n=b.find(t=>t.value===e.status),r=(null===s||void 0===s?void 0:s.id)===e.id;return(0,An.jsxs)("div",{className:"card hover:shadow-md transition-shadow ".concat(r?"ring-2 ring-primary-500":""),children:[(0,An.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,An.jsxs)("div",{className:"flex-1",children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,An.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[n&&(0,An.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(n.color),children:n.label}),r&&(0,An.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:"Ativo"})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,An.jsx)("button",{onClick:()=>(e=>{o(e),Vt.success('Projeto "'.concat(e.name,'" selecionado!'))})(e),className:"p-1 text-gray-400 hover:text-primary-600",title:"Selecionar Projeto",children:(0,An.jsx)(Nn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>(e=>{u(e),v(e),l(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",title:"Editar",children:(0,An.jsx)(Dr,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>(e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat(e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".json"),a.click(),URL.revokeObjectURL(r),Vt.success("Projeto exportado!")})(e),className:"p-1 text-gray-400 hover:text-green-600",title:"Exportar",children:(0,An.jsx)(mn,{className:"h-4 w-4"})}),(0,An.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Tem certeza que deseja excluir este projeto? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")&&(a(t),Vt.success("Projeto exclu\xeddo!")));var t},className:"p-1 text-gray-400 hover:text-red-600",title:"Excluir",children:(0,An.jsx)(wn,{className:"h-4 w-4"})})]})]}),e.description&&(0,An.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,An.jsx)("span",{className:"text-gray-600",children:"Progresso:"}),(0,An.jsxs)("span",{className:"font-medium",children:[t.wordCount.toLocaleString()," / ",t.targetWords.toLocaleString()||"\u221e"]})]}),(0,An.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.progress,"%")}})}),(0,An.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,An.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,An.jsx)(nn,{className:"h-4 w-4 mr-1"}),(0,An.jsxs)("span",{children:[t.chapters," cap\xedtulos"]})]}),(0,An.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,An.jsx)(Fn,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{children:new Date(e.updatedAt||e.createdAt).toLocaleDateString()})]})]}),e.genre&&(0,An.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,An.jsx)($t,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{children:e.genre})]})]})]},e.id)})}),0===w.length&&(0,An.jsxs)("div",{className:"text-center py-12",children:[(0,An.jsx)(an,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,An.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum projeto encontrado"}),(0,An.jsx)("p",{className:"text-gray-500",children:0===e.length?"Crie seu primeiro projeto para come\xe7ar":"Tente ajustar os filtros de busca"})]})]})]})]})},Rp=Zt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),zp=Zt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),qp=Zt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Bp=Zt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Fp=Zt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Up=Zt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Hp=Zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gp=Zt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Vp=Zt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Wp=Zt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Kp=()=>{const{notificationSettings:e,updateNotificationSettings:t,requestDesktopPermission:n}=En(),r={[Cn.WRITING]:$t,[Cn.AI]:rn,[Cn.PROJECT]:on,[Cn.SYSTEM]:on,[Cn.GOAL]:Bn,[Cn.BACKUP]:Rp},a={[Cn.WRITING]:"Escrita",[Cn.AI]:"Intelig\xeancia Artificial",[Cn.PROJECT]:"Projetos",[Cn.SYSTEM]:"Sistema",[Cn.GOAL]:"Metas",[Cn.BACKUP]:"Backup"},o={[Cn.WRITING]:"Progresso de escrita, sess\xf5es longas e pausas",[Cn.AI]:"Configura\xe7\xe3o de IA e funcionalidades",[Cn.PROJECT]:"Cria\xe7\xe3o, edi\xe7\xe3o e gerenciamento de projetos",[Cn.SYSTEM]:"Atualiza\xe7\xf5es e configura\xe7\xf5es do sistema",[Cn.GOAL]:"Metas di\xe1rias e conquistas",[Cn.BACKUP]:"Lembretes de backup e sincroniza\xe7\xe3o"},s=(n,r)=>{t({frequency:(0,Oe.A)((0,Oe.A)({},e.frequency),{},{[n]:r})})};return(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(jn,{className:"h-6 w-6 text-primary-600"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Notifica\xe7\xf5es"}),(0,An.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure como e quando receber notifica\xe7\xf5es"})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Configura\xe7\xf5es Gerais"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[e.enabled?(0,An.jsx)(jn,{className:"h-5 w-5 text-green-600"}):(0,An.jsx)(Gp,{className:"h-5 w-5 text-gray-400"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Notifica\xe7\xf5es"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:e.enabled?"Ativadas":"Desativadas"})]})]}),(0,An.jsx)("button",{onClick:()=>{t({enabled:!e.enabled})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.enabled?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,An.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.enabled?"translate-x-6":"translate-x-1")})})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[e.sound?(0,An.jsx)(Vp,{className:"h-5 w-5 text-green-600"}):(0,An.jsx)(Wp,{className:"h-5 w-5 text-gray-400"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Som"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:e.sound?"Ativado":"Desativado"})]})]}),(0,An.jsx)("button",{onClick:()=>{t({sound:!e.sound})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.sound?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,An.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.sound?"translate-x-6":"translate-x-1")})})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(qp,{className:"h-5 w-5 text-blue-600"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Notifica\xe7\xf5es Desktop"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:"Receber notifica\xe7\xf5es do sistema operacional"})]})]}),(0,An.jsx)("button",{onClick:()=>{t({desktop:!e.desktop}),e.desktop||n()},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.desktop?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,An.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.desktop?"translate-x-6":"translate-x-1")})})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Categorias"}),(0,An.jsx)("div",{className:"space-y-3",children:Object.values(Cn).map(n=>{const s=r[n],i=e.categories[n];return(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(s,{className:"h-5 w-5 ".concat(i?"text-primary-600":"text-gray-400")}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:a[n]}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:o[n]})]})]}),(0,An.jsx)("button",{onClick:()=>(n=>{t({categories:(0,Oe.A)((0,Oe.A)({},e.categories),{},{[n]:!e.categories[n]})})})(n),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(i?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,An.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(i?"translate-x-6":"translate-x-1")})})]},n)})})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Frequ\xeancia"}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(yn,{className:"h-5 w-5 text-purple-600"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Lembretes"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:"Frequ\xeancia dos lembretes"})]})]}),(0,An.jsxs)("select",{value:e.frequency.reminders,onChange:e=>s("reminders",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,An.jsx)("option",{value:"never",children:"Nunca"}),(0,An.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,An.jsx)("option",{value:"weekly",children:"Semanal"})]})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(Bn,{className:"h-5 w-5 text-blue-600"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Progresso"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:"Relat\xf3rios de progresso"})]})]}),(0,An.jsxs)("select",{value:e.frequency.progress,onChange:e=>s("progress",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,An.jsx)("option",{value:"never",children:"Nunca"}),(0,An.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,An.jsx)("option",{value:"weekly",children:"Semanal"}),(0,An.jsx)("option",{value:"monthly",children:"Mensal"})]})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,An.jsx)(Rp,{className:"h-5 w-5 text-green-600"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Backup"}),(0,An.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lembretes de backup"})]})]}),(0,An.jsxs)("select",{value:e.frequency.backup,onChange:e=>s("backup",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,An.jsx)("option",{value:"never",children:"Nunca"}),(0,An.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,An.jsx)("option",{value:"weekly",children:"Semanal"})]})]})]})]}),(0,An.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,An.jsx)(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h5",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Dicas sobre Notifica\xe7\xf5es"}),(0,An.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2 space-y-1",children:[(0,An.jsx)("li",{children:"\u2022 As notifica\xe7\xf5es desktop requerem permiss\xe3o do navegador"}),(0,An.jsx)("li",{children:"\u2022 Notifica\xe7\xf5es de progresso aparecem a cada 100 palavras escritas"}),(0,An.jsx)("li",{children:"\u2022 Lembretes de pausa aparecem ap\xf3s 1 hora de escrita cont\xednua"}),(0,An.jsx)("li",{children:"\u2022 Voc\xea pode personalizar a frequ\xeancia de cada tipo de notifica\xe7\xe3o"})]})]})]})})]})},Yp=()=>{const{settings:e,updateSettings:n,projects:r,characters:a,worldData:o,aiConversations:s}=(0,gn.A)(),[i,l]=(0,t.useState)("general"),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)({}),[p,f]=(0,t.useState)({}),[h,g]=(0,t.useState)({}),[x,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),j=[{id:"general",label:"Geral",icon:on,description:"Configura\xe7\xf5es b\xe1sicas da aplica\xe7\xe3o"},{id:"ai",label:"Integra\xe7\xe3o AI",icon:sn,description:"Configurar APIs de IA e modelos"},{id:"editor",label:"Editor",icon:nn,description:"Personalizar o editor de texto"},{id:"appearance",label:"Apar\xeancia",icon:Wm,description:"Temas e interface visual"},{id:"notifications",label:"Notifica\xe7\xf5es",icon:jn,description:"Alertas e lembretes"},{id:"security",label:"Seguran\xe7a",icon:fr,description:"Privacidade e prote\xe7\xe3o de dados"},{id:"data",label:"Dados",icon:Rp,description:"Backup, importa\xe7\xe3o e exporta\xe7\xe3o"},{id:"advanced",label:"Avan\xe7ado",icon:zp,description:"Configura\xe7\xf5es t\xe9cnicas"}],N=[{id:"openai",name:"OpenAI",models:["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo"],baseUrl:"https://api.openai.com/v1",keyFormat:"sk-...",description:"GPT-4, GPT-3.5 e outros modelos da OpenAI",website:"https://platform.openai.com"},{id:"anthropic",name:"Anthropic",models:["claude-3-5-sonnet-20241022","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],baseUrl:"https://api.anthropic.com",keyFormat:"sk-ant-...",description:"Claude 3.5 Sonnet, Opus, Sonnet e Haiku",website:"https://console.anthropic.com"},{id:"google",name:"Google AI",models:["gemini-1.5-pro","gemini-1.5-flash","gemini-pro"],baseUrl:"https://generativelanguage.googleapis.com/v1",keyFormat:"AI...",description:"Gemini Pro e Flash da Google",website:"https://ai.google.dev"},{id:"groq",name:"Groq",models:["llama3-70b-8192","llama3-8b-8192","mixtral-8x7b-32768"],baseUrl:"https://api.groq.com/openai/v1",keyFormat:"gsk_...",description:"Llama 3 e Mixtral com velocidade ultra-r\xe1pida",website:"https://console.groq.com"},{id:"custom",name:"API Personalizada",models:["custom-model"],baseUrl:"",keyFormat:"custom-key",description:"Configure sua pr\xf3pria API compat\xedvel com OpenAI",website:""}],w=[{value:"light",label:"Claro",icon:qr,description:"Interface clara para uso durante o dia",preview:"bg-white text-gray-900"},{value:"dark",label:"Escuro",icon:Ap,description:"Interface escura para reduzir fadiga ocular",preview:"bg-gray-900 text-white"},{value:"auto",label:"Autom\xe1tico",icon:qp,description:"Segue as configura\xe7\xf5es do sistema",preview:"bg-gradient-to-r from-white to-gray-900"}],k=[{value:"serif",label:"Serif (Georgia)",preview:"Georgia",description:"Ideal para textos longos e narrativas",sample:"Era uma vez, em uma terra distante..."},{value:"sans",label:"Sans-serif (Inter)",preview:"Inter",description:"Moderna e limpa, boa para interface",sample:"Era uma vez, em uma terra distante..."},{value:"mono",label:"Monospace (Fira Code)",preview:"Fira Code",description:"Espa\xe7amento fixo, ideal para c\xf3digo",sample:"Era uma vez, em uma terra distante..."}];(0,t.useEffect)(()=>{N.forEach(t=>{var n,r;null!==e&&void 0!==e&&null!==(n=e.aiProviders)&&void 0!==n&&null!==(r=n[t.id])&&void 0!==r&&r.apiKey&&_(t.id)})},[]);const S=(e,t)=>{n({[e]:t}),b(!0),setTimeout(()=>{b(!1),Vt.success("Configura\xe7\xe3o salva automaticamente",{duration:2e3})},2e3)},C=(t,r,a)=>{const o=(null===e||void 0===e?void 0:e.aiProviders)||{},s=o[t]||{};n({aiProviders:(0,Oe.A)((0,Oe.A)({},o),{},{[t]:(0,Oe.A)((0,Oe.A)({},s),{},{[r]:a})})}),b(!0)},_=async t=>{f(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:!0}));try{var n;await new Promise(e=>setTimeout(e,2e3));const a=null===e||void 0===e||null===(n=e.aiProviders)||void 0===n?void 0:n[t];var r;if(null!==a&&void 0!==a&&a.apiKey&&a.apiKey.length>10)g(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:"success"})),Vt.success("Conex\xe3o com ".concat(null===(r=N.find(e=>e.id===t))||void 0===r?void 0:r.name," estabelecida!"));else g(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:"error"})),Vt.error("API Key inv\xe1lida ou n\xe3o configurada")}catch(a){g(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:"error"})),Vt.error("Erro ao testar conex\xe3o")}finally{f(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:!1}))}},E=async()=>{u(!0);try{var t;const n={projects:r,characters:a,worldData:o,aiConversations:s,settings:(0,Oe.A)((0,Oe.A)({},e),{},{aiProviders:Object.keys((null===e||void 0===e?void 0:e.aiProviders)||{}).reduce((t,n)=>(t[n]=(0,Oe.A)((0,Oe.A)({},e.aiProviders[n]),{},{apiKey:"[HIDDEN]"}),t),{})}),exportDate:(new Date).toISOString(),version:"2.0.0",metadata:{totalProjects:(null===r||void 0===r?void 0:r.length)||0,totalCharacters:(null===a||void 0===a?void 0:a.length)||0,totalLocations:(null===o||void 0===o||null===(t=o.locations)||void 0===t?void 0:t.length)||0,totalConversations:(null===s||void 0===s?void 0:s.length)||0}},i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download="light-novel-creator-backup-".concat((new Date).toISOString().split("T")[0],".json"),c.click(),URL.revokeObjectURL(l),Vt.success("Backup completo exportado com sucesso!")}catch(n){Vt.error("Erro ao exportar backup"),console.error("Export error:",n)}finally{u(!1)}},A=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);if(t.version&&t.settings){const e=(0,Oe.A)({},t.settings);delete e.aiProviders,n(e),Vt.success("Configura\xe7\xf5es importadas com sucesso!")}else Vt.error("Arquivo de backup inv\xe1lido")}catch(t){Vt.error("Erro ao importar backup"),console.error("Import error:",t)}},e.readAsText(t)}},e.click()},O=()=>{window.confirm("\u26a0\ufe0f ATEN\xc7\xc3O: Esta a\xe7\xe3o ir\xe1 limpar TODOS os dados da aplica\xe7\xe3o incluindo projetos, personagens, configura\xe7\xf5es e API keys. Esta a\xe7\xe3o N\xc3O PODE ser desfeita.\n\nTem certeza absoluta que deseja continuar?")&&"CONFIRMAR"===window.confirm('Digite "CONFIRMAR" para prosseguir:')&&(localStorage.clear(),Vt.success("Todos os dados foram limpos. A p\xe1gina ser\xe1 recarregada."),setTimeout(()=>window.location.reload(),2e3))},P=()=>(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Qt,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configura\xe7\xf5es Gerais"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Prefer\xeancias b\xe1sicas da aplica\xe7\xe3o"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma da Interface"}),(0,An.jsxs)("select",{value:(null===e||void 0===e?void 0:e.language)||"pt-BR",onChange:e=>S("language",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"pt-BR",children:"\ud83c\udde7\ud83c\uddf7 Portugu\xeas (Brasil)"}),(0,An.jsx)("option",{value:"en-US",children:"\ud83c\uddfa\ud83c\uddf8 English (US)"}),(0,An.jsx)("option",{value:"es-ES",children:"\ud83c\uddea\ud83c\uddf8 Espa\xf1ol"}),(0,An.jsx)("option",{value:"fr-FR",children:"\ud83c\uddeb\ud83c\uddf7 Fran\xe7ais"}),(0,An.jsx)("option",{value:"de-DE",children:"\ud83c\udde9\ud83c\uddea Deutsch"}),(0,An.jsx)("option",{value:"ja-JP",children:"\ud83c\uddef\ud83c\uddf5 \u65e5\u672c\u8a9e"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuso Hor\xe1rio"}),(0,An.jsxs)("select",{value:(null===e||void 0===e?void 0:e.timezone)||"America/Sao_Paulo",onChange:e=>S("timezone",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"America/Sao_Paulo",children:"\ud83c\udde7\ud83c\uddf7 Bras\xedlia (GMT-3)"}),(0,An.jsx)("option",{value:"America/New_York",children:"\ud83c\uddfa\ud83c\uddf8 New York (GMT-5)"}),(0,An.jsx)("option",{value:"Europe/London",children:"\ud83c\uddec\ud83c\udde7 London (GMT+0)"}),(0,An.jsx)("option",{value:"Europe/Paris",children:"\ud83c\uddeb\ud83c\uddf7 Paris (GMT+1)"}),(0,An.jsx)("option",{value:"Asia/Tokyo",children:"\ud83c\uddef\ud83c\uddf5 Tokyo (GMT+9)"}),(0,An.jsx)("option",{value:"Australia/Sydney",children:"\ud83c\udde6\ud83c\uddfa Sydney (GMT+10)"})]})]})]}),(0,An.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(hn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Auto-salvamento"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Salvar automaticamente o progresso a cada 30 segundos"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.autoSave),onChange:e=>S("autoSave",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(dr,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Estat\xedsticas de Uso"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Coletar dados an\xf4nimos para melhorar a experi\xeancia"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.analytics)||!1,onChange:e=>S("analytics",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(xn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Verifica\xe7\xe3o Ortogr\xe1fica"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Verificar ortografia enquanto digita"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.spellCheck),onChange:e=>S("spellCheck",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Zn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Otimiza\xe7\xf5es para melhor desempenho"})]})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Intervalo de Auto-save (segundos): ",(null===e||void 0===e?void 0:e.autoSaveInterval)||30]}),(0,An.jsx)("input",{type:"range",min:"10",max:"300",step:"10",value:(null===e||void 0===e?void 0:e.autoSaveInterval)||30,onChange:e=>S("autoSaveInterval",parseInt(e.target.value)),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,An.jsx)("span",{children:"10s"}),(0,An.jsx)("span",{children:"5min"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hist\xf3rico de Desfazer (a\xe7\xf5es): ",(null===e||void 0===e?void 0:e.undoHistorySize)||50]}),(0,An.jsx)("input",{type:"range",min:"10",max:"200",step:"10",value:(null===e||void 0===e?void 0:e.undoHistorySize)||50,onChange:e=>S("undoHistorySize",parseInt(e.target.value)),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,An.jsx)("span",{children:"10"}),(0,An.jsx)("span",{children:"200"})]})]})]})]})]}),T=()=>(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)(sn,{className:"h-6 w-6 text-blue-600 mr-3 mt-1"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Integra\xe7\xe3o com IA"}),(0,An.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Configure suas APIs de IA favoritas para potencializar sua criatividade. Suportamos os principais provedores do mercado."}),(0,An.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,An.jsx)(fr,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{children:"Suas chaves API s\xe3o armazenadas localmente e nunca enviadas para nossos servidores"})]})]})]})}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(on,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configura\xe7\xf5es Globais"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Configura\xe7\xf5es que se aplicam a todos os provedores"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provedor Padr\xe3o"}),(0,An.jsx)("select",{value:(null===e||void 0===e?void 0:e.defaultAIProvider)||"openai",onChange:e=>S("defaultAIProvider",e.target.value),className:"input-field",children:N.map(e=>(0,An.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Timeout (segundos): ",(null===e||void 0===e?void 0:e.aiTimeout)||30]}),(0,An.jsx)("input",{type:"range",min:"10",max:"120",step:"5",value:(null===e||void 0===e?void 0:e.aiTimeout)||30,onChange:e=>S("aiTimeout",parseInt(e.target.value)),className:"w-full"})]})]}),(0,An.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(sn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sugest\xf5es Autom\xe1ticas"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Mostrar sugest\xf5es de IA enquanto escreve"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.autoSuggestions)||!1,onChange:e=>S("autoSuggestions",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Gn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Retry Autom\xe1tico"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Tentar novamente automaticamente em caso de erro"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.autoRetry),onChange:e=>S("autoRetry",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,An.jsx)("div",{className:"space-y-6",children:N.map(t=>{var n;const r=(null===e||void 0===e||null===(n=e.aiProviders)||void 0===n?void 0:n[t.id])||{},a=!!r.apiKey,o=h[t.id],s=p[t.id];return(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-4 ".concat(a?"bg-green-100":"bg-gray-100"),children:(0,An.jsx)(Bp,{className:"h-5 w-5 ".concat(a?"text-green-600":"text-gray-400")})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:t.description})]})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-2",children:[t.website&&(0,An.jsx)("button",{onClick:()=>window.open(t.website,"_blank"),className:"text-gray-400 hover:text-gray-600",title:"Abrir website",children:(0,An.jsx)(Vn,{className:"h-4 w-4"})}),"success"===o&&(0,An.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,An.jsx)(xn,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{className:"text-xs",children:"Conectado"})]}),"error"===o&&(0,An.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,An.jsx)(vn,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{className:"text-xs",children:"Erro"})]})]})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["API Key",(0,An.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",t.keyFormat,")"]})]}),(0,An.jsxs)("div",{className:"relative",children:[(0,An.jsx)("input",{type:d[t.id]?"text":"password",value:r.apiKey||"",onChange:e=>C(t.id,"apiKey",e.target.value),placeholder:"Cole sua ".concat(t.name," API key aqui"),className:"input-field pr-20"}),(0,An.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 space-x-1",children:[(0,An.jsx)("button",{type:"button",onClick:()=>m(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t.id]:!e[t.id]})),className:"text-gray-400 hover:text-gray-600",children:d[t.id]?(0,An.jsx)(kn,{className:"h-4 w-4"}):(0,An.jsx)(Nn,{className:"h-4 w-4"})}),r.apiKey&&(0,An.jsx)("button",{type:"button",onClick:()=>{return e=r.apiKey,navigator.clipboard.writeText(e),void Vt.success("Copiado para a \xe1rea de transfer\xeancia!");var e},className:"text-gray-400 hover:text-gray-600",children:(0,An.jsx)(ir,{className:"h-4 w-4"})})]})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo Padr\xe3o"}),(0,An.jsx)("select",{value:r.defaultModel||t.models[0],onChange:e=>C(t.id,"defaultModel",e.target.value),className:"input-field",children:t.models.map(e=>(0,An.jsx)("option",{value:e,children:e},e))})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperatura: ",r.temperature||.7]}),(0,An.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.temperature||.7,onChange:e=>C(t.id,"temperature",parseFloat(e.target.value)),className:"w-full"})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Tokens: ",r.maxTokens||2e3]}),(0,An.jsx)("input",{type:"range",min:"100",max:"4000",step:"100",value:r.maxTokens||2e3,onChange:e=>C(t.id,"maxTokens",parseInt(e.target.value)),className:"w-full"})]})]}),"custom"===t.id&&(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Base da API"}),(0,An.jsx)("input",{type:"url",value:r.baseUrl||"",onChange:e=>C(t.id,"baseUrl",e.target.value),placeholder:"https://api.exemplo.com/v1",className:"input-field"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,An.jsxs)("button",{onClick:()=>_(t.id),disabled:!r.apiKey||s,className:"btn-outline flex items-center disabled:opacity-50",children:[s?(0,An.jsx)(Gn,{className:"mr-2 h-4 w-4 animate-spin"}):(0,An.jsx)(Fp,{className:"mr-2 h-4 w-4"}),s?"Testando...":"Testar Conex\xe3o"]}),(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)("input",{type:"checkbox",id:"enabled-".concat(t.id),checked:!1!==r.enabled,onChange:e=>C(t.id,"enabled",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,An.jsx)("label",{htmlFor:"enabled-".concat(t.id),className:"ml-2 text-sm text-gray-700",children:"Habilitado"})]})]}),r.apiKey&&(0,An.jsx)("button",{onClick:()=>C(t.id,"apiKey",""),className:"text-red-600 hover:text-red-700 text-sm",children:"Remover API Key"})]})]})]},t.id)})})]});return(0,An.jsx)("div",{className:"min-h-screen bg-background",children:(0,An.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,An.jsx)("div",{className:"mb-8",children:(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es"}),(0,An.jsx)("p",{className:"text-gray-600 mt-2",children:"Personalize sua experi\xeancia de cria\xe7\xe3o de light novels"})]}),(0,An.jsxs)("div",{className:"flex items-center space-x-4",children:[y&&(0,An.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,An.jsx)(yn,{className:"h-4 w-4 mr-1"}),(0,An.jsx)("span",{className:"text-sm",children:"Salvando..."})]}),(0,An.jsxs)("button",{onClick:()=>v(!x),className:"btn-outline flex items-center",children:[(0,An.jsx)(zp,{className:"mr-2 h-4 w-4"}),x?"Ocultar":"Mostrar"," Avan\xe7ado"]})]})]})}),(0,An.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,An.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:j.filter(e=>x||"advanced"!==e.id).map(e=>(0,An.jsxs)("button",{onClick:()=>l(e.id),className:"group whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,An.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),(0,An.jsxs)("div",{className:"text-left",children:[(0,An.jsx)("div",{children:e.label}),(0,An.jsx)("div",{className:"text-xs text-gray-400 group-hover:text-gray-500 mt-0.5",children:e.description})]})]},e.id))})}),(0,An.jsx)("div",{className:"animate-fade-in",children:(()=>{switch(i){case"general":default:return P();case"ai":return T();case"editor":return(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(nn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Editor de Texto"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Personalize sua experi\xeancia de escrita"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Fam\xedlia de Fonte"}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:k.map(t=>(0,An.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.fontFamily)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>S("fontFamily",t.value),children:(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:t.label}),(0,An.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:t.description}),(0,An.jsx)("div",{className:"text-lg",style:{fontFamily:t.preview},children:t.sample})]})},t.value))})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Tamanho da Fonte: ",(null===e||void 0===e?void 0:e.fontSize)||16,"px"]}),(0,An.jsx)("input",{type:"range",min:"12",max:"28",step:"1",value:(null===e||void 0===e?void 0:e.fontSize)||16,onChange:e=>S("fontSize",parseInt(e.target.value)),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,An.jsx)("span",{children:"Pequena (12px)"}),(0,An.jsx)("span",{children:"Grande (28px)"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Altura da Linha: ",(null===e||void 0===e?void 0:e.lineHeight)||1.6]}),(0,An.jsx)("input",{type:"range",min:"1.2",max:"2.5",step:"0.1",value:(null===e||void 0===e?void 0:e.lineHeight)||1.6,onChange:e=>S("lineHeight",parseFloat(e.target.value)),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,An.jsx)("span",{children:"Compacta (1.2)"}),(0,An.jsx)("span",{children:"Espa\xe7ada (2.5)"})]})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(on,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Comportamento do Editor"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Como o editor deve se comportar"})]})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Nn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Modo de Foco"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Esconder elementos da interface durante a escrita"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.focusMode)||!1,onChange:e=>S("focusMode",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Up,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Quebra Autom\xe1tica de Linha"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Quebrar linhas automaticamente ao atingir a margem"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.wordWrap),onChange:e=>S("wordWrap",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Zn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mostrar Estat\xedsticas"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Exibir contador de palavras e estat\xedsticas em tempo real"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.showStats),onChange:e=>S("showStats",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(dr,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Destacar Sintaxe"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Destacar elementos como di\xe1logos e formata\xe7\xe3o"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.syntaxHighlight),onChange:e=>S("syntaxHighlight",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Hn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Atalhos de Teclado"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Atalhos para aumentar sua produtividade"})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{action:"Salvar",shortcut:"Ctrl + S"},{action:"Novo Documento",shortcut:"Ctrl + N"},{action:"Buscar",shortcut:"Ctrl + F"},{action:"Desfazer",shortcut:"Ctrl + Z"},{action:"Refazer",shortcut:"Ctrl + Y"},{action:"Modo Foco",shortcut:"F11"},{action:"Assistente IA",shortcut:"Ctrl + Alt + A"},{action:"Inserir Data",shortcut:"Ctrl + D"}].map((e,t)=>(0,An.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,An.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.action}),(0,An.jsx)("code",{className:"px-2 py-1 bg-white border border-gray-200 rounded text-xs font-mono",children:e.shortcut})]},t))})]})]});case"appearance":return(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Wm,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tema da Interface"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Escolha o tema que mais combina com voc\xea"})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map(t=>(0,An.jsx)("div",{className:"p-6 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.theme)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>S("theme",t.value),children:(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-lg ".concat(t.preview," flex items-center justify-center"),children:(0,An.jsx)(t.icon,{className:"h-8 w-8"})}),(0,An.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:t.label}),(0,An.jsx)("p",{className:"text-xs text-gray-500",children:t.description})]})},t.value))})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Wm,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Cor Prim\xe1ria"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Personalize a cor principal da interface"})]})]}),(0,An.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-3",children:[{name:"Azul",value:"blue",color:"#3b82f6"},{name:"Roxo",value:"purple",color:"#8b5cf6"},{name:"Verde",value:"green",color:"#10b981"},{name:"Vermelho",value:"red",color:"#ef4444"},{name:"Amarelo",value:"yellow",color:"#f59e0b"},{name:"Rosa",value:"pink",color:"#ec4899"},{name:"Indigo",value:"indigo",color:"#6366f1"},{name:"Teal",value:"teal",color:"#14b8a6"}].map(t=>(0,An.jsx)("button",{onClick:()=>S("primaryColor",t.value),className:"w-12 h-12 rounded-full border-4 transition-all ".concat((null===e||void 0===e?void 0:e.primaryColor)===t.value?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-400"),style:{backgroundColor:t.color},title:t.name},t.value))})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(qp,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Layout da Interface"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Configure o layout e densidade da interface"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Densidade da Interface"}),(0,An.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[{value:"compact",label:"Compacta",description:"Mais conte\xfado na tela"},{value:"normal",label:"Normal",description:"Equil\xedbrio ideal"},{value:"comfortable",label:"Confort\xe1vel",description:"Mais espa\xe7amento"}].map(t=>(0,An.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.density)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>S("density",t.value),children:(0,An.jsxs)("div",{className:"text-center",children:[(0,An.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:t.label}),(0,An.jsx)("p",{className:"text-xs text-gray-500",children:t.description})]})},t.value))})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Nn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Anima\xe7\xf5es"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Habilitar anima\xe7\xf5es e transi\xe7\xf5es suaves"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.animations),onChange:e=>S("animations",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(dr,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Efeitos Visuais"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Sombras, gradientes e outros efeitos"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.visualEffects),onChange:e=>S("visualEffects",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]})]})]});case"notifications":return(0,An.jsx)(Kp,{});case"security":return(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(fr,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacidade e Seguran\xe7a"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Configure como seus dados s\xe3o tratados"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)(bn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Armazenamento Local"}),(0,An.jsx)("p",{className:"text-sm text-blue-700",children:"Todos os seus dados s\xe3o armazenados localmente no seu navegador. Nada \xe9 enviado para nossos servidores."})]})]})}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Hp,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Criptografar Dados Locais"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Criptografar dados salvos no navegador (experimental)"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.encryptLocalData)||!1,onChange:e=>S("encryptLocalData",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(Nn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mascarar API Keys"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Ocultar API keys por padr\xe3o na interface"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.maskApiKeys),onChange:e=>S("maskApiKeys",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{className:"flex items-center",children:[(0,An.jsx)(dr,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Log de Atividades"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Manter registro das a\xe7\xf5es realizadas (apenas local)"})]})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.activityLog),onChange:e=>S("activityLog",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(hr,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Autom\xe1tico"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Configure backups autom\xe1ticos dos seus dados"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Backup Autom\xe1tico"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Criar backups automaticamente no navegador"})]}),(0,An.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.autoBackup)||!1,onChange:e=>S("autoBackup",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(null===e||void 0===e?void 0:e.autoBackup)&&(0,An.jsxs)("div",{className:"space-y-4 pl-8",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequ\xeancia do Backup"}),(0,An.jsxs)("select",{value:(null===e||void 0===e?void 0:e.backupFrequency)||"daily",onChange:e=>S("backupFrequency",e.target.value),className:"input-field",children:[(0,An.jsx)("option",{value:"hourly",children:"A cada hora"}),(0,An.jsx)("option",{value:"daily",children:"Diariamente"}),(0,An.jsx)("option",{value:"weekly",children:"Semanalmente"})]})]}),(0,An.jsxs)("div",{children:[(0,An.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["M\xe1ximo de Backups: ",(null===e||void 0===e?void 0:e.maxBackups)||10]}),(0,An.jsx)("input",{type:"range",min:"3",max:"50",step:"1",value:(null===e||void 0===e?void 0:e.maxBackups)||10,onChange:e=>S("maxBackups",parseInt(e.target.value)),className:"w-full"})]})]})]})]})]});case"data":return(()=>{var t,n,i;return(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Zn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Estat\xedsticas dos Dados"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Vis\xe3o geral dos seus dados armazenados"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,An.jsxs)("div",{className:"text-center p-4 bg-primary-50 rounded-lg",children:[(0,An.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:(null===r||void 0===r?void 0:r.length)||0}),(0,An.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Projetos"}),(0,An.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===r||void 0===r||null===(t=r.reduce((e,t)=>e+(t.wordCount||0),0))||void 0===t?void 0:t.toLocaleString())||0," palavras"]})]}),(0,An.jsxs)("div",{className:"text-center p-4 bg-secondary-50 rounded-lg",children:[(0,An.jsx)("div",{className:"text-3xl font-bold text-secondary-600 mb-2",children:(null===a||void 0===a?void 0:a.length)||0}),(0,An.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Personagens"}),(0,An.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===a||void 0===a?void 0:a.filter(e=>"protagonist"===e.role).length)||0," protagonistas"]})]}),(0,An.jsxs)("div",{className:"text-center p-4 bg-accent rounded-lg",children:[(0,An.jsx)("div",{className:"text-3xl font-bold text-accent-foreground mb-2",children:(null===o||void 0===o||null===(n=o.locations)||void 0===n?void 0:n.length)||0}),(0,An.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Locais"}),(0,An.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===o||void 0===o||null===(i=o.cultures)||void 0===i?void 0:i.length)||0," culturas"]})]}),(0,An.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,An.jsx)("div",{className:"text-3xl font-bold text-muted-foreground mb-2",children:(null===s||void 0===s?void 0:s.length)||0}),(0,An.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Conversas AI"}),(0,An.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===s||void 0===s?void 0:s.reduce((e,t)=>{var n;return e+((null===(n=t.messages)||void 0===n?void 0:n.length)||0)},0))||0," mensagens"]})]})]}),(0,An.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,An.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,An.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Uso de Armazenamento Local"}),(0,An.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(JSON.stringify(localStorage).length/1024)," KB"]})]}),(0,An.jsx)("div",{className:"w-full bg-border rounded-full h-2",children:(0,An.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(JSON.stringify(localStorage).length/10485760*100,100),"%")}})}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,An.jsx)("span",{children:"0 KB"}),(0,An.jsx)("span",{children:"10 MB (limite recomendado)"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Rp,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup e Restaura\xe7\xe3o"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Fa\xe7a backup dos seus dados ou restaure de um backup anterior"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,An.jsxs)("button",{onClick:E,disabled:c,className:"btn-primary flex items-center justify-center disabled:opacity-50",children:[c?(0,An.jsx)(Gn,{className:"mr-2 h-4 w-4 animate-spin"}):(0,An.jsx)(mn,{className:"mr-2 h-4 w-4"}),c?"Exportando...":"Fazer Backup Completo"]}),(0,An.jsxs)("button",{onClick:A,className:"btn-outline flex items-center justify-center",children:[(0,An.jsx)(pn,{className:"mr-2 h-4 w-4"}),"Restaurar Backup"]})]}),(0,An.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)(bn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Sobre os Backups"}),(0,An.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,An.jsx)("li",{children:"\u2022 Backups incluem todos os projetos, personagens, configura\xe7\xf5es e dados do mundo"}),(0,An.jsx)("li",{children:"\u2022 API Keys s\xe3o mascaradas por seguran\xe7a e n\xe3o s\xe3o inclu\xeddas no backup"}),(0,An.jsx)("li",{children:"\u2022 Backups s\xe3o arquivos JSON que podem ser visualizados em qualquer editor de texto"}),(0,An.jsx)("li",{children:"\u2022 Recomendamos fazer backups regulares, especialmente antes de grandes mudan\xe7as"})]})]})]})}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Backup Seletivo"}),(0,An.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{key:"projects",label:"Projetos",data:r},{key:"characters",label:"Personagens",data:a},{key:"worldData",label:"Mundo",data:o},{key:"settings",label:"Configura\xe7\xf5es",data:e}].map(e=>(0,An.jsx)("button",{className:"btn-outline text-sm",onClick:()=>{const t={[e.key]:e.data},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat(e.key,"-backup.json"),a.click(),URL.revokeObjectURL(r),Vt.success("".concat(e.label," exportado!"))},children:e.label},e.key))})]})]})]}),(0,An.jsxs)("div",{className:"card border-red-200",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(vn,{className:"h-6 w-6 text-red-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-red-900",children:"Zona de Perigo"}),(0,An.jsx)("p",{className:"text-sm text-red-600",children:"A\xe7\xf5es irrevers\xedveis que afetam seus dados"})]})]}),(0,An.jsxs)("div",{className:"space-y-4",children:[(0,An.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,An.jsxs)("div",{className:"flex items-start",children:[(0,An.jsx)(vn,{className:"h-5 w-5 text-red-600 mr-3 mt-0.5"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-red-900 mb-1",children:"Aviso Importante"}),(0,An.jsx)("p",{className:"text-sm text-red-700",children:"As a\xe7\xf5es abaixo s\xe3o irrevers\xedveis. Certifique-se de fazer um backup antes de prosseguir."})]})]})}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("button",{onClick:()=>{window.confirm("Limpar apenas as configura\xe7\xf5es? Projetos e dados ser\xe3o mantidos.")&&(Object.keys(localStorage).filter(e=>e.includes("settings")).forEach(e=>localStorage.removeItem(e)),Vt.success("Configura\xe7\xf5es limpas!"))},className:"btn-outline border-yellow-300 text-yellow-600 hover:bg-yellow-50",children:"Limpar Configura\xe7\xf5es"}),(0,An.jsx)("button",{onClick:()=>{window.confirm("Limpar cache e dados tempor\xe1rios?")&&Vt.success("Cache limpo!")},className:"btn-outline border-orange-300 text-orange-600 hover:bg-orange-50",children:"Limpar Cache"}),(0,An.jsx)("button",{onClick:O,className:"btn-outline border-red-300 text-red-600 hover:bg-red-50",children:"Limpar Todos os Dados"})]})]})]})]})})();case"advanced":return(0,An.jsxs)("div",{className:"space-y-8",children:[(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Otimize o desempenho da aplica\xe7\xe3o"})]})]}),(0,An.jsxs)("div",{className:"space-y-6",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Cache TTL (minutos)"}),(0,An.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Tempo de vida do cache de dados"}),(0,An.jsx)("input",{type:"range",min:"5",max:"480",step:"5",value:(null===e||void 0===e?void 0:e.cacheTTL)||60,onChange:e=>S("cacheTTL",parseInt(e.target.value)),className:"w-full"}),(0,An.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,An.jsx)("span",{children:"5 min"}),(0,An.jsx)("span",{children:"8 horas"})]})]}),(0,An.jsxs)("div",{className:"flex items-center justify-between",children:[(0,An.jsxs)("div",{children:[(0,An.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Lazy Loading"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Carregar conte\xfado conforme necess\xe1rio"})]}),(0,An.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.lazyLoading),onChange:e=>S("lazyLoading",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(bn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Informa\xe7\xf5es do Sistema"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Detalhes t\xe9cnicos sobre o ambiente"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Vers\xe3o da Aplica\xe7\xe3o:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:"v2.0.0"})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Navegador:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:navigator.userAgent.split(" ").slice(-1)[0]})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Plataforma:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:navigator.platform})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Idioma:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:navigator.language})]})]}),(0,An.jsxs)("div",{className:"space-y-3",children:[(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Local Storage:"}),(0,An.jsxs)("span",{className:"text-sm font-medium",children:[(JSON.stringify(localStorage).length/1024).toFixed(1)," KB"]})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Session Storage:"}),(0,An.jsxs)("span",{className:"text-sm font-medium",children:[(JSON.stringify(sessionStorage).length/1024).toFixed(1)," KB"]})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Cookies Habilitados:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:navigator.cookieEnabled?"Sim":"N\xe3o"})]}),(0,An.jsxs)("div",{className:"flex justify-between",children:[(0,An.jsx)("span",{className:"text-sm text-gray-600",children:"Online:"}),(0,An.jsx)("span",{className:"text-sm font-medium",children:navigator.onLine?"Sim":"N\xe3o"})]})]})]}),(0,An.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,An.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Recursos Suportados"}),(0,An.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,An.jsxs)("div",{className:"flex items-center ".concat("undefined"!==typeof Storage?"text-green-600":"text-red-600"),children:[(0,An.jsx)(xn,{className:"h-3 w-3 mr-1"}),"Local Storage"]}),(0,An.jsxs)("div",{className:"flex items-center ".concat(navigator.serviceWorker?"text-green-600":"text-red-600"),children:[(0,An.jsx)(xn,{className:"h-3 w-3 mr-1"}),"Service Worker"]}),(0,An.jsxs)("div",{className:"flex items-center ".concat(window.indexedDB?"text-green-600":"text-red-600"),children:[(0,An.jsx)(xn,{className:"h-3 w-3 mr-1"}),"IndexedDB"]}),(0,An.jsxs)("div",{className:"flex items-center ".concat(navigator.clipboard?"text-green-600":"text-red-600"),children:[(0,An.jsx)(xn,{className:"h-3 w-3 mr-1"}),"Clipboard API"]})]})]})]}),(0,An.jsxs)("div",{className:"card",children:[(0,An.jsxs)("div",{className:"flex items-center mb-6",children:[(0,An.jsx)(Gn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,An.jsxs)("div",{children:[(0,An.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Manuten\xe7\xe3o"}),(0,An.jsx)("p",{className:"text-sm text-gray-500",children:"Ferramentas para manuten\xe7\xe3o e reset"})]})]}),(0,An.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,An.jsx)("button",{onClick:()=>{localStorage.removeItem("light-novel-creator-cache"),Vt.success("Cache limpo!")},className:"btn-outline",children:"Limpar Cache"}),(0,An.jsx)("button",{onClick:()=>{window.confirm("Resetar todas as configura\xe7\xf5es para padr\xe3o?")&&(n({theme:"light",language:"pt-BR",fontSize:16,fontFamily:"serif"}),Vt.success("Configura\xe7\xf5es resetadas!"))},className:"btn-outline",children:"Reset Configura\xe7\xf5es"}),(0,An.jsx)("button",{onClick:()=>{window.location.reload()},className:"btn-outline",children:"Recarregar App"})]})]})]})}})()})]})})};const Xp=function(){return(()=>{const{settings:e}=(0,gn.A)(),n=(null===e||void 0===e?void 0:e.theme)||"light";(0,t.useEffect)(()=>{const e=document.documentElement;if(e.classList.remove("light","dark"),"auto"===n){const t=window.matchMedia("(prefers-color-scheme: dark)");t.matches?e.classList.add("dark"):e.classList.add("light");const n=t=>{t.matches?(e.classList.remove("light"),e.classList.add("dark")):(e.classList.remove("dark"),e.classList.add("light"))};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}e.classList.add(n)},[n])})(),t.useEffect(()=>(kr.init(),()=>{kr.destroy()}),[]),(0,An.jsx)(we,{children:(0,An.jsxs)("div",{className:"App",children:[(0,An.jsx)(Rn,{children:(0,An.jsxs)(xe,{children:[(0,An.jsx)(he,{path:"/",element:(0,An.jsx)(Kn,{})}),(0,An.jsx)(he,{path:"/editor",element:(0,An.jsx)(Cr,{})}),(0,An.jsx)(he,{path:"/world-builder",element:(0,An.jsx)(wp,{})}),(0,An.jsx)(he,{path:"/character-generator",element:(0,An.jsx)(Ep,{})}),(0,An.jsx)(he,{path:"/lore-generator",element:(0,An.jsx)(Pp,{})}),(0,An.jsx)(he,{path:"/narrative-generator",element:(0,An.jsx)(Tp,{})}),(0,An.jsx)(he,{path:"/ai-assistant",element:(0,An.jsx)(Dp,{})}),(0,An.jsx)(he,{path:"/projects",element:(0,An.jsx)(Lp,{})}),(0,An.jsx)(he,{path:"/settings",element:(0,An.jsx)(Yp,{})})]})}),(0,An.jsx)(Gt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})};a.createRoot(document.getElementById("root")).render((0,An.jsx)(t.StrictMode,{children:(0,An.jsx)(Xp,{})}))})()})();
//# sourceMappingURL=main.cd7c84ed.js.map