/*! For license information please see main.02cf51ad.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,A=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(A=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:A,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1268:(e,t,n)=>{var r=n(5428),a=n(7574),s=n(6832),o=s&&s.isTypedArray,i=o?a(o):r;e.exports=i},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,o=r.useEffect,i=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var A="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,A=r[1];return i(function(){a.value=n,a.getSnapshot=t,c(a)&&A({inst:a})},[e,n,t]),o(function(){return c(a)&&A({inst:a}),e(function(){c(a)&&A({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:A},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,r,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function Q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,P=Object.assign;function T(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var D=!1;function M(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?T(e):""}function H(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function R(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case j:return"Profiler";case B:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,Ae,ue=(Ae=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ae(e,t)})}:Ae);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Be=null;function je(e){if(e=xa(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ba(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?Be?Be.push(e):Be=[e]:Ne=e}function ke(){if(Ne){var e=Ne,t=Be;if(Be=Ne=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ee(e,t){return e(t)}function Se(){}var _e=!1;function Fe(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ee(e,t,n)}finally{_e=!1,(null!==Ne||null!==Be)&&(Se(),ke())}}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ba(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(A)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(Ae){Ie=!1}function Qe(e,t,n,r,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(A){this.onError(A)}}var Oe=!1,Pe=null,Te=!1,De=null,Me={onError:function(e){Oe=!0,Pe=e}};function He(e,t,n,r,a,s,o,i,l){Oe=!1,Pe=null,Qe.apply(Me,arguments)}function Re(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Re(e)!==e)throw Error(s(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Re(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ke(a),e;if(o===r)return Ke(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ve=a.unstable_scheduleCallback,We=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Ye=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,At=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=ut(i):0!==(s&=o)&&(r=ut(s))}else 0!==(o=n&~a)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Nt,Bt,jt,Ct=!1,kt=[],Et=null,St=null,_t=null,Ft=new Map,Ut=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function Ot(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Pt(e){var t=va(e.target);if(null!==t){var n=Re(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void jt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Tt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Dt(e,t,n){Tt(e)&&n.delete(t)}function Mt(){Ct=!1,null!==Et&&Tt(Et)&&(Et=null),null!==St&&Tt(St)&&(St=null),null!==_t&&Tt(_t)&&(_t=null),Ft.forEach(Dt),Ut.forEach(Dt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Rt(e){function t(t){return Ht(t,e)}if(0<kt.length){Ht(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ht(Et,e),null!==St&&Ht(St,e),null!==_t&&Ht(_t,e),Ft.forEach(t),Ut.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Pt(n),null===n.blockedOn&&It.shift()}var qt=y.ReactCurrentBatchConfig,Kt=!0;function zt(e,t,n,r){var a=xt,s=qt.transition;qt.transition=null;try{xt=1,Vt(e,t,n,r)}finally{xt=a,qt.transition=s}}function Gt(e,t,n,r){var a=xt,s=qt.transition;qt.transition=null;try{xt=4,Vt(e,t,n,r)}finally{xt=a,qt.transition=s}}function Vt(e,t,n,r){if(Kt){var a=Xt(e,t,n,r);if(null===a)Kr(e,t,r,Wt,n),Qt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Ot(Et,e,t,n,r,a),!0;case"dragenter":return St=Ot(St,e,t,n,r,a),!0;case"mouseover":return _t=Ot(_t,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ft.set(s,Ot(Ft.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ut.set(s,Ot(Ut.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Qt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&bt(s),null===(s=Xt(e,t,n,r))&&Kr(e,t,r,Wt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Wt=null;function Xt(e,t,n,r){if(Wt=null,null!==(e=va(e=be(r))))if(null===(t=Re(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[s-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=an(cn),un=P({},cn,{view:0,detail:0}),dn=an(un),hn=P({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(hn),pn=an(P({},hn,{dataTransfer:0})),mn=an(P({},un,{relatedTarget:0})),gn=an(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),yn=an(P({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function jn(){return Bn}var Cn=P({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Cn),En=an(P({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=an(P({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),_n=an(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=P({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Un=an(Fn),In=[9,13,27,32],Ln=A&&"CompositionEvent"in window,Qn=null;A&&"documentMode"in document&&(Qn=document.documentMode);var On=A&&"TextEvent"in window&&!Qn,Pn=A&&(!Ln||Qn&&8<Qn&&11>=Qn),Tn=String.fromCharCode(32),Dn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function zn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new An("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Vn=null;function Wn(e){Tr(e,0)}function Xn(e){if(V(ya(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(A){var Zn;if(A){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Vn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Vn)){var t=[];zn(t,Vn,e,be(e)),Fe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Vn)}function sr(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ar(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=Ar(n,s);var o=Ar(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=A&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,xr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new An("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Nr={},Br={};function jr(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Br)return Nr[e]=n[t];return e}A&&(Br=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=jr("animationend"),kr=jr("animationiteration"),Er=jr("animationstart"),Sr=jr("transitionend"),_r=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){_r.set(e,t),l(t,[e])}for(var Ir=0;Ir<Fr.length;Ir++){var Lr=Fr[Ir];Ur(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ur(Cr,"onAnimationEnd"),Ur(kr,"onAnimationIteration"),Ur(Er,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Sr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,c){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var A=Pe;Oe=!1,Pe=null,Te||(Te=!0,De=A)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Pr(a,i,c),s=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Pr(a,i,c),s=l}}}if(Te)throw e=De,Te=!1,De=null,e}function Dr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[Hr]){e[Hr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Mr(t,!1,e),Mr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Mr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var a=zt;break;case 4:a=Gt;break;default:a=Vt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=va(i)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}i=i.parentNode}}r=r.return}Fe(function(){var r=s,a=be(n),o=[];e:{var i=_r.get(e);if(void 0!==i){var l=An,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case Cr:case kr:case Er:l=gn;break;case Sr:l=_n;break;case"scroll":l=dn;break;case"wheel":l=Un;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var A=0!==(4&t),u=!A&&"scroll"===e,d=A?null!==i?i+"Capture":null:i;A=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==d&&(null!=(p=Ue(f,d))&&A.push(zr(f,p,h)))),u)break;f=f.return}0<A.length&&(i=new l(i,c,null,n,a),o.push({event:i,listeners:A}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(u=Re(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(A=fn,p="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(A=En,p="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==l?i:ya(l),h=null==c?i:ya(c),(i=new A(p,f+"leave",l,n,a)).target=u,i.relatedTarget=h,p=null,va(a)===r&&((A=new A(d,f+"enter",c,n,a)).target=h,A.relatedTarget=u,p=A),u=p,l&&c)e:{for(d=c,f=0,h=A=l;h;h=Vr(h))f++;for(h=0,p=d;p;p=Vr(p))h++;for(;0<f-h;)A=Vr(A),f--;for(;0<h-f;)d=Vr(d),h--;for(;f--;){if(A===d||null!==d&&A===d.alternate)break e;A=Vr(A),d=Vr(d)}A=null}else A=null;null!==l&&Wr(o,i,l,A,!1),null!==c&&null!==u&&Wr(o,u,c,A,!0)}if("select"===(l=(i=r?ya(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var m=Jn;else if(Kn(i))if(Yn)m=or;else{m=ar;var g=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(m=sr);switch(m&&(m=m(e,r))?zn(o,m,n,a):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?ya(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,yr(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(o,n,a)}var v;if(Ln)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?Mn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Pn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(v=en()):(Zt="value"in(Yt=a)?Yt.value:Yt.textContent,Rn=!0)),0<(g=Gr(r,x)).length&&(x=new yn(x,e,null,n,a),o.push({event:x,listeners:g}),v?x.data=v:null!==(v=Hn(n))&&(x.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Ln&&Mn(e,t)?(e=en(),$t=Zt=Yt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Tr(o,t)})}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ue(e,n))&&r.unshift(zr(e,s,a)),null!=(s=Ue(e,t))&&r.push(zr(e,s,a))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var s=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Ue(n,s))&&o.unshift(zr(n,l,i)):a||null!=(l=Ue(n,s))&&o.push(zr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Rt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Rt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Aa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),da="__reactFiber$"+ua,ha="__reactProps$"+ua,fa="__reactContainer$"+ua,pa="__reactEvents$"+ua,ma="__reactListeners$"+ua,ga="__reactHandles$"+ua;function va(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Aa(e);null!==e;){if(n=e[da])return n;e=Aa(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[da]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ba(e){return e[ha]||null}var wa=[],Na=-1;function Ba(e){return{current:e}}function ja(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function Ca(e,t){Na++,wa[Na]=e.current,e.current=t}var ka={},Ea=Ba(ka),Sa=Ba(!1),_a=ka;function Fa(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){ja(Sa),ja(Ea)}function La(e,t,n){if(Ea.current!==ka)throw Error(s(168));Ca(Ea,t),Ca(Sa,n)}function Qa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,q(e)||"Unknown",a));return P({},n,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,_a=Ea.current,Ca(Ea,e),Ca(Sa,Sa.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Qa(e,t,_a),r.__reactInternalMemoizedMergedChildContext=e,ja(Sa),ja(Ea),Ca(Ea,e)):ja(Sa),Ca(Sa,n)}var Ta=null,Da=!1,Ma=!1;function Ha(e){null===Ta?Ta=[e]:Ta.push(e)}function Ra(){if(!Ma&&null!==Ta){Ma=!0;var e=0,t=xt;try{var n=Ta;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ta=null,Da=!1}catch(a){throw null!==Ta&&(Ta=Ta.slice(e+1)),Ve($e,Ra),a}finally{xt=t,Ma=!1}}return null}var qa=[],Ka=0,za=null,Ga=0,Va=[],Wa=0,Xa=null,Ja=1,Ya="";function Za(e,t){qa[Ka++]=Ga,qa[Ka++]=za,za=e,Ga=t}function $a(e,t,n){Va[Wa++]=Ja,Va[Wa++]=Ya,Va[Wa++]=Xa,Xa=e;var r=Ja;e=Ya;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ja=1<<32-ot(t)+a|n<<a|r,Ya=s+e}else Ja=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ts(e){for(;e===za;)za=qa[--Ka],qa[Ka]=null,Ga=qa[--Ka],qa[Ka]=null;for(;e===Xa;)Xa=Va[--Wa],Va[Wa]=null,Ya=Va[--Wa],Va[Wa]=null,Ja=Va[--Wa],Va[Wa]=null}var ns=null,rs=null,as=!1,ss=null;function os(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ja,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&is(e,t)?os(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function As(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return As(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(As(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ca(e.nextSibling)}function hs(){rs=ns=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===U&&vs(s)===t.type)?((r=a(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function A(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Qc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case w:return(t=Tc(t,e.mode,n)).return=e,t;case U:return d(e,(0,t._init)(t._payload),n)}if(te(t)||Q(t))return(t=Qc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?A(e,t,n,r):null;case U:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||Q(n))return null!==a?null:u(e,t,n,r,null);gs(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return A(t,e=e.get(null===r.key?n:r.key)||null,r,a);case U:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||Q(r))return u(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function p(a,s,i,l){for(var c=null,A=null,u=s,p=s=0,m=null;null!==u&&p<i.length;p++){u.index>p?(m=u,u=null):m=u.sibling;var g=h(a,u,i[p],l);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(a,u),s=o(g,s,p),null===A?c=g:A.sibling=g,A=g,u=m}if(p===i.length)return n(a,u),as&&Za(a,p),c;if(null===u){for(;p<i.length;p++)null!==(u=d(a,i[p],l))&&(s=o(u,s,p),null===A?c=u:A.sibling=u,A=u);return as&&Za(a,p),c}for(u=r(a,u);p<i.length;p++)null!==(m=f(u,a,p,i[p],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?p:m.key),s=o(m,s,p),null===A?c=m:A.sibling=m,A=m);return e&&u.forEach(function(e){return t(a,e)}),as&&Za(a,p),c}function m(a,i,l,c){var A=Q(l);if("function"!==typeof A)throw Error(s(150));if(null==(l=A.call(l)))throw Error(s(151));for(var u=A=null,p=i,m=i=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=h(a,p,v.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),i=o(x,i,m),null===u?A=x:u.sibling=x,u=x,p=g}if(v.done)return n(a,p),as&&Za(a,m),A;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(a,v.value,c))&&(i=o(v,i,m),null===u?A=v:u.sibling=v,u=v);return as&&Za(a,m),A}for(p=r(a,p);!v.done;m++,v=l.next())null!==(v=f(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),i=o(v,i,m),null===u?A=v:u.sibling=v,u=v);return e&&p.forEach(function(e){return t(a,e)}),as&&Za(a,m),A}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,A=s;null!==A;){if(A.key===c){if((c=o.type)===N){if(7===A.tag){n(r,A.sibling),(s=a(A,o.props.children)).return=r,r=s;break e}}else if(A.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===U&&vs(c)===A.type){n(r,A.sibling),(s=a(A,o.props)).ref=ms(r,A,o),s.return=r,r=s;break e}n(r,A);break}t(r,A),A=A.sibling}o.type===N?((s=Qc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return i(r);case w:e:{for(A=o.key;null!==s;){if(s.key===A){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=a(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Tc(o,r.mode,l)).return=r,r=s}return i(r);case U:return e(r,s,(A=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(Q(o))return m(r,s,o,l);gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,o)).return=r,r=s):(n(r,s),(s=Pc(o,r.mode,l)).return=r,r=s),i(r)):n(r,s)}}var ys=xs(!0),bs=xs(!1),ws=Ba(null),Ns=null,Bs=null,js=null;function Cs(){js=Bs=Ns=null}function ks(e){var t=ws.current;ja(ws),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){Ns=e,js=Bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(js!==e)if(e={context:e,memoizedValue:t,next:null},null===Bs){if(null===Ns)throw Error(s(308));Bs=e,Ns.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Fs=null;function Us(e){null===Fs?Fs=[e]:Fs.push(e)}function Is(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Us(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Qs=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ls(e,n)}return null===(a=r.interleaved)?(t.next=t,Us(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ls(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rs(e,t,n,r){var a=e.updateQueue;Qs=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var A=e.alternate;null!==A&&((i=(A=A.updateQueue).lastBaseUpdate)!==o&&(null===i?A.firstBaseUpdate=c:i.next=c,A.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,A=c=l=null,i=s;;){var d=i.lane,h=i.eventTime;if((r&d)===d){null!==A&&(A=A.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(d=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=p.payload)?f.call(h,u,d):f)||void 0===d)break e;u=P({},u,d);break e;case 2:Qs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[i]:d.push(i))}else h={eventTime:h,lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===A?(c=A=h,l=u):A=A.next=h,o|=d;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(d=i).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===A&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=A,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=u}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ks={},zs=Ba(Ks),Gs=Ba(Ks),Vs=Ba(Ks);function Ws(e){if(e===Ks)throw Error(s(174));return e}function Xs(e,t){switch(Ca(Vs,t),Ca(Gs,e),Ca(zs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ja(zs),Ca(zs,t)}function Js(){ja(zs),ja(Gs),ja(Vs)}function Ys(e){Ws(Vs.current);var t=Ws(zs.current),n=le(t,e.type);t!==n&&(Ca(Gs,e),Ca(zs,n))}function Zs(e){Gs.current===e&&(ja(zs),ja(Gs))}var $s=Ba(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=y.ReactCurrentDispatcher,ao=y.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,Ao=!1,uo=0,ho=0;function fo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:ei,e=n(r,a),Ao){o=0;do{if(Ao=!1,uo=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,a)}while(Ao)}if(ro.current=Zo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function go(){var e=0!==uo;return uo=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function yo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=io,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,c=null,A=o;do{var u=A.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:e(r,A.action);else{var d={lane:u,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};null===c?(l=c=d,i=r):c=c.next=d,oo.lanes|=u,Ol|=u}A=A.next}while(null!==A&&A!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Ol|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(xi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Bo(e,t){var n=oo,r=xo(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,xi=!0),r=r.queue,Oo(ko.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Fo(9,Co.bind(null,n,r,a,t),void 0,null),null===Sl)throw Error(s(349));0!==(30&so)||jo(n,t,a)}return a}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&So(e)}function ko(e,t,n){return n(function(){Eo(t)&&So(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function So(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function _o(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return xo().memoizedState}function Io(e,t,n,r){var a=vo();oo.flags|=e,a.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var a=xo();r=void 0===r?null:r;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(a.memoizedState=Fo(t,n,s,r))}oo.flags|=e,a.memoizedState=Fo(1|t,n,s,r)}function Qo(e,t){return Io(8390656,8,e,t)}function Oo(e,t){return Lo(2048,8,e,t)}function Po(e,t){return Lo(4,2,e,t)}function To(e,t){return Lo(4,4,e,t)}function Do(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Do.bind(null,t,e),n)}function Ho(){}function Ro(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function zo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{xt=n,ao.transition=r}}function Go(){return xo().memoizedState}function Vo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Jo(t,n);else if(null!==(n=Is(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function Wo(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Jo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,Us(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Is(e,t,a,r))&&(nc(n,e,r,a=ec()),Yo(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){Ao=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zo={readContext:_s,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},$o={readContext:_s,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Do.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:_o,useDebugValue:Ho,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=_o(!1),t=e[0];return e=zo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=vo();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Sl)throw Error(s(349));0!==(30&so)||jo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Qo(ko.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Sl.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+n),0<(n=uo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:_s,useCallback:Ro,useContext:_s,useEffect:Oo,useImperativeHandle:Mo,useInsertionEffect:Po,useLayoutEffect:To,useMemo:qo,useReducer:bo,useRef:Uo,useState:function(){return bo(yo)},useDebugValue:Ho,useDeferredValue:function(e){return Ko(xo(),io.memoizedState,e)},useTransition:function(){return[bo(yo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:Bo,useId:Go,unstable_isNewReconciler:!1},ti={readContext:_s,useCallback:Ro,useContext:_s,useEffect:Oo,useImperativeHandle:Mo,useInsertionEffect:Po,useLayoutEffect:To,useMemo:qo,useReducer:wo,useRef:Uo,useState:function(){return wo(yo)},useDebugValue:Ho,useDeferredValue:function(e){var t=xo();return null===io?t.memoizedState=e:Ko(t,io.memoizedState,e)},useTransition:function(){return[wo(yo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:Bo,useId:Go,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Re(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ts(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,a))&&(nc(t,e,a,r),Ms(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ts(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,a))&&(nc(t,e,a,r),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ts(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ds(e,a,r))&&(nc(t,e,r,n),Ms(t,e,r))}};function si(e,t,n,r,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function oi(e,t,n){var r=!1,a=ka,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(a=Ua(t)?_a:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fa(e,a):ka),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=_s(s):(s=Ua(t)?_a:Ea.current,a.context=Fa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Rs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ai(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var di="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,n){(n=Ts(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,zl=r),ui(0,t)},n}function fi(e,t,n){(n=Ts(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new di;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ts(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=y.ReactCurrentOwner,xi=!1;function yi(e,t,n,r){t.child=null===e?bs(t,null,n,r):ys(t,e.child,n,r)}function bi(e,t,n,r,a){n=n.render;var s=t.ref;return Ss(t,a),r=mo(e,t,n,r,s,a),n=go(),null===e||xi?(as&&n&&es(t),t.flags|=1,yi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a))}function wi(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Uc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ki(e,t,a)}return t.flags|=1,(e=Ic(s,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ki(e,t,a);0!==(131072&e.flags)&&(xi=!0)}}return Ci(e,t,n,r,a)}function Bi(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Il,Ul),Ul|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Il,Ul),Ul|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ca(Il,Ul),Ul|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ca(Il,Ul),Ul|=r;return yi(e,t,a,n),t.child}function ji(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,a){var s=Ua(n)?_a:Ea.current;return s=Fa(t,s),Ss(t,a),n=mo(e,t,n,r,s,a),r=go(),null===e||xi?(as&&r&&es(t),t.flags|=1,yi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a))}function ki(e,t,n,r,a){if(Ua(n)){var s=!0;Oa(t)}else s=!1;if(Ss(t,a),null===t.stateNode)qi(e,t),oi(t,n,r),li(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Fa(t,c=Ua(n)?_a:Ea.current);var A=n.getDerivedStateFromProps,u="function"===typeof A||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Qs=!1;var d=t.memoizedState;o.state=d,Rs(t,r,o,a),l=t.memoizedState,i!==r||d!==l||Sa.current||Qs?("function"===typeof A&&(ri(t,n,A,r),l=t.memoizedState),(i=Qs||si(t,n,i,r,d,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Fa(t,l=Ua(n)?_a:Ea.current);var h=n.getDerivedStateFromProps;(A="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||d!==l)&&ii(t,o,r,l),Qs=!1,d=t.memoizedState,o.state=d,Rs(t,r,o,a);var f=t.memoizedState;i!==u||d!==f||Sa.current||Qs?("function"===typeof h&&(ri(t,n,h,r),f=t.memoizedState),(c=Qs||si(t,n,c,r,d,f,l)||!1)?(A||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,s,a)}function Ei(e,t,n,r,a,s){ji(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Pa(t,n,!1),Ki(e,t,s);r=t.stateNode,vi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,i,s)):yi(e,t,i,s),t.memoizedState=r.state,a&&Pa(t,n,!0),t.child}function Si(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Xs(e,t.containerInfo)}function _i(e,t,n,r,a){return hs(),fs(a),t.flags|=256,yi(e,t,n,r),t.child}var Fi,Ui,Ii,Li,Qi={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pi(e,t,n){var r,a=t.pendingProps,o=$s.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca($s,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Oc(l,a,0,null),e=Qc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oi(n),t.memoizedState=Qi,e):Ti(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Di(e,t,i,r=Ai(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Oc({mode:"visible",children:r.children},a,0,null),(o=Qc(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,i),t.child.memoizedState=Oi(i),t.memoizedState=Qi,o);if(0===(1&t.mode))return Di(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Di(e,t,i,r=Ai(o=Error(s(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=Sl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ls(e,a),nc(r,e,a,-1))}return pc(),Di(e,t,i,r=Ai(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Va[Wa++]=Ja,Va[Wa++]=Ya,Va[Wa++]=Xa,Ja=e.id,Ya=e.overflow,Xa=t),t=Ti(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Ic(r,i):(i=Qc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Oi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Qi,a}return e=(i=e.child).sibling,a=Ic(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ti(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Di(e,t,n,r){return null!==r&&fs(r),ys(t,e.child,null,n),(e=Ti(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Hi(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Ri(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yi(e,t,r.children,n),0!==(2&(r=$s.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mi(e,n,t);else if(19===e.tag)Mi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca($s,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hi(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hi(t,!0,n,null,s);break;case"together":Hi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ki(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vi(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Ua(t.type)&&Ia(),Gi(t),null;case 3:return r=t.stateNode,Js(),ja(Sa),ja(Ea),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ui(e,t),Gi(t),null;case 5:Zs(t);var a=Ws(Vs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ii(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Gi(t),null}if(e=Ws(zs.current),us(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[da]=t,r[ha]=o,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(a=0;a<Qr.length;a++)Dr(Qr[a],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":J(r,o),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",r);break;case"textarea":ae(r,o),Dr("invalid",r)}for(var l in ve(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[da]=t,e[ha]=r,Fi(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),a=r;break;case"iframe":case"object":case"embed":Dr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Qr.length;a++)Dr(Qr[a],e);a=r;break;case"source":Dr("error",e),a=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),a=r;break;case"details":Dr("toggle",e),a=r;break;case"input":J(e,r),a=X(e,r),Dr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=P({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Dr("invalid",e)}for(o in ve(n,a),c=a)if(c.hasOwnProperty(o)){var A=c[o];"style"===o?me(e,A):"dangerouslySetInnerHTML"===o?null!=(A=A?A.__html:void 0)&&ue(e,A):"children"===o?"string"===typeof A?("textarea"!==n||""!==A)&&de(e,A):"number"===typeof A&&de(e,""+A):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=A&&"onScroll"===o&&Dr("scroll",e):null!=A&&x(e,o,A,l))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws(Vs.current),Ws(zs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return Gi(t),null;case 13:if(ja($s),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,o=!1;else if(o=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[da]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Ll&&(Ll=3):pc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Js(),Ui(e,t),null===e&&Rr(t.stateNode.containerInfo),Gi(t),null;case 10:return ks(t.type._context),Gi(t),null;case 19:if(ja($s),null===(o=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)zi(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,zi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca($s,1&$s.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Rl&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Gi(t),null}else 2*Ye()-o.renderingStartTime>Rl&&1073741824!==n&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=$s.current,Ca($s,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ul)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wi(e,t){switch(ts(t),t.tag){case 1:return Ua(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),ja(Sa),ja(Ea),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(ja($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ja($s),null;case 4:return Js(),null;case 10:return ks(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Fi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ui=function(){},Ii=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ws(zs.current);var s,o=null;switch(n){case"input":a=X(e,a),r=X(e,r),o=[];break;case"select":a=P({},a,{value:void 0}),r=P({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(A in ve(n,r),n=null,a)if(!r.hasOwnProperty(A)&&a.hasOwnProperty(A)&&null!=a[A])if("style"===A){var l=a[A];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==A&&"children"!==A&&"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(i.hasOwnProperty(A)?o||(o=[]):(o=o||[]).push(A,null));for(A in r){var c=r[A];if(l=null!=a?a[A]:void 0,r.hasOwnProperty(A)&&c!==l&&(null!=c||null!=l))if("style"===A)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(A,n)),n=c;else"dangerouslySetInnerHTML"===A?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(A,c)):"children"===A?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(A,""+c):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&(i.hasOwnProperty(A)?(null!=c&&"onScroll"===A&&Dr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(A,c))}n&&(o=o||[]).push("style",n);var A=o;(t.updateQueue=A)&&(t.flags|=4)}},Li=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xi=!1,Ji=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function $i(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Bc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Bc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[ha],delete t[pa],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var Al=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ji||$i(n,t);case 6:var r=Al,a=ul;Al=null,dl(e,t,n),ul=a,null!==(Al=r)&&(ul?(e=Al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Al.removeChild(n.stateNode));break;case 18:null!==Al&&(ul?(e=Al,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Rt(e)):la(Al,n.stateNode));break;case 4:r=Al,a=ul,Al=n.stateNode.containerInfo,ul=!0,dl(e,t,n),Al=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Ji&&($i(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Bc(n,t,i)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,dl(e,t,n),Ji=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yi),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:Al=l.stateNode,ul=!1;break e;case 3:case 4:Al=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===Al)throw Error(s(160));hl(o,i,a),Al=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(A){Bc(a,t,A)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Bc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Bc(e,e.return,m)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&$i(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&$i(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(m){Bc(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(a,o),xe(l,i);var A=xe(l,o);for(i=0;i<c.length;i+=2){var u=c[i],d=c[i+1];"style"===u?me(a,d):"dangerouslySetInnerHTML"===u?ue(a,d):"children"===u?de(a,d):x(a,u,d,A)}switch(l){case"input":Z(a,o);break;case"textarea":se(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(a,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(m){Bc(e,e.return,m)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){Bc(e,e.return,m)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Rt(t.containerInfo)}catch(m){Bc(e,e.return,m)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Ye())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(A=Ji)||u,pl(t,e),Ji=A):pl(t,e),gl(e),8192&r){if(A=null!==e.memoizedState,(e.stateNode.isHidden=A)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(d=Zi=u;null!==Zi;){switch(f=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$i(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Bc(r,n,m)}}break;case 5:$i(h,h.return);break;case 22:if(null!==h.memoizedState){bl(d);continue}}null!==f?(f.return=h,Zi=f):bl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{a=d.stateNode,A?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,i=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(m){Bc(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=A?"":d.memoizedProps}catch(m){Bc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){Bc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zi=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var a=Zi,s=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Xi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Xi;var c=Ji;if(Xi=o,(Ji=l)&&!c)for(Zi=a;null!==Zi;)l=(o=Zi).child,22===o.tag&&null!==o.memoizedState?wl(a):null!==l?(l.return=o,Zi=l):wl(a);for(;null!==s;)Zi=s,xl(s,t,n),s=s.sibling;Zi=a,Xi=i,Ji=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zi=s):yl(e)}}function yl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var A=t.alternate;if(null!==A){var u=A.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Rt(d)}}}break;default:throw Error(s(163))}Ji||512&t.flags&&al(t)}catch(h){Bc(t,t.return,h)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function bl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function wl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Bc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Bc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Bc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Bc(t,o,l)}}}catch(l){Bc(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var Nl,Bl=Math.ceil,jl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,kl=y.ReactCurrentBatchConfig,El=0,Sl=null,_l=null,Fl=0,Ul=0,Il=Ba(0),Ll=0,Ql=null,Ol=0,Pl=0,Tl=0,Dl=null,Ml=null,Hl=0,Rl=1/0,ql=null,Kl=!1,zl=null,Gl=null,Vl=!1,Wl=null,Xl=0,Jl=0,Yl=null,Zl=-1,$l=0;function ec(){return 0!==(6&El)?Ye():-1!==Zl?Zl:Zl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Fl?Fl&-Fl:null!==ps.transition?(0===$l&&($l=pt()),$l):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));gt(e,n,r),0!==(2&El)&&e===Sl||(e===Sl&&(0===(2&El)&&(Pl|=n),4===Ll&&ic(e,Fl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Rl=Ye()+500,Da&&Ra()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=ht(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=dt(e,e===Sl?Fl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Da=!0,Ha(e)}(lc.bind(null,e)):Ha(lc.bind(null,e)),oa(function(){0===(6&El)&&Ra()}),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Sc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,$l=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Sl?Fl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=El;El|=2;var o=fc();for(Sl===e&&Fl===t||(ql=null,Rl=Ye()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}Cs(),jl.current=o,El=a,null!==_l?t=0:(Sl=null,Fl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ql,dc(e,0),ic(e,r),rc(e,Ye()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ql,dc(e,0),ic(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,Ml,ql);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Hl+500-Ye())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(bc.bind(null,e,Ml,ql),t);break}bc(e,Ml,ql);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bl(r/1960))-r)){e.timeoutHandle=ra(bc.bind(null,e,Ml,ql),r);break}bc(e,Ml,ql);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ml,Ml=n,null!==t&&oc(t)),e}function oc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~Tl,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));wc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ql,dc(e,0),ic(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ml,ql),rc(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Rl=Ye()+500,Da&&Ra())}}function Ac(e){null!==Wl&&0===Wl.tag&&0===(6&El)&&wc();var t=El;El|=1;var n=kl.transition,r=xt;try{if(kl.transition=null,xt=1,e)return e()}finally{xt=r,kl.transition=n,0===(6&(El=t))&&Ra()}}function uc(){Ul=Il.current,ja(Il)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Js(),ja(Sa),ja(Ea),no();break;case 5:Zs(r);break;case 4:Js();break;case 13:case 19:ja($s);break;case 10:ks(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Sl=e,_l=e=Ic(e.current,null),Fl=Ul=t,Ll=0,Ql=null,Tl=Pl=Ol=0,Ml=Dl=null,null!==Fs){for(t=0;t<Fs.length;t++)if(null!==(r=(n=Fs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=a,r.next=o}n.pending=r}Fs=null}return e}function hc(e,t){for(;;){var n=_l;try{if(Cs(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(so=0,lo=io=oo=null,Ao=!1,uo=0,Cl.current=null,null===n||null===n.return){Ll=1,Ql=t,_l=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var A=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=mi(i);if(null!==f){f.flags&=-257,gi(f,i,l,0,t),1&f.mode&&pi(o,A,t),c=A;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){pi(o,A,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=mi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,l,0,t),fs(ci(c,l));break e}}o=c=ci(c,l),4!==Ll&&(Ll=2),null===Dl?Dl=[o]:Dl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,hi(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,fi(o,l,t));break e}}o=o.return}while(null!==o)}yc(n)}catch(y){t=y,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function fc(){var e=jl.current;return jl.current=Zo,null===e?Zo:e}function pc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Sl||0===(268435455&Ol)&&0===(268435455&Pl)||ic(Sl,Fl)}function mc(e,t){var n=El;El|=2;var r=fc();for(Sl===e&&Fl===t||(ql=null,dc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Cs(),El=n,jl.current=r,null!==_l)throw Error(s(261));return Sl=null,Fl=0,Ll}function gc(){for(;null!==_l;)xc(_l)}function vc(){for(;null!==_l&&!Xe();)xc(_l)}function xc(e){var t=Nl(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,null===t?yc(e):_l=t,Cl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vi(n,t,Ul)))return void(_l=n)}else{if(null!==(n=Wi(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ll=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ll&&(Ll=5)}function bc(e,t,n){var r=xt,a=kl.transition;try{kl.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Wl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,o),e===Sl&&(_l=Sl=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,Sc(tt,function(){return wc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var i=xt;xt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(ea=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var i=0,l=-1,c=-1,A=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==a&&3!==d.nodeType||(l=i+a),d!==o||0!==r&&3!==d.nodeType||(c=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++A===a&&(l=i),h===o&&++u===r&&(c=i),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Kt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ni(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(b){Bc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}p=tl,tl=!1}(e,n),ml(n,e),fr(ta),Kt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Je(),El=l,xt=i,kl.transition=o}else e.current=n;if(Vl&&(Vl=!1,Wl=e,Xl=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Kl)throw Kl=!1,e=zl,zl=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Ra()}(e,t,n,r)}finally{kl.transition=a,xt=r}return null}function wc(){if(null!==Wl){var e=yt(Xl),t=kl.transition,n=xt;try{if(kl.transition=null,xt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Xl=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Zi=e.current;null!==Zi;){var o=Zi,i=o.child;if(0!==(16&Zi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var A=l[c];for(Zi=A;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var d=u.child;if(null!==d)d.return=u,Zi=d;else for(;null!==Zi;){var h=(u=Zi).sibling,f=u.return;if(sl(u),u===A){Zi=null;break}if(null!==h){h.return=f,Zi=h;break}Zi=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(o=Zi).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Zi=v;break e}Zi=o.return}}var x=e.current;for(Zi=x;null!==Zi;){var y=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Zi=y;else e:for(i=x;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Bc(l,l.return,w)}if(l===i){Zi=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Zi=b;break e}Zi=l.return}}if(El=a,Ra(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{xt=n,kl.transition=t}}return!1}function Nc(e,t,n){e=Ds(e,t=hi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Bc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ds(t,e=fi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(Fl&n)===n&&(4===Ll||3===Ll&&(130023424&Fl)===Fl&&500>Ye()-Hl?dc(e,0):Tl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=At,0===(130023424&(At<<=1))&&(At=4194304)));var n=ec();null!==(e=Ls(e,t))&&(gt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Sc(e,t){return Ve(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new _c(e,t,n,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Uc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Qc(n.children,a,o,t);case B:i=8,a|=8;break;case j:return(e=Fc(12,n,t,2|a)).elementType=j,e.lanes=o,e;case S:return(e=Fc(13,n,t,a)).elementType=S,e.lanes=o,e;case _:return(e=Fc(19,n,t,a)).elementType=_,e.lanes=o,e;case I:return Oc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case k:i=9;break e;case E:i=11;break e;case F:i=14;break e;case U:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Fc(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Qc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,a,s,o,i,l){return e=new Dc(e,t,n,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Fc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Hc(e){if(!e)return ka;e:{if(Re(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ua(n))return Qa(e,n,t)}return t}function Rc(e,t,n,r,a,s,o,i,l){return(e=Mc(n,r,!0,e,0,s,0,i,l)).context=Hc(null),n=e.current,(s=Ts(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function qc(e,t,n,r){var a=t.current,s=ec(),o=tc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ts(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(a,t,o))&&(nc(e,a,o,s),Ms(e,a,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Sa.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Si(t),hs();break;case 5:Ys(t);break;case 1:Ua(t.type)&&Oa(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(ws,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pi(e,t,n):(Ca($s,1&$s.current),null!==(e=Ki(e,t,n))?e.sibling:null);Ca($s,1&$s.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ri(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return Ki(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,as&&0!==(1048576&t.flags)&&$a(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var a=Fa(t,Ea.current);Ss(t,n),a=mo(null,t,r,e,a,n);var o=go();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(r)?(o=!0,Oa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Os(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,r,e,n),t=Ei(null,t,r,!0,o,n)):(t.tag=0,as&&o&&es(t),yi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===F)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=ki(null,t,r,e,n);break e;case 11:t=bi(null,t,r,e,n);break e;case 14:t=wi(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Si(t),null===e)throw Error(s(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ps(e,t),Rs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_i(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=_i(e,t,r,n,a=ci(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===a){t=Ki(e,t,n);break e}yi(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),ji(e,t),yi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Pi(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,bi(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ca(ws,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Sa.current){t=Ki(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ts(-1,n&-n)).tag=2;var A=o.updateQueue;if(null!==A){var u=(A=A.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),A.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Es(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}yi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ss(t,n),r=r(a=_s(a)),t.flags|=1,yi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),wi(e,t,r,a=ni(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),qi(e,t),t.tag=1,Ua(r)?(e=!0,Oa(t)):e=!1,Ss(t,n),oi(t,r,a),li(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return Ri(e,t,n);case 22:return Bi(e,t,n)}throw Error(s(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Kc(o);i.call(e)}}qc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Kc(o);s.call(e)}}var o=Rc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fa]=o.current,Rr(8===e.nodeType?e.parentNode:e),Ac(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Kc(l);i.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fa]=l.current,Rr(8===e.nodeType?e.parentNode:e),Ac(function(){qc(t,l,n,r)}),l}(n,t,e,a,r);return Kc(o)}Xc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ac(function(){qc(null,e,null,null)}),t[fa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Pt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ye()),0===(6&El)&&(Rl=Ye()+500,Ra()))}break;case 13:Ac(function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Bt=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ba(r);if(!a)throw Error(s(90));V(r),Z(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Se=Ac;var eA={usingClientEntryPoint:!1,Events:[xa,ya,ba,Ce,ke,cc]},tA={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nA={bundleType:tA.bundleType,version:tA.version,rendererPackageName:tA.rendererPackageName,rendererConfig:tA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:tA.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rA.isDisabled&&rA.supportsFiber)try{at=rA.inject(nA),st=rA}catch(Ae){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",a=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Rr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Ac(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Rc(t,null,e,1,null!=n?n:null,a,0,o,i),e[fa]=t.current,Rr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(Ac(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),s=Object.prototype,o=s.hasOwnProperty,i=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},2823:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,i=s.length;o<i;o++,a++)r[a]=s[o];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=o(n(5043)),l=o(n(7950)),c=o(n(9853)),A=o(n(4175)),u=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,a){var s,o,i,l;"text-change"===e?null===(o=(s=n).onEditorChangeText)||void 0===o||o.call(s,n.editor.root.innerHTML,t,a,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(i=n).onEditorChangeSelection)||void 0===l||l.call(i,t,a,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(i.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(e.children)&&"textarea"===(null===(t=i.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var a=this.getEditorContents(),o=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(o,a)||this.setEditorContents(this.editor,o)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],r.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(n){return!c.default(e[n],t.props[n])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var s=this.regenerationSnapshot,o=(r=s.delta,s.selection);delete this.regenerationSnapshot,this.instantiateEditor();var i=this.editor;i.setContents(r),d(function(){return n.setEditorSelection(i,o)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new A.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),d(function(){return n.setEditorSelection(e,r)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,s={key:this.state.generation,ref:function(t){e.editingArea=t}};return i.default.Children.count(n)?i.default.cloneElement(i.default.Children.only(n),s):r?i.default.createElement("pre",a({},s)):i.default.createElement("div",a({},s))},t.prototype.render=function(){var e;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var a,s;if(this.editor){var o=this.isDelta(this.value)?r.getContents():r.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,null===(s=(a=this.props).onChange)||void 0===s||s.call(a,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,a,s,o,i,l;if(this.editor){var A=this.getEditorSelection(),u=!A&&e,d=A&&!e;c.default(e,A)||(this.selection=e,null===(a=(r=this.props).onChangeSelection)||void 0===a||a.call(r,e,t,n),u?null===(o=(s=this.props).onFocus)||void 0===o||o.call(s,e,t,n):d&&(null===(l=(i=this.props).onBlur)||void 0===l||l.call(i,A,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=A.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(i.default.Component);function d(e){Promise.resolve().then(e)}e.exports=u},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),s=n(4052),o=n(4543),i=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),A=!n&&a(e),u=!n&&!A&&o(e),d=!n&&!A&&!u&&l(e),h=n||A||u||d,f=h?r(e.length,String):[],p=f.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||i(m,p))||f.push(m);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3668:(e,t,n)=>{var r=n(8902),a=n(2587),s=n(8114);e.exports=function(e,t,n,o,i,l){var c=1&n,A=e.length,u=t.length;if(A!=u&&!(c&&u>A))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<A;){var g=e[f],v=t[f];if(o)var x=c?o(v,g,f,t,e,l):o(g,v,f,e,t,l);if(void 0!==x){if(x)continue;p=!1;break}if(m){if(!a(t,function(e,t){if(!s(m,t)&&(g===e||i(g,e,n,o,l)))return m.push(t)})){p=!1;break}}else if(g!==v&&!i(g,v,n,o,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3802:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});const r=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,s={setState:r,getState:a,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,a,s);return s},a=e=>e?r(e):r},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4175:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),a=n(18),s=n(19),o=n(45),i=n(46),l=n(47),c=n(48),A=n(49),u=n(12),d=n(32),h=n(33),f=n(31),p=n(1),m={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:r.default,Format:a.default,Leaf:s.default,Embed:c.default,Scroll:o.default,Block:l.default,Inline:i.default,Text:A.default,Attributor:{Attribute:u.default,Class:d.default,Style:h.default,Store:f.default}};t.default=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=a;var s,o={},i={},l={},c={};function A(e,t){var n;if(void 0===t&&(t=s.ANY),"string"===typeof e)n=c[e]||o[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&s.LEVEL&s.BLOCK?n=c.block:e&s.LEVEL&s.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var a in r)if(n=i[r[a]])break;n=n||l[e.tagName]}return null==n?null:t&s.LEVEL&n.scope&&t&s.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var n=A(e);if(null==n)throw new a("Unable to create "+e+" blot");var r=n,s=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(s,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=A,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e(t)});var r=t[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new a("Invalid definition");if("abstract"===r.blotName)throw new a("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"===typeof r.keyName?o[r.keyName]=r:(null!=r.className&&(i[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=l[e]&&null!=r.className||(l[e]=r)}))),r}},function(e,t,n){var r=n(51),a=n(11),s=n(3),o=n(20),i=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=s(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(a(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+o.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],r=o.iterator(this.ops),a=0;a<t&&r.hasNext();){var s;a<e?s=r.next(e-a):(s=r.next(t-a),n.push(s)),a+=o.length(s)}return new l(n)},l.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),r=[],s=n.peek();if(null!=s&&"number"===typeof s.retain&&null==s.attributes){for(var i=s.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),r.push(t.next());s.retain-i>0&&n.next(s.retain-i)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var A=Math.min(t.peekLength(),n.peekLength()),u=t.next(A),d=n.next(A);if("number"===typeof d.retain){var h={};"number"===typeof u.retain?h.retain=A:h.insert=u.insert;var f=o.attributes.compose(u.attributes,d.attributes,"number"===typeof u.retain);if(f&&(h.attributes=f),c.push(h),!n.hasNext()&&a(c.ops[c.ops.length-1],h)){var p=new l(t.rest());return c.concat(p).chop()}}else"number"===typeof d.delete&&"number"===typeof u.retain&&c.push(d)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:i;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),s=new l,c=r(n[0],n[1],t),A=o.iterator(this.ops),u=o.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(u.peekLength(),t),s.push(u.next(n));break;case r.DELETE:n=Math.min(t,A.peekLength()),A.next(n),s.delete(n);break;case r.EQUAL:n=Math.min(A.peekLength(),u.peekLength(),t);var i=A.next(n),l=u.next(n);a(i.insert,l.insert)?s.retain(n,o.attributes.diff(i.attributes,l.attributes)):s.push(l).delete(n)}t-=n}}),s.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),r=new l,a=0;n.hasNext();){if("insert"!==n.peekType())return;var s=n.peek(),i=o.length(s)-n.peekLength(),c="string"===typeof s.insert?s.insert.indexOf(t,i)-i:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},a))return;a+=1,r=new l}}r.length()>0&&e(r,{},a)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),r=o.iterator(e.ops),a=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())a.push(r.next());else{var s=Math.min(n.peekLength(),r.peekLength()),i=n.next(s),c=r.next(s);if(i.delete)continue;c.delete?a.push(c):a.retain(s,o.attributes.transform(i.attributes,c.attributes,t))}else a.retain(o.length(n.next()));return a.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var a=n.peekLength(),s=n.peekType();n.next(),"delete"!==s?("insert"===s&&(r<e||!t)&&(e+=a),r+=a):e-=Math.min(a,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,a=n.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!s)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,n,r,a,s,A,u=arguments[0],d=1,h=arguments.length,f=!1;for("boolean"===typeof u&&(f=u,u=arguments[1]||{},d=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=c(u,n),u!==(a=c(t,n))&&(f&&a&&(i(a)||(s=o(a)))?(s?(s=!1,A=r&&o(r)?r:[]):A=r&&i(r)?r:{},l(u,{name:n,newValue:e(f,A,a)})):"undefined"!==typeof a&&l(u,{name:n,newValue:a}));return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=u(n(3)),o=u(n(2)),i=u(n(0)),l=u(n(16)),c=u(n(6)),A=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"attach",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=i.default.query(e,i.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"===typeof n&&n.endsWith("\n")){var s=i.default.create(m.blotName);this.parent.insertBefore(s,0===e?this:this.next),s.insertAt(0,n.slice(0,-1))}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(i.default.Embed);p.scope=i.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){d(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))},new o.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,s){n<=0||(i.default.query(r,i.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,s):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,s),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var s=n.split("\n"),o=s.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var i=this;s.reduce(function(e,t){return(i=i.split(e,!0)).insertAt(0,t),t.length},e+o.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var s=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},s}}]),t}(i.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,s.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[c.default,i.default.Embed,A.default],t.bubbleFormats=g,t.BlockEmbed=p,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var o=m(n(2)),i=m(n(14)),l=m(n(8)),c=m(n(9)),A=m(n(0)),u=n(15),d=m(u),h=m(n(3)),f=m(n(10)),p=m(n(34));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,f.default)("quill"),x=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=y(t,r),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=A.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,a=r&&0===r.length?r.index:void 0;b.call(n,function(){return n.editor.update(null,t,a)},e)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+a+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||A.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var a=e.attrName||e.blotName;"string"===typeof a?this.register("formats/"+a,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?A.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),s(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,s=w(e,t,n),o=a(s,4);return e=o[0],t=o[1],n=o[3],b.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return b.call(this,function(){var r=n.getSelection(!0),a=new o.default;if(null==r)return a;if(A.default.query(e,A.default.Scope.BLOCK))a=n.editor.formatLine(r.index,r.length,g({},e,t));else{if(0===r.length)return n.selection.format(e,t),a;a=n.editor.formatText(r.index,r.length,g({},e,t))}return n.setSelection(r,l.default.sources.SILENT),a},r)}},{key:"formatLine",value:function(e,t,n,r,s){var o,i=this,l=w(e,t,n,r,s),c=a(l,4);return e=c[0],t=c[1],o=c[2],s=c[3],b.call(this,function(){return i.editor.formatLine(e,t,o)},s,e,0)}},{key:"formatText",value:function(e,t,n,r,s){var o,i=this,l=w(e,t,n,r,s),c=a(l,4);return e=c[0],t=c[1],o=c[2],s=c[3],b.call(this,function(){return i.editor.formatText(e,t,o)},s,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),r=a(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),r=a(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return b.call(this,function(){return a.editor.insertEmbed(t,n,r)},s,t)}},{key:"insertText",value:function(e,t,n,r,s){var o,i=this,l=w(e,0,n,r,s),c=a(l,4);return e=c[0],o=c[2],s=c[3],b.call(this,function(){return i.editor.insertText(e,t,o)},s,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,s=w(e,t,n),o=a(s,4);return e=o[0],t=o[1],n=o[3],b.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return b.call(this,function(){e=new o.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),a=t.editor.applyDelta(e),s=a.ops[a.ops.length-1];return null!=s&&"string"===typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),a.delete(1)),r.compose(a)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var s=w(t,n,r),o=a(s,4);t=o[0],n=o[1],r=o[3],this.selection.setRange(new u.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return b.call(this,function(){return e=new o.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();function y(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==x.DEFAULTS.theme){if(t.theme=x.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=p.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=x.import("modules/"+t);return null==n?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},x.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function b(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new o.default;var a=null==n?null:this.getSelection(),s=this.editor.delta,i=e();if(null!=a&&(!0===n&&(n=a.index),null==r?a=N(a,i,t):0!==r&&(a=N(a,n,r,t)),this.setSelection(a,l.default.sources.SILENT)),i.length()>0){var c,A,u=[l.default.events.TEXT_CHANGE,i,s,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(A=this.emitter).emit.apply(A,u)}return i}function w(e,t,n,a,s){var o={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(s=a,a=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(s=a,a=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":r(n))?(o=n,s=a):"string"===typeof n&&(null!=a?o[n]=a:s=n),[e,t,o,s=s||l.default.sources.API]}function N(e,t,n,r){if(null==e)return null;var s=void 0,i=void 0;if(t instanceof o.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==l.default.sources.USER)}),A=a(c,2);s=A[0],i=A[1]}else{var d=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),h=a(d,2);s=h[0],i=h[1]}return new u.Range(s,i-s)}x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=l.default.events,x.sources=l.default.sources,x.version="1.3.7",x.imports={delta:o.default,parchment:A.default,"core/module":c.default,"core/theme":p.default},t.expandConfig=y,t.overload=w,t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=i(n(7)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,s){if(t.compare(this.statics.blotName,r)<0&&o.default.query(r,o.default.Scope.BLOT)){var i=this.isolate(e,n);s&&i.wrap(r,s)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,s)}},{key:"optimize",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),a=t.order.indexOf(n);return r>=0||a>=0?r-a:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);l.allowedChildren=[l,o.default.Embed,s.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",i.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){i.log.apply(i,arguments),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,a=t.handler;(e.target===r||r.contains(e.target))&&a.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(s.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],a="warn";function s(e){if(r.indexOf(e)<=r.indexOf(a)){for(var t,n=arguments.length,s=Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];(t=console)[e].apply(t,s)}}function o(e){return r.reduce(function(t,n){return t[n]=s.bind(console,n,e),t},{})}s.level=o.level=function(e){a=e},t.default=o},function(e,t,n){var r=Array.prototype.slice,a=n(52),s=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,A;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=r.call(e),t=r.call(t),o(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=a(e),d=a(t)}catch(h){return!1}if(u.length!=d.length)return!1;for(u.sort(),d.sort(),c=u.length-1;c>=0;c--)if(u[c]!=d[c])return!1;for(c=u.length-1;c>=0;c--)if(A=u[c],!o(e[A],t[A],n))return!1;return typeof e===typeof t}(e,t,n))};function i(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var a=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|a:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=u(n(2)),i=u(n(0)),l=u(n(4)),c=u(n(6)),A=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(c.default);p.blotName="code",p.tagName="CODE";var m=function(e){function t(){return d(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),a(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var a=this.descendant(A.default,this.length()-1),o=r(a,1)[0];null!=o&&o.deleteAt(o.length()-1,1),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,a){if(0!==n&&null!=i.default.query(r,i.default.Scope.BLOCK)&&(r!==this.statics.blotName||a!==this.statics.formats(this.domNode))){var s=this.newlineIndex(e);if(!(s<0||s>=e+n)){var o=this.newlineIndex(e,!0)+1,l=s-o+1,c=this.isolate(o,l),A=c.next;c.format(r,a),A instanceof t&&A.formatAt(0,e-o+n-l,r,a)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var a=this.descendant(A.default,e),s=r(a,2),o=s[0],i=s[1];o.insertAt(i,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(i.default.create("text","\n")),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=i.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof i.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=p,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=g(n(2)),i=g(n(20)),l=g(n(0)),c=g(n(13)),A=g(n(24)),u=n(4),d=g(u),h=g(n(16)),f=g(n(21)),p=g(n(11)),m=g(n(3));function g(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return s(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var s=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new o.default)}(e)).reduce(function(e,o){var c=o.retain||o.delete||o.insert.length||1,A=o.attributes||{};if(null!=o.insert){if("string"===typeof o.insert){var h=o.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=s&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),p=a(f,2),g=p[0],v=p[1],x=(0,m.default)({},(0,u.bubbleFormats)(g));if(g instanceof d.default){var y=g.descendant(l.default.Leaf,v),b=a(y,1)[0];x=(0,m.default)(x,(0,u.bubbleFormats)(b))}A=i.default.attributes.diff(x,A)||{}}else if("object"===r(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}s+=c}return Object.keys(A).forEach(function(n){t.scroll.formatAt(e,c,n,A[n])}),e+c},0),e.reduce(function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(a){if(null==n.scroll.whitelist||n.scroll.whitelist[a]){var s=n.scroll.lines(e,Math.max(t,1)),o=t;s.forEach(function(t){var s=t.length();if(t instanceof c.default){var i=e-t.offset(n.scroll),l=t.newlineIndex(i+o)-i+1;t.formatAt(i,l,a,r[a])}else t.format(a,r[a]);o-=s})}}),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(a){n.scroll.formatAt(e,t,a,r[a])}),this.update((new o.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=a(e,1)[0];t instanceof d.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var s=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=y((0,u.bubbleFormats)(n),t)}return t});return m.default.apply(m.default,s)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(a){n.scroll.formatAt(e,t.length,a,r[a])}),this.update((new o.default).retain(e).insert(t,(0,f.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===d.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),s=a(r,2),i=s[0],l=s[1],A=0,u=new o.default;null!=i&&(A=i instanceof c.default?i.newlineIndex(l)-l+1:i.length()-l,u=i.delta().slice(l,l+A-1).insert("\n"));var d=this.getContents(e,t+A).diff((new o.default).insert(n).concat(u)),h=(new o.default).retain(e).concat(d);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var a=l.default.find(t[0].target),s=(0,u.bubbleFormats)(a),i=a.offset(this.scroll),c=t[0].oldValue.replace(A.default.CONTENTS,""),d=(new o.default).insert(c),h=(new o.default).insert(a.value());e=(new o.default).retain(i).concat(d.diff(h,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,s):e.push(t)},new o.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,p.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function y(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n},{})}t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=c(n(0)),o=c(n(21)),i=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=(0,c(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var r=this;u(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,a=n.startNode,s=n.startOffset,o=n.endNode,i=n.endOffset;r.setNativeRange(a,s,o,i)}}),this.update(l.default.sources.SILENT)}return a(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!s.default.query(e,s.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=s.default.find(n.start.node,!1);if(null==r)return;if(r instanceof s.default.Leaf){var a=r.split(n.start.offset);r.parent.insertBefore(this.cursor,a)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var a=void 0,s=this.scroll.leaf(e),o=r(s,2),i=o[0],l=o[1];if(null==i)return null;var c=i.position(l,!0),A=r(c,2);a=A[0],l=A[1];var u=document.createRange();if(t>0){u.setStart(a,l);var d=this.scroll.leaf(e+t),h=r(d,2);if(i=h[0],l=h[1],null==i)return null;var f=i.position(l,!0),p=r(f,2);return a=p[0],l=p[1],u.setEnd(a,l),u.getBoundingClientRect()}var m="left",g=void 0;return a instanceof Text?(l<a.data.length?(u.setStart(a,l),u.setEnd(a,l+1)):(u.setStart(a,l-1),u.setEnd(a,l),m="right"),g=u.getBoundingClientRect()):(g=i.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var a=n.map(function(e){var n=r(e,2),a=n[0],o=n[1],i=s.default.find(a,!0),l=i.offset(t.scroll);return 0===o?l:i instanceof s.default.Container?l+i.length():l+i.index(a,o)}),o=Math.min(Math.max.apply(Math,A(a)),this.scroll.length()-1),i=Math.min.apply(Math,[o].concat(A(a)));return new h(i,o-i)}},{key:"normalizeNative",value:function(e){if(!p(this.root,e.startContainer)||!e.collapsed&&!p(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],a=[],s=this.scroll.length();return n.forEach(function(e,n){e=Math.min(s-1,e);var o,i=t.scroll.leaf(e),l=r(i,2),c=l[0],A=l[1],u=c.position(A,0!==n),d=r(u,2);o=d[0],A=d[1],a.push(o,A)}),a.length<2&&(a=a.concat(a)),a}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var a=this.scroll.length()-1,s=this.scroll.line(Math.min(t.index,a)),o=r(s,1)[0],i=o;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,a));i=r(l,1)[0]}if(null!=o&&null!=i){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||a||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||r!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var i=document.createRange();i.setStart(e,t),i.setEnd(n,r),s.removeAllRanges(),s.addRange(i)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),d.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,A(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),a=r(n,2),s=a[0],c=a[1];if(this.lastRange=s,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,i.default)(t,this.lastRange)){var A;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,d=[l.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(A=this.emitter).emit.apply(A,[l.default.events.EDITOR_CHANGE].concat(d)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}}}]),e}();function p(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"insertInto",value:function(e,n){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default.Embed);i.blotName="break",i.tagName="BR",t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),s=n(30),o=n(1),i=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof o.ParchmentError)return;throw r}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),a=r[0],s=r[1];return null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e?[a,s]:a instanceof t?a.descendant(e,s):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var a=[],s=r;return this.children.forEachAt(n,r,function(n,r,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&a.push(n),n instanceof t&&(a=a.concat(n.descendants(e,r,s))),s-=o}),a},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,a){e.formatAt(t,a,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),a=r[0],s=r[1];if(a)a.insertAt(s,t,n);else{var i=null==n?o.create("text",t):o.create(t,n);this.appendChild(i)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new o.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=o.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),a=r[0],s=r[1],o=[[this,e]];return a instanceof t?o.concat(a.path(s,n)):(null!=a&&o.push([a,s]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,a){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],a=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),a.push.apply(a,e.removedNodes))}),a.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=o.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=o.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})},t}(s.default);function l(e){var t=o.find(e);if(null==t)try{t=o.create(e)}catch(n){t=o.create(o.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),s=n(31),o=n(17),i=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new s.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=i.query(e);n instanceof a.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var a=e.prototype.wrap.call(this,n,r);return a instanceof t&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},t}(o.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),s=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(a.default);t.default=o},function(e,t,n){var r=n(11),a=n(3),s={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=a(!0,{},t);for(var s in n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{})),e)void 0!==e[s]&&void 0===t[s]&&(r[s]=e[s]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,a){return r(e[a],t[a])||(n[a]=void 0===t[a]?null:t[a]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=s.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var a={};return t.attributes&&(a.attributes=t.attributes),"number"===typeof t.retain?a.retain=e:"string"===typeof t.insert?a.insert=t.insert.substr(n,e):a.insert=t.insert,a}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=s},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(i){t=function(){}}try{n=Set}catch(i){n=function(){}}try{r=Promise}catch(i){r=function(){}}function a(s,i,l,c,A){"object"===typeof i&&(l=i.depth,c=i.prototype,A=i.includeNonEnumerable,i=i.circular);var u=[],d=[],h="undefined"!=typeof Buffer;return"undefined"==typeof i&&(i=!0),"undefined"==typeof l&&(l=1/0),function s(l,f){if(null===l)return null;if(0===f)return l;var p,m;if("object"!=typeof l)return l;if(e(l,t))p=new t;else if(e(l,n))p=new n;else if(e(l,r))p=new r(function(e,t){l.then(function(t){e(s(t,f-1))},function(e){t(s(e,f-1))})});else if(a.__isArray(l))p=[];else if(a.__isRegExp(l))p=new RegExp(l.source,o(l)),l.lastIndex&&(p.lastIndex=l.lastIndex);else if(a.__isDate(l))p=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return p=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(p),p;e(l,Error)?p=Object.create(l):"undefined"==typeof c?(m=Object.getPrototypeOf(l),p=Object.create(m)):(p=Object.create(c),m=c)}if(i){var g=u.indexOf(l);if(-1!=g)return d[g];u.push(l),d.push(p)}for(var v in e(l,t)&&l.forEach(function(e,t){var n=s(t,f-1),r=s(e,f-1);p.set(n,r)}),e(l,n)&&l.forEach(function(e){var t=s(e,f-1);p.add(t)}),l){var x;m&&(x=Object.getOwnPropertyDescriptor(m,v)),x&&null==x.set||(p[v]=s(l[v],f-1))}if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(l);for(v=0;v<y.length;v++){var b=y[v];(!(N=Object.getOwnPropertyDescriptor(l,b))||N.enumerable||A)&&(p[b]=s(l[b],f-1),N.enumerable||Object.defineProperty(p,b,{enumerable:!1}))}}if(A){var w=Object.getOwnPropertyNames(l);for(v=0;v<w.length;v++){var N,B=w[v];(N=Object.getOwnPropertyDescriptor(l,B))&&N.enumerable||(p[B]=s(l[B],f-1),Object.defineProperty(p,B,{enumerable:!1}))}}return p}(s,l)}function s(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=s,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===s(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===s(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===s(e)},a.__getRegExpFlags=o,a}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=h(n(0)),i=h(n(8)),l=n(4),c=h(l),A=h(n(16)),u=h(n(13)),d=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof c.default||e instanceof l.BlockEmbed}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var a=this.line(e),o=r(a,2),i=o[0],c=o[1],d=this.line(e+n),h=r(d,1)[0];if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&i!==h&&c>0){if(i instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(i instanceof u.default){var f=i.newlineIndex(i.length(),!0);if(f>-1&&(i=i.split(f+1))===h)return void this.optimize()}else if(h instanceof u.default){var p=h.newlineIndex(0);p>-1&&h.split(p+1)}var m=h.children.head instanceof A.default?null:h.children.head;i.moveChildren(h,m),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,a){(null==this.whitelist||this.whitelist[r])&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,a),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==o.default.query(n,o.default.Scope.BLOCK)){var a=o.default.create(this.statics.defaultChild);this.appendChild(a),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),a.insertAt(0,n,r)}else{var i=o.default.create(n,r);this.appendChild(i)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var r=o.default.create(this.statics.defaultChild);r.appendChild(e),e=r}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,n,r){var a=[],s=r;return t.children.forEachAt(n,r,function(t,n,r){f(t)?a.push(t):t instanceof o.default.Container&&(a=a.concat(e(t,n,s))),s-=r}),a}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=i.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,n,e),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild="block",p.allowedChildren=[c.default,l.BlockEmbed,d.default],t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(21)),i=p(n(11)),l=p(n(3)),c=p(n(2)),A=p(n(20)),u=p(n(0)),d=p(n(5)),h=p(n(10)),f=p(n(9));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,h.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",x=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},B),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},b),r.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},b),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},N),r.addBinding({key:t.keys.DELETE},{collapsed:!1},N),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},b),r.listen(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"match",value:function(e,t){return t=k(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),s(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=k(e);if(null==r||null==r.key)return g.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var s=n.which||n.keyCode,o=(e.bindings[s]||[]).filter(function(e){return t.match(n,e)});if(0!==o.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),A=a(c,2),d=A[0],h=A[1],f=e.quill.getLeaf(l.index),p=a(f,2),m=p[0],g=p[1],v=0===l.length?[m,g]:e.quill.getLeaf(l.index+l.length),x=a(v,2),y=x[0],b=x[1],w=m instanceof u.default.Text?m.value().slice(0,g):"",N=y instanceof u.default.Text?y.value().slice(b):"",B={collapsed:0===l.length,empty:0===l.length&&d.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:w,suffix:N};o.some(function(t){if(null!=t.collapsed&&t.collapsed!==B.collapsed)return!1;if(null!=t.empty&&t.empty!==B.empty)return!1;if(null!=t.offset&&t.offset!==B.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==B.format[e]}))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=B.format[e]:!1===t.format[e]?null==B.format[e]:(0,i.default)(t.format[e],B.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(B.prefix))&&!(null!=t.suffix&&!t.suffix.test(B.suffix))&&!0!==t.handler.call(e,l,B)})&&n.preventDefault()}}}})}}]),t}(f.default);function y(e,t){var n,r=e===x.keys.LEFT?"prefix":"suffix";return m(n={key:e,shiftKey:t,altKey:null},r,/^$/),m(n,"handler",function(n){var r=n.index;e===x.keys.RIGHT&&(r+=n.length+1);var s=this.quill.getLeaf(r);return!(a(s,1)[0]instanceof u.default.Embed)||(e===x.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),!1)}),n}function b(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=a(n,1)[0],s={};if(0===t.offset){var o=this.quill.getLine(e.index-1),i=a(o,1)[0];if(null!=i&&i.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);s=A.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,d.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(e.index-u,u,s,d.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},s=0,o=this.quill.getLine(e.index),i=a(o,1)[0];if(t.offset>=i.length()-1){var l=this.quill.getLine(e.index+1),c=a(l,1)[0];if(c){var u=i.formats(),h=this.quill.getFormat(e.index,1);r=A.default.attributes.diff(u,h)||{},s=c.length()}}this.quill.deleteText(e.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+s-1,n,r,d.default.sources.USER)}}function N(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),a=t[t.length-1].formats();n=A.default.attributes.diff(a,r)||{}}this.quill.deleteText(e,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,d.default.sources.USER),this.quill.setSelection(e.index,d.default.sources.SILENT),this.quill.focus()}function B(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return u.default.query(n,u.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],d.default.sources.USER))})}function j(e){return{key:x.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=u.default.query("code-block"),r=t.index,s=t.length,o=this.quill.scroll.descendant(n,r),i=a(o,2),l=i[0],c=i[1];if(null!=l){var A=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,f=l.newlineIndex(A+c+s),p=l.domNode.textContent.slice(h,f).split("\n");c=0,p.forEach(function(t,a){e?(l.insertAt(h+c,n.TAB),c+=n.TAB.length,0===a?r+=n.TAB.length:s+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(h+c,n.TAB.length),c-=n.TAB.length,0===a?r-=n.TAB.length:s-=n.TAB.length),c+=t.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,s,d.default.sources.SILENT)}}}}function C(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],d.default.sources.USER)}}}function k(e){if("string"===typeof e||"number"===typeof e)return k({key:e});if("object"===("undefined"===typeof e?"undefined":r(e))&&(e=(0,o.default)(e,!1)),"string"===typeof e.key)if(null!=x.keys[e.key.toUpperCase()])e.key=x.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}x.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},x.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:x.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:x.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:x.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:x.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,d.default.sources.USER)}},tab:{key:x.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,d.default.sources.SILENT)}},"list empty enter":{key:x.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,d.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:x.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),r=n[0],s=n[1],o=(0,l.default)({},r.formats(),{list:"checked"}),i=(new c.default).retain(e.index).insert("\n",o).retain(r.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:x.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=a(n,2),s=r[0],o=r[1],i=(new c.default).retain(e.index).insert("\n",t.format).retain(s.length()-o-1).retain(1,{header:null});this.quill.updateContents(i,d.default.sources.USER),this.quill.setSelection(e.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),s=a(r,2),o=s[0],i=s[1];if(i>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",d.default.sources.USER),this.quill.history.cutoff();var A=(new c.default).retain(e.index-i).delete(n+1).retain(o.length()-2-i).retain(1,{list:l});this.quill.updateContents(A,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,d.default.sources.SILENT)}},"code exit":{key:x.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=a(t,2),r=n[0],s=n[1],o=(new c.default).retain(e.index+r.length()-s-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,d.default.sources.USER)}},"embed left":y(x.keys.LEFT,!1),"embed left shift":y(x.keys.LEFT,!0),"embed right":y(x.keys.RIGHT,!1),"embed right shift":y(x.keys.RIGHT,!0)}},t.default=x,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),i=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"value",value:function(){}}]),s(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,s=0;null!=r&&r.statics.scope!==o.default.Scope.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(s,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),a=void 0,s=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];a=c[0],s=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var A=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof i.default?(a=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=t.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=s){var u=[s,l].map(function(e){return Math.max(0,Math.min(a.data.length,e-1))}),d=r(u,2);return s=d[0],l=d[1],{startNode:a,startOffset:s,endNode:a,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=n(4),s=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);i.allowedChildren=[s.default,a.BlockEmbed,i],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(i.default.Attributor.Style),c=new i.default.Attributor.Class("color","ql-color",{scope:i.default.Scope.INLINE}),A=new l("color","color",{scope:i.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);function l(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=i,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=i(n(23)),o=i(n(107));function i(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var A=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:n.togglePicker();break;case s.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case s.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var a=document.createEvent("Event");a.initEvent("change",!0,!0),this.select.dispatchEvent(a)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(0)),a=g(n(5)),s=n(4),o=g(s),i=g(n(16)),l=g(n(25)),c=g(n(24)),A=g(n(35)),u=g(n(6)),d=g(n(22)),h=g(n(7)),f=g(n(55)),p=g(n(42)),m=g(n(23));function g(e){return e&&e.__esModule?e:{default:e}}a.default.register({"blots/block":o.default,"blots/block/embed":s.BlockEmbed,"blots/break":i.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":A.default,"blots/inline":u.default,"blots/scroll":d.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":p.default,"modules/keyboard":m.default}),r.default.register(o.default,i.default,c.default,u.default,d.default,h.default),t.default=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,a){var s=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&a)s.wrap(n,a);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var o=r.create(this.statics.scope);s.wrap(o),o.format(n,a)}},e.prototype.insertAt=function(e,t,n){var a=null==n?r.create("text",t):r.create(t,n),s=this.split(e);this.parent.insertBefore(a,s)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=n(32),s=n(33),o=n(1),i=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=a.default.keys(this.domNode),i=s.default.keys(this.domNode);t.concat(n).concat(i).forEach(function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function a(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();a.DEFAULTS={modules:{}},a.themes={default:a},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=i(n(0)),o=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var a=this.prev.length();this.prev.insertAt(a,r),t={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(s.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(s.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}})}}]),t}(s.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,a=n(0),s=(r=a)&&r.__esModule?r:{default:r},o={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new s.default.Attributor.Attribute("align","align",o),l=new s.default.Attributor.Class("align","ql-align",o),c=new s.default.Attributor.Style("align","text-align",o);t.AlignAttribute=i,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,a=n(0),s=(r=a)&&r.__esModule?r:{default:r},o=n(26),i=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,a=n(0),s=(r=a)&&r.__esModule?r:{default:r},o={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},i=new s.default.Attributor.Attribute("direction","dir",o),l=new s.default.Attributor.Class("direction","ql-direction",o),c=new s.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=i,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l={scope:i.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new i.default.Attributor.Class("font","ql-font",l),A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(i.default.Attributor.Style),u=new A("font","font-family",l);t.FontStyle=u,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,a=n(0),s=(r=a)&&r.__esModule?r:{default:r},o=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=i},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(0)),s=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,n,a){e!==s.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&a!==s.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],s.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var a=this.stack.undo.pop();n=n.compose(a.undo),e=a.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=a.default.query(e,a.default.Scope.BLOCK)}))}(e)&&(n-=1),n}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=i,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=f(n(3)),o=f(n(2)),i=f(n(8)),l=f(n(23)),c=f(n(34)),A=f(n(59)),u=f(n(60)),d=f(n(28)),h=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],x=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],b=["1","2","3",!1],w=["small",!1,"large","huge"],N=function(e){function t(e,n){p(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})}),r}return g(t,e),r(t,[{key:"addModule",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&j(e,v),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&j(e,x,"background"===n?"#ffffff":"#000000"),new A.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?j(e,y):e.classList.contains("ql-header")?j(e,b):e.classList.contains("ql-size")&&j(e,w)),new d.default(e)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);N.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(r.index).delete(r.length).insert({image:n.target.result}),i.default.sources.USER),e.quill.setSelection(r.index+1,i.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(e){function t(e,n){p(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return g(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,i.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,i.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",i.default.sources.USER),this.quill.setSelection(r+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}t.BaseTooltip=B,t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var a=n.length();if(e<a||t&&e===a&&(null==n.next||0!==n.next.length()))return[n,e];e-=a}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,a=this.find(e),s=a[0],o=e-a[1],i=this.iterator(s);(r=i())&&o<e+t;){var l=r.length();e>o?n(r,e-o,Math.min(t,o+l-e)):n(r,0,Math.min(l,e+t-o)),o+=l}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),s=n(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},i=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,o),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,a){this.update(),e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var i=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&i(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(l),e.optimize(n))},c=t,A=0;c.length>0;A+=1){if(A>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=s.find(e,!1);i(t,!1),t instanceof a.default&&t.children.forEach(function(e){i(e,!1)})})):"attributes"===e.type&&i(t.prev)),i(t))}),this.children.forEach(l),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map(function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],n)}),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var s=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),s.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,a){null!=this.formats()[r]||s.query(r,s.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var a=this.next;a instanceof t&&a.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,a.formats())&&(a.moveChildren(this),a.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=s.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,a){null!=s.query(r,s.Scope.BLOCK)?this.format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=s.query(n,s.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var a=this.split(t),o=s.create(n,r);a.parent.insertBefore(o,a)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,a){0===t&&n===this.length()?this.format(r,a):e.prototype.formatAt.call(this,t,n,r,a)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=n(1),o=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=s.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(a.default);t.default=o},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:a.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,a=arguments[1],s=0;s<r;s++)if(t=n[s],e.call(a,t,s,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var A=s(e,t),u=e.substring(0,A);A=o(e=e.substring(A),t=t.substring(A));var d=e.substring(e.length-A),h=function(e,t){var i;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,A=l.indexOf(c);if(-1!=A)return i=[[1,l.substring(0,A)],[0,c],[1,l.substring(A+c.length)]],e.length>t.length&&(i[0][0]=i[2][0]=n),i;if(1==c.length)return[[n,e],[1,t]];var u=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,i,l,c=e.substring(n,n+Math.floor(e.length/4)),A=-1,u="";-1!=(A=t.indexOf(c,A+1));){var d=s(e.substring(n),t.substring(A)),h=o(e.substring(0,n),t.substring(0,A));u.length<h+d&&(u=t.substring(A-h,A)+t.substring(A,A+d),r=e.substring(0,n-h),a=e.substring(n+d),i=t.substring(0,A-h),l=t.substring(A+d))}return 2*u.length>=e.length?[r,a,i,l,u]:null}var i,l,c,A,u,d=a(n,r,Math.ceil(n.length/4)),h=a(n,r,Math.ceil(n.length/2));if(!d&&!h)return null;i=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(l=i[0],c=i[1],A=i[2],u=i[3]):(A=i[0],u=i[1],l=i[2],c=i[3]);var f=i[4];return[l,c,A,u,f]}(e,t);if(u){var d=u[0],h=u[1],f=u[2],p=u[3],m=u[4],g=r(d,f),v=r(h,p);return g.concat([[0,m]],v)}return function(e,t){for(var r=e.length,s=t.length,o=Math.ceil((r+s)/2),i=o,l=2*o,c=new Array(l),A=new Array(l),u=0;u<l;u++)c[u]=-1,A[u]=-1;c[i+1]=0,A[i+1]=0;for(var d=r-s,h=d%2!=0,f=0,p=0,m=0,g=0,v=0;v<o;v++){for(var x=-v+f;x<=v-p;x+=2){for(var y=i+x,b=(C=x==-v||x!=v&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1)-x;C<r&&b<s&&e.charAt(C)==t.charAt(b);)C++,b++;if(c[y]=C,C>r)p+=2;else if(b>s)f+=2;else if(h&&(B=i+d-x)>=0&&B<l&&-1!=A[B]&&C>=(N=r-A[B]))return a(e,t,C,b)}for(var w=-v+m;w<=v-g;w+=2){for(var N,B=i+w,j=(N=w==-v||w!=v&&A[B-1]<A[B+1]?A[B+1]:A[B-1]+1)-w;N<r&&j<s&&e.charAt(r-N-1)==t.charAt(s-j-1);)N++,j++;if(A[B]=N,N>r)g+=2;else if(j>s)m+=2;else if(!h){var C;if((y=i+d-w)>=0&&y<l&&-1!=c[y])if(b=i+(C=c[y])-y,C>=(N=r-N))return a(e,t,C,b)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-A),t=t.substring(0,t.length-A));return u&&h.unshift([0,u]),d&&h.push([0,d]),i(h),null!=l&&(h=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,a=0;a<e.length;a++){var s=e[a];if(s[0]===n||0===s[0]){var o=r+s[1].length;if(t===o)return[a+1,e];if(t<o){e=e.slice();var i=t-r,l=[s[0],s[1].slice(0,i)],c=[s[0],s[1].slice(i)];return e.splice(a,1,l,c),[a+1,e]}r=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),a=r[1],s=r[0],o=a[s],i=a[s+1];if(null==o)return e;if(0!==o[0])return e;if(null!=i&&o[1]+i[1]===i[1]+o[1])return a.splice(s,2,i,o),c(a,s,2);if(null!=i&&0===i[1].indexOf(o[1])){a.splice(s,2,[i[0],o[1]],[0,o[1]]);var l=i[1].slice(o[1].length);return l.length>0&&a.splice(s+2,0,[i[0],l]),c(a,s,3)}return e}(h,l)),h=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)0===e[s-2][0]&&a(e[s-2][1])&&e[s-1][0]===n&&r(e[s-1][1])&&1===e[s][0]&&r(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;var o=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&o.push(e[s]);return o}(h)}function a(e,t,n,a){var s=e.substring(0,n),o=t.substring(0,a),i=e.substring(n),l=t.substring(a),c=r(s,o),A=r(i,l);return c.concat(A)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,s=0;n<a;)e.substring(s,a)==t.substring(s,a)?s=n=a:r=a,a=Math.floor((r-n)/2+n);return a}function o(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,s=0;n<a;)e.substring(e.length-a,e.length-s)==t.substring(t.length-a,t.length-s)?s=n=a:r=a,a=Math.floor((r-n)/2+n);return a}function i(e){e.push([0,""]);for(var t,r=0,a=0,l=0,c="",A="";r<e.length;)switch(e[r][0]){case 1:l++,A+=e[r][1],r++;break;case n:a++,c+=e[r][1],r++;break;case 0:a+l>1?(0!==a&&0!==l&&(0!==(t=s(A,c))&&(r-a-l>0&&0==e[r-a-l-1][0]?e[r-a-l-1][1]+=A.substring(0,t):(e.splice(0,0,[0,A.substring(0,t)]),r++),A=A.substring(t),c=c.substring(t)),0!==(t=o(A,c))&&(e[r][1]=A.substring(A.length-t)+e[r][1],A=A.substring(0,A.length-t),c=c.substring(0,c.length-t))),0===a?e.splice(r-l,a+l,[1,A]):0===l?e.splice(r-a,a+l,[n,c]):e.splice(r-a-l,a+l,[n,c],[1,A]),r=r-a-l+(a?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,a=0,c="",A=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),u=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),u=!0)),r++;u&&i(e)}var l=r;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var a=e[r],s=e[r+1];a[0]===s[1]&&e.splice(r,2,[a[0],a[1]+s[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:a).supported=r,t.unsupported=a},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function a(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,t,a=[];if(0===this._eventsCount)return a;for(t in e=this._events)n.call(e,t)&&a.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e,t){var n=r?r+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var s=0,o=a.length,i=new Array(o);s<o;s++)i[s]=a[s].fn;return i},o.prototype.emit=function(e,t,n,a,s,o){var i=r?r+e:e;if(!this._events[i])return!1;var l,c,A=this._events[i],u=arguments.length;if(A.fn){switch(A.once&&this.removeListener(e,A.fn,void 0,!0),u){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,t),!0;case 3:return A.fn.call(A.context,t,n),!0;case 4:return A.fn.call(A.context,t,n,a),!0;case 5:return A.fn.call(A.context,t,n,a,s),!0;case 6:return A.fn.call(A.context,t,n,a,s,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];A.fn.apply(A.context,l)}else{var d,h=A.length;for(c=0;c<h;c++)switch(A[c].once&&this.removeListener(e,A[c].fn,void 0,!0),u){case 1:A[c].fn.call(A[c].context);break;case 2:A[c].fn.call(A[c].context,t);break;case 3:A[c].fn.call(A[c].context,t,n);break;case 4:A[c].fn.call(A[c].context,t,n,a);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];A[c].fn.apply(A[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var a=new s(t,n||this),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.once=function(e,t,n){var a=new s(t,n||this,!0),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,s){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new a:delete this._events[o],this;var i=this._events[o];if(i.fn)i.fn!==t||s&&!i.once||n&&i.context!==n||(0===--this._eventsCount?this._events=new a:delete this._events[o]);else{for(var l=0,c=[],A=i.length;l<A;l++)(i[l].fn!==t||s&&!i[l].once||n&&i[l].context!==n)&&c.push(i[l]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new a:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new a:delete this._events[t])):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=r,o.EventEmitter=o,"undefined"!==typeof e&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=x(n(3)),i=x(n(2)),l=x(n(0)),c=x(n(5)),A=x(n(10)),u=x(n(9)),d=n(36),h=n(37),f=x(n(13)),p=n(26),m=n(38),g=n(39),v=n(40);function x(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,A.default)("quill:clipboard"),w="__ql-matcher",N=[[Node.TEXT_NODE,P],[Node.TEXT_NODE,Q],["br",function(e,t){return S(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,O],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===E(e).fontStyle&&(n.italic=!0),r.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=k(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new i.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!S(t,"\n"))return t;for(var r=-1,a=e.parentNode;!a.classList.contains("ql-clipboard");)"list"===(l.default.query(a)||{}).blotName&&(r+=1),a=a.parentNode;return r<=0?t:t.compose((new i.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",U.bind(U,"bold")],["i",U.bind(U,"italic")],["style",function(){return new i.default}]],B=[d.AlignAttribute,m.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),j=[d.AlignStyle,h.BackgroundStyle,p.ColorStyle,m.DirectionStyle,g.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),C=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],N.concat(r.options.matchers).forEach(function(e){var t=a(e,2),s=t[0],o=t[1];(n.matchVisual||o!==O)&&r.addMatcher(s,o)}),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new i.default).insert(n,y({},f.default.blotName,t[f.default.blotName]))}var r=this.prepareMatching(),s=a(r,2),o=s[0],l=s[1],c=F(this.container,o,l);return S(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new i.default).retain(c.length()-1).delete(1))),b.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new i.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new i.default).retain(n.index),a=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=a,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var s=a(r,2),o=s[0],i=s[1];switch(o){case Node.TEXT_NODE:n.push(i);break;case Node.ELEMENT_NODE:t.push(i);break;default:[].forEach.call(e.container.querySelectorAll(o),function(e){e[w]=e[w]||[],e[w].push(i)})}}),[t,n]}}]),t}(u.default);function k(e,t,n){return"object"===("undefined"===typeof t?"undefined":r(t))?Object.keys(t).reduce(function(e,n){return k(e,n,t[n])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,o.default)({},y({},t,n),r.attributes))},new i.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function S(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var a=e.ops[r];if("string"!==typeof a.insert)break;n=a.insert+n}return n.slice(-1*t.length)===t}function _(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function F(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new i.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(r,a){var s=F(a,t,n);return a.nodeType===e.ELEMENT_NODE&&(s=t.reduce(function(e,t){return t(a,e)},s),s=(a[w]||[]).reduce(function(e,t){return t(a,e)},s)),r.concat(s)},new i.default):new i.default}function U(e,t,n){return k(n,e,!0)}function I(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),a=l.default.Attributor.Style.keys(e),s={};return n.concat(r).concat(a).forEach(function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(s[n.attrName]=n.value(e),s[n.attrName])||(null==(n=B[t])||n.attrName!==t&&n.keyName!==t||(s[n.attrName]=n.value(e)||void 0),null==(n=j[t])||n.attrName!==t&&n.keyName!==t||(n=j[t],s[n.attrName]=n.value(e)||void 0))}),Object.keys(s).length>0&&(t=k(t,s)),t}function L(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},a=n.value(e);null!=a&&(r[n.blotName]=a,t=(new i.default).insert(r,n.formats(e)))}else"function"===typeof n.formats&&(t=k(t,n.blotName,n.formats(e)));return t}function Q(e,t){return S(t,"\n")||(_(e)||t.length()>0&&e.nextSibling&&_(e.nextSibling))&&t.insert("\n"),t}function O(e,t){if(_(e)&&null!=e.nextElementSibling&&!S(t,"\n\n")){var n=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function P(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&_(e.parentNode)||null!=e.previousSibling&&_(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&_(e.parentNode)||null!=e.nextSibling&&_(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=I,t.matchBlot=L,t.matchNewline=Q,t.matchSpacing=O,t.matchText=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);i.blotName="bold",i.tagName=["STRONG","B"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=A(n(2)),o=A(n(0)),i=A(n(5)),l=A(n(10)),c=A(n(9));function A(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=(0,l.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a,s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(s.options.container)){var o=document.createElement("div");p(o,s.options.container),e.container.parentNode.insertBefore(o,e.container),s.container=o}else"string"===typeof s.options.container?s.container=document.querySelector(s.options.container):s.container=s.options.container;return s.container instanceof HTMLElement?(s.container.classList.add("ql-toolbar"),s.controls=[],s.handlers={},Object.keys(s.options.handlers).forEach(function(e){s.addHandler(e,s.options.handlers[e])}),[].forEach.call(s.container.querySelectorAll("button, select"),function(e){s.attach(e)}),s.quill.on(i.default.events.EDITOR_CHANGE,function(e,t){e===i.default.events.SELECTION_CHANGE&&s.update(t)}),s.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var e=s.quill.selection.getRange(),t=r(e,1)[0];s.update(t)}),s):(a=d.error("Container required for toolbar",s.options),u(s,a))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,e)}var a="SELECT"===e.tagName?"change":"click";e.addEventListener(a,function(a){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),a.preventDefault();t.quill.focus();var A=t.quill.selection.getRange(),u=r(A,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new s.default).retain(u.index).delete(u.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),i.default.sources.USER)}else t.quill.format(n,l,i.default.sources.USER);t.update(u)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var a=r(n,2),s=a[0],o=a[1];if("SELECT"===o.tagName){var i=void 0;if(null==e)i=null;else if(null==t[s])i=o.querySelector("option[selected]");else if(!Array.isArray(t[s])){var l=t[s];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),i=o.querySelector('option[value="'+l+'"]')}null==i?(o.value="",o.selectedIndex=-1):i.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var c=t[s]===o.getAttribute("value")||null!=t[s]&&t[s].toString()===o.getAttribute("value")||null==t[s]&&!o.getAttribute("value");o.classList.toggle("ql-active",c)}else o.classList.toggle("ql-active",null!=t[s])})}}]),t}(c.default);function f(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function p(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)f(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}(n,t,r):f(n,t,r)}}),e.appendChild(n)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,i.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",i.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",e,i.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var a="+1"===e?1:-1;"rtl"===n.direction&&(a*=-1),this.quill.format("indent",r+a,i.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,i.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",e,i.default.sources.USER)}}},t.default=h,t.addControls=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(28),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildItem",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=a:r.style.fill=a)}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(28),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"selectItem",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),s=0;if(a.right>r.right&&(s=r.right-a.right,this.root.style.left=t+s+"px"),a.left<r.left&&(s=r.left-a.left,this.root.style.left=t+s+"px"),a.bottom>r.bottom){var o=a.bottom-a.top,i=e.bottom-e.top+o;this.root.style.top=n-i+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),i=h(n(8)),l=n(43),c=h(l),A=h(n(27)),u=n(15),d=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return m(t,e),s(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new x(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(c.default);v.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var x=function(e){function t(e,n){f(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(t,e),s(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,i.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(t,n,a){if(null!=t){if(0===t.length&&a===i.default.sources.USER){var s=e.quill.scroll.descendant(A.default,t.index),o=r(s,2),l=o[0],c=o[1];if(null!=l){e.linkRange=new u.Range(t.index-c,l.length());var d=A.default.formats(l.domNode);return e.preview.textContent=d,e.preview.setAttribute("href",d),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);x.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Q(n(29)),a=n(36),s=n(38),o=n(64),i=Q(n(65)),l=Q(n(66)),c=n(67),A=Q(c),u=n(37),d=n(26),h=n(39),f=n(40),p=Q(n(56)),m=Q(n(68)),g=Q(n(27)),v=Q(n(69)),x=Q(n(70)),y=Q(n(71)),b=Q(n(72)),w=Q(n(73)),N=n(13),B=Q(N),j=Q(n(74)),C=Q(n(75)),k=Q(n(57)),E=Q(n(41)),S=Q(n(28)),_=Q(n(59)),F=Q(n(60)),U=Q(n(61)),I=Q(n(108)),L=Q(n(62));function Q(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),r.default.register({"formats/align":a.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":o.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":i.default,"formats/code-block":B.default,"formats/header":l.default,"formats/list":A.default,"formats/bold":p.default,"formats/code":N.Code,"formats/italic":m.default,"formats/link":g.default,"formats/script":v.default,"formats/strike":x.default,"formats/underline":y.default,"formats/image":b.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":j.default,"modules/syntax":C.default,"modules/toolbar":k.default,"themes/bubble":I.default,"themes/snow":L.default,"ui/icons":E.default,"ui/picker":S.default,"ui/icon-picker":F.default,"ui/color-picker":_.default,"ui/tooltip":U.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(i.default.Attributor.Class),c=new l("indent","ql-indent",{scope:i.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=l(n(0)),o=l(n(4)),i=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"format",value:function(e,n){e!==h.blotName||n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:a(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);d.blotName="list-item",d.tagName="LI";var h=function(e){function t(e){c(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),a=s.default.find(t.target);"checked"===r?a.format("list","unchecked"):"unchecked"===r&&a.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return u(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof d)a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),s=this.split(r);s.parent.insertBefore(e,s)}}},{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=s.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(i.default);h.blotName="list",h.scope=s.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[d],t.ListItem=d,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(56),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);i.blotName="script",i.tagName=["SUB","SUP"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=n(27),c=["alt","height","width"],A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.default.Embed);A.blotName="image",A.tagName="IMG",t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},o=n(4),i=n(27),l=(r=i)&&r.__esModule?r:{default:r},c=["height","width"],A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);A.blotName="video",A.className="ql-video",A.tagName="IFRAME",t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=l(n(35)),o=l(n(5)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,null,[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(s.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var h=function(e){function t(){c(this,t);var e=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),r(t,null,[{key:"register",value:function(){o.default.register(d,!0)}}]),t}(i.default);t.FormulaBlot=d,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},s=l(n(0)),o=l(n(5)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return c(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);d.className="ql-syntax";var h=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),f=function(e){function t(e,n){c(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var a=null;return r.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(a),a=setTimeout(function(){r.highlight(),a=null},r.options.interval)}),r.highlight(),r}return u(t,e),r(t,null,[{key:"register",value:function(){o.default.register(h,!0),o.default.register(d,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(i.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=u(n(3)),o=u(n(8)),i=n(43),l=u(i),c=n(15),A=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,n){d(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=p);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return f(t,e),a(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),A.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),A.default)}}]),t}(l.default);m.DEFAULTS=(0,s.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,n){d(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(o.default.events.EDITOR_CHANGE,function(e,t,n,a){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&a===o.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var s=r.quill.getLines(t.index,t.length);if(1===s.length)r.position(r.quill.getBounds(t));else{var i=s[s.length-1],l=r.quill.getIndex(i),A=Math.min(i.length()-1,t.index+t.length-l),u=r.quill.getBounds(new c.Range(l,A));r.position(u)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),a=this.root.querySelector(".ql-tooltip-arrow");if(a.style.marginLeft="",0===n)return n;a.style.marginLeft=-1*n-a.offsetWidth/2+"px"}}]),t}(i.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=m},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var y=x.prototype=new v;y.constructor=x,p(y,g.prototype),y.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!B.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),A=0;A<l;A++)c[A]=arguments[A+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function S(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+E(l,0):s,b(o)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),S(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var A=s+E(i=e[c],c);l+=S(i,t,a,A,o)}else if(A=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof A)for(e=A.call(e),c=0;!(i=e.next()).done;)l+=S(i=i.value,t,a,A=s+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],a=0;return S(e,r,"","",function(e){return t.call(n,e,a++)}),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},I={transition:null},L={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function Q(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=s,t.Suspense=A,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=Q,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!B.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var A=0;A<c;A++)l[A]=arguments[A+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=Q,t.useCallback=function(e,t){return U.current.useCallback(e,t)},t.useContext=function(e){return U.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return U.current.useDeferredValue(e)},t.useEffect=function(e,t){return U.current.useEffect(e,t)},t.useId=function(){return U.current.useId()},t.useImperativeHandle=function(e,t,n){return U.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return U.current.useMemo(e,t)},t.useReducer=function(e,t,n){return U.current.useReducer(e,t,n)},t.useRef=function(e){return U.current.useRef(e)},t.useState=function(e){return U.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return U.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return U.current.useTransition()},t.version="18.3.1"},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,i=o&&o.exports===s?r.Buffer:void 0,l=(i?i.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),s=n(438),o=n(9394),i=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};function r(e,t,n,r){function a(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,s){function o(e){try{l(r.next(e))}catch(Pt){s(Pt)}}function i(e){try{l(r.throw(e))}catch(Pt){s(Pt)}}function l(e){e.done?n(e.value):a(e.value).then(o,i)}l((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Pt){s=[6,Pt],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,a){return new e(this.left+t,this.top+n,this.width+r,this.height+a)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),i=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),a=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,a)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&a)<<10)+(1023&s)+65536):(t.push(a),n--)}else t.push(a)}return t},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],a=-1,s="";++a<n;){var o=e[a];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(a+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),m=0;m<f.length;m++)p[f.charCodeAt(m)]=m;for(var g=function(e){var t,n,r,a,s,o=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<i;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],a=p[e.charCodeAt(t+2)],s=p[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|a>>2,A[l++]=(3&a)<<6|63&s;return c},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},x=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},y=5,b=11,w=2,N=65536>>y,B=(1<<y)-1,j=N+(1024>>y)+32,C=65536>>b,k=(1<<b-y)-1,E=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},_=function(e,t){var n=g(e),r=Array.isArray(n)?x(n):new Uint32Array(n),a=Array.isArray(n)?v(n):new Uint16Array(n),s=24,o=E(a,s/2,r[4]/2),i=2===r[5]?E(a,(s+r[4])/2):S(r,Math.ceil((s+r[4])/4));return new F(r[0],r[1],r[2],r[3],o,i)},F=function(){function e(e,t,n,r,a,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=a,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>y])<<w)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[N+(e-55296>>y)])<<w)+(e&B),this.data[t];if(e<this.highStart)return t=j-C+(e>>b),t=this.index[t],t+=e>>y&k,t=((t=this.index[t])<<w)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<U.length;L++)I[U.charCodeAt(L)]=L;var Q=50,O=1,P=2,T=3,D=4,M=5,H=7,R=8,q=9,K=10,z=11,G=12,V=13,W=14,X=15,J=16,Y=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,ae=24,se=25,oe=26,ie=27,le=28,ce=29,Ae=30,ue=31,de=32,he=33,fe=34,pe=35,me=36,ge=37,ve=38,xe=39,ye=40,be=41,we=42,Ne=43,Be=[9001,65288],je="!",Ce="\xd7",ke="\xf7",Ee=_("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Se=[Ae,me],_e=[O,P,T,M],Fe=[K,R],Ue=[ie,oe],Ie=_e.concat(Fe),Le=[ve,xe,ye,fe,pe],Qe=[X,V],Oe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],a=[];return e.forEach(function(e,s){var o=Ee.get(e);if(o>Q?(a.push(!0),o-=Q):a.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(s),n.push(J);if(o===D||o===z){if(0===s)return r.push(s),n.push(Ae);var i=n[s-1];return-1===Ie.indexOf(i)?(r.push(r[s-1]),n.push(i)):(r.push(s),n.push(Ae))}return r.push(s),o===ue?n.push("strict"===t?te:ge):o===we||o===ce?n.push(Ae):o===Ne?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(Ae):void n.push(o)}),[r,n,a]},Pe=function(e,t,n,r){var a=r[n];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){if((l=r[++s])===t)return!0;if(l!==K)break}if(a===K)for(s=n;s>0;){var o=r[--s];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var i=n;i<=r.length;){var l;if((l=r[++i])===t)return!0;if(l!==K)break}if(o!==K)break}return!1},Te=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},De=function(e,t,n,r,a){if(0===n[r])return Ce;var s=r-1;if(Array.isArray(a)&&!0===a[s])return Ce;var o=s-1,i=s+1,l=t[s],c=o>=0?t[o]:0,A=t[i];if(l===P&&A===T)return Ce;if(-1!==_e.indexOf(l))return je;if(-1!==_e.indexOf(A))return Ce;if(-1!==Fe.indexOf(A))return Ce;if(Te(s,t)===R)return ke;if(Ee.get(e[s])===z)return Ce;if((l===de||l===he)&&Ee.get(e[i])===z)return Ce;if(l===H||A===H)return Ce;if(l===q)return Ce;if(-1===[K,V,X].indexOf(l)&&A===q)return Ce;if(-1!==[Y,Z,$,ae,le].indexOf(A))return Ce;if(Te(s,t)===ne)return Ce;if(Pe(re,ne,s,t))return Ce;if(Pe([Y,Z],te,s,t))return Ce;if(Pe(G,G,s,t))return Ce;if(l===K)return ke;if(l===re||A===re)return Ce;if(A===J||l===J)return ke;if(-1!==[V,X,te].indexOf(A)||l===W)return Ce;if(c===me&&-1!==Qe.indexOf(l))return Ce;if(l===le&&A===me)return Ce;if(A===ee)return Ce;if(-1!==Se.indexOf(A)&&l===se||-1!==Se.indexOf(l)&&A===se)return Ce;if(l===ie&&-1!==[ge,de,he].indexOf(A)||-1!==[ge,de,he].indexOf(l)&&A===oe)return Ce;if(-1!==Se.indexOf(l)&&-1!==Ue.indexOf(A)||-1!==Ue.indexOf(l)&&-1!==Se.indexOf(A))return Ce;if(-1!==[ie,oe].indexOf(l)&&(A===se||-1!==[ne,X].indexOf(A)&&t[i+1]===se)||-1!==[ne,X].indexOf(l)&&A===se||l===se&&-1!==[se,le,ae].indexOf(A))return Ce;if(-1!==[se,le,ae,Y,Z].indexOf(A))for(var u=s;u>=0;){if((d=t[u])===se)return Ce;if(-1===[le,ae].indexOf(d))break;u--}if(-1!==[ie,oe].indexOf(A))for(u=-1!==[Y,Z].indexOf(l)?o:s;u>=0;){var d;if((d=t[u])===se)return Ce;if(-1===[le,ae].indexOf(d))break;u--}if(ve===l&&-1!==[ve,xe,fe,pe].indexOf(A)||-1!==[xe,fe].indexOf(l)&&-1!==[xe,ye].indexOf(A)||-1!==[ye,pe].indexOf(l)&&A===ye)return Ce;if(-1!==Le.indexOf(l)&&-1!==[ee,oe].indexOf(A)||-1!==Le.indexOf(A)&&l===ie)return Ce;if(-1!==Se.indexOf(l)&&-1!==Se.indexOf(A))return Ce;if(l===ae&&-1!==Se.indexOf(A))return Ce;if(-1!==Se.concat(se).indexOf(l)&&A===ne&&-1===Be.indexOf(e[i])||-1!==Se.concat(se).indexOf(A)&&l===Z)return Ce;if(l===be&&A===be){for(var h=n[s],f=1;h>0&&t[--h]===be;)f++;if(f%2!==0)return Ce}return l===de&&A===he?Ce:ke},Me=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Oe(e,t.lineBreak),r=n[0],a=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(a=a.map(function(e){return-1!==[se,Ae,we].indexOf(e)?ge:e}));var o="keep-all"===t.wordBreak?s.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,a,o]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===je,this.start=n,this.end=r}return e.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Re=function(e,t){var n=c(e),r=Me(n,t),a=r[0],s=r[1],o=r[2],i=n.length,l=0,A=0;return{next:function(){if(A>=i)return{done:!0,value:null};for(var e=Ce;A<i&&(e=De(n,s,a,++A,o))===Ce;);if(e!==Ce||A===i){var t=new He(n,e,l,A);return l=A,{value:t,done:!1}}return{done:!0,value:null}}}},qe=1,Ke=2,ze=4,Ge=8,Ve=10,We=47,Xe=92,Je=9,Ye=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,at=40,st=41,ot=95,it=45,lt=33,ct=60,At=62,ut=64,dt=91,ht=93,ft=61,pt=123,mt=63,gt=125,vt=124,xt=126,yt=128,bt=65533,wt=42,Nt=43,Bt=44,jt=58,Ct=59,kt=46,Et=0,St=8,_t=11,Ft=14,Ut=31,It=127,Lt=-1,Qt=48,Ot=97,Pt=101,Tt=102,Dt=117,Mt=122,Ht=65,Rt=69,qt=70,Kt=85,zt=90,Gt=function(e){return e>=Qt&&e<=57},Vt=function(e){return e>=55296&&e<=57343},Wt=function(e){return Gt(e)||e>=Ht&&e<=qt||e>=Ot&&e<=Tt},Xt=function(e){return e>=Ot&&e<=Mt},Jt=function(e){return e>=Ht&&e<=zt},Yt=function(e){return Xt(e)||Jt(e)},Zt=function(e){return e>=yt},$t=function(e){return e===Ve||e===Je||e===Ye},en=function(e){return Yt(e)||Zt(e)||e===ot},tn=function(e){return en(e)||Gt(e)||e===it},nn=function(e){return e>=Et&&e<=St||e===_t||e>=Ft&&e<=Ut||e===It},rn=function(e,t){return e===Xe&&t!==Ve},an=function(e,t,n){return e===it?en(t)||rn(t,n):!!en(e)||!(e!==Xe||!rn(e,t))},sn=function(e,t,n){return e===Nt||e===it?!!Gt(t)||t===kt&&Gt(n):Gt(e===kt?t:e)},on=function(e){var t=0,n=1;e[t]!==Nt&&e[t]!==it||(e[t]===it&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var a=r.length?parseInt(A.apply(void 0,r),10):0;e[t]===kt&&t++;for(var s=[];Gt(e[t]);)s.push(e[t++]);var o=s.length,i=o?parseInt(A.apply(void 0,s),10):0;e[t]!==Rt&&e[t]!==Pt||t++;var l=1;e[t]!==Nt&&e[t]!==it||(e[t]===it&&(l=-1),t++);for(var c=[];Gt(e[t]);)c.push(e[t++]);var u=c.length?parseInt(A.apply(void 0,c),10):0;return n*(a+i*Math.pow(10,-o))*Math.pow(10,l*u)},ln={type:2},cn={type:3},An={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},pn={type:10},mn={type:11},gn={type:12},vn={type:14},xn={type:23},yn={type:1},bn={type:25},wn={type:24},Nn={type:26},Bn={type:27},jn={type:28},Cn={type:29},kn={type:31},En={type:32},Sn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==En;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var a=an(t,n,r)?Ke:qe;return{type:5,value:this.consumeName(),flags:a}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case at:return ln;case st:return cn;case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),vn;break;case Nt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return An;case it:var s=e,o=this.peekCodePoint(0),i=this.peekCodePoint(1);if(sn(s,o,i))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(an(s,o,i))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===it&&i===At)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case kt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case We:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===wt&&(l=this.consumeCodePoint())===We)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case jt:return Nn;case Ct:return Bn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===it&&this.peekCodePoint(2)===it)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(an(c,u,d))return{type:7,value:this.consumeName()};break;case dt:return jn;case Xe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Cn;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case pt:return mn;case gt:return gn;case Dt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Nt||!Wt(f)&&f!==mt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),hn;break;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case Lt:return En}return $t(e)?(this.consumeWhiteSpace(),kn):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:A(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Wt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===mt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(A.apply(void 0,e.map(function(e){return e===mt?Qt:e})),16),end:parseInt(A.apply(void 0,e.map(function(e){return e===mt?qt:e})),16)};var r=parseInt(A.apply(void 0,e),16);if(this.peekCodePoint(0)===it&&Wt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];Wt(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(A.apply(void 0,a),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===at?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),xn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===st)return{type:22,value:A.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,e)}):(this.consumeBadUrlRemnants(),xn);if(r===Ze||r===rt||r===at||nn(r))return this.consumeBadUrlRemnants(),xn;if(r===Xe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Lt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=A.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ve)return this._value.splice(0,n),yn;if(r===Xe){var a=this._value[n+1];a!==Lt&&void 0!==a&&(a===Ve?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,a)&&(t+=this.consumeStringSlice(n),t+=A(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=ze,n=this.peekCodePoint(0);for(n!==Nt&&n!==it||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===kt&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Rt||n===Pt)&&((r===Nt||r===it)&&Gt(a)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);return an(r,a,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wt(e)){for(var t=A(e);Wt(this.peekCodePoint(0))&&t.length<6;)t+=A(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Vt(n)||n>1114111?bt:n}return e===Lt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=A(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=A(this.consumeEscapedCodePoint())}}},e}(),_n=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Sn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Dn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?En:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Fn=function(e){return 15===e.type},Un=function(e){return 17===e.type},In=function(e){return 20===e.type},Ln=function(e){return 0===e.type},Qn=function(e,t){return In(e)&&e.value===t},On=function(e){return 31!==e.type},Pn=function(e){return 31!==e.type&&4!==e.type},Tn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Dn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Mn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Mn(e)},Rn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},qn={type:17,number:0,flags:ze},Kn={type:16,number:50,flags:ze},zn={type:16,number:100,flags:ze},Gn=function(e,t,n){var r=e[0],a=e[1];return[Vn(r,t),Vn("undefined"!==typeof a?a:r,n)]},Vn=function(e,t){if(16===e.type)return e.number/100*t;if(Fn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Wn="deg",Xn="grad",Jn="rad",Yn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Wn:return Math.PI*t.number/180;case Xn:return Math.PI/200*t.number;case Jn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Wn||e.unit===Xn||e.unit===Jn||e.unit===Yn)},er=function(e){switch(e.filter(In).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[qn,qn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[qn,zn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zn,zn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zn,qn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=Ar[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return sr(parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(4===t.value.length){r=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);var o=t.value.substring(3,4);return sr(parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),sr(parseInt(r,16),parseInt(a,16),parseInt(s,16),1);if(8===t.value.length)return r=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8),sr(parseInt(r,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}if(20===t.type){var i=dr[t.value.toUpperCase()];if("undefined"!==typeof i)return i}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ar=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+r+","+n+","+t/255+")":"rgb("+a+","+r+","+n+")"},sr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ir=function(e,t){var n=t.filter(Pn);if(3===n.length){var r=n.map(or),a=r[0],s=r[1],o=r[2];return sr(a,s,o,1)}if(4===n.length){var i=n.map(or),l=(a=i[0],s=i[1],o=i[2],i[3]);return sr(a,s,o,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Pn),r=n[0],a=n[1],s=n[2],o=n[3],i=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Hn(a)?a.number/100:0,c=Hn(s)?s.number/100:0,A="undefined"!==typeof o&&Hn(o)?Vn(o,1):1;if(0===l)return sr(255*c,255*c,255*c,1);var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u,h=lr(d,u,i+1/3),f=lr(d,u,i),p=lr(d,u,i-1/3);return sr(255*h,255*f,255*p,A)},Ar={hsl:cr,hsla:cr,rgb:ir,rgba:ir},ur=function(e,t){return nr.parse(e,_n.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(In(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},mr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=qn),null===r.stop&&(r.stop=zn);for(var a=[],s=0,o=0;o<e.length;o++){var i=e[o].stop;if(null!==i){var l=Vn(i,t);l>s?a.push(l):a.push(s),s=l}else a.push(null)}var c=null;for(o=0;o<a.length;o++){var A=a[o];if(null===A)null===c&&(c=o);else if(null!==c){for(var u=o-c,d=(A-a[c-1])/(u+1),h=1;h<=u;h++)a[c+h-1]=d*h;c=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,a[n]/t),0)}})},gr=function(e,t,n){var r=t/2,a=n/2,s=Vn(e[0],t)-r,o=a-Vn(e[1],n);return(Math.atan2(o,s)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),a=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,o=n/2,i=a/2,l=Math.sin(r-Math.PI/2)*i,c=Math.cos(r-Math.PI/2)*i;return[a,s-c,s+c,o-l,o+l]},xr=function(e,t){return Math.sqrt(e*e+t*t)},yr=function(e,t,n,r,a){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var s=t[0],o=t[1],i=xr(n-s,r-o);return(a?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:t,optimumDistance:i}:e},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,a){var s=0,o=0;switch(e.size){case 0:0===e.shape?s=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-a)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-a)));break;case 2:if(0===e.shape)s=o=Math.min(xr(t,n),xr(t,n-a),xr(t-r,n),xr(t-r,n-a));else if(1===e.shape){var i=Math.min(Math.abs(n),Math.abs(n-a))/Math.min(Math.abs(t),Math.abs(t-r)),l=yr(r,a,t,n,!0),c=l[0],A=l[1];o=i*(s=xr(c-t,(A-n)/i))}break;case 1:0===e.shape?s=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-a)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-a)));break;case 3:if(0===e.shape)s=o=Math.max(xr(t,n),xr(t,n-a),xr(t-r,n),xr(t-r,n-a));else if(1===e.shape){i=Math.max(Math.abs(n),Math.abs(n-a))/Math.max(Math.abs(t),Math.abs(t-r));var u=yr(r,a,t,n,!1);c=u[0],A=u[1],o=i*(s=xr(c-t,(A-n)/i))}}return Array.isArray(e.size)&&(s=Vn(e.size[0],r),o=2===e.size.length?Vn(e.size[1],a):s),[s,o]},wr=function(e,t){var n=tr(180),r=[];return Tn(t).forEach(function(t,a){if(0===a){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=er(t));if($n(s))return void(n=(Zn.parse(e,s)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Nr="closest-side",Br="farthest-side",jr="closest-corner",Cr="farthest-corner",kr="circle",Er="ellipse",Sr="cover",_r="contain",Fr=function(e,t){var n=0,r=3,a=[],s=[];return Tn(t).forEach(function(t,o){var i=!0;if(0===o?i=t.reduce(function(e,t){if(In(t))switch(t.value){case"center":return s.push(Kn),!1;case"top":case"left":return s.push(qn),!1;case"right":case"bottom":return s.push(zn),!1}else if(Hn(t)||Mn(t))return s.push(t),!1;return e},i):1===o&&(i=t.reduce(function(e,t){if(In(t))switch(t.value){case kr:return n=0,!1;case Er:return n=1,!1;case _r:case Nr:return r=0,!1;case Br:return r=1,!1;case jr:return r=2,!1;case Sr:case Cr:return r=3,!1}else if(Mn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},i)),i){var l=pr(e,t);a.push(l)}}),{size:r,shape:n,stops:a,position:s,type:2}},Ur=function(e){return 1===e.type},Ir=function(e){return 2===e.type},Lr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Pr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Qr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Pr[e.name])}var Or,Pr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Tn(t).forEach(function(t,a){if(0===a){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=er(t));if($n(s))return void(n=Zn.parse(e,s))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":wr,"-ms-linear-gradient":wr,"-o-linear-gradient":wr,"-webkit-linear-gradient":wr,"radial-gradient":function(e,t){var n=0,r=3,a=[],s=[];return Tn(t).forEach(function(t,o){var i=!0;if(0===o){var l=!1;i=t.reduce(function(e,t){if(l)if(In(t))switch(t.value){case"center":return s.push(Kn),e;case"top":case"left":return s.push(qn),e;case"right":case"bottom":return s.push(zn),e}else(Hn(t)||Mn(t))&&s.push(t);else if(In(t))switch(t.value){case kr:return n=0,!1;case Er:return n=1,!1;case"at":return l=!0,!1;case Nr:return r=0,!1;case Sr:case Br:return r=1,!1;case _r:case jr:return r=2,!1;case Cr:return r=3,!1}else if(Mn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},i)}if(i){var c=pr(e,t);a.push(c)}}),{size:r,shape:n,stops:a,position:s,type:2}},"-moz-radial-gradient":Fr,"-ms-radial-gradient":Fr,"-o-radial-gradient":Fr,"-webkit-radial-gradient":Fr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],a=1,s=0,o=3,i=[];return Tn(t).forEach(function(t,n){var s=t[0];if(0===n){if(In(s)&&"linear"===s.value)return void(a=1);if(In(s)&&"radial"===s.value)return void(a=2)}if(18===s.type)if("from"===s.name){var o=nr.parse(e,s.values[0]);r.push({stop:qn,color:o})}else if("to"===s.name)o=nr.parse(e,s.values[0]),r.push({stop:zn,color:o});else if("color-stop"===s.name){var i=s.values.filter(Pn);if(2===i.length){o=nr.parse(e,i[1]);var l=i[0];Un(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}}),1===a?{angle:(n+tr(180))%tr(360),stops:r,type:a}:{size:o,shape:s,stops:r,position:i,type:a}}},Tr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Pn(e)&&Qr(e)}).map(function(t){return Lr.parse(e,t)})}},Dr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(In(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Mr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(Hn)}).map(Rn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(In).map(function(e){return e.value}).join(" ")}).map(Rr)}},Rr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Or||(Or={}));var qr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(zr)})}},zr=function(e){return In(e)||Hn(e)},Gr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Vr=Gr("top"),Wr=Gr("right"),Xr=Gr("bottom"),Jr=Gr("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Rn(t.filter(Hn))}}},Zr=Yr("top-left"),$r=Yr("top-right"),ea=Yr("bottom-right"),ta=Yr("bottom-left"),na=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ra=na("top"),aa=na("right"),sa=na("bottom"),oa=na("left"),ia=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}}},la=ia("top"),ca=ia("right"),Aa=ia("bottom"),ua=ia("left"),da={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ha={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fa={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(In).reduce(function(e,t){return e|pa(t.value)},0)}},pa=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ma={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ga={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(qr||(qr={}));var va,xa={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?qr.STRICT:qr.NORMAL}},ya={name:"line-height",initialValue:"normal",prefix:!1,type:4},ba=function(e,t){return In(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Vn(e,t):t},wa={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Lr.parse(e,t)}},Na={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ba={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ja=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ca=ja("top"),ka=ja("right"),Ea=ja("bottom"),Sa=ja("left"),_a={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Fa={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ua=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ia=Ua("top"),La=Ua("right"),Qa=Ua("bottom"),Oa=Ua("left"),Pa={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ta={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Da={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Qn(t[0],"none")?[]:Tn(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:qn,offsetY:qn,blur:qn},r=0,a=0;a<t.length;a++){var s=t[a];Mn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:n.blur=s,r++):n.color=nr.parse(e,s)}return n})}},Ma={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ha={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Ra[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Ra={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],i=t[13];return t[14],t[15],16===t.length?[n,r,a,s,o,i]:null}},qa={type:16,number:50,flags:ze},Ka=[qa,qa],za={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?Ka:[n[0],n[1]]}},Ga={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(va||(va={}));for(var Va={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return va.BREAK_ALL;case"keep-all":return va.KEEP_ALL;default:return va.NORMAL}}},Wa={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xa={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ja={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:1}},Ya={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Za={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$a={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:In(t)&&"bold"===t.value?700:400}},ns={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(In).map(function(e){return e.value})}},rs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},as=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},os={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],a=t.filter(On),s=0;s<a.length;s++){var o=a[s],i=a[s+1];if(20===o.type){var l=i&&Un(i)?i.number:1;r.push({counter:o.value,increment:l})}}return r}},is={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(On),a=0;a<r.length;a++){var s=r[a],o=r[a+1];if(In(s)&&"none"!==s.value){var i=o&&Un(o)?o.number:0;n.push({counter:s.value,reset:i})}}return n}},ls={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map(function(t){return Xa.parse(e,t)})}},cs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],a=t.filter(Ln);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,i=a[s+1].value;r.push({open:o,close:i})}return r}},As=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},us={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Qn(t[0],"none")?[]:Tn(t).map(function(t){for(var n={color:255,offsetX:qn,offsetY:qn,blur:qn,spread:qn,inset:!1},r=0,a=0;a<t.length;a++){var s=t[a];Qn(s,"inset")?n.inset=!0:Mn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:2===r?n.blur=s:n.spread=s,r++):n.color=nr.parse(e,s)}return n})}},ds={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(In).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}},ps=function(){function e(e,t){var n,r;this.animationDuration=vs(e,ls,t.animationDuration),this.backgroundClip=vs(e,hr,t.backgroundClip),this.backgroundColor=vs(e,fr,t.backgroundColor),this.backgroundImage=vs(e,Tr,t.backgroundImage),this.backgroundOrigin=vs(e,Dr,t.backgroundOrigin),this.backgroundPosition=vs(e,Mr,t.backgroundPosition),this.backgroundRepeat=vs(e,Hr,t.backgroundRepeat),this.backgroundSize=vs(e,Kr,t.backgroundSize),this.borderTopColor=vs(e,Vr,t.borderTopColor),this.borderRightColor=vs(e,Wr,t.borderRightColor),this.borderBottomColor=vs(e,Xr,t.borderBottomColor),this.borderLeftColor=vs(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=vs(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=vs(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=vs(e,ea,t.borderBottomRightRadius),this.borderBottomLeftRadius=vs(e,ta,t.borderBottomLeftRadius),this.borderTopStyle=vs(e,ra,t.borderTopStyle),this.borderRightStyle=vs(e,aa,t.borderRightStyle),this.borderBottomStyle=vs(e,sa,t.borderBottomStyle),this.borderLeftStyle=vs(e,oa,t.borderLeftStyle),this.borderTopWidth=vs(e,la,t.borderTopWidth),this.borderRightWidth=vs(e,ca,t.borderRightWidth),this.borderBottomWidth=vs(e,Aa,t.borderBottomWidth),this.borderLeftWidth=vs(e,ua,t.borderLeftWidth),this.boxShadow=vs(e,us,t.boxShadow),this.color=vs(e,da,t.color),this.direction=vs(e,ha,t.direction),this.display=vs(e,fa,t.display),this.float=vs(e,ma,t.cssFloat),this.fontFamily=vs(e,$a,t.fontFamily),this.fontSize=vs(e,es,t.fontSize),this.fontStyle=vs(e,rs,t.fontStyle),this.fontVariant=vs(e,ns,t.fontVariant),this.fontWeight=vs(e,ts,t.fontWeight),this.letterSpacing=vs(e,ga,t.letterSpacing),this.lineBreak=vs(e,xa,t.lineBreak),this.lineHeight=vs(e,ya,t.lineHeight),this.listStyleImage=vs(e,wa,t.listStyleImage),this.listStylePosition=vs(e,Na,t.listStylePosition),this.listStyleType=vs(e,Ba,t.listStyleType),this.marginTop=vs(e,Ca,t.marginTop),this.marginRight=vs(e,ka,t.marginRight),this.marginBottom=vs(e,Ea,t.marginBottom),this.marginLeft=vs(e,Sa,t.marginLeft),this.opacity=vs(e,Ja,t.opacity);var a=vs(e,_a,t.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=vs(e,Fa,t.overflowWrap),this.paddingTop=vs(e,Ia,t.paddingTop),this.paddingRight=vs(e,La,t.paddingRight),this.paddingBottom=vs(e,Qa,t.paddingBottom),this.paddingLeft=vs(e,Oa,t.paddingLeft),this.paintOrder=vs(e,ds,t.paintOrder),this.position=vs(e,Ta,t.position),this.textAlign=vs(e,Pa,t.textAlign),this.textDecorationColor=vs(e,Ya,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=vs(e,Za,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=vs(e,Da,t.textShadow),this.textTransform=vs(e,Ma,t.textTransform),this.transform=vs(e,Ha,t.transform),this.transformOrigin=vs(e,za,t.transformOrigin),this.visibility=vs(e,Ga,t.visibility),this.webkitTextStrokeColor=vs(e,hs,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=vs(e,fs,t.webkitTextStrokeWidth),this.wordBreak=vs(e,Va,t.wordBreak),this.zIndex=vs(e,Wa,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return as(this.display,4)||as(this.display,33554432)||as(this.display,268435456)||as(this.display,536870912)||as(this.display,67108864)||as(this.display,134217728)},e}(),ms=function(){function e(e,t){this.content=vs(e,ss,t.content),this.quotes=vs(e,cs,t.quotes)}return e}(),gs=function(){function e(e,t){this.counterIncrement=vs(e,os,t.counterIncrement),this.counterReset=vs(e,is,t.counterReset)}return e}(),vs=function(e,t,n){var r=new Sn,a=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(a);var s=new _n(r.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,In(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,s.parseComponentValue());case"color":return nr.parse(e,s.parseComponentValue());case"image":return Lr.parse(e,s.parseComponentValue());case"length":var i=s.parseComponentValue();return Mn(i)?i:qn;case"length-percentage":var l=s.parseComponentValue();return Hn(l)?l:qn;case"time":return Xa.parse(e,s.parseComponentValue())}}},xs="data-html2canvas-debug",ys=function(e){switch(e.getAttribute(xs)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bs=function(e,t){var n=ys(e);return 1===n||t===n},ws=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bs(t,3),this.styles=new ps(e,window.getComputedStyle(t,null)),Ai(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=i(this.context,t),bs(t,4)&&(this.flags|=16)}return e}(),Ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",js="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Cs=0;Cs<Bs.length;Cs++)js[Bs.charCodeAt(Cs)]=Cs;for(var ks=function(e){var t,n,r,a,s,o=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<i;t+=4)n=js[e.charCodeAt(t)],r=js[e.charCodeAt(t+1)],a=js[e.charCodeAt(t+2)],s=js[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|a>>2,A[l++]=(3&a)<<6|63&s;return c},Es=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ss=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},_s=5,Fs=11,Us=2,Is=65536>>_s,Ls=(1<<_s)-1,Qs=Is+(1024>>_s)+32,Os=65536>>Fs,Ps=(1<<Fs-_s)-1,Ts=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ds=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ms=function(e,t){var n=ks(e),r=Array.isArray(n)?Ss(n):new Uint32Array(n),a=Array.isArray(n)?Es(n):new Uint16Array(n),s=24,o=Ts(a,s/2,r[4]/2),i=2===r[5]?Ts(a,(s+r[4])/2):Ds(r,Math.ceil((s+r[4])/4));return new Hs(r[0],r[1],r[2],r[3],o,i)},Hs=function(){function e(e,t,n,r,a,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=a,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>_s])<<Us)+(e&Ls),this.data[t];if(e<=65535)return t=((t=this.index[Is+(e-55296>>_s)])<<Us)+(e&Ls),this.data[t];if(e<this.highStart)return t=Qs-Os+(e>>Fs),t=this.index[t],t+=e>>_s&Ps,t=((t=this.index[t])<<Us)+(e&Ls),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qs="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ks=0;Ks<Rs.length;Ks++)qs[Rs.charCodeAt(Ks)]=Ks;var zs,Gs=1,Vs=2,Ws=3,Xs=4,Js=5,Ys=7,Zs=8,$s=9,eo=10,to=11,no=12,ro=13,ao=14,so=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&a)<<10)+(1023&s)+65536):(t.push(a),n--)}else t.push(a)}return t},io=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],a=-1,s="";++a<n;){var o=e[a];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(a+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},lo=Ms(Ns),co="\xd7",Ao="\xf7",uo=function(e){return lo.get(e)},ho=function(e,t,n){var r=n-2,a=t[r],s=t[n-1],o=t[n];if(s===Vs&&o===Ws)return co;if(s===Vs||s===Ws||s===Xs)return Ao;if(o===Vs||o===Ws||o===Xs)return Ao;if(s===Zs&&-1!==[Zs,$s,to,no].indexOf(o))return co;if((s===to||s===$s)&&(o===$s||o===eo))return co;if((s===no||s===eo)&&o===eo)return co;if(o===ro||o===Js)return co;if(o===Ys)return co;if(s===Gs)return co;if(s===ro&&o===ao){for(;a===Js;)a=t[--r];if(a===ao)return co}if(s===so&&o===so){for(var i=0;a===so;)i++,a=t[--r];if(i%2===0)return co}return Ao},fo=function(e){var t=oo(e),n=t.length,r=0,a=0,s=t.map(uo);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=co;r<n&&(e=ho(t,s,++r))===co;);if(e!==co||r===n){var o=io.apply(null,t.slice(a,r));return a=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},mo=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var a=n.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(r),s===t)return!0}}return!1},go=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,a=c(r.data).map(function(e){return A(e)}),s=0,o={},i=a.every(function(e,t){n.setStart(r,s),n.setEnd(r,s+e.length);var a=n.getBoundingClientRect();s+=e.length;var i=a.x>o.x||a.y>o.y;return o=a,0===t||i});return e.body.removeChild(t),i},vo=function(){return"undefined"!==typeof(new Image).crossOrigin},xo=function(){return"string"===typeof(new XMLHttpRequest).responseType},yo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Pt){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},wo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var a=new Image,s=t.toDataURL();a.src=s;var o=No(n,n,0,0,a);return r.fillStyle="red",r.fillRect(0,0,n,n),Bo(o).then(function(t){r.drawImage(t,0,0);var a=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+s+")",o.style.height=n+"px",bo(a)?Bo(No(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},No=function(e,t,n,r,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",n.toString()),i.setAttributeNS(null,"y",r.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(i),i.appendChild(a),o},Bo=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},jo={get SUPPORT_RANGE_BOUNDS(){var e=mo(document);return Object.defineProperty(jo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=jo.SUPPORT_RANGE_BOUNDS&&go(document);return Object.defineProperty(jo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yo(document);return Object.defineProperty(jo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?wo(document):Promise.resolve(!1);return Object.defineProperty(jo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vo();return Object.defineProperty(jo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xo();return Object.defineProperty(jo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(jo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(jo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Co=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),ko=function(e,t,n,r){var a=Uo(t,n),s=[],i=0;return a.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(jo.SUPPORT_RANGE_BOUNDS){var a=So(r,i,t.length).getClientRects();if(a.length>1){var l=_o(t),c=0;l.forEach(function(t){s.push(new Co(t,o.fromDOMRectList(e,So(r,c+i,t.length).getClientRects()))),c+=t.length})}else s.push(new Co(t,o.fromDOMRectList(e,a)))}else{var A=r.splitText(t.length);s.push(new Co(t,Eo(e,r))),r=A}else jo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));i+=t.length}),s},Eo=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(r,t);var s=i(e,r);return r.firstChild&&a.replaceChild(r.firstChild,r),s}}return o.EMPTY},So=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var a=r.createRange();return a.setStart(e,t),a.setEnd(e,t+n),a},_o=function(e){if(jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return po(e)},Fo=function(e,t){if(jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Lo(e,t)},Uo=function(e,t){return 0!==t.letterSpacing?_o(e):Fo(e,t)},Io=[32,160,4961,65792,65793,4153,4241],Lo=function(e,t){for(var n,r=Re(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),a=[],s=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach(function(e){-1===Io.indexOf(e)?r+=A(e):(r.length&&a.push(r),a.push(A(e)),r="")}),r.length&&a.push(r)}};!(n=r.next()).done;)s();return a},Qo=function(){function e(e,t,n){this.text=Oo(t.data,n.textTransform),this.textBounds=ko(e,this.text,n,t)}return e}(),Oo=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Po,To);case 2:return e.toUpperCase();default:return e}},Po=/(^|\s|:|-|\(|\))([a-z])/g,To=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Do=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(ws),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(ws),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this,a=new XMLSerializer,s=i(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(ws),Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(ws),qo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(ws),Ko=[{type:15,flags:0,unit:"px",number:3}],zo=[{type:16,flags:0,number:50}],Go=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Vo=function(e){var t=e.type===Jo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wo="checkbox",Xo="radio",Jo="password",Yo=707406591,Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Vo(n),r.type!==Wo&&r.type!==Xo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Go(r.bounds)),r.type){case Wo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ko;break;case Xo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zo}return r}return t(n,e),n}(ws),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,a=n.options[n.selectedIndex||0];return r.value=a&&a.text||"",r}return t(n,e),n}(ws),ei=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(ws),ti=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=si(t,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,s=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(a)?rr(s)?r.styles.backgroundColor:s:a}}catch(Pt){}return r}return t(n,e),n}(ws),ni=["OL","UL","MENU"],ri=function(e,t,n,r){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,li(a)&&a.data.trim().length>0)n.textNodes.push(new Qo(e,a,n.styles));else if(ci(a))if(Ci(a)&&a.assignedNodes)a.assignedNodes().forEach(function(t){return ri(e,t,n,r)});else{var o=ai(e,a);o.styles.isVisible()&&(oi(a,o,r)?o.flags|=4:ii(o.styles)&&(o.flags|=2),-1!==ni.indexOf(a.tagName)&&(o.flags|=8),n.elements.push(o),a.slot,a.shadowRoot?ri(e,a.shadowRoot,o,r):Bi(a)||mi(a)||ji(a)||ri(e,a,o,r))}},ai=function(e,t){return yi(t)?new Do(e,t):vi(t)?new Mo(e,t):mi(t)?new Ho(e,t):di(t)?new Ro(e,t):hi(t)?new qo(e,t):fi(t)?new Zo(e,t):ji(t)?new $o(e,t):Bi(t)?new ei(e,t):bi(t)?new ti(e,t):new ws(e,t)},si=function(e,t){var n=ai(e,t);return n.flags|=4,ri(e,t,n,n),n},oi=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||gi(e)&&n.styles.isTransparent()},ii=function(e){return e.isPositioned()||e.isFloating()},li=function(e){return e.nodeType===Node.TEXT_NODE},ci=function(e){return e.nodeType===Node.ELEMENT_NODE},Ai=function(e){return ci(e)&&"undefined"!==typeof e.style&&!ui(e)},ui=function(e){return"object"===typeof e.className},di=function(e){return"LI"===e.tagName},hi=function(e){return"OL"===e.tagName},fi=function(e){return"INPUT"===e.tagName},pi=function(e){return"HTML"===e.tagName},mi=function(e){return"svg"===e.tagName},gi=function(e){return"BODY"===e.tagName},vi=function(e){return"CANVAS"===e.tagName},xi=function(e){return"VIDEO"===e.tagName},yi=function(e){return"IMG"===e.tagName},bi=function(e){return"IFRAME"===e.tagName},wi=function(e){return"STYLE"===e.tagName},Ni=function(e){return"SCRIPT"===e.tagName},Bi=function(e){return"TEXTAREA"===e.tagName},ji=function(e){return"SELECT"===e.tagName},Ci=function(e){return"SLOT"===e.tagName},ki=function(e){return e.tagName.indexOf("-")>0},Ei=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,a=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(a=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var s=[];return a&&r.forEach(function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),s},e}(),Si={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_i={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Fi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ui={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ii=function(e,t,n,r,a,s){return e<t||e>n?Gi(e,a,s.length>0):r.integers.reduce(function(t,n,a){for(;e>=n;)e-=n,t+=r.values[a];return t},"")+s},Li=function(e,t,n,r){var a="";do{n||e--,a=r(e)+a,e/=t}while(e*t>=t);return a},Qi=function(e,t,n,r,a){var s=n-t+1;return(e<0?"-":"")+(Li(Math.abs(e),s,r,function(e){return A(Math.floor(e%s)+t)})+a)},Oi=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Li(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Pi=1,Ti=2,Di=4,Mi=8,Hi=function(e,t,n,r,a,s){if(e<-9999||e>9999)return Gi(e,4,a.length>0);var o=Math.abs(e),i=a;if(0===o)return t[0]+i;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&as(s,Pi)&&""!==i?i=t[c]+i:c>1||1===c&&0===l||1===c&&1===l&&as(s,Ti)||1===c&&1===l&&as(s,Di)&&e>100||1===c&&l>1&&as(s,Mi)?i=t[c]+(l>0?n[l-1]:"")+i:1===c&&l>0&&(i=n[l-1]+i),o=Math.floor(o/10)}return(e<0?r:"")+i},Ri="\u5341\u767e\u5343\u842c",qi="\u62fe\u4f70\u4edf\u842c",Ki="\u30de\u30a4\u30ca\u30b9",zi="\ub9c8\uc774\ub108\uc2a4",Gi=function(e,t,n){var r=n?". ":"",a=n?"\u3001":"",s=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var i=Qi(e,48,57,!0,r);return i.length<4?"0"+i:i;case 4:return Oi(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",a);case 6:return Ii(e,1,3999,Si,3,r).toLowerCase();case 7:return Ii(e,1,3999,Si,3,r);case 8:return Qi(e,945,969,!1,r);case 9:return Qi(e,97,122,!1,r);case 10:return Qi(e,65,90,!1,r);case 11:return Qi(e,1632,1641,!0,r);case 12:case 49:return Ii(e,1,9999,_i,3,r);case 35:return Ii(e,1,9999,_i,3,r).toLowerCase();case 13:return Qi(e,2534,2543,!0,r);case 14:case 30:return Qi(e,6112,6121,!0,r);case 15:return Oi(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",a);case 16:return Oi(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",a);case 17:case 48:return Hi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ri,"\u8ca0",a,Ti|Di|Mi);case 47:return Hi(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",qi,"\u8ca0",a,Pi|Ti|Di|Mi);case 42:return Hi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ri,"\u8d1f",a,Ti|Di|Mi);case 41:return Hi(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",qi,"\u8d1f",a,Pi|Ti|Di|Mi);case 26:return Hi(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ki,a,0);case 25:return Hi(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ki,a,Pi|Ti|Di);case 31:return Hi(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",zi,s,Pi|Ti|Di);case 33:return Hi(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",zi,s,0);case 32:return Hi(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",zi,s,Pi|Ti|Di);case 18:return Qi(e,2406,2415,!0,r);case 20:return Ii(e,1,19999,Ui,3,r);case 21:return Qi(e,2790,2799,!0,r);case 22:return Qi(e,2662,2671,!0,r);case 22:return Ii(e,1,10999,Fi,3,r);case 23:return Oi(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Oi(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Qi(e,3302,3311,!0,r);case 28:return Oi(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",a);case 29:return Oi(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",a);case 34:return Qi(e,3792,3801,!0,r);case 37:return Qi(e,6160,6169,!0,r);case 38:return Qi(e,4160,4169,!0,r);case 39:return Qi(e,2918,2927,!0,r);case 40:return Qi(e,1776,1785,!0,r);case 43:return Qi(e,3046,3055,!0,r);case 44:return Qi(e,3174,3183,!0,r);case 45:return Qi(e,3664,3673,!0,r);case 46:return Qi(e,3872,3881,!0,r);default:return Qi(e,48,57,!0,r)}},Vi="data-html2canvas-ignore",Wi=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ei,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=Ji(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,A=$i(s).then(function(){return r(n,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(al),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zi(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(c,n)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,o,i),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(e){if(bs(e,2),vi(e))return this.createCanvasClone(e);if(xi(e))return this.createVideoClone(e);if(wi(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return yi(t)&&(yi(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),ki(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Pt){if(this.context.logger.error("Unable to access cssRules property",Pt),"SecurityError"!==Pt.name)throw Pt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Pt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var a=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var i=o.getContextAttributes();!1===(null===i||void 0===i?void 0:i.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch(Pt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Pt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ci(t)&&(Ni(t)||t.hasAttribute(Vi)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ci(t)&&wi(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(ci(a)&&Ci(a)&&"function"===typeof a.assignedNodes){var s=a.assignedNodes();s.length&&s.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,a,n)},e.prototype.cloneNode=function(e,t){if(li(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ci(e)&&(Ai(e)||ui(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var a=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Ai(r)&&(this.clonedReferenceElement=r),gi(r)&&Al(r);var i=this.counters.parse(new gs(this.context,a)),l=this.resolvePseudoContent(e,r,s,zs.BEFORE);ki(e)&&(t=!0),xi(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,o,zs.AFTER);return c&&r.appendChild(c),this.counters.pop(i),(a&&(this.options.copyStyles||ui(e))&&!bi(e)||t)&&tl(a,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Bi(e)||ji(e))&&(Bi(r)||ji(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var a=this;if(n){var s=n.content,o=t.ownerDocument;if(o&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new gs(this.context,n));var i=new ms(this.context,n),l=o.createElement("html2canvaspseudoelement");tl(n,l),i.content.forEach(function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(In);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Pn),c=s[0],A=s[1];if(c&&In(c)){var u=a.counters.getCounterValue(c.value),d=A&&In(A)?Ba.parse(a.context,A.value):3;l.appendChild(o.createTextNode(Gi(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Pn),f=(c=h[0],h[1]);if(A=h[2],c&&In(c)){var p=a.counters.getCounterValues(c.value),m=A&&In(A)?Ba.parse(a.context,A.value):3,g=f&&0===f.type?f.value:"",v=p.map(function(e){return Gi(e,m,!1)}).join(g);l.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(As(i.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(As(i.quotes,--a.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}}),l.className=il+" "+ll;var c=r===zs.BEFORE?" "+il:" "+ll;return ui(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(zs||(zs={}));var Xi,Ji=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Vi,"true"),e.body.appendChild(n),n},Yi=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zi=function(e){return Promise.all([].slice.call(e.images,0).map(Yi))},$i=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var a=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){a.body.childNodes.length>0&&"complete"===a.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},al=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},sl=":before",ol=":after",il="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',Al=function(e){ul(e,"."+il+sl+cl+"\n         ."+ll+ol+cl)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:yl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,o=this;return a(this,function(a){switch(a.label){case 0:return t=dl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&jo.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!yl(e)&&"string"===typeof this._options.proxy&&jo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||yl(e)||r||n?(s=e,r?[4,this.proxy(s)]:[3,2]):[2];case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(xl(s)||n)&&(r.crossOrigin="anonymous"),r.src=s,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(a,s){var o=jo.SUPPORT_RESPONSE_TYPE?"blob":"text",i=new XMLHttpRequest;i.onload=function(){if(200===i.status)if("text"===o)a(i.response);else{var e=new FileReader;e.addEventListener("load",function(){return a(e.result)},!1),e.addEventListener("error",function(e){return s(e)},!1),e.readAsDataURL(i.response)}else s("Failed to proxy resource "+r+" with status code "+i.status)},i.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(i.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&i instanceof XMLHttpRequest&&(i.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;i.timeout=c,i.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+r)}}i.send()})},e}(),fl=/^data:image\/svg\+xml/i,pl=/^data:image\/.*;base64,/i,ml=/^data:image\/.*/i,gl=function(e){return jo.SUPPORT_SVG_DRAWING||!bl(e)},vl=function(e){return ml.test(e)},xl=function(e){return pl.test(e)},yl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Nl=function(e,t,n){return new wl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Bl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Nl(this.start,this.startControl,t),a=Nl(this.startControl,this.endControl,t),s=Nl(this.endControl,this.end,t),o=Nl(r,a,t),i=Nl(a,s,t),l=Nl(o,i,t);return n?new e(this.start,r,o,l):new e(l,i,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),jl=function(e){return 1===e.type},Cl=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),a=r[0],s=r[1],o=Gn(t.borderTopRightRadius,n.width,n.height),i=o[0],l=o[1],c=Gn(t.borderBottomRightRadius,n.width,n.height),A=c[0],u=c[1],d=Gn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],p=[];p.push((a+i)/n.width),p.push((h+A)/n.width),p.push((s+f)/n.height),p.push((l+u)/n.height);var m=Math.max.apply(Math,p);m>1&&(a/=m,s/=m,i/=m,l/=m,A/=m,u/=m,h/=m,f/=m);var g=n.width-i,v=n.height-u,x=n.width-A,y=n.height-f,b=t.borderTopWidth,w=t.borderRightWidth,N=t.borderBottomWidth,B=t.borderLeftWidth,j=Vn(t.paddingTop,e.bounds.width),C=Vn(t.paddingRight,e.bounds.width),k=Vn(t.paddingBottom,e.bounds.width),E=Vn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?kl(n.left+B/3,n.top+b/3,a-B/3,s-b/3,Xi.TOP_LEFT):new wl(n.left+B/3,n.top+b/3),this.topRightBorderDoubleOuterBox=a>0||s>0?kl(n.left+g,n.top+b/3,i-w/3,l-b/3,Xi.TOP_RIGHT):new wl(n.left+n.width-w/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=A>0||u>0?kl(n.left+x,n.top+v,A-w/3,u-N/3,Xi.BOTTOM_RIGHT):new wl(n.left+n.width-w/3,n.top+n.height-N/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?kl(n.left+B/3,n.top+y,h-B/3,f-N/3,Xi.BOTTOM_LEFT):new wl(n.left+B/3,n.top+n.height-N/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?kl(n.left+2*B/3,n.top+2*b/3,a-2*B/3,s-2*b/3,Xi.TOP_LEFT):new wl(n.left+2*B/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=a>0||s>0?kl(n.left+g,n.top+2*b/3,i-2*w/3,l-2*b/3,Xi.TOP_RIGHT):new wl(n.left+n.width-2*w/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=A>0||u>0?kl(n.left+x,n.top+v,A-2*w/3,u-2*N/3,Xi.BOTTOM_RIGHT):new wl(n.left+n.width-2*w/3,n.top+n.height-2*N/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?kl(n.left+2*B/3,n.top+y,h-2*B/3,f-2*N/3,Xi.BOTTOM_LEFT):new wl(n.left+2*B/3,n.top+n.height-2*N/3),this.topLeftBorderStroke=a>0||s>0?kl(n.left+B/2,n.top+b/2,a-B/2,s-b/2,Xi.TOP_LEFT):new wl(n.left+B/2,n.top+b/2),this.topRightBorderStroke=a>0||s>0?kl(n.left+g,n.top+b/2,i-w/2,l-b/2,Xi.TOP_RIGHT):new wl(n.left+n.width-w/2,n.top+b/2),this.bottomRightBorderStroke=A>0||u>0?kl(n.left+x,n.top+v,A-w/2,u-N/2,Xi.BOTTOM_RIGHT):new wl(n.left+n.width-w/2,n.top+n.height-N/2),this.bottomLeftBorderStroke=h>0||f>0?kl(n.left+B/2,n.top+y,h-B/2,f-N/2,Xi.BOTTOM_LEFT):new wl(n.left+B/2,n.top+n.height-N/2),this.topLeftBorderBox=a>0||s>0?kl(n.left,n.top,a,s,Xi.TOP_LEFT):new wl(n.left,n.top),this.topRightBorderBox=i>0||l>0?kl(n.left+g,n.top,i,l,Xi.TOP_RIGHT):new wl(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||u>0?kl(n.left+x,n.top+v,A,u,Xi.BOTTOM_RIGHT):new wl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?kl(n.left,n.top+y,h,f,Xi.BOTTOM_LEFT):new wl(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?kl(n.left+B,n.top+b,Math.max(0,a-B),Math.max(0,s-b),Xi.TOP_LEFT):new wl(n.left+B,n.top+b),this.topRightPaddingBox=i>0||l>0?kl(n.left+Math.min(g,n.width-w),n.top+b,g>n.width+w?0:Math.max(0,i-w),Math.max(0,l-b),Xi.TOP_RIGHT):new wl(n.left+n.width-w,n.top+b),this.bottomRightPaddingBox=A>0||u>0?kl(n.left+Math.min(x,n.width-B),n.top+Math.min(v,n.height-N),Math.max(0,A-w),Math.max(0,u-N),Xi.BOTTOM_RIGHT):new wl(n.left+n.width-w,n.top+n.height-N),this.bottomLeftPaddingBox=h>0||f>0?kl(n.left+B,n.top+Math.min(y,n.height-N),Math.max(0,h-B),Math.max(0,f-N),Xi.BOTTOM_LEFT):new wl(n.left+B,n.top+n.height-N),this.topLeftContentBox=a>0||s>0?kl(n.left+B+E,n.top+b+j,Math.max(0,a-(B+E)),Math.max(0,s-(b+j)),Xi.TOP_LEFT):new wl(n.left+B+E,n.top+b+j),this.topRightContentBox=i>0||l>0?kl(n.left+Math.min(g,n.width+B+E),n.top+b+j,g>n.width+B+E?0:i-B+E,l-(b+j),Xi.TOP_RIGHT):new wl(n.left+n.width-(w+C),n.top+b+j),this.bottomRightContentBox=A>0||u>0?kl(n.left+Math.min(x,n.width-(B+E)),n.top+Math.min(v,n.height+b+j),Math.max(0,A-(w+C)),u-(N+k),Xi.BOTTOM_RIGHT):new wl(n.left+n.width-(w+C),n.top+n.height-(N+k)),this.bottomLeftContentBox=h>0||f>0?kl(n.left+B+E,n.top+y,Math.max(0,h-(B+E)),f-(N+k),Xi.BOTTOM_LEFT):new wl(n.left+B+E,n.top+n.height-(N+k))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xi||(Xi={}));var kl=function(e,t,n,r,a){var s=(Math.sqrt(2)-1)/3*4,o=n*s,i=r*s,l=e+n,c=t+r;switch(a){case Xi.TOP_LEFT:return new Bl(new wl(e,c),new wl(e,c-i),new wl(l-o,t),new wl(l,t));case Xi.TOP_RIGHT:return new Bl(new wl(e,t),new wl(e+o,t),new wl(l,c-i),new wl(l,c));case Xi.BOTTOM_RIGHT:return new Bl(new wl(l,t),new wl(l,t+i),new wl(e+o,c),new wl(e,c));case Xi.BOTTOM_LEFT:default:return new Bl(new wl(l,c),new wl(l-o,c),new wl(e,t+i),new wl(e,t))}},El=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Sl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},_l=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Fl=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ul=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Il=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Ql=function(e){return 1===e.type},Ol=function(e){return 2===e.type},Pl=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Tl=function(e,t,n,r,a){return e.map(function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+a);case 3:return e.add(t,n+a)}return e})},Dl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ml=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new Il(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new Fl(n,r,a))}if(0!==this.container.styles.overflowX){var s=El(this.curves),o=_l(this.curves);Pl(s,o)?this.effects.push(new Ul(s,6)):(this.effects.push(new Ul(s,2)),this.effects.push(new Ul(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var a=n.effects.filter(function(e){return!Ql(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,a),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=El(n.curves),o=_l(n.curves);Pl(s,o)||r.unshift(new Ul(o,6))}}else r.unshift.apply(r,a);n=n.parent}return r.filter(function(t){return as(t.target,e)})},e}(),Hl=function(e,t,n,r){e.container.elements.forEach(function(a){var s=as(a.flags,4),o=as(a.flags,2),i=new Ml(a,e);as(a.styles.display,2048)&&r.push(i);var l=as(a.flags,8)?[]:r;if(s||o){var c=s||a.styles.isPositioned()?n:t,A=new Dl(i);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var u=a.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),c.negativeZIndex.splice(d,0,A)}else if(u>0){var h=0;c.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),c.positiveZIndex.splice(h,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);Hl(i,A,s?A:n,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(i):t.nonInlineLevel.push(i),Hl(i,t,n,l);as(a.flags,8)&&Rl(a,l)})},Rl=function(e,t){for(var n=e instanceof qo?e.start:1,r=e instanceof qo&&e.reversed,a=0;a<t.length;a++){var s=t[a];s.container instanceof Ro&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=Gi(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},ql=function(e){var t=new Ml(e,null),n=new Dl(t),r=[];return Hl(t,n,n,r),Rl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},zl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Gl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Vl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Wl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Wl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Wl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Wl=function(e,t){var n=[];return jl(e)?n.push(e.subdivide(.5,!1)):n.push(e),jl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Xl=function(e,t,n,r){var a=[];return jl(e)?a.push(e.subdivide(.5,!1)):a.push(e),jl(n)?a.push(n.subdivide(.5,!0)):a.push(n),jl(r)?a.push(r.subdivide(.5,!0).reverse()):a.push(r),jl(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},Jl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Yl=function(e){var t=e.styles,n=e.bounds,r=Vn(t.paddingLeft,n.width),a=Vn(t.paddingRight,n.width),s=Vn(t.paddingTop,n.width),o=Vn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+a),-(t.borderTopWidth+t.borderBottomWidth+s+o))},Zl=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Jl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Jl(t)},ec=function(e,t,n){var r=Zl(ac(e.styles.backgroundOrigin,t),e),a=$l(ac(e.styles.backgroundClip,t),e),s=rc(ac(e.styles.backgroundSize,t),n,r),o=s[0],i=s[1],l=Gn(ac(e.styles.backgroundPosition,t),r.width-o,r.height-i);return[sc(ac(e.styles.backgroundRepeat,t),l,s,r,a),Math.round(r.left+l[0]),Math.round(r.top+l[1]),o,i]},tc=function(e){return In(e)&&e.value===Or.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],a=t[1],s=t[2],o=e[0],i=e[1];if(!o)return[0,0];if(Hn(o)&&i&&Hn(i))return[Vn(o,n.width),Vn(i,n.height)];var l=nc(s);if(In(o)&&(o.value===Or.CONTAIN||o.value===Or.COVER))return nc(s)?n.width/n.height<s!==(o.value===Or.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var c=nc(r),A=nc(a),u=c||A;if(tc(o)&&(!i||tc(i)))return c&&A?[r,a]:l||u?u&&l?[c?r:a*s,A?a:r/s]:[c?r:n.width,A?a:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Hn(o)?d=Vn(o,n.width):Hn(i)&&(h=Vn(i,n.height)),tc(o)?d=h*s:i&&!tc(i)||(h=d/s),[d,h]}var f=null,p=null;if(Hn(o)?f=Vn(o,n.width):i&&Hn(i)&&(p=Vn(i,n.height)),null===f||i&&!tc(i)||(p=c&&A?f/r*a:n.height),null!==p&&tc(o)&&(f=c&&A?p/a*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},ac=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},sc=function(e,t,n,r,a){var s=t[0],o=t[1],i=n[0],l=n[1];switch(e){case 2:return[new wl(Math.round(r.left),Math.round(r.top+o)),new wl(Math.round(r.left+r.width),Math.round(r.top+o)),new wl(Math.round(r.left+r.width),Math.round(l+r.top+o)),new wl(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new wl(Math.round(r.left+s),Math.round(r.top)),new wl(Math.round(r.left+s+i),Math.round(r.top)),new wl(Math.round(r.left+s+i),Math.round(r.height+r.top)),new wl(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new wl(Math.round(r.left+s),Math.round(r.top+o)),new wl(Math.round(r.left+s+i),Math.round(r.top+o)),new wl(Math.round(r.left+s+i),Math.round(r.top+o+l)),new wl(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new wl(Math.round(a.left),Math.round(a.top)),new wl(Math.round(a.left+a.width),Math.round(a.top)),new wl(Math.round(a.left+a.width),Math.round(a.height+a.top)),new wl(Math.round(a.left),Math.round(a.height+a.top))]}},oc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ic="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),r.src=oc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(ic)),n.appendChild(a),n.appendChild(r);var o=r.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(ic)),n.style.lineHeight="normal",r.style.verticalAlign="super";var i=r.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:i}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),Ac=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Ol(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ql(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return as(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):_o(e.text).reduce(function(t,a){return r.ctx.fillText(a,t,e.bounds.top+n),t+r.ctx.measureText(a).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=mc(e.fontFamily).join(", "),r=Fn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,s,o,i,l,c,A,u=this;return a(this,function(a){return n=this.createFontStyle(t),r=n[0],s=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",i=this.fontMetrics.getMetrics(s,o),l=i.baseline,c=i.middle,A=t.paintOrder,e.textBounds.forEach(function(e){A.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=ar(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=ar(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ar(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ar(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Yl(e),a=_l(t);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,s,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b;return a(this,function(a){switch(a.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,s=t.styles,i=0,l=t.textNodes,a.label=1;case 1:return i<l.length?(c=l[i],[4,this.renderTextNode(c,s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:if(!(t instanceof Do))return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=a.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return a.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Mo&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ho))return[3,12];a.label=9;case 9:return a.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=a.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return a.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ti&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:A=a.sent(),t.width&&t.height&&this.ctx.drawImage(A,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),a.label=14;case 14:if(t instanceof Zo&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wo?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new wl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new wl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new wl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new wl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new wl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ar(Yo),this.ctx.fill(),this.ctx.restore()):t.type===Xo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ar(Yo),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(s),y=d[0],h=d[1],f=this.fontMetrics.getMetrics(y,h).baseline,this.ctx.font=y,this.ctx.fillStyle=ar(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),b=Yl(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}m=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new wl(b.left,b.top),new wl(b.left+b.width,b.top),new wl(b.left+b.width,b.top+b.height),new wl(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Co(t.value,m),s.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!as(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];v=void 0,x=g.url,a.label=15;case 15:return a.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return v=a.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return a.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(s)[0],this.ctx.font=y,this.ctx.fillStyle=ar(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(t.bounds.left,t.bounds.top+Vn(t.styles.paddingTop,t.bounds.width),t.bounds.width,ba(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Co(e.listValue,b),s.letterSpacing,ba(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),a.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,o,i,l,c,A,u,d,h,f,p,m;return a(this,function(a){switch(a.label){case 0:return as(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:a.sent(),t=0,n=e.negativeZIndex,a.label=2;case 2:return t<n.length?(m=n[t],[4,this.renderStack(m)]):[3,5];case 3:a.sent(),a.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:a.sent(),r=0,s=e.nonInlineLevel,a.label=7;case 7:return r<s.length?(m=s[r],[4,this.renderNode(m)]):[3,10];case 8:a.sent(),a.label=9;case 9:return r++,[3,7];case 10:o=0,i=e.nonPositionedFloats,a.label=11;case 11:return o<i.length?(m=i[o],[4,this.renderStack(m)]):[3,14];case 12:a.sent(),a.label=13;case 13:return o++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,a.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:a.sent(),a.label=17;case 17:return l++,[3,15];case 18:A=0,u=e.inlineLevel,a.label=19;case 19:return A<u.length?(m=u[A],[4,this.renderNode(m)]):[3,22];case 20:a.sent(),a.label=21;case 21:return A++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,a.label=23;case 23:return d<h.length?(m=h[d],[4,this.renderStack(m)]):[3,26];case 24:a.sent(),a.label=25;case 25:return d++,[3,23];case 26:f=0,p=e.positiveZIndex,a.label=27;case 27:return f<p.length?(m=p[f],[4,this.renderStack(m)]):[3,30];case 28:a.sent(),a.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=jl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),jl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var a=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return a.width=Math.max(1,t),a.height=Math.max(1,n),a.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),a},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,o,i;return a(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,o,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b,w,N,B,j,C,k,E,S,_,F,U,I,L,Q;return a(this,function(a){switch(a.label){case 0:if(0!==n.type)return[3,5];s=void 0,o=n.url,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return s=a.sent(),[3,4];case 3:return a.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return s&&(i=ec(e,t,[s.width,s.height,s.width/s.height]),y=i[0],C=i[1],k=i[2],N=i[3],B=i[4],v=r.ctx.createPattern(r.resizeImage(s,N,B),"repeat"),r.renderRepeat(y,v,C,k)),[3,6];case 5:Ur(n)?(l=ec(e,t,[null,null,null]),y=l[0],C=l[1],k=l[2],N=l[3],B=l[4],c=vr(n.angle,N,B),A=c[0],u=c[1],d=c[2],h=c[3],f=c[4],(p=document.createElement("canvas")).width=N,p.height=B,m=p.getContext("2d"),g=m.createLinearGradient(u,h,d,f),mr(n.stops,A).forEach(function(e){return g.addColorStop(e.stop,ar(e.color))}),m.fillStyle=g,m.fillRect(0,0,N,B),N>0&&B>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(y,v,C,k))):Ir(n)&&(x=ec(e,t,[null,null,null]),y=x[0],b=x[1],w=x[2],N=x[3],B=x[4],j=0===n.position.length?[Kn]:n.position,C=Vn(j[0],N),k=Vn(j[j.length-1],B),E=br(n,C,k,N,B),S=E[0],_=E[1],S>0&&_>0&&(F=r.ctx.createRadialGradient(b+C,w+k,0,b+C,w+k,S),mr(n.stops,2*S).forEach(function(e){return F.addColorStop(e.stop,ar(e.color))}),r.path(y),r.ctx.fillStyle=F,S!==_?(U=e.bounds.left+.5*e.bounds.width,I=e.bounds.top+.5*e.bounds.height,Q=1/(L=_/S),r.ctx.save(),r.ctx.translate(U,I),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-U,-I),r.ctx.fillRect(b,Q*(w-I)+I,N,B*Q),r.ctx.restore()):r.ctx.fill())),a.label=6;case 6:return t--,[2]}})},r=this,s=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(i=o[s],[5,n(i)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return a(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=ar(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,s){return r(this,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return a.sent(),[2];case 2:return r=zl(s,n),this.path(r),this.ctx.fillStyle=ar(e),this.ctx.fill(),o=Gl(s,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,s,o,i,l,c,A=this;return a(this,function(a){switch(a.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=hc(ac(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ar(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:a.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){A.ctx.save();var n=El(e.curves),r=t.inset?0:Ac,a=Tl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(A.path(n),A.ctx.clip(),A.mask(a)):(A.mask(n),A.ctx.clip(),A.path(a)),A.ctx.shadowOffsetX=t.offsetX.number+r,A.ctx.shadowOffsetY=t.offsetY.number,A.ctx.shadowColor=ar(t.color),A.ctx.shadowBlur=t.blur.number,A.ctx.fillStyle=t.inset?ar(t.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),a.label=2;case 2:o=0,i=0,l=r,a.label=3;case 3:return i<l.length?0!==(c=l[i]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return a.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return a.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return a.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:a.sent(),a.label=11;case 11:o++,a.label=12;case 12:return i++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,s,o){return r(this,void 0,void 0,function(){var r,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b;return a(this,function(a){return this.ctx.save(),r=Vl(s,n),i=Kl(s,n),2===o&&(this.path(i),this.ctx.clip()),jl(i[0])?(l=i[0].start.x,c=i[0].start.y):(l=i[0].x,c=i[0].y),jl(i[1])?(A=i[1].end.x,u=i[1].end.y):(A=i[1].x,u=i[1].y),d=0===n||2===n?Math.abs(l-A):Math.abs(c-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(i.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===o&&(h=t,f=t),p=!0,d<=2*h?p=!1:d<=2*h+f?(h*=m=d/(2*h+f),f*=m):(g=Math.floor((d+f)/(h+f)),v=(d-g*h)/(g-1),f=(x=(d-(g+1)*h)/g)<=0||Math.abs(f-v)<Math.abs(f-x)?v:x),p&&(3===o?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ar(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(jl(i[0])&&(y=i[3],b=i[0],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(b.start.x,b.start.y)]),this.ctx.stroke()),jl(i[1])&&(y=i[1],b=i[2],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=ql(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(cc),dc=function(e){return e instanceof ei||e instanceof $o||e instanceof Zo&&e.type!==Xo&&e.type!==Wo},hc=function(e,t){switch(e){case 0:return El(t);case 2:return Sl(t);default:return _l(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pc=["-apple-system","system-ui"],mc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===pc.indexOf(e)}):e},gc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return t=No(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(cc),vc=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},xc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),yc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new xc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),bc=function(e,t){return void 0===t&&(t={}),wc(e,t)};"undefined"!==typeof window&&dl.setContext(window);var wc=function(e,t){return r(void 0,void 0,void 0,function(){var r,s,c,A,u,d,h,f,p,m,g,v,x,y,b,w,N,B,j,C,k,E,S,_,F,U,I,L,Q,O,P,T,D,M,H,R,q,K;return a(this,function(a){switch(a.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(E=t.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(_=t.useCORS)&&void 0!==_&&_},A=n({logging:null===(F=t.logging)||void 0===F||F,cache:t.cache},c),u={windowWidth:null!==(U=t.windowWidth)&&void 0!==U?U:s.innerWidth,windowHeight:null!==(I=t.windowHeight)&&void 0!==I?I:s.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:s.pageXOffset,scrollY:null!==(Q=t.scrollY)&&void 0!==Q?Q:s.pageYOffset},d=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new yc(A,d),f=null!==(O=t.foreignObjectRendering)&&void 0!==O&&O,p={allowTaint:null!==(P=t.allowTaint)&&void 0!==P&&P,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),m=new Wi(h,e,p),(g=m.clonedReferenceElement)?[4,m.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=a.sent(),x=gi(g)||pi(g)?l(g.ownerDocument):i(h,g),y=x.width,b=x.height,w=x.left,N=x.top,B=Nc(h,g,t.backgroundColor),j={canvas:t.canvas,backgroundColor:B,scale:null!==(D=null!==(T=t.scale)&&void 0!==T?T:s.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(M=t.x)&&void 0!==M?M:0)+w,y:(null!==(H=t.y)&&void 0!==H?H:0)+N,width:null!==(R=t.width)&&void 0!==R?R:Math.ceil(y),height:null!==(q=t.height)&&void 0!==q?q:Math.ceil(b)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gc(h,j).render(g)]):[3,3];case 2:return C=a.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+w+","+N+" with size "+y+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),k=si(h,g),B===k.styles.backgroundColor&&(k.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),[4,new uc(h,j).render(k)];case 4:C=a.sent(),a.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Wi.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,C]}})})},Nc=function(e,t,n){var r=t.ownerDocument,a=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,s=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(a)?rr(s)?o:s:a:o};return bc}()},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),s=n(793),o=n(7760),i=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=i,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,i){var l=1&n,c=r(e),A=c.length;if(A!=r(t).length&&!l)return!1;for(var u=A;u--;){var d=c[u];if(!(l?d in t:a.call(t,d)))return!1}var h=i.get(e),f=i.get(t);if(h&&f)return h==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=l;++u<A;){var g=e[d=c[u]],v=t[d];if(s)var x=l?s(v,g,d,t,e,i):s(g,v,d,e,t,i);if(!(void 0===x?g===v||o(g,v,n,s,i):x)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),s=n(9987),o=n(5752),i=n(6924),l=n(4052),c=n(4543),A=n(1268),u="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,m,g){var v=l(e),x=l(t),y=v?d:i(e),b=x?d:i(t),w=(y=y==u?h:y)==h,N=(b=b==u?h:b)==h,B=y==b;if(B&&c(e)){if(!c(t))return!1;v=!0,w=!1}if(B&&!w)return g||(g=new r),v||A(e)?a(e,t,n,p,m,g):s(e,t,y,n,p,m,g);if(!(1&n)){var j=w&&f.call(e,"__wrapped__"),C=N&&f.call(t,"__wrapped__");if(j||C){var k=j?e.value():e,E=C?t.value():t;return g||(g=new r),m(k,E,n,p,g)}}return!!B&&(g||(g=new r),o(e,t,n,p,m,g))}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&r.process,i=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),s=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),s=n(5387),o=n(2070),i=n(6600),l=n(6913),c=n(6996),A="[object Map]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=c(r),m=c(a),g=c(s),v=c(o),x=c(i),y=l;(r&&y(new r(new ArrayBuffer(1)))!=f||a&&y(new a)!=A||s&&y(s.resolve())!=u||o&&y(new o)!=d||i&&y(new i)!=h)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return f;case m:return A;case g:return u;case v:return d;case x:return h}return t}),e.exports=y},6954:(e,t,n)=>{var r=n(1629),a=n(7857),s=n(6686),o=n(6996),i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,A=l.toString,u=c.hasOwnProperty,d=RegExp("^"+A.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?d:i).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,s,o,i){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,o,e,i))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),s=n(4190),o=n(1946),i=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,A=e[c];if(0>s(l,n))c<a&&0>s(A,l)?(e[r]=A,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(A,n)))break e;e[r]=A,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],A=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(A);null!==t;){if(null===t.callback)a(A);else{if(!(t.startTime<=e))break;a(A),t.sortIndex=t.expirationTime,n(c,t)}t=r(A)}}function b(e){if(m=!1,y(e),!p)if(null!==r(c))p=!0,I(w);else{var t=r(A);null!==t&&L(b,t.startTime-e)}}function w(e,n){p=!1,m&&(m=!1,v(C),C=-1),f=!0;var s=h;try{for(y(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!S());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var i=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?d.callback=i:d===r(c)&&a(c),y(n)}else a(c);d=r(c)}if(null!==d)var l=!0;else{var u=r(A);null!==u&&L(b,u.startTime-n),l=!1}return l}finally{d=null,h=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,B=!1,j=null,C=-1,k=5,E=-1;function S(){return!(t.unstable_now()-E<k)}function _(){if(null!==j){var e=t.unstable_now();E=e;var n=!0;try{n=j(!0,e)}finally{n?N():(B=!1,j=null)}}else B=!1}if("function"===typeof x)N=function(){x(_)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,U=F.port2;F.port1.onmessage=_,N=function(){U.postMessage(null)}}else N=function(){g(_,0)};function I(e){j=e,B||(B=!0,N())}function L(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,n(A,e),null===r(c)&&e===r(A)&&(m?(v(C),C=-1):m=!0,L(b,s-o))):(e.sortIndex=i,n(c,e),p||f||(p=!0,I(w))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8673:(e,t,n)=>{var r=n(3204),a=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),s=n(2154),o=n(8734),i=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=o,l.prototype.set=i,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),s=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},9088:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9379),a=n(3802),s=n(5043),o=n(8443);const{useDebugValue:i}=s,{useSyncExternalStoreWithSelector:l}=o;let c=!1;const A=e=>e;const u=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?(0,a.y)(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,n=arguments.length>2?arguments[2]:void 0;n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);const r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return i(r),r}(t,e,n);return Object.assign(n,t),n},d=e=>e?u(e):u;function h(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(r=n.getItem(e))?r:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const f=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>f(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>f(e)(n)}}},p=d(((e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,a,s)=>{let o=(0,r.A)({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>(0,r.A)((0,r.A)({},t),e)},t),i=!1;const l=new Set,c=new Set;let A;try{A=o.getStorage()}catch(v){}if(!A)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),n(...arguments)},a,s);const u=f(o.serialize),d=()=>{const e=o.partialize((0,r.A)({},a()));let t;const n=u({state:e,version:o.version}).then(e=>A.setItem(o.name,e)).catch(e=>{t=e});if(t)throw t;return n},h=s.setState;s.setState=(e,t)=>{h(e,t),d()};const p=e(function(){n(...arguments),d()},a,s);let m;const g=()=>{var e;if(!A)return;i=!1,l.forEach(e=>e(a()));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,a()))||void 0;return f(A.getItem.bind(A))(o.name).then(e=>{if(e)return o.deserialize(e)}).then(e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return m=o.merge(e,null!=(t=a())?t:p),n(m,!0),d()}).then(()=>{null==t||t(m,void 0),i=!0,c.forEach(e=>e(m))}).catch(e=>{null==t||t(void 0,e)})};return s.persist={setOptions:e=>{o=(0,r.A)((0,r.A)({},o),e),e.getStorage&&(A=e.getStorage())},clearStorage:()=>{null==A||A.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},g(),m||p})(e,t)):((e,t)=>(n,a,s)=>{let o=(0,r.A)({storage:h(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>(0,r.A)((0,r.A)({},t),e)},t),i=!1;const l=new Set,c=new Set;let A=o.storage;if(!A)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),n(...arguments)},a,s);const u=()=>{const e=o.partialize((0,r.A)({},a()));return A.setItem(o.name,{state:e,version:o.version})},d=s.setState;s.setState=(e,t)=>{d(e,t),u()};const p=e(function(){n(...arguments),u()},a,s);let m;s.getInitialState=()=>p;const g=()=>{var e,t;if(!A)return;i=!1,l.forEach(e=>{var t;return e(null!=(t=a())?t:p)});const r=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=a())?e:p))||void 0;return f(A.getItem.bind(A))(o.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[r,s]=e;if(m=o.merge(s,null!=(t=a())?t:p),n(m,!0),r)return u()}).then(()=>{null==r||r(m,void 0),m=a(),i=!0,c.forEach(e=>e(m))}).catch(e=>{null==r||r(void 0,e)})};return s.persist={setOptions:e=>{o=(0,r.A)((0,r.A)({},o),e),e.storage&&(A=e.storage)},clearStorage:()=>{null==A||A.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},o.skipHydration||g(),m||p})(e,t))((e,t)=>({projects:[],currentProject:null,editorContent:"",editorHistory:[],currentChapter:null,currentVolume:null,projectStructure:{volumes:[]},worldData:{name:"",description:"",genre:"",techLevel:"",locations:[],regions:[],climates:[],resources:[],peoples:[],languages:[],religions:[],traditions:[],magicSystems:[],technologies:[],governments:[],economies:[],events:[],eras:[],relationships:[]},characters:[],selectedCharacter:null,loreData:{myths:[],legends:[],prophecies:[],artifacts:[],rituals:[],customs:[]},narrativeData:{plotPoints:[],storyArcs:[],themes:[],conflicts:[],resolutions:[]},aiConversations:[],aiSettings:{model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3,aiProviders:{openai:{apiKey:"",defaultModel:"gpt-4o-mini",temperature:.7,maxTokens:2e3,enabled:!0},anthropic:{apiKey:"",defaultModel:"claude-3-5-sonnet-20241022",temperature:.7,maxTokens:2e3,enabled:!1},google:{apiKey:"",defaultModel:"gemini-1.5-flash",temperature:.7,maxTokens:2e3,enabled:!1},groq:{apiKey:"",defaultModel:"llama3-70b-8192",temperature:.7,maxTokens:2e3,enabled:!1},custom:{apiKey:"",baseUrl:"",defaultModel:"custom-model",temperature:.7,maxTokens:2e3,enabled:!1}}},settings:{theme:"light",language:"pt-BR",timezone:"America/Sao_Paulo",notifications:!0,autoSave:!0,autoSaveInterval:30,undoHistorySize:50,analytics:!1,spellCheck:!0,defaultAIProvider:"openai",aiTimeout:30,autoSuggestions:!1,autoRetry:!0,autoLoadLastConversation:!0,fontFamily:"serif",fontSize:16,lineHeight:1.6,focusMode:!1,wordWrap:!0,showStats:!0,syntaxHighlight:!0,primaryColor:"blue",density:"normal",animations:!0,visualEffects:!0,notificationSounds:!0,notificationTypes:{auto_save:!0,ai_responses:!0,reminders:!1,updates:!0,errors:!0},dailyReminders:!1,reminderTime:"19:00",dailyWordGoal:500,encryptLocalData:!1,maskApiKeys:!0,activityLog:!0,autoBackup:!1,backupFrequency:"daily",maxBackups:10,devMode:!1,verboseLogging:!1,betaFeatures:!1,renderLimit:1e3,cacheTTL:60,lazyLoading:!0},setCurrentProject:t=>{e({currentProject:t}),t?localStorage.setItem("selectedProjectId",t.id):localStorage.removeItem("selectedProjectId")},restoreSelectedProject:()=>{const n=localStorage.getItem("selectedProjectId");if(n){const r=t().projects.find(e=>e.id===parseInt(n));r&&e({currentProject:r})}},addProject:t=>e(e=>({projects:[...e.projects,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})),updateProject:(t,n)=>e(e=>({projects:e.projects.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),n):e)})),deleteProject:t=>e(e=>({projects:e.projects.filter(e=>e.id!==t)})),setEditorContent:t=>e({editorContent:t}),addToHistory:t=>e(e=>({editorHistory:[...e.editorHistory.slice(-9),t]})),setCurrentChapter:t=>e({currentChapter:t}),setCurrentVolume:t=>e({currentVolume:t}),addVolume:t=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:[...e.projectStructure.volumes,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),chapters:[],createdAt:(new Date).toISOString()})]})})),updateVolume:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)((0,r.A)({},e),n),{},{updatedAt:(new Date).toISOString()}):e)})})),deleteVolume:t=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.filter(e=>e.id!==t)})})),addChapter:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:[...e.chapters,(0,r.A)((0,r.A)({},n),{},{id:Date.now(),content:"",wordCount:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})]}):e)})})),updateChapter:(t,n,a)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.map(e=>e.id===n?(0,r.A)((0,r.A)((0,r.A)({},e),a),{},{updatedAt:(new Date).toISOString(),wordCount:a.content?a.content.replace(/<[^>]*>/g,"").split(/\s+/).filter(e=>e.length>0).length:e.wordCount}):e)}):e)})})),deleteChapter:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.filter(e=>e.id!==n)}):e)})})),updateWorldData:t=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),t)})),addLocation:t=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{locations:[...e.worldData.locations,(0,r.A)((0,r.A)({},t),{},{id:Date.now()})]})})),addWorldItem:(t,n)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:[...e.worldData[t]||[],(0,r.A)((0,r.A)({},n),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})})),updateWorldItem:(t,n,a)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:(e.worldData[t]||[]).map(e=>e.id===n?(0,r.A)((0,r.A)({},e),a):e)})})),deleteWorldItem:(t,n)=>e(e=>({worldData:(0,r.A)((0,r.A)({},e.worldData),{},{[t]:(e.worldData[t]||[]).filter(e=>e.id!==n)})})),addCharacter:t=>e(e=>({characters:[...e.characters,(0,r.A)((0,r.A)({},t),{},{id:Date.now(),createdAt:(new Date).toISOString()})]})),updateCharacter:(t,n)=>e(e=>({characters:e.characters.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),n):e)})),updateCharacters:t=>e({characters:t}),deleteCharacter:t=>e(e=>({characters:e.characters.filter(e=>e.id!==t)})),addVolumeCover:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{cover:n}):e)})})),removeVolumeCover:t=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{cover:null}):e)})})),addChapterCover:(t,n,a)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.map(e=>e.id===n?(0,r.A)((0,r.A)({},e),{},{cover:a}):e)}):e)})})),removeChapterCover:(t,n)=>e(e=>({projectStructure:(0,r.A)((0,r.A)({},e.projectStructure),{},{volumes:e.projectStructure.volumes.map(e=>e.id===t?(0,r.A)((0,r.A)({},e),{},{chapters:e.chapters.map(e=>e.id===n?(0,r.A)((0,r.A)({},e),{},{cover:null}):e)}):e)})})),setSelectedCharacter:t=>e({selectedCharacter:t}),addLoreItem:(t,n)=>e(e=>({loreData:(0,r.A)((0,r.A)({},e.loreData),{},{[t]:[...e.loreData[t],(0,r.A)((0,r.A)({},n),{},{id:Date.now()})]})})),updateLoreData:t=>e(e=>({loreData:(0,r.A)((0,r.A)({},e.loreData),t)})),addNarrativeItem:(t,n)=>e(e=>({narrativeData:(0,r.A)((0,r.A)({},e.narrativeData),{},{[t]:[...e.narrativeData[t],(0,r.A)((0,r.A)({},n),{},{id:Date.now()})]})})),updateNarrativeData:t=>e(e=>({narrativeData:(0,r.A)((0,r.A)({},e.narrativeData),t)})),addAIConversation:t=>e(e=>({aiConversations:[...e.aiConversations,(0,r.A)((0,r.A)({},t),{},{id:Date.now()})]})),updateAISettings:t=>e(e=>({aiSettings:(0,r.A)((0,r.A)({},e.aiSettings),t)})),updateSettings:t=>e(e=>({settings:(0,r.A)((0,r.A)({},e.settings),t)})),getProjectById:e=>t().projects.find(t=>t.id===e),getCharactersByRole:e=>t().characters.filter(t=>t.role===e),getLocationsByType:e=>t().worldData.locations.filter(t=>t.type===e),getLoreByCategory:e=>t().loreData[e]||[],getNarrativeByCategory:e=>t().narrativeData[e]||[],exportProject:()=>{var e;const n=t(),r={project:n.currentProject,worldData:n.worldData,characters:n.characters,loreData:n.loreData,narrativeData:n.narrativeData,editorContent:n.editorContent,exportDate:(new Date).toISOString()},a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download="".concat((null===(e=n.currentProject)||void 0===e?void 0:e.name)||"project",".json"),o.click(),URL.revokeObjectURL(s)},importProject:n=>{try{const r="string"===typeof n?JSON.parse(n):n;return e({worldData:r.worldData||t().worldData,characters:r.characters||[],loreData:r.loreData||t().loreData,narrativeData:r.narrativeData||t().narrativeData,editorContent:r.editorContent||""}),!0}catch(r){return console.error("Erro ao importar projeto:",r),!1}}}),{name:"light-novel-creator-storage",partialize:e=>({projects:e.projects,projectStructure:e.projectStructure,worldData:e.worldData,characters:e.characters,loreData:e.loreData,narrativeData:e.narrativeData,aiConversations:e.aiConversations,aiSettings:e.aiSettings,settings:e.settings})}))},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4980);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),s=n(8673);e.exports=function(e){return r(e,s,a)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9621:(e,t,n)=>{var r=n(7529),a=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:a;e.exports=i},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,i=r.useRef,l=r.useEffect,c=r.useMemo,A=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var u=i(null);if(null===u.current){var d={hasValue:!1,value:null};u.current=d}else d=u.current;u=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==a&&d.hasValue){var t=d.value;if(a(t,e))return i=t}return i=e}if(t=i,s(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,i=n)}var o,i,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var h=o(e,u[0],u[1]);return l(function(){d.hasValue=!0,d.value=h},[h]),A(h),h}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),s=n(3211),o=n(3668),i=n(4160),l=n(2074),c=r?r.prototype:void 0,A=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=i;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)return!1;var p=d.get(e);if(p)return p==t;r|=2,d.set(e,t);var m=o(h(e),h(t),r,c,u,d);return d.delete(e),m;case"[object Symbol]":if(A)return A.call(e)==A.call(t)}return!1}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{455:"def011d1",977:"96d03635"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="light-novel-creator:";n.l=(r,a,s,o)=>{if(e[r])e[r].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),A=0;A<c.length;A++){var u=c[A];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[a];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var o=n.p+n.u(t),i=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,o=r[0],i=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunklight_novel_creator=self.webpackChunklight_novel_creator||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),a=n(4391),s=n(7950),o=n.t(s,2);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Fe){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:o=!1}=a,A=s.history,f=e.Pop,p=null,m=g();function g(){return(A.state||{idx:null}).idx}function v(){f=e.Pop;let t=g(),n=null==t?null:t-m;m=t,p&&p({action:f,location:y.location,delta:n})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,A.replaceState(i({},A.state,{idx:m}),""));let y={get action(){return f},get location(){return t(s,A)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),p=e,()=>{s.removeEventListener(l,v),p=null}},createHref:e=>n(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let a=d(y.location,t,n);r&&r(a,t),m=g()+1;let i=u(a,m),l=y.createHref(a);try{A.pushState(i,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}o&&p&&p({action:f,location:y.location,delta:1})},replace:function(t,n){f=e.Replace;let a=d(y.location,t,n);r&&r(a,t),m=g();let s=u(a,m),i=y.createHref(a);A.replaceState(s,"",i),o&&p&&p({action:f,location:y.location,delta:0})},go:e=>A.go(e)};return y}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=U(("string"===typeof t?f(t):t).pathname||"/",n);if(null==a)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=F(a);o=S(s[i],e,r)}return o}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let i=P([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),x(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:E(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let o=y(r.join("/")),i=[];return i.push(...o.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=3,N=2,B=1,j=10,C=-2,k=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=C),t&&(r+=N),n.filter(e=>!k(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?B:j),r)}function S(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,c="/"===s?t:t.slice(s.length)||"/",A=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!A&&l&&n&&!r[r.length-1].route.index&&(A=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!A)return null;Object.assign(a,A.params),o.push({params:a,pathname:P([s,A.pathname]),pathnameBase:T(P([s,A.pathnameBase])),route:u}),"/"!==A.pathnameBase&&(s=P([s,A.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Q(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function O(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=f(e):(a=i({},e),c(!a.pathname||!a.pathname.includes("?"),I("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),I("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),I("#","search","hash",a)));let s,o=""===e||""===a.pathname,l=o?"/":a.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let A=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:D(r),hash:M(a)}}(a,s),u=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return A.pathname.endsWith("/")||!u&&!d||(A.pathname+="/"),A}const P=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const R=["post","put","patch","delete"],q=(new Set(R),["get",...R]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const z=t.createContext(null);const G=t.createContext(null);const V=t.createContext(null);const W=t.createContext(null);const X=t.createContext({outlet:null,matches:[],isDataRoute:!1});const J=t.createContext(null);function Y(){return null!=t.useContext(W)}function Z(){return Y()||c(!1),t.useContext(W).location}function $(e){t.useContext(V).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=Ae(le.UseNavigateStable),n=de(ce.UseNavigateStable),r=t.useRef(!1);$(()=>{r.current=!0});let a=t.useCallback(function(t,a){void 0===a&&(a={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,K({fromRouteId:n},a)))},[e,n]);return a}():function(){Y()||c(!1);let e=t.useContext(z),{basename:n,future:r,navigator:a}=t.useContext(V),{matches:s}=t.useContext(X),{pathname:o}=Z(),i=JSON.stringify(Q(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return $(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void a.go(t);let s=O(t,JSON.parse(i),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:P([n,s.pathname])),(r.replace?a.replace:a.push)(s,r.state,r)},[n,a,i,o,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:a}=t.useContext(V),{matches:s}=t.useContext(X),{pathname:o}=Z(),i=JSON.stringify(Q(s,a.v7_relativeSplatPath));return t.useMemo(()=>O(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function ne(n,r,a,s){Y()||c(!1);let{navigator:o}=t.useContext(V),{matches:i}=t.useContext(X),l=i[i.length-1],A=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=Z();if(r){var p;let e="string"===typeof r?f(r):r;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),d=e}else d=h;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=g(n,{pathname:v});let y=ie(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},A,e.params),pathname:P([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,a,s);return r&&y?t.createElement(W.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},y):y}function re(){let e=function(){var e;let n=t.useContext(J),r=ue(ce.UseRouteError),a=de(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[a]}(),n=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ae=t.createElement(re,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(z);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(X.Provider,{value:n},a)}function ie(e,n,r,a){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let A=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){A=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,a,s)=>{let o,c=!1,d=null,h=null;var f;r&&(o=l&&a.route.id?l[a.route.id]:void 0,d=a.route.errorElement||ae,A&&(u<0&&0===s?(f="route-fallback",!1||he[f]||(he[f]=!0),c=!0,h=null):u===s&&(c=!0,h=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,s+1)),m=()=>{let n;return n=o?d:c?h:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(oe,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function Ae(e){let n=t.useContext(z);return n||c(!1),n}function ue(e){let n=t.useContext(G);return n||c(!1),n}function de(e){let n=function(){let e=t.useContext(X);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){c(!1)}function me(n){let{basename:r="/",children:a=null,location:s,navigationType:o=e.Pop,navigator:i,static:l=!1,future:A}=n;Y()&&c(!1);let u=r.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:u,navigator:i,static:l,future:K({v7_relativeSplatPath:!1},A)}),[u,A,i,l]);"string"===typeof s&&(s=f(s));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=s,x=t.useMemo(()=>{let e=U(h,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:o}},[u,h,p,m,g,v,o]);return null==x?null:t.createElement(V.Provider,{value:d},t.createElement(W.Provider,{children:a,value:x}))}function ge(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise(()=>{});t.Component;function ve(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,ve(e.props.children,s));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,s)),r.push(o)}),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Fe){}new Map;const we=r.startTransition;o.flushSync,r.useId;function Ne(e){let{basename:n,children:r,future:a,window:s}=e,o=t.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),p(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return d("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,i)));let l=o.current,[c,A]=t.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},f=t.useCallback(e=>{u&&we?we(()=>A(e)):A(e)},[A,u]);return t.useLayoutEffect(()=>l.listen(f),[l,f]),t.useEffect(()=>fe(a),[a]),t.createElement(me,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const Be="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=t.forwardRef(function(e,n){let r,{onClick:a,relative:s,reloadDocument:o,replace:i,state:l,target:A,to:u,preventScrollReset:d,viewTransition:f}=e,p=ye(e,be),{basename:m}=t.useContext(V),g=!1;if("string"===typeof u&&je.test(u)&&(r=u,Be))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=U(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Fe){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;Y()||c(!1);let{basename:a,navigator:s}=t.useContext(V),{hash:o,pathname:i,search:l}=te(e,{relative:r}),A=i;return"/"!==a&&(A="/"===i?a:P([a,i])),s.createHref({pathname:A,search:l,hash:o})}(u,{relative:s}),x=function(e,n){let{target:r,replace:a,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===n?{}:n,c=ee(),A=Z(),u=te(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==a?a:h(A)===h(u);c(e,{replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[A,c,u,a,s,r,e,o,i,l])}(u,{replace:i,state:l,target:A,preventScrollReset:d,relative:s,viewTransition:f});return t.createElement("a",xe({},p,{href:r||v,onClick:g||o?a:function(e){a&&a(e),e.defaultPrevented||x(e)},ref:n,target:A}))});var ke,Ee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ee||(Ee={}));function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _e=n(9379);let Fe={data:""},Ue=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Fe,Ie=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Le=/\/\*[^]*?\*\/|  +/g,Qe=/\n+/g,Oe=(e,t)=>{let n="",r="",a="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?Oe(o,s):s+"{"+Oe(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=Oe(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Oe.p?Oe.p(s,o):s+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Pe={},Te=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Te(e[n]);return t}return e},De=(e,t,n,r,a)=>{let s=Te(e),o=Pe[s]||(Pe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Pe[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Ie.exec(e.replace(Le,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Qe," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Qe," ").trim();return r[0]})(e);Pe[o]=Oe(a?{["@keyframes "+o]:t}:t,n?"":"."+o)}let i=n&&Pe.g?Pe.g:null;return n&&(Pe.g=Pe[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Pe[o],t,r,i),o};function Me(e){let t=this||{},n=e.call?e(t.p):e;return De(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Oe(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ue(t.target),t.g,t.o,t.k)}Me.bind({g:1});let He,Re,qe,Ke=Me.bind({k:1});function ze(e,t){let n=this||{};return function(){let r=arguments;function a(s,o){let i=Object.assign({},s),l=i.className||a.className;n.p=Object.assign({theme:Re&&Re()},i),n.o=/ *go\d+/.test(l),i.className=Me.apply(n,r)+(l?" "+l:""),t&&(i.ref=o);let c=e;return e[0]&&(c=i.as||e,delete i.as),qe&&c[0]&&qe(i),He(c,i)}return t?t(a):a}}var Ge,Ve,We,Xe,Je,Ye,Ze,$e,et,tt,nt,rt,at,st,ot,it,lt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,ct=(()=>{let e=0;return()=>(++e).toString()})(),At=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ut="default",dt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return(0,_e.A)((0,_e.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return(0,_e.A)((0,_e.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,_e.A)((0,_e.A)({},e),t.toast):e)});case 2:let{toast:r}=t;return dt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return(0,_e.A)((0,_e.A)({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?(0,_e.A)((0,_e.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,_e.A)((0,_e.A)({},e),{},{toasts:[]}):(0,_e.A)((0,_e.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,_e.A)((0,_e.A)({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return(0,_e.A)((0,_e.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,_e.A)((0,_e.A)({},e),{},{pauseDuration:e.pauseDuration+s}))})}},ht=[],ft={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},pt={},mt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;pt[t]=dt(pt[t]||ft,e),ht.forEach(e=>{let[n,r]=e;n===t&&r(pt[t])})},gt=e=>Object.keys(pt).forEach(t=>mt(e,t)),vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return t=>{mt(t,e)}},xt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,_e.A)((0,_e.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ct()})}(t,e,n);return vt(r.toasterId||(e=>Object.keys(pt).find(t=>pt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},bt=(e,t)=>yt("blank")(e,t);bt.error=yt("error"),bt.success=yt("success"),bt.loading=yt("loading"),bt.custom=yt("custom"),bt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?vt(t)(n):gt(n)},bt.dismissAll=e=>bt.dismiss(void 0,e),bt.remove=(e,t)=>{let n={type:4,toastId:e};t?vt(t)(n):gt(n)},bt.removeAll=e=>bt.remove(void 0,e),bt.promise=(e,t,n)=>{let r=bt.loading(t.loading,(0,_e.A)((0,_e.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?lt(t.success,e):void 0;return a?bt.success(a,(0,_e.A)((0,_e.A)({id:r},n),null==n?void 0:n.success)):bt.dismiss(r),e}).catch(e=>{let a=t.error?lt(t.error,e):void 0;a?bt.error(a,(0,_e.A)((0,_e.A)({id:r},n),null==n?void 0:n.error)):bt.dismiss(r)}),e};var wt=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut,[r,a]=(0,t.useState)(pt[n]||ft),s=(0,t.useRef)(pt[n]);(0,t.useEffect)(()=>(s.current!==pt[n]&&a(pt[n]),ht.push([n,a]),()=>{let e=ht.findIndex(e=>{let[t]=e;return t===n});e>-1&&ht.splice(e,1)}),[n]);let o=r.toasts.map(t=>{var n,r,a;return(0,_e.A)((0,_e.A)((0,_e.A)((0,_e.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||xt[t.type],style:(0,_e.A)((0,_e.A)((0,_e.A)({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return(0,_e.A)((0,_e.A)({},r),{},{toasts:o})}(e,n),s=(0,t.useRef)(new Map).current,o=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let n=setTimeout(()=>{s.delete(e),i({type:4,toastId:e})},t);s.set(e,n)},[]);(0,t.useEffect)(()=>{if(a)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>bt.dismiss(t.id,n),r);t.visible&&bt.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,a,n]);let i=(0,t.useCallback)(vt(n),[n]),l=(0,t.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,t.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),A=(0,t.useCallback)(()=>{a&&i({type:6,time:Date.now()})},[a,i]),u=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:s}=t||{},o=r.filter(t=>(t.position||s)===(e.position||s)&&t.height),i=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<i&&e.visible).length;return o.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:A,calculateOffset:u}}},Nt=Ke(Ge||(Ge=Se(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Bt=Ke(Ve||(Ve=Se(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),jt=Ke(We||(We=Se(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ct=ze("div")(Xe||(Xe=Se(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Nt,Bt,e=>e.secondary||"#fff",jt),kt=Ke(Je||(Je=Se(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Et=ze("div")(Ye||(Ye=Se(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",kt),St=Ke(Ze||(Ze=Se(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),_t=Ke($e||($e=Se(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ft=ze("div")(et||(et=Se(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",St,_t,e=>e.secondary||"#fff"),Ut=ze("div")(tt||(tt=Se(["\n  position: absolute;\n"]))),It=ze("div")(nt||(nt=Se(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Lt=Ke(rt||(rt=Se(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Qt=ze("div")(at||(at=Se(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Lt),Ot=e=>{let{toast:n}=e,{icon:r,type:a,iconTheme:s}=n;return void 0!==r?"string"==typeof r?t.createElement(Qt,null,r):r:"blank"===a?null:t.createElement(It,null,t.createElement(Et,(0,_e.A)({},s)),"loading"!==a&&t.createElement(Ut,null,"error"===a?t.createElement(Ct,(0,_e.A)({},s)):t.createElement(Ft,(0,_e.A)({},s))))},Pt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Tt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Dt=ze("div")(st||(st=Se(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Mt=ze("div")(ot||(ot=Se(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Ht=t.memo(e=>{let{toast:n,position:r,style:a,children:s}=e,o=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=At()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Pt(n),Tt(n)];return{animation:t?"".concat(Ke(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ke(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},i=t.createElement(Ot,{toast:n}),l=t.createElement(Mt,(0,_e.A)({},n.ariaProps),lt(n.message,n));return t.createElement(Dt,{className:n.className,style:(0,_e.A)((0,_e.A)((0,_e.A)({},o),a),n.style)},"function"==typeof s?s({icon:i,message:l}):t.createElement(t.Fragment,null,i,l))});!function(e,t,n,r){Oe.p=t,He=e,Re=n,qe=r}(t.createElement);var Rt=e=>{let{id:n,className:r,style:a,onHeightUpdate:s,children:o}=e,i=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return t.createElement("div",{ref:i,className:r,style:a},o)},qt=Me(it||(it=Se(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Kt=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:s,children:o,toasterId:i,containerStyle:l,containerClassName:c}=e,{toasts:A,handlers:u}=wt(a,i);return t.createElement("div",{"data-rht-toaster":i||"",style:(0,_e.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},A.map(e=>{let a=e.position||r,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,_e.A)((0,_e.A)({left:0,right:0,display:"flex",position:"absolute",transition:At()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(a,u.calculateOffset(e,{reverseOrder:n,gutter:s,defaultPosition:r}));return t.createElement(Rt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?qt:"",style:i},"custom"===e.type?lt(e.message,e):o?o(e):t.createElement(Ht,{toast:e,position:a}))}))},zt=bt;function Gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Vt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wt=["color","size","strokeWidth","absoluteStrokeWidth","children"],Xt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Jt=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{color:s="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:c}=r,A=Gt(r,Wt);return(0,t.createElement)("svg",(0,_e.A)((0,_e.A)({ref:a},Vt),{},{width:o,height:o,stroke:s,strokeWidth:l?24*Number(i)/Number(o):i,className:"lucide lucide-".concat(Xt(e))},A),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(c)?c:[c])||[]])});return r.displayName="".concat(e),r};const Yt=Jt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Zt=Jt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),$t=Jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),en=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tn=Jt("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]),nn=Jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),rn=Jt("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),an=Jt("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),sn=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),on=Jt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ln=Jt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),cn=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),An=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),un=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dn=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),hn=Jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fn=Jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),pn=Jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var mn=n(9088);const gn=Jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),vn=Jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xn=Jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yn=Jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bn=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),wn=Jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nn=Jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bn=Jt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),jn={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info",PROGRESS:"progress",REMINDER:"reminder"},Cn={WRITING:"writing",AI:"ai",PROJECT:"project",SYSTEM:"system",GOAL:"goal",BACKUP:"backup"},kn={enabled:!0,sound:!0,desktop:!0,categories:{[Cn.WRITING]:!0,[Cn.AI]:!0,[Cn.PROJECT]:!0,[Cn.SYSTEM]:!0,[Cn.GOAL]:!0,[Cn.BACKUP]:!0},frequency:{reminders:"daily",progress:"weekly",backup:"daily"}},En=()=>{const{settings:e,updateSettings:n}=(0,mn.A)(),[r,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(0),[i,l]=(0,t.useState)(null),c=(null===e||void 0===e?void 0:e.notifications)||kn,A=(0,t.useCallback)(e=>c.enabled&&c.categories[e],[c]),u=(0,t.useCallback)(e=>{let{type:t=jn.INFO,category:n=Cn.SYSTEM,title:r,message:s,duration:o=5e3,action:i,priority:l="normal"}=e;if(!A(n))return;const u={id:Date.now()+Math.random(),type:t,category:n,title:r,message:s,timestamp:new Date,action:i,priority:l,read:!1};switch(a(e=>[u,...e.slice(0,49)]),t){case jn.SUCCESS:zt.success(s,{duration:o});break;case jn.ERROR:zt.error(s,{duration:o});break;case jn.WARNING:zt(s,{icon:"\u26a0\ufe0f",style:{background:"#fbbf24",color:"#1f2937"}});break;case jn.PROGRESS:zt.success(s,{duration:o,icon:"\ud83d\udcc8"});break;case jn.REMINDER:zt(s,{duration:8e3,icon:"\u23f0",style:{background:"#3b82f6",color:"white"}});break;default:zt(s,{duration:o})}return c.desktop&&"Notification"in window&&("granted"===Notification.permission?new Notification(r,{body:s,icon:"/favicon.ico",tag:n}):"default"===Notification.permission&&Notification.requestPermission()),u.id},[A,c.desktop]),d=(0,t.useCallback)(e=>{a(t=>t.map(t=>t.id===e?(0,_e.A)((0,_e.A)({},t),{},{read:!0}):t))},[]),h=(0,t.useCallback)(()=>{a(e=>e.map(e=>(0,_e.A)((0,_e.A)({},e),{},{read:!0})))},[]),f=(0,t.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),p=(0,t.useCallback)(()=>{a([])},[]),m=(0,t.useCallback)(e=>{if(!A(Cn.WRITING))return;const t=e-s;t>=100&&u({type:jn.PROGRESS,category:Cn.WRITING,title:"Progresso de Escrita",message:"Parab\xe9ns! Voc\xea escreveu mais ".concat(t," palavras!"),duration:4e3});const{currentProject:n}=mn.A.getState();null!==n&&void 0!==n&&n.targetWordCount&&e>=n.targetWordCount&&u({type:jn.SUCCESS,category:Cn.GOAL,title:"Meta Atingida! \ud83c\udf89",message:"Voc\xea atingiu sua meta de ".concat(n.targetWordCount," palavras!"),duration:6e3}),o(e)},[s,A,u]),g=(0,t.useCallback)(e=>{if(!A(Cn.WRITING))return;const t=Date.now();e>36e5&&u({type:jn.REMINDER,category:Cn.WRITING,title:"Hora de uma Pausa",message:"Voc\xea est\xe1 escrevendo h\xe1 mais de 1 hora. Que tal fazer uma pausa?",duration:8e3}),e>72e5&&u({type:jn.SUCCESS,category:Cn.WRITING,title:"Sess\xe3o Incr\xedvel!",message:"Voc\xea est\xe1 escrevendo h\xe1 mais de 2 horas. Dedica\xe7\xe3o impressionante!",duration:5e3}),l(t)},[i,A,u]),v=(0,t.useCallback)(()=>{if(!A(Cn.AI))return;const{settings:e}=mn.A.getState();Object.values((null===e||void 0===e?void 0:e.aiProviders)||{}).some(e=>e.enabled&&e.apiKey)||u({type:jn.WARNING,category:Cn.AI,title:"IA N\xe3o Configurada",message:"Configure um provedor de IA para desbloquear funcionalidades avan\xe7adas!",duration:1e4,action:{label:"Configurar",onClick:()=>window.location.href="/settings"}})},[A,u]),x=(0,t.useCallback)(()=>{if(!A(Cn.BACKUP))return;const e=localStorage.getItem("lastBackup"),t=Date.now();(!e||t-parseInt(e)>864e5)&&u({type:jn.REMINDER,category:Cn.BACKUP,title:"Backup Pendente",message:"Fa\xe7a backup do seu projeto para n\xe3o perder seu trabalho!",duration:8e3,action:{label:"Fazer Backup",onClick:()=>{const{exportProject:e}=mn.A.getState();e()}}})},[A,u]),y=(0,t.useCallback)(()=>{if(!A(Cn.GOAL))return;const{currentProject:e,editorContent:t}=mn.A.getState(),n=t.split(/\s+/).filter(e=>e.length>0).length;if(null!==e&&void 0!==e&&e.dailyGoal&&n<e.dailyGoal){const t=e.dailyGoal-n;u({type:jn.REMINDER,category:Cn.GOAL,title:"Meta Di\xe1ria",message:"Faltam ".concat(t," palavras para atingir sua meta di\xe1ria!"),duration:6e3})}},[A,u]),b=(0,t.useCallback)(e=>{n({notifications:(0,_e.A)((0,_e.A)({},c),e)})},[c,n]),w=(0,t.useCallback)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e&&u({type:jn.SUCCESS,category:Cn.SYSTEM,title:"Notifica\xe7\xf5es Ativadas",message:"Voc\xea receber\xe1 notifica\xe7\xf5es desktop!",duration:3e3})})},[u]);return(0,t.useEffect)(()=>{v();const e=setInterval(x,216e5),t=setInterval(y,36e5);return()=>{clearInterval(e),clearInterval(t)}},[v,x,y]),{notifications:r,addNotification:u,markAsRead:d,markAllAsRead:h,removeNotification:f,clearAllNotifications:p,checkWritingProgress:m,checkWritingSession:g,checkAIConfiguration:v,checkBackupStatus:x,checkDailyGoals:y,updateNotificationSettings:b,requestDesktopPermission:w,notificationSettings:c,isCategoryEnabled:A}};var Sn=n(579);const _n=()=>{const{notifications:e,markAsRead:n,markAllAsRead:r,removeNotification:a,clearAllNotifications:s,notificationSettings:o,updateNotificationSettings:i,requestDesktopPermission:l}=En(),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)("all"),h=e.filter(e=>"all"===u||("unread"===u?!e.read:e.category===u)),f=e.filter(e=>!e.read).length,p=e=>{switch(e){case jn.SUCCESS:return(0,Sn.jsx)(gn,{className:"h-5 w-5 text-green-500"});case jn.ERROR:return(0,Sn.jsx)(vn,{className:"h-5 w-5 text-red-500"});case jn.WARNING:return(0,Sn.jsx)(vn,{className:"h-5 w-5 text-yellow-500"});case jn.PROGRESS:return(0,Sn.jsx)(gn,{className:"h-5 w-5 text-blue-500"});case jn.REMINDER:return(0,Sn.jsx)(xn,{className:"h-5 w-5 text-purple-500"});default:return(0,Sn.jsx)(yn,{className:"h-5 w-5 text-gray-500"})}},m=e=>{switch(e){case jn.SUCCESS:return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case jn.ERROR:return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case jn.WARNING:return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case jn.PROGRESS:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case jn.REMINDER:return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700"}},g=e=>{const t=new Date-new Date(e),n=Math.floor(t/6e4),r=Math.floor(t/36e5),a=Math.floor(t/864e5);return n<1?"Agora":n<60?"".concat(n,"m atr\xe1s"):r<24?"".concat(r,"h atr\xe1s"):"".concat(a,"d atr\xe1s")};return(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsxs)("button",{onClick:()=>A(!c),className:"relative p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",title:"Notifica\xe7\xf5es",children:[(0,Sn.jsx)(bn,{className:"h-5 w-5"}),f>0&&(0,Sn.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:f>99?"99+":f})]}),c&&(0,Sn.jsxs)("div",{className:"absolute right-0 top-12 w-80 sm:w-96 max-h-80 sm:max-h-96 bg-card border border-border rounded-lg shadow-lg z-50",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-border",children:[(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Notifica\xe7\xf5es"}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,Sn.jsx)("button",{onClick:l,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Configurar notifica\xe7\xf5es desktop",children:(0,Sn.jsx)(sn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:r,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Marcar todas como lidas",children:(0,Sn.jsx)(wn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:s,className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Limpar todas",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>A(!1),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,Sn.jsx)(un,{className:"h-4 w-4"})})]})]}),(0,Sn.jsx)("div",{className:"p-2 sm:p-3 border-b border-border",children:(0,Sn.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>d("all"),className:"px-2 sm:px-3 py-1 text-xs rounded-full transition-colors ".concat("all"===u?"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-100":"bg-muted text-muted-foreground hover:bg-accent"),children:["Todas (",e.length,")"]}),(0,Sn.jsxs)("button",{onClick:()=>d("unread"),className:"px-2 sm:px-3 py-1 text-xs rounded-full transition-colors ".concat("unread"===u?"bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-100":"bg-muted text-muted-foreground hover:bg-accent"),children:["N\xe3o lidas (",f,")"]})]})}),(0,Sn.jsx)("div",{className:"max-h-48 sm:max-h-64 overflow-y-auto",children:0===h.length?(0,Sn.jsxs)("div",{className:"p-4 sm:p-6 text-center text-muted-foreground",children:[(0,Sn.jsx)(bn,{className:"h-6 w-6 sm:h-8 sm:w-8 mx-auto mb-2 opacity-50"}),(0,Sn.jsx)("p",{className:"text-xs sm:text-sm",children:"Nenhuma notifica\xe7\xe3o"})]}):(0,Sn.jsx)("div",{className:"space-y-1 p-1 sm:p-2",children:h.map(e=>(0,Sn.jsx)("div",{className:"p-2 sm:p-3 rounded-lg border transition-all ".concat(m(e.type)," ").concat(e.read?"":"ring-2 ring-primary-200 dark:ring-primary-800"),children:(0,Sn.jsxs)("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[p(e.type),(0,Sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Sn.jsx)("h4",{className:"text-xs sm:text-sm font-medium text-foreground",children:e.title}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,Sn.jsx)("span",{className:"text-xs text-muted-foreground",children:g(e.timestamp)}),(0,Sn.jsx)("button",{onClick:()=>a(e.id),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,Sn.jsx)(un,{className:"h-3 w-3"})})]})]}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.message}),e.action&&(0,Sn.jsx)("button",{onClick:e.action.onClick,className:"mt-2 text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium",children:e.action.label})]}),!e.read&&(0,Sn.jsx)("button",{onClick:()=>n(e.id),className:"p-1 rounded text-muted-foreground hover:text-foreground hover:bg-accent",title:"Marcar como lida",children:(0,Sn.jsx)(Bn,{className:"h-3 w-3"})})]})},e.id))})}),e.length>0&&(0,Sn.jsx)("div",{className:"p-3 border-t border-border bg-muted/50",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,Sn.jsxs)("span",{children:[h.length," de ",e.length," notifica\xe7\xf5es"]}),(0,Sn.jsx)("button",{onClick:s,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:"Limpar todas"})]})})]}),c&&(0,Sn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>A(!1)})]})},Fn=Jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Un=Jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),In=Jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ln=Jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Qn=Jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),On=()=>{const{projects:e,characters:n,worldData:r,loreData:a,narrativeData:s,aiConversations:o}=(0,mn.A)(),[i,l]=(0,t.useState)(!1),[c,A]=(0,t.useState)(""),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)("all"),p=(0,t.useRef)(null),m=[{id:"all",label:"Tudo",icon:Fn},{id:"projects",label:"Projetos",icon:nn},{id:"characters",label:"Personagens",icon:en},{id:"locations",label:"Locais",icon:Un},{id:"lore",label:"Lore",icon:Yt},{id:"conversations",label:"Conversas AI",icon:In}];(0,t.useEffect)(()=>{var e;i&&(null===(e=p.current)||void 0===e||e.focus())},[i]),(0,t.useEffect)(()=>{const e=e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),l(!0)),"Escape"===e.key&&l(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,t.useEffect)(()=>{if(!c.trim())return void d([]);const t=[],s=c.toLowerCase();"all"!==h&&"projects"!==h||e.forEach(e=>{var n,r;(e.name.toLowerCase().includes(s)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(s)||null!==(r=e.genre)&&void 0!==r&&r.toLowerCase().includes(s))&&t.push({type:"project",id:e.id,title:e.name,subtitle:e.genre||"Sem g\xeanero",description:e.description||"Sem descri\xe7\xe3o",icon:nn,href:"/projects"})}),"all"!==h&&"characters"!==h||n.forEach(e=>{var n,r;(e.name.toLowerCase().includes(s)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(s)||null!==(r=e.role)&&void 0!==r&&r.toLowerCase().includes(s))&&t.push({type:"character",id:e.id,title:e.name,subtitle:e.role||"Sem papel definido",description:e.description||"Sem descri\xe7\xe3o",icon:en,href:"/character-generator"})}),"all"!==h&&"locations"!==h||r.locations.forEach(e=>{var n;(e.name.toLowerCase().includes(s)||null!==(n=e.description)&&void 0!==n&&n.toLowerCase().includes(s))&&t.push({type:"location",id:e.id,title:e.name,subtitle:e.type||"Local",description:e.description||"Sem descri\xe7\xe3o",icon:Un,href:"/world-builder"})}),"all"!==h&&"lore"!==h||Object.entries(a).forEach(e=>{let[n,r]=e;r.forEach(e=>{var r,a;(null!==(r=e.name)&&void 0!==r&&r.toLowerCase().includes(s)||null!==(a=e.description)&&void 0!==a&&a.toLowerCase().includes(s))&&t.push({type:"lore",id:e.id,title:e.name||"Item de Lore",subtitle:n,description:e.description||"Sem descri\xe7\xe3o",icon:Yt,href:"/lore-generator"})})}),"all"!==h&&"conversations"!==h||o.forEach(e=>{var n,r,a,o,i,l;(null!==(n=e.title)&&void 0!==n&&n.toLowerCase().includes(s)||null!==(r=e.messages)&&void 0!==r&&r.some(e=>e.content.toLowerCase().includes(s)))&&t.push({type:"conversation",id:e.id,title:e.title||"Conversa AI",subtitle:"".concat((null===(a=e.messages)||void 0===a?void 0:a.length)||0," mensagens"),description:(null===(o=e.messages)||void 0===o||null===(i=o[0])||void 0===i||null===(l=i.content)||void 0===l?void 0:l.substring(0,100))||"Sem conte\xfado",icon:In,href:"/ai-assistant"})}),d(t.slice(0,10))},[c,h,e,n,r,a,o]);const g=e=>{l(!1),A("")};return(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-2 sm:px-3 py-2 bg-muted rounded-lg text-muted-foreground hover:text-foreground transition-colors",children:[(0,Sn.jsx)(Fn,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:block",children:"Buscar..."}),(0,Sn.jsx)("kbd",{className:"hidden lg:inline-flex items-center px-2 py-1 text-xs bg-background border border-border rounded",children:"Ctrl+K"})]}),i&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-start justify-center pt-4 sm:pt-20 px-4",children:(0,Sn.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] sm:max-h-[80vh] overflow-hidden",children:[(0,Sn.jsx)("div",{className:"p-3 sm:p-4 border-b border-border",children:(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,Sn.jsx)(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground flex-shrink-0"}),(0,Sn.jsx)("input",{ref:p,type:"text",value:c,onChange:e=>A(e.target.value),placeholder:"Buscar em projetos, personagens, locais, lore...",className:"flex-1 bg-transparent text-foreground placeholder-muted-foreground outline-none text-sm sm:text-base"}),(0,Sn.jsx)("button",{onClick:()=>l(!1),className:"p-1 text-muted-foreground hover:text-foreground",children:(0,Sn.jsx)(un,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),(0,Sn.jsx)("div",{className:"px-3 sm:px-4 py-2 border-b border-border",children:(0,Sn.jsx)("div",{className:"flex space-x-1 sm:space-x-2 overflow-x-auto pb-1",children:m.map(e=>{const t=e.icon;return(0,Sn.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center space-x-1 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm whitespace-nowrap transition-colors flex-shrink-0 ".concat(h===e.id?"bg-primary-600 text-white":"bg-muted text-muted-foreground hover:text-foreground"),children:[(0,Sn.jsx)(t,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:e.label})]},e.id)})})}),(0,Sn.jsx)("div",{className:"overflow-y-auto max-h-64 sm:max-h-96",children:c&&0===u.length?(0,Sn.jsxs)("div",{className:"p-6 sm:p-8 text-center",children:[(0,Sn.jsx)(Fn,{className:"h-8 w-8 sm:h-12 sm:w-12 mx-auto mb-3 sm:mb-4 text-muted-foreground"}),(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-medium text-foreground mb-2",children:"Nenhum resultado encontrado"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tente usar termos diferentes ou verificar a ortografia"})]}):c?(0,Sn.jsx)("div",{className:"divide-y divide-border",children:u.map((e,t)=>{const n=e.icon;return(0,Sn.jsxs)(Ce,{to:e.href,onClick:g,className:"flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 hover:bg-accent transition-colors",children:[(0,Sn.jsx)("div",{className:"p-1.5 sm:p-2 rounded-lg bg-muted flex-shrink-0",children:(0,Sn.jsx)(n,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})}),(0,Sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Sn.jsx)("h4",{className:"font-medium text-foreground truncate text-sm sm:text-base",children:e.title}),(0,Sn.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e.subtitle}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground truncate hidden sm:block",children:e.description})]}),(0,Sn.jsx)(Ln,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"})]},"".concat(e.type,"-").concat(e.id,"-").concat(t))})}):(0,Sn.jsxs)("div",{className:"p-6 sm:p-8 text-center",children:[(0,Sn.jsx)(Qn,{className:"h-8 w-8 sm:h-12 sm:w-12 mx-auto mb-3 sm:mb-4 text-muted-foreground"}),(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-medium text-foreground mb-2",children:"Busca Global"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Encontre rapidamente qualquer conte\xfado em sua aplica\xe7\xe3o"}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs sm:text-sm",children:[(0,Sn.jsxs)("div",{className:"text-left",children:[(0,Sn.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Dicas de busca:"}),(0,Sn.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 Use Ctrl+K para abrir rapidamente"}),(0,Sn.jsx)("li",{children:"\u2022 Filtre por categoria"}),(0,Sn.jsx)("li",{children:"\u2022 Busque por nome ou descri\xe7\xe3o"})]})]}),(0,Sn.jsxs)("div",{className:"text-left",children:[(0,Sn.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Categorias:"}),(0,Sn.jsxs)("ul",{className:"text-muted-foreground space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 Projetos e cap\xedtulos"}),(0,Sn.jsx)("li",{children:"\u2022 Personagens"}),(0,Sn.jsx)("li",{children:"\u2022 Locais e mundo"}),(0,Sn.jsx)("li",{children:"\u2022 Lore e hist\xf3ria"})]})]})]})]})}),(0,Sn.jsx)("div",{className:"p-3 sm:p-4 border-t border-border bg-muted/50",children:(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-muted-foreground space-y-2 sm:space-y-0",children:[(0,Sn.jsxs)("span",{children:[u.length," resultado",1!==u.length?"s":""]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 text-xs",children:[(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"\u2191\u2193 para navegar"}),(0,Sn.jsx)("span",{children:"Enter para selecionar"}),(0,Sn.jsx)("span",{children:"Esc para fechar"})]})]})})]})})]})},Pn=Jt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Tn=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Dn=Jt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Mn=Jt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Hn=Jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Rn=Jt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),qn={openai:{name:"OpenAI",baseUrl:"https://api.openai.com/v1",models:{"gpt-4o":{name:"GPT-4o",maxTokens:128e3,cost:"Alto"},"gpt-4o-mini":{name:"GPT-4o Mini",maxTokens:128e3,cost:"M\xe9dio"},"gpt-4-turbo":{name:"GPT-4 Turbo",maxTokens:128e3,cost:"Alto"},"gpt-3.5-turbo":{name:"GPT-3.5 Turbo",maxTokens:16385,cost:"Baixo"}},keyFormat:"sk-...",website:"https://platform.openai.com",description:"Modelos GPT mais populares e vers\xe1teis",setupInstructions:["Acesse https://platform.openai.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys no menu",'Clique em "Create new secret key"',"Cole a chave aqui"]},anthropic:{name:"Anthropic",baseUrl:"https://api.anthropic.com",models:{"claude-3-5-sonnet-20241022":{name:"Claude 3.5 Sonnet",maxTokens:2e5,cost:"M\xe9dio"},"claude-3-opus-20240229":{name:"Claude 3 Opus",maxTokens:2e5,cost:"Alto"},"claude-3-sonnet-20240229":{name:"Claude 3 Sonnet",maxTokens:2e5,cost:"M\xe9dio"},"claude-3-haiku-20240307":{name:"Claude 3 Haiku",maxTokens:2e5,cost:"Baixo"}},keyFormat:"sk-ant-...",website:"https://console.anthropic.com",description:"Excelente para textos longos e an\xe1lise detalhada",setupInstructions:["Acesse https://console.anthropic.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys",'Clique em "Create Key"',"Cole a chave aqui"]},google:{name:"Google AI",baseUrl:"https://generativelanguage.googleapis.com/v1beta",models:{"gemini-1.5-pro":{name:"Gemini 1.5 Pro",maxTokens:2e6,cost:"M\xe9dio"},"gemini-1.5-flash":{name:"Gemini 1.5 Flash",maxTokens:1e6,cost:"Baixo"}},keyFormat:"AI...",website:"https://ai.google.dev",description:"Modelos Gemini com capacidades multimodais",setupInstructions:["Acesse https://ai.google.dev",'Clique em "Get API key in Google AI Studio"',"Fa\xe7a login com sua conta Google",'Clique em "Create API Key"',"Cole a chave aqui"]},groq:{name:"Groq",baseUrl:"https://api.groq.com/openai/v1",models:{"llama3-70b-8192":{name:"Llama 3 70B",id:"llama3-70b-8192",maxTokens:8192,cost:"Gratuito"},"llama3-8b-8192":{name:"Llama 3 8B",id:"llama3-8b-8192",maxTokens:8192,cost:"Gratuito"},"mixtral-8x7b-32768":{name:"Mixtral 8x7B",id:"mixtral-8x7b-32768",maxTokens:32768,cost:"Gratuito"},"gemma-7b-it":{name:"Gemma 7B",id:"gemma-7b-it",maxTokens:8192,cost:"Gratuito"}},keyFormat:"gsk_...",website:"https://console.groq.com",description:"Velocidade ultra-r\xe1pida com modelos gratuitos",setupInstructions:["Acesse https://console.groq.com","Fa\xe7a login ou crie uma conta","V\xe1 para API Keys",'Clique em "Create API Key"',"Cole a chave aqui"]}};class Kn{constructor(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.provider=e,this.apiKey=t,this.settings=(0,_e.A)({temperature:.7,maxTokens:2e3},r),this.baseUrl=null===(n=qn[e])||void 0===n?void 0:n.baseUrl}async generateText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.apiKey)throw new Error("API Key n\xe3o configurada");const n=(0,_e.A)((0,_e.A)({},this.settings),t);try{let t;switch(this.provider){case"openai":case"groq":t=await this.callOpenAICompatible(e,n);break;case"anthropic":t=await this.callAnthropic(e,n);break;case"google":t=await this.callGoogle(e,n);break;default:throw new Error("Provedor ".concat(this.provider," n\xe3o suportado"))}return t}catch(r){throw console.error("Erro ao chamar ".concat(this.provider,":"),r),r}}async callOpenAICompatible(e,t){var n;const r="groq"===this.provider&&(null===(n=qn.groq.models[t.model])||void 0===n?void 0:n.id)||t.model,a=await fetch("".concat(this.baseUrl,"/chat/completions"),{method:"POST",headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:[{role:"user",content:e}],temperature:t.temperature,max_tokens:t.maxTokens})});if(!a.ok){var s;const e=await a.json();throw new Error((null===(s=e.error)||void 0===s?void 0:s.message)||"Erro HTTP: ".concat(a.status))}return(await a.json()).choices[0].message.content}async callAnthropic(e,t){const n=await fetch("".concat(this.baseUrl,"/v1/messages"),{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:t.model||"claude-3-5-sonnet-20241022",max_tokens:t.maxTokens,temperature:t.temperature,messages:[{role:"user",content:e}]})});if(!n.ok){var r;const e=await n.json();throw new Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Erro HTTP: ".concat(n.status))}return(await n.json()).content[0].text}async callGoogle(e,t){const n=await fetch("".concat(this.baseUrl,"/models/").concat(t.model||"gemini-1.5-flash",":generateContent?key=").concat(this.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}],generationConfig:{temperature:t.temperature,maxOutputTokens:t.maxTokens}})});if(!n.ok){var r;const e=await n.json();throw new Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Erro HTTP: ".concat(n.status))}return(await n.json()).candidates[0].content.parts[0].text}static async testConnection(e,t,n){try{const r=new Kn(e,t),a='Responda apenas "OK" se voc\xea conseguir me ouvir.';return{success:!0,response:(await r.generateText(a,{model:n,maxTokens:10,temperature:0})).trim()}}catch(r){return{success:!1,error:r.message}}}}const zn={character:{basic:'Crie um personagem para uma light novel usando o CONTEXTO DO MUNDO fornecido. O personagem deve ser coeso com o universo descrito.\n\nConsidere as seguintes caracter\xedsticas:\n- Nome \xfanico e interessante, apropriado para a cultura local (se aplic\xe1vel).\n- Idade e apar\xeancia f\xedsica detalhada, influenciada pela etnia ou povo da regi\xe3o de origem.\n- Personalidade complexa com virtudes e defeitos.\n- Hist\xf3rico pessoal interessante, conectado \xe0 hist\xf3ria ou eventos do mundo.\n- Objetivos e motiva\xe7\xf5es claras.\n- Habilidades ou talentos especiais, consistentes com os sistemas de magia ou tecnologia do mundo.\n\nFormato da resposta em JSON:\n{\n  "name": "",\n  "age": "",\n  "appearance": "",\n  "personality": "",\n  "background": "",\n  "goals": "",\n  "abilities": ""\n}',detailed:"Crie um personagem profundamente desenvolvido para uma light novel, usando o CONTEXTO DO MUNDO fornecido:\n\nINFORMA\xc7\xd5ES B\xc1SICAS:\n- Nome completo (com significado)\n- Idade, g\xeanero, altura, peso\n- Apar\xeancia detalhada (cabelos, olhos, estilo)\n\nPERSONALIDADE:\n- Tra\xe7os principais de personalidade\n- Virtudes e defeitos\n- Medos e inseguran\xe7as\n- Forma de falar e maneirismos\n\nHIST\xd3RIA:\n- Origem e fam\xedlia\n- Eventos importantes do passado\n- Relacionamentos significativos\n- Traumas ou experi\xeancias marcantes\n\nHABILIDADES E PAPEL:\n- Talentos naturais\n- Habilidades aprendidas\n- Papel na hist\xf3ria (protagonista, antagonista, etc.)\n- Arco de desenvolvimento\n\nFormate como JSON estruturado."},world:{location:"Crie um local interessante para uma light novel:\n- Nome \xfanico e evocativo\n- Tipo de local (cidade, floresta, castelo, etc.)\n- Descri\xe7\xe3o visual detalhada\n- Hist\xf3ria e significado cultural\n- Habitantes t\xedpicos\n- Pontos de interesse importantes\n- Atmosfera e sensa\xe7\xf5es\n\nFormate como JSON estruturado.",culture:"Desenvolva uma cultura/civiliza\xe7\xe3o para uma light novel:\n- Nome da cultura/povo\n- Origem e hist\xf3ria\n- Valores e cren\xe7as principais\n- Estrutura social e pol\xedtica\n- Tradi\xe7\xf5es e costumes \xfanicos\n- Arquitetura e arte t\xedpica\n- Rela\xe7\xe3o com outras culturas\n- Conflitos internos ou externos\n\nFormate como JSON estruturado."},story:{plot:"Gere um ponto de enredo interessante:\n- Evento ou situa\xe7\xe3o principal\n- Personagens envolvidos\n- Conflito ou tens\xe3o\n- Poss\xedveis consequ\xeancias\n- Como se conecta com a hist\xf3ria maior\n\nFormate como JSON estruturado.",dialogue:"Crie um di\xe1logo natural entre personagens:\n- Considere as personalidades dos personagens\n- Inclua subtext e emo\xe7\xf5es\n- Mantenha o tom apropriado\n- Avance a hist\xf3ria ou desenvolva personagens\n\nFormate como roteiro com nomes dos personagens."},lore:{legend:'Crie uma lenda para uma light novel baseado no CONTEXTO DO MUNDO fornecido. A lenda deve ser coesa com o universo.\n\nResponda APENAS com o c\xf3digo JSON, seguindo esta estrutura exata:\n{\n  "name": "T\xedtulo da Lenda",\n  "description": "A hist\xf3ria completa da lenda.",\n  "origin": "Onde ou como a lenda surgiu.",\n  "significance": "Qual a import\xe2ncia ou li\xe7\xe3o moral da lenda.",\n  "characters": "Personagens m\xedticos envolvidos.",\n  "locations": "Locais onde a lenda acontece."\n}',artifact:'Desenvolva um artefato para uma light novel, baseado no CONTEXTO DO MUNDO.\n\nResponda APENAS com o c\xf3digo JSON, seguindo esta estrutura exata:\n{\n  "name": "Nome do Artefato",\n  "description": "Apar\xeancia e hist\xf3ria do artefato.",\n  "origin": "Quem o criou e como.",\n  "significance": "Qual sua import\xe2ncia para a hist\xf3ria.",\n  "effects": "Quais seus poderes, habilidades e custos/limita\xe7\xf5es."\n}'}},Gn=(e,t)=>{var n;const r=null===(n=qn[e])||void 0===n?void 0:n.models;if(!r)return null;const a=Object.keys(r);switch(t){case"creative_writing":return"openai"===e?"gpt-4o":"anthropic"===e?"claude-3-5-sonnet-20241022":"google"===e?"gemini-1.5-pro":"llama3-70b-8192";case"fast_generation":return"openai"===e?"gpt-3.5-turbo":"anthropic"===e?"claude-3-haiku-20240307":"google"===e?"gemini-1.5-flash":"llama3-8b-8192";case"long_context":return"anthropic"===e?"claude-3-5-sonnet-20241022":"google"===e?"gemini-1.5-pro":"groq"===e?"mixtral-8x7b-32768":"gpt-4-turbo"}return a[0]},Vn=(e,n)=>{const[r,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),i=(0,t.useCallback)(async(t,r)=>{var a;if(!e)return bt.error("Configure um provedor de IA nas configura\xe7\xf5es"),null;if(null===n||void 0===n||null===(a=n.aiProviders)||void 0===a||!a[e])return bt.error("Provedor de IA n\xe3o configurado"),null;try{var s,o;const a=n.aiProviders[e];if(!a.apiKey)return bt.error("API Key n\xe3o configurada"),null;const i=new Kn(e,a.apiKey,{model:a.defaultModel,temperature:a.temperature,maxTokens:a.maxTokens}),l=Gn(e,"creative_writing");let c=t;r.worldName&&(c='Para o mundo "'.concat(r.worldName,'":\n\n').concat(c)),(null===(s=r.existingElements)||void 0===s?void 0:s.length)>0&&(c+="\n\nElementos existentes para refer\xeancia:\n".concat(r.existingElements.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n"))),(null===(o=r.characters)||void 0===o?void 0:o.length)>0&&(c+="\n\nPersonagens relacionados:\n".concat(r.characters.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n"))),c+="\n\nREGRAS DE COER\xcaNCIA IMPORTANTES:\n- Mantenha consist\xeancia com o g\xeanero e estilo do mundo\n- Evite elementos anacr\xf4nicos (ex: tecnologia moderna em mundo medieval)\n- Use nomes e refer\xeancias culturais apropriadas\n- Mantenha a atmosfera e tom estabelecidos\n- Conecte com elementos existentes quando relevante";return await i.generateText(c,{model:l})}catch(i){return console.error("Erro na gera\xe7\xe3o com contexto:",i),bt.error("Erro ao gerar conte\xfado: ".concat(i.message)),null}},[e,n]),l=(0,t.useCallback)(async(e,t)=>{o(!0);try{const t=await i("Analise o contexto deste projeto de light novel e forne\xe7a um resumo conciso dos elementos existentes e sugest\xf5es para manter coer\xeancia.",{worldName:null===e||void 0===e?void 0:e.name,genre:null===e||void 0===e?void 0:e.genre,techLevel:null===e||void 0===e?void 0:e.techLevel,totalElements:Object.keys(e||{}).filter(t=>Array.isArray(e[t])&&e[t].length>0).length}),r='Com base no contexto do projeto, forne\xe7a insights estruturados em JSON:\n\n{\n  "qualityTips": [\n    "Dica espec\xedfica sobre qualidade do projeto",\n    "Sugest\xe3o para melhorar coer\xeancia"\n  ],\n  "volumeInsights": [\n    "Insight sobre estrutura narrativa",\n    "Sugest\xe3o para desenvolvimento de volumes"\n  ],\n  "developmentSuggestions": [\n    "Sugest\xe3o de desenvolvimento espec\xedfica",\n    "Oportunidade narrativa identificada"\n  ],\n  "coherenceScore": "8",\n  "priorityAreas": [\n    "\xc1rea que precisa de mais desenvolvimento",\n    "Elemento que pode ser expandido"\n  ]\n}\n\nMantenha as dicas pr\xe1ticas e espec\xedficas para o contexto do projeto.',a=await i(r,{worldName:null===e||void 0===e?void 0:e.name,genre:null===e||void 0===e?void 0:e.genre,techLevel:null===e||void 0===e?void 0:e.techLevel});let s=null;try{if(a){const e=a.trim(),t=e.indexOf("{"),n=e.lastIndexOf("}");if(-1!==t&&-1!==n){const r=e.substring(t,n+1);s=JSON.parse(r)}}}catch(n){console.error("Erro ao parsear insights:",n),s={qualityTips:["Continue desenvolvendo os elementos do mundo","Mantenha consist\xeancia entre os elementos"],volumeInsights:["Desenvolva a estrutura narrativa gradualmente","Explore as conex\xf5es entre elementos"],developmentSuggestions:["Expanda elementos que precisam de mais detalhes","Crie conex\xf5es entre elementos existentes"],coherenceScore:"7",priorityAreas:["Desenvolvimento de personagens","Expans\xe3o do mundo"]}}return{contextAnalysis:t,insights:s}}catch(r){return console.error("Erro na an\xe1lise do projeto:",r),bt.error("Erro ao analisar o projeto"),null}finally{o(!1)}},[i]),c=(0,t.useCallback)(async(e,t,n)=>{try{const r={};({location:["locations","regions","landmarks"],people:["peoples","religions","traditions"],region:["locations","peoples","resources"],landmark:["locations","regions","religions"],resource:["locations","regions","economies"],language:["peoples","regions","traditions"],religion:["peoples","regions","traditions"],tradition:["peoples","religions","cultures"],technology:["techLevel","economies","governments"],government:["peoples","regions","economies"],economy:["resources","governments","technologies"],event:["peoples","regions","governments"],magicSystem:["religions","traditions","peoples"]}[e]||[]).forEach(e=>{n[e]&&Array.isArray(n[e])&&(r[e]=n[e].map(e=>e.name).filter(Boolean))});const a={worldName:null===n||void 0===n?void 0:n.name,genre:null===n||void 0===n?void 0:n.genre,techLevel:null===n||void 0===n?void 0:n.techLevel,existingElements:Object.entries(r).filter(e=>{let[t,n]=e;return n.length>0}).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n.join(", "))}).join("; ")};return"Gere um ".concat(t," coerente com o contexto do mundo:\n\nCONTEXTO:\n- Mundo: ").concat(a.worldName||"Mundo n\xe3o definido","\n- G\xeanero: ").concat(a.genre||"Fantasia","\n- N\xedvel Tecnol\xf3gico: ").concat(a.techLevel||"Medieval","\n- Elementos Existentes: ").concat(a.existingElements||"Nenhum","\n\nREGRAS DE COER\xcaNCIA:\n1. Mantenha consist\xeancia com o g\xeanero e n\xedvel tecnol\xf3gico\n2. Evite elementos que n\xe3o fazem sentido no contexto\n3. Considere as conex\xf5es com elementos existentes\n4. Mantenha a atmosfera e estilo do mundo estabelecido\n\nGere um ").concat(t," que seja \xfanico e interessante, mas coerente com este contexto.")}catch(r){return console.error("Erro ao gerar prompt contextualizado:",r),null}},[]),A=(0,t.useCallback)(async(e,t)=>{try{var n,r;const a="Com base no projeto atual, forne\xe7a 3-5 dicas espec\xedficas de qualidade para melhorar a light novel:\n\nCONTEXTO:\n- Mundo: ".concat((null===e||void 0===e?void 0:e.name)||"N\xe3o definido","\n- G\xeanero: ").concat((null===e||void 0===e?void 0:e.genre)||"Fantasia","\n- Volumes: ").concat((null===t||void 0===t||null===(n=t.volumes)||void 0===n?void 0:n.length)||0,"\n- Cap\xedtulos: ").concat((null===t||void 0===t||null===(r=t.chapters)||void 0===r?void 0:r.length)||0,"\n\nForne\xe7a dicas pr\xe1ticas e espec\xedficas que possam ser aplicadas imediatamente.");return await i(a)}catch(a){return console.error("Erro ao obter dicas de qualidade:",a),null}},[i]),u=(0,t.useCallback)(async(e,t)=>{try{const t="Analise o projeto atual e forne\xe7a insights espec\xedficos para o desenvolvimento de volumes e cap\xedtulos:\n\nCONTEXTO:\n- Mundo: ".concat((null===e||void 0===e?void 0:e.name)||"N\xe3o definido","\n- G\xeanero: ").concat((null===e||void 0===e?void 0:e.genre)||"Fantasia","\n- Elementos do Mundo: ").concat(Object.keys(e||{}).filter(t=>Array.isArray(e[t])&&e[t].length>0).length," tipos\n\nForne\xe7a insights sobre:\n1. Estrutura narrativa recomendada\n2. Elementos que podem ser explorados\n3. Pontos de tens\xe3o e desenvolvimento\n4. Oportunidades narrativas");return await i(t)}catch(n){return console.error("Erro ao obter insights para volumes:",n),null}},[i]),d=(0,t.useCallback)(async(e,t,n)=>{const r={worldName:(null===t||void 0===t?void 0:t.name)||"Mundo n\xe3o definido",genre:(null===t||void 0===t?void 0:t.genre)||"Fantasia",techLevel:(null===t||void 0===t?void 0:t.techLevel)||"Medieval",locations:(null===t||void 0===t?void 0:t.locations)||[],peoples:(null===t||void 0===t?void 0:t.peoples)||[],regions:(null===t||void 0===t?void 0:t.regions)||[],landmarks:(null===t||void 0===t?void 0:t.landmarks)||[],resources:(null===t||void 0===t?void 0:t.resources)||[],languages:(null===t||void 0===t?void 0:t.languages)||[],religions:(null===t||void 0===t?void 0:t.religions)||[],traditions:(null===t||void 0===t?void 0:t.traditions)||[],technologies:(null===t||void 0===t?void 0:t.technologies)||[],governments:(null===t||void 0===t?void 0:t.governments)||[],economies:(null===t||void 0===t?void 0:t.economies)||[],events:(null===t||void 0===t?void 0:t.events)||[],magicSystems:(null===t||void 0===t?void 0:t.magicSystems)||[],volumes:(null===n||void 0===n?void 0:n.volumes)||[],chapters:(null===n||void 0===n?void 0:n.chapters)||[],characters:(null===n||void 0===n?void 0:n.characters)||[]};let a="";switch(e){case"economy":a='Crie um sistema econ\xf4mico detalhado e coerente para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- G\xeanero: ').concat(r.genre,"\n- N\xedvel Tecnol\xf3gico: ").concat(r.techLevel,"\n- Recursos Dispon\xedveis: ").concat(r.resources.map(e=>e.name).join(", ")||"Nenhum definido","\n- Regi\xf5es: ").concat(r.regions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Governos: ").concat(r.governments.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREQUISITOS:\n1. Sistema monet\xe1rio apropriado ao n\xedvel tecnol\xf3gico\n2. Principais setores econ\xf4micos baseados nos recursos\n3. Rotas comerciais entre regi\xf5es existentes\n4. Classes sociais e distribui\xe7\xe3o de riqueza\n5. Impostos e regulamenta\xe7\xf5es\n6. Guildas ou organiza\xe7\xf5es comerciais\n7. Problemas econ\xf4micos atuais\n8. Oportunidades narrativas econ\xf4micas\n\nFormate como JSON com estrutura clara e detalhada.");break;case"culture":a='Desenvolva uma cultura rica e detalhada para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- G\xeanero: ').concat(r.genre,"\n- Povos: ").concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n- Religi\xf5es: ").concat(r.religions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Tradi\xe7\xf5es: ").concat(r.traditions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Idiomas: ").concat(r.languages.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREQUISITOS:\n1. Valores culturais fundamentais\n2. Estrutura familiar e rela\xe7\xf5es sociais\n3. Arte, m\xfasica e literatura\n4. Culin\xe1ria e gastronomia\n5. Vestimentas e moda\n6. Festivais e celebra\xe7\xf5es\n7. Tabus e normas sociais\n8. Educa\xe7\xe3o e conhecimento\n9. Ritos de passagem\n10. Entretenimento e lazer\n\nConecte com elementos existentes e crie oportunidades narrativas.");break;case"politics":a='Crie um sistema pol\xedtico complexo para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- Governos: ').concat(r.governments.map(e=>e.name).join(", ")||"Nenhum definido","\n- Regi\xf5es: ").concat(r.regions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Povos: ").concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n- Eventos Hist\xf3ricos: ").concat(r.events.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREQUISITOS:\n1. Estrutura de poder e hierarquia\n2. Fac\xe7\xf5es pol\xedticas e seus objetivos\n3. Conflitos e tens\xf5es atuais\n4. Alian\xe7as e tratados\n5. Sistema legal e justi\xe7a\n6. Diplomacia e rela\xe7\xf5es externas\n7. Intrigas e conspira\xe7\xf5es\n8. Figuras pol\xedticas importantes\n9. Movimentos de resist\xeancia ou reforma\n10. Oportunidades para desenvolvimento narrativo\n\nCrie conex\xf5es com personagens e eventos existentes.");break;case"magic":a='Desenvolva um sistema m\xe1gico \xfanico e coerente para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- G\xeanero: ').concat(r.genre,"\n- N\xedvel Tecnol\xf3gico: ").concat(r.techLevel,"\n- Sistemas M\xe1gicos Existentes: ").concat(r.magicSystems.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREQUISITOS:\n1. Origem e natureza da magia\n2. Regras e limita\xe7\xf5es claras\n3. Tipos de magia e especializa\xe7\xf5es\n4. Custo e consequ\xeancias do uso\n5. Quem pode usar magia e como\n6. Artefatos e itens m\xe1gicos\n7. Locais de poder m\xe1gico\n8. Organiza\xe7\xf5es m\xe1gicas\n9. Rela\xe7\xe3o com tecnologia e sociedade\n10. Mist\xe9rios e segredos m\xe1gicos\n\nMantenha consist\xeancia com o tom e atmosfera do mundo.");break;case"history":a='Crie uma linha temporal hist\xf3rica detalhada para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- Eventos Existentes: ').concat(r.events.map(e=>e.name).join(", ")||"Nenhum definido","\n- Povos: ").concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n- Regi\xf5es: ").concat(r.regions.map(e=>e.name).join(", ")||"Nenhuma definida","\n\nREQUISITOS:\n1. Eras hist\xf3ricas principais\n2. Eventos fundadores da civiliza\xe7\xe3o\n3. Grandes guerras e conflitos\n4. Descobertas e avan\xe7os importantes\n5. Figuras hist\xf3ricas lend\xe1rias\n6. Cat\xe1strofes e crises\n7. Per\xedodos de prosperidade\n8. Mist\xe9rios hist\xf3ricos n\xe3o resolvidos\n9. Profecias e previs\xf5es\n10. Como a hist\xf3ria impacta o presente\n\nConecte com elementos existentes e crie ganchos narrativos.");break;case"religion":a='Crie uma religi\xe3o \xdaNICA e ORIGINAL para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- G\xeanero: ').concat(r.genre,"\n- Povos: ").concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n- Religi\xf5es Existentes: ").concat(r.religions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Tradi\xe7\xf5es: ").concat(r.traditions.map(e=>e.name).join(", ")||"Nenhuma definida","\n\nREGRAS CR\xcdTICAS:\n1. N\xc3O repita nenhuma das religi\xf5es existentes: ").concat(r.religions.map(e=>e.name).join(", "),"\n2. Crie algo COMPLETAMENTE DIFERENTE e \xdaNICO\n3. Evite temas similares aos j\xe1 existentes\n4. Use criatividade m\xe1xima para diferenciar\n\nREQUISITOS:\n1. Nome da religi\xe3o (deve ser \xfanico e memor\xe1vel)\n2. Tipo espec\xedfico (monote\xedsta, polite\xedsta, animista, pante\xedsta, dualista, etc.)\n3. Divindades ou conceitos centrais \xfanicos\n4. Dogmas e cren\xe7as fundamentais originais\n5. Rituais e pr\xe1ticas espec\xedficas\n6. Hierarquia religiosa detalhada\n7. Locais sagrados e sua import\xe2ncia\n8. Textos e escrituras sagradas\n9. Festivais religiosos \xfanicos\n10. Rela\xe7\xe3o com outras religi\xf5es (conflito, toler\xe2ncia, sincretismo)\n11. Impacto na sociedade e pol\xedtica\n12. Segredos ou mist\xe9rios da religi\xe3o\n\nEXEMPLOS DE DIFERENCIA\xc7\xc3O:\n- Se j\xe1 existe uma religi\xe3o de luz, crie uma de sombras\n- Se j\xe1 existe uma religi\xe3o de guerra, crie uma de paz\n- Se j\xe1 existe uma religi\xe3o de natureza, crie uma de tecnologia\n- Se j\xe1 existe uma religi\xe3o monote\xedsta, crie uma polite\xedsta\n\nFormate como JSON detalhado com todos os campos acima.");break;case"tradition":a='Crie uma tradi\xe7\xe3o cultural \xdaNICA e ORIGINAL para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- Povos: ').concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n- Religi\xf5es: ").concat(r.religions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Tradi\xe7\xf5es Existentes: ").concat(r.traditions.map(e=>e.name).join(", ")||"Nenhuma definida","\n\nREGRAS CR\xcdTICAS:\n1. N\xc3O repita nenhuma das tradi\xe7\xf5es existentes: ").concat(r.traditions.map(e=>e.name).join(", "),"\n2. Crie algo COMPLETAMENTE DIFERENTE e \xdaNICO\n3. Evite temas similares aos j\xe1 existentes\n4. Use criatividade m\xe1xima para diferenciar\n\nREQUISITOS:\n1. Nome da tradi\xe7\xe3o (deve ser \xfanico e memor\xe1vel)\n2. Tipo espec\xedfico (ritual de passagem, festival sazonal, cerim\xf4nia de cura, rito de fertilidade, celebra\xe7\xe3o de colheita, ritual de prote\xe7\xe3o, etc.)\n3. Origem hist\xf3rica detalhada e \xfanica\n4. Como \xe9 praticada (passo a passo espec\xedfico)\n5. Significado cultural profundo\n6. Quem participa (idade, g\xeanero, classe social)\n7. Quando ocorre (data espec\xedfica, condi\xe7\xe3o clim\xe1tica, evento celestial)\n8. Elementos simb\xf3licos \xfanicos\n9. Varia\xe7\xf5es regionais ou familiares\n10. Import\xe2ncia social e impacto na comunidade\n11. Evolu\xe7\xe3o ao longo do tempo\n12. Conflitos ou controv\xe9rsias relacionadas\n\nEXEMPLOS DE DIFERENCIA\xc7\xc3O:\n- Se j\xe1 existe um festival de luzes, crie um ritual de sombras\n- Se j\xe1 existe uma celebra\xe7\xe3o de colheita, crie um rito de plantio\n- Se j\xe1 existe um ritual de passagem, crie uma cerim\xf4nia de morte\n- Se j\xe1 existe uma festa religiosa, crie um festival secular\n\nFormate como JSON estruturado com todos os campos acima.");break;case"technology":a='Crie uma tecnologia \xdaNICA e ORIGINAL para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- N\xedvel Tecnol\xf3gico: ').concat(r.techLevel,"\n- Tecnologias Existentes: ").concat(r.technologies.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Recursos: ").concat(r.resources.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREGRAS CR\xcdTICAS:\n1. N\xc3O repita nenhuma das tecnologias existentes: ").concat(r.technologies.map(e=>e.name).join(", "),"\n2. Crie algo COMPLETAMENTE DIFERENTE e \xdaNICO\n3. Evite categorias similares aos j\xe1 existentes\n4. Use criatividade m\xe1xima para diferenciar\n\nREQUISITOS:\n1. Nome da tecnologia (deve ser \xfanico e memor\xe1vel)\n2. Categoria espec\xedfica (comunica\xe7\xe3o, transporte, medicina, agricultura, constru\xe7\xe3o, guerra, entretenimento, etc.)\n3. Princ\xedpio de funcionamento detalhado\n4. Aplica\xe7\xf5es pr\xe1ticas espec\xedficas\n5. Limita\xe7\xf5es e requisitos t\xe9cnicos\n6. Impacto na sociedade e economia\n7. Quem tem acesso (classes sociais, regi\xf5es)\n8. Custo e disponibilidade\n9. Potencial de desenvolvimento futuro\n10. Riscos e perigos associados\n11. Rela\xe7\xe3o com magia (se houver)\n12. Inova\xe7\xe3o ou revolu\xe7\xe3o que representa\n\nEXEMPLOS DE DIFERENCIA\xc7\xc3O:\n- Se j\xe1 existe uma tecnologia de comunica\xe7\xe3o, crie uma de transporte\n- Se j\xe1 existe uma tecnologia de guerra, crie uma de paz\n- Se j\xe1 existe uma tecnologia de produ\xe7\xe3o, crie uma de consumo\n- Se j\xe1 existe uma tecnologia mec\xe2nica, crie uma qu\xedmica\n\nMantenha consist\xeancia com o n\xedvel tecnol\xf3gico ").concat(r.techLevel,".\n\nFormate como JSON detalhado com todos os campos acima.");break;case"region":a='Crie uma regi\xe3o geogr\xe1fica \xdaNICA e ORIGINAL para o mundo "'.concat(r.worldName,'".\n\nAN\xc1LISE DE CONTEXTO:\n- G\xeanero: ').concat(r.genre,"\n- N\xedvel Tecnol\xf3gico: ").concat(r.techLevel,"\n- Regi\xf5es Existentes: ").concat(r.regions.map(e=>e.name).join(", ")||"Nenhuma definida","\n- Locais: ").concat(r.locations.map(e=>e.name).join(", ")||"Nenhum definido","\n- Povos: ").concat(r.peoples.map(e=>e.name).join(", ")||"Nenhum definido","\n\nREGRAS CR\xcdTICAS:\n1. N\xc3O repita nenhuma das regi\xf5es existentes: ").concat(r.regions.map(e=>e.name).join(", "),'\n2. Crie algo COMPLETAMENTE DIFERENTE e \xdaNICO\n3. Evite climas e terrenos similares aos j\xe1 existentes\n4. Use criatividade m\xe1xima para diferenciar\n5. Considere a geografia geral do mundo\n\nREQUISITOS:\n1. Nome da regi\xe3o (deve ser \xfanico e memor\xe1vel)\n2. Tipo geogr\xe1fico espec\xedfico (continente, ilha, pen\xednsula, arquip\xe9lago, vale, planalto, deserto, floresta, montanha, costa, etc.)\n3. Clima predominante e varia\xe7\xf5es sazonais\n4. Terreno e topografia detalhados\n5. Recursos naturais abundantes\n6. Popula\xe7\xe3o estimada e distribui\xe7\xe3o\n7. Principais assentamentos e cidades\n8. Rotas comerciais e de transporte\n9. Caracter\xedsticas ambientais \xfanicas\n10. Perigos naturais ou sobrenaturais\n11. Import\xe2ncia estrat\xe9gica ou econ\xf4mica\n12. Conflitos territoriais ou disputas\n13. Flora e fauna caracter\xedsticas\n14. Recursos h\xeddricos (rios, lagos, mares)\n15. Conectividade com outras regi\xf5es\n\nEXEMPLOS DE DIFERENCIA\xc7\xc3O:\n- Se j\xe1 existe uma regi\xe3o montanhosa, crie uma plan\xedcie\n- Se j\xe1 existe uma regi\xe3o costeira, crie uma continental\n- Se j\xe1 existe uma regi\xe3o fria, crie uma quente\n- Se j\xe1 existe uma regi\xe3o \xe1rida, crie uma \xfamida\n- Se j\xe1 existe uma regi\xe3o populosa, crie uma isolada\n\nFORMATO JSON OBRIGAT\xd3RIO (use APENAS estes nomes de campos em ingl\xeas):\n{\n  "name": "Nome da regi\xe3o",\n  "type": "Tipo geogr\xe1fico",\n  "climate": "Clima predominante",\n  "terrain": "Descri\xe7\xe3o do terreno",\n  "population": "Popula\xe7\xe3o estimada",\n  "description": "Descri\xe7\xe3o geral da regi\xe3o",\n  "naturalResources": "Recursos naturais",\n  "settlements": "Principais assentamentos",\n  "tradeRoutes": "Rotas comerciais",\n  "uniqueFeatures": "Caracter\xedsticas \xfanicas",\n  "dangers": "Perigos naturais",\n  "strategicImportance": "Import\xe2ncia estrat\xe9gica",\n  "conflicts": "Conflitos territoriais",\n  "floraFauna": "Flora e fauna",\n  "waterResources": "Recursos h\xeddricos",\n  "connectivity": "Conectividade com outras regi\xf5es"\n}\n\nIMPORTANTE: Use APENAS os nomes de campos em ingl\xeas listados acima. N\xc3O use nomes em portugu\xeas.');break;default:a="Gere um ".concat(e,' detalhado e coerente para o mundo "').concat(r.worldName,'".\n        \nConsidere todos os elementos existentes e mantenha consist\xeancia total com o contexto estabelecido.')}return a+="\n\nAN\xc1LISE DE COER\xcaNCIA:\n- Certifique-se de que tudo seja consistente com o g\xeanero ".concat(r.genre,"\n- Respeite o n\xedvel tecnol\xf3gico ").concat(r.techLevel,"\n- Conecte com pelo menos 3 elementos existentes\n- Crie pelo menos 5 oportunidades narrativas\n- Mantenha o tom e atmosfera estabelecidos\n- Evite contradi\xe7\xf5es com elementos j\xe1 criados\n\nFORMATO: Resposta estruturada e detalhada, preferencialmente em JSON quando apropriado."),i(a,r)},[i]);return{isAgentOpen:r,setIsAgentOpen:a,isAnalyzing:s,generateWithContext:i,analyzeProject:l,generateElementPrompt:c,getQualityTips:A,getVolumeInsights:u,generateSmartElement:d}},Wn=()=>{const{worldData:e,volumes:n,chapters:r,characters:a,settings:s}=(0,mn.A)(),o=(null===s||void 0===s?void 0:s.defaultAIProvider)||"openai",[i,l]=(0,t.useState)(!1),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)([]),x=(0,t.useRef)(null),y=(0,t.useRef)(null),{generateWithContext:b,analyzeProject:w,generateElementPrompt:N,getQualityTips:B,getVolumeInsights:j}=Vn(o,s),C=(0,t.useCallback)(()=>{var t,s,o,i,l,c,A,u,d,h,f,p,m;return{worldName:(null===e||void 0===e?void 0:e.name)||"Mundo n\xe3o definido",genre:(null===e||void 0===e?void 0:e.genre)||"Fantasia",techLevel:(null===e||void 0===e?void 0:e.techLevel)||"Medieval",elements:{locations:(null===e||void 0===e||null===(t=e.locations)||void 0===t?void 0:t.length)||0,peoples:(null===e||void 0===e||null===(s=e.peoples)||void 0===s?void 0:s.length)||0,regions:(null===e||void 0===e||null===(o=e.regions)||void 0===o?void 0:o.length)||0,landmarks:(null===e||void 0===e||null===(i=e.landmarks)||void 0===i?void 0:i.length)||0,resources:(null===e||void 0===e||null===(l=e.resources)||void 0===l?void 0:l.length)||0,languages:(null===e||void 0===e||null===(c=e.languages)||void 0===c?void 0:c.length)||0,religions:(null===e||void 0===e||null===(A=e.religions)||void 0===A?void 0:A.length)||0,traditions:(null===e||void 0===e||null===(u=e.traditions)||void 0===u?void 0:u.length)||0,technologies:(null===e||void 0===e||null===(d=e.technologies)||void 0===d?void 0:d.length)||0,governments:(null===e||void 0===e||null===(h=e.governments)||void 0===h?void 0:h.length)||0,economies:(null===e||void 0===e||null===(f=e.economies)||void 0===f?void 0:f.length)||0,events:(null===e||void 0===e||null===(p=e.events)||void 0===p?void 0:p.length)||0,magicSystems:(null===e||void 0===e||null===(m=e.magicSystems)||void 0===m?void 0:m.length)||0},project:{volumes:(null===n||void 0===n?void 0:n.length)||0,chapters:(null===r||void 0===r?void 0:r.length)||0,characters:(null===a||void 0===a?void 0:a.length)||0}}},[e,n,r,a]);(0,t.useEffect)(()=>{(()=>{var e;null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[u]),(0,t.useEffect)(()=>{if(i&&0===u.length){const e=C();let t="Ol\xe1! Sou seu assistente de IA especializado em cria\xe7\xe3o de light novels. Posso ajudar voc\xea com:\n\n\ud83c\udfaf **An\xe1lise de Projeto**: Avaliar coer\xeancia e qualidade\n\ud83d\udcda **Gera\xe7\xe3o de Conte\xfado**: Criar elementos do mundo com contexto\n\ud83d\udca1 **Insights Inteligentes**: Dicas personalizadas para seu projeto\n\ud83d\udd0d **An\xe1lise Contextual**: Manter consist\xeancia em todo o universo\n\nComo posso ajudar voc\xea hoje?";("Mundo n\xe3o definido"!==e.worldName||e.project.volumes>0)&&(t+="\n\n\ud83d\udcca **Status do Projeto**: ".concat(e.worldName," (").concat(e.genre,", ").concat(e.techLevel,")\n\ud83d\udcc8 **Progresso**: ").concat(e.project.volumes," volumes, ").concat(e.project.chapters," cap\xedtulos, ").concat(e.project.characters," personagens\n\ud83c\udfaf **Elementos**: ").concat(Object.entries(e.elements).filter(e=>{let[t,n]=e;return n>0}).length," tipos de elementos criados")),d([{id:1,type:"agent",content:t,timestamp:new Date}])}},[i,u.length,C]);const k=(0,t.useCallback)(async e=>{const t=C();let n="",r="";switch(e){case"analyze":r="An\xe1lise de Projeto",n="Analise este projeto de light novel e forne\xe7a insights detalhados:\n\nCONTEXTO:\n- Mundo: ".concat(t.worldName," (").concat(t.genre,", ").concat(t.techLevel,")\n- Elementos: ").concat(Object.entries(t.elements).filter(e=>{let[t,n]=e;return n>0}).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", "),"\n- Projeto: ").concat(t.project.volumes," volumes, ").concat(t.project.chapters," cap\xedtulos, ").concat(t.project.characters," personagens\n\nForne\xe7a:\n1. An\xe1lise de coer\xeancia (1-10)\n2. Pontos fortes e fracos\n3. Sugest\xf5es de melhoria\n4. Pr\xf3ximos passos recomendados\n5. An\xe1lise de mercado e p\xfablico-alvo\n6. Compara\xe7\xe3o com obras similares\n\nFormato: Resposta estruturada e detalhada.");break;case"generate_element":r="Gerar Elemento",n='Com base no contexto do projeto "'.concat(t.worldName,'", sugira qual elemento seria mais \xfatil gerar agora:\n\nELEMENTOS EXISTENTES:\n').concat(Object.entries(t.elements).map(e=>{let[t,n]=e;return"- ".concat(t,": ").concat(n)}).join("\n"),"\n\nAN\xc1LISE DE PRIORIDADE:\n1. Sugira 3 elementos priorit\xe1rios para desenvolvimento\n2. Explique por que cada um seria importante para o projeto\n3. Forne\xe7a um prompt espec\xedfico para gerar o elemento mais priorit\xe1rio\n4. Sugira conex\xf5es com elementos existentes\n\nFormato: An\xe1lise detalhada com prompt pronto para uso.");break;case"quality_tips":r="Dicas de Qualidade",n="Forne\xe7a dicas espec\xedficas de qualidade para este projeto:\n\nCONTEXTO: ".concat(t.worldName," - ").concat(t.genre," ").concat(t.techLevel,"\n\nFoque em:\n- Estrutura narrativa e arcos de hist\xf3ria\n- Desenvolvimento de personagens e arcos de personagem\n- Consist\xeancia do mundo e regras internas\n- T\xe9cnicas de escrita e estilo narrativo\n- Pacing, ritmo e tens\xe3o\n- Di\xe1logos e desenvolvimento de voz dos personagens\n- Descri\xe7\xf5es e imers\xe3o do leitor\n- Foreshadowing e revela\xe7\xf5es\n\nForne\xe7a 8 dicas pr\xe1ticas e espec\xedficas, com exemplos quando poss\xedvel.");break;case"volume_insights":r="Insights para Volumes",n="Analise a estrutura de volumes e cap\xedtulos deste projeto:\n\nESTRUTURA ATUAL:\n- Volumes: ".concat(t.project.volumes,"\n- Cap\xedtulos: ").concat(t.project.chapters,"\n- Personagens: ").concat(t.project.characters,"\n\nForne\xe7a insights sobre:\n- Estrutura narrativa ideal para o g\xeanero\n- Desenvolvimento de arcos principais e secund\xe1rios\n- Pacing entre volumes e cap\xedtulos\n- Elementos do mundo a explorar em cada volume\n- Pontos de tens\xe3o e cl\xedmax\n- Desenvolvimento de personagens ao longo da s\xe9rie\n- Estrat\xe9gias de engajamento do leitor\n- Prepara\xe7\xe3o para volumes futuros\n\nSeja espec\xedfico, pr\xe1tico e considere o g\xeanero ").concat(t.genre,".");break;case"market_analysis":r="An\xe1lise de Mercado",n="Forne\xe7a uma an\xe1lise de mercado para este projeto de light novel:\n\nCONTEXTO: ".concat(t.worldName," - ").concat(t.genre," ").concat(t.techLevel,"\n\nAnalise:\n1. P\xfablico-alvo e demografia\n2. Tend\xeancias atuais do mercado\n3. Obras similares e competi\xe7\xe3o\n4. Pontos de diferencia\xe7\xe3o\n5. Estrat\xe9gias de marketing\n6. Plataformas de publica\xe7\xe3o\n7. Monetiza\xe7\xe3o e receitas\n8. Crescimento de audi\xeancia\n\nForne\xe7a insights pr\xe1ticos e estrat\xe9gicos.");break;case"character_development":r="Desenvolvimento de Personagens",n="Analise o desenvolvimento de personagens para este projeto:\n\nCONTEXTO: ".concat(t.worldName," - ").concat(t.genre," ").concat(t.techLevel,"\nPERSONAGENS: ").concat(t.project.characters," personagens criados\n\nFoque em:\n1. Arcos de personagem principais e secund\xe1rios\n2. Desenvolvimento de motiva\xe7\xf5es e conflitos\n3. Relacionamentos e din\xe2micas entre personagens\n4. Evolu\xe7\xe3o ao longo da hist\xf3ria\n5. Voz \xfanica para cada personagem\n6. Backstories e desenvolvimento de hist\xf3ria\n7. Conflitos internos e externos\n8. Satisfa\xe7\xe3o do leitor com os personagens\n\nForne\xe7a estrat\xe9gias espec\xedficas e exemplos pr\xe1ticos.");break;default:return}const a={id:Date.now(),type:"user",content:"Executar: ".concat(r),timestamp:new Date};d(e=>[...e,a]),m(!0);try{const e=await b(n,t),a={id:Date.now()+1,type:"agent",content:e,timestamp:new Date};d(e=>[...e,a]),zt.success("".concat(r," conclu\xedda!"))}catch(s){console.error("Erro na a\xe7\xe3o:",s),zt.error("Erro ao executar a\xe7\xe3o");const e={id:Date.now()+1,type:"agent",content:"Desculpe, ocorreu um erro ao processar sua solicita\xe7\xe3o. Tente novamente.",timestamp:new Date};d(t=>[...t,e])}finally{m(!1)}},[C,b]),E=(0,t.useCallback)(async()=>{if(!h.trim()||p)return;const e={id:Date.now(),type:"user",content:h,timestamp:new Date};d(t=>[...t,e]),f(""),m(!0);try{const e=C(),t="Como assistente especializado em cria\xe7\xe3o de light novels, responda \xe0 seguinte pergunta do usu\xe1rio:\n\nPERGUNTA: ".concat(h,"\n\nCONTEXTO DO PROJETO:\n- Mundo: ").concat(e.worldName," (").concat(e.genre,", ").concat(e.techLevel,")\n- Elementos: ").concat(Object.entries(e.elements).filter(e=>{let[t,n]=e;return n>0}).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", "),"\n- Projeto: ").concat(e.project.volumes," volumes, ").concat(e.project.chapters," cap\xedtulos, ").concat(e.project.characters," personagens\n\nForne\xe7a uma resposta \xfatil, espec\xedfica e contextualizada para o projeto do usu\xe1rio. Seja detalhado e pr\xe1tico."),n=await b(t,e),r={id:Date.now()+1,type:"agent",content:n,timestamp:new Date};d(e=>[...e,r])}catch(t){console.error("Erro no chat:",t),zt.error("Erro ao processar mensagem");const e={id:Date.now()+1,type:"agent",content:"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente.",timestamp:new Date};d(t=>[...t,e])}finally{m(!1)}},[h,p,C,b]),S=(0,t.useCallback)(()=>{if(u.length>1){const e={id:Date.now(),timestamp:new Date,messages:u,projectContext:C()},t=JSON.parse(localStorage.getItem("aiAgentConversations")||"[]");t.unshift(e);const n=t.slice(0,10);localStorage.setItem("aiAgentConversations",JSON.stringify(n)),v(n),zt.success("Conversa salva!")}},[u,C]);(0,t.useCallback)(e=>{d(e.messages),zt.success("Conversa carregada!")},[]);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("aiAgentConversations")||"[]");v(e)},[]);const _=(0,t.useCallback)(async()=>{const e=C();if(("Mundo n\xe3o definido"!==e.worldName||e.project.volumes>0)&&!p)try{const t='Com base no estado atual do projeto "'.concat(e.worldName,'", forne\xe7a 2-3 sugest\xf5es espec\xedficas e pr\xe1ticas para o pr\xf3ximo passo:\n\nCONTEXTO ATUAL:\n- Elementos criados: ').concat(Object.entries(e.elements).filter(e=>{let[t,n]=e;return n>0}).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join(", "),"\n- Progresso: ").concat(e.project.volumes," volumes, ").concat(e.project.chapters," cap\xedtulos, ").concat(e.project.characters,' personagens\n\nForne\xe7a sugest\xf5es espec\xedficas como:\n- "Considere criar mais [tipo de elemento] para expandir [aspecto do mundo]"\n- "Seria \xfatil desenvolver [aspecto] para melhorar [qualidade]"\n- "Pr\xf3ximo passo recomendado: [a\xe7\xe3o espec\xedfica]"\n\nSeja conciso e pr\xe1tico.'),n=await b(t,e);if(!u.some(e=>e.content.includes("Sugest\xf5es autom\xe1ticas"))){const e={id:Date.now(),type:"agent",content:"\ud83e\udd16 **Sugest\xf5es autom\xe1ticas para seu projeto:**\n\n".concat(n),timestamp:new Date};d(t=>[...t,e])}}catch(t){console.error("Erro ao gerar sugest\xf5es autom\xe1ticas:",t)}},[C,b,u,p]);return(0,t.useEffect)(()=>{const e=C();if(("Mundo n\xe3o definido"!==e.worldName||e.project.volumes>0)&&i&&u.length>1){const e=u[u.length-1];Date.now()-e.timestamp.getTime()>3e5&&_()}},[e,n,r,a,i,u,_,C]),i?(0,Sn.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,Sn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 w-96 max-h-[600px] flex flex-col",children:[(0,Sn.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(Pn,{className:"h-5 w-5"}),(0,Sn.jsx)("span",{className:"font-semibold",children:"Assistente IA"}),p&&(0,Sn.jsxs)("div",{className:"flex space-x-1",children:[(0,Sn.jsx)("div",{className:"w-1.5 h-1.5 bg-white/70 rounded-full animate-pulse"}),(0,Sn.jsx)("div",{className:"w-1.5 h-1.5 bg-white/70 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,Sn.jsx)("div",{className:"w-1.5 h-1.5 bg-white/70 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("div",{className:"text-xs text-white/80",children:u.length>1?"".concat(u.length-1," mensagens"):"Novo"}),u.length>1&&(0,Sn.jsx)("button",{onClick:S,className:"text-white/80 hover:text-white",title:"Salvar Conversa",children:(0,Sn.jsx)(pn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>A(!c),className:"text-white/80 hover:text-white",title:c?"Expandir":"Minimizar",children:c?(0,Sn.jsx)(Tn,{className:"h-4 w-4"}):(0,Sn.jsx)(cn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white",title:"Fechar",children:(0,Sn.jsx)(un,{className:"h-4 w-4"})})]})]})}),!c&&(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:(0,Sn.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Sn.jsxs)("button",{onClick:()=>k("analyze"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors disabled:opacity-50",title:"An\xe1lise Completa do Projeto",children:[(0,Sn.jsx)(Dn,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Analisar"})]}),(0,Sn.jsxs)("button",{onClick:()=>k("generate_element"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors disabled:opacity-50",title:"Sugerir Elementos",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Gerar"})]}),(0,Sn.jsxs)("button",{onClick:()=>k("quality_tips"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300 rounded hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors disabled:opacity-50",title:"Dicas de Qualidade",children:[(0,Sn.jsx)(Mn,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Dicas"})]}),(0,Sn.jsxs)("button",{onClick:()=>k("volume_insights"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors disabled:opacity-50",title:"Insights para Volumes",children:[(0,Sn.jsx)(Yt,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Volumes"})]}),(0,Sn.jsxs)("button",{onClick:()=>k("market_analysis"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors disabled:opacity-50",title:"An\xe1lise de Mercado",children:[(0,Sn.jsx)(Hn,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Mercado"})]}),(0,Sn.jsxs)("button",{onClick:()=>k("character_development"),disabled:p,className:"flex items-center justify-center space-x-1 px-2 py-2 text-xs bg-pink-50 dark:bg-pink-900/20 text-pink-700 dark:text-pink-300 rounded hover:bg-pink-100 dark:hover:bg-pink-900/30 transition-colors disabled:opacity-50",title:"Desenvolvimento de Personagens",children:[(0,Sn.jsx)(en,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{children:"Personagens"})]})]})}),(0,Sn.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-80",children:[u.map(e=>(0,Sn.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,Sn.jsxs)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.type?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[(0,Sn.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,Sn.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.timestamp.toLocaleTimeString()})]})},e.id)),p&&(0,Sn.jsx)("div",{className:"flex justify-start",children:(0,Sn.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:(0,Sn.jsxs)("div",{className:"flex space-x-1",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Sn.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Sn.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,Sn.jsx)("div",{ref:x})]}),(0,Sn.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsx)("input",{ref:y,type:"text",value:h,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())},placeholder:"Digite sua pergunta...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",disabled:p}),(0,Sn.jsx)("button",{onClick:E,disabled:!h.trim()||p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Sn.jsx)(Rn,{className:"h-4 w-4"})})]})})]})]})}):(0,Sn.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,Sn.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110",title:"Abrir Assistente de IA",children:(0,Sn.jsx)(Pn,{className:"h-6 w-6"})})})},Xn=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),i=Z(),l=(0,t.useRef)(null),{currentProject:c,projects:A,setCurrentProject:u,restoreSelectedProject:d,exportProject:h,importProject:f,addProject:p,settings:m}=(0,mn.A)();(0,t.useEffect)(()=>{d()},[d]),(0,t.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{const e=()=>{window.innerWidth>=1024&&r&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r]);const g=[{name:"Dashboard",href:"/",icon:Yt},{name:"Editor",href:"/editor",icon:Zt},{name:"Construtor de Mundo",href:"/world-builder",icon:$t},{name:"Gerador de Personagens",href:"/character-generator",icon:en},{name:"Gerador de Lore",href:"/lore-generator",icon:tn},{name:"Gerador de Narrativa",href:"/narrative-generator",icon:nn},{name:"Assistente AI",href:"/ai-assistant",icon:rn},{name:"Projetos",href:"/projects",icon:an},{name:"Configura\xe7\xf5es",href:"/settings",icon:sn}],v=()=>{const e=prompt("Nome do novo projeto:");e&&(p({name:e,description:"",genre:"",targetAudience:"",wordCount:0,chapters:[]}),zt.success("Projeto criado com sucesso!"))},x=()=>{c?(h(),zt.success("Projeto exportado com sucesso!")):zt.error("Nenhum projeto selecionado")},y=e=>{var t,n;if(!e)return{chapters:0,wordCount:0,lastModified:null};return{chapters:(null===(t=e.chapters)||void 0===t?void 0:t.length)||0,wordCount:(null===(n=e.chapters)||void 0===n?void 0:n.reduce((e,t)=>e+(t.wordCount||0),0))||0,lastModified:e.updatedAt||e.createdAt}},b=e=>{if(!e)return"Nunca";const t=new Date(e),n=new Date,r=Math.floor((n-t)/36e5);return r<1?"Agora mesmo":r<24?"".concat(r,"h atr\xe1s"):r<48?"Ontem":t.toLocaleDateString("pt-BR")},w=()=>{var e;const t=null===m||void 0===m?void 0:m.defaultAIProvider,n=null===m||void 0===m||null===(e=m.aiProviders)||void 0===e?void 0:e[t];if(!t||null===n||void 0===n||!n.apiKey)return(0,Sn.jsxs)("div",{className:"hidden sm:flex items-center px-3 py-1 bg-muted rounded-full text-sm text-muted-foreground",children:[(0,Sn.jsx)(on,{className:"h-4 w-4 mr-1 text-muted-foreground"}),(0,Sn.jsx)("span",{children:"IA n\xe3o configurada"})]});return(0,Sn.jsxs)("div",{className:"hidden sm:flex items-center px-3 py-1 rounded-full text-sm ".concat({openai:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",anthropic:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",google:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",groq:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}[t]||"bg-muted text-muted-foreground"),children:[(0,Sn.jsx)(on,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{className:"font-medium",children:{openai:"OpenAI",anthropic:"Anthropic",google:"Google AI",groq:"Groq"}[t]||t}),n.defaultModel&&(0,Sn.jsxs)("span",{className:"ml-1 opacity-75",children:["\u2022 ",n.defaultModel]})]})},N=()=>{const e=y(c);return(0,Sn.jsxs)("div",{className:"relative",ref:l,children:[(0,Sn.jsxs)("button",{onClick:()=>o(!s),className:"flex items-center space-x-3 px-3 sm:px-4 py-2 bg-card border border-border rounded-lg hover:bg-accent transition-colors min-w-0",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[(0,Sn.jsx)(ln,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600 flex-shrink-0"}),(0,Sn.jsxs)("div",{className:"text-left min-w-0",children:[(0,Sn.jsx)("div",{className:"font-medium text-card-foreground truncate max-w-[120px] sm:max-w-[200px] lg:max-w-[250px]",children:(null===c||void 0===c?void 0:c.name)||"Selecionar Projeto"}),c&&(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground hidden sm:flex items-center space-x-2",children:[(0,Sn.jsxs)("span",{children:[e.chapters," cap\xedtulos"]}),(0,Sn.jsx)("span",{children:"\u2022"}),(0,Sn.jsxs)("span",{children:[e.wordCount.toLocaleString()," palavras"]}),(0,Sn.jsx)("span",{children:"\u2022"}),(0,Sn.jsx)("span",{children:b(e.lastModified)})]})]})]}),(0,Sn.jsx)(cn,{className:"h-4 w-4 text-muted-foreground transition-transform flex-shrink-0 ".concat(s?"rotate-180":"")})]}),s&&(0,Sn.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-card border border-border rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto min-w-[280px] sm:min-w-[320px]",children:(0,Sn.jsxs)("div",{className:"p-2",children:[A&&A.length>0?(0,Sn.jsx)("div",{className:"space-y-1",children:A.map(e=>{const t=y(e),n=(null===c||void 0===c?void 0:c.id)===e.id;return(0,Sn.jsx)("button",{onClick:()=>(e=>{u(e),o(!1),zt.success('Projeto "'.concat(e.name,'" selecionado'))})(e),className:"w-full text-left p-3 rounded-lg transition-colors ".concat(n?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"hover:bg-accent"),children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 min-w-0",children:[(0,Sn.jsx)(ln,{className:"h-4 w-4 ".concat(n?"text-primary-600":"text-muted-foreground"," flex-shrink-0")}),(0,Sn.jsxs)("div",{className:"min-w-0",children:[(0,Sn.jsx)("div",{className:"font-medium text-card-foreground truncate",children:e.name}),(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center space-x-2",children:[(0,Sn.jsxs)("span",{children:[t.chapters," cap\xedtulos"]}),(0,Sn.jsx)("span",{children:"\u2022"}),(0,Sn.jsxs)("span",{children:[t.wordCount.toLocaleString()," palavras"]}),(0,Sn.jsx)("span",{children:"\u2022"}),(0,Sn.jsx)("span",{children:b(t.lastModified)})]})]})]}),n&&(0,Sn.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full flex-shrink-0"})]})},e.id)})}):(0,Sn.jsxs)("div",{className:"p-4 text-center text-muted-foreground",children:[(0,Sn.jsx)(ln,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,Sn.jsx)("p",{className:"text-sm",children:"Nenhum projeto criado"}),(0,Sn.jsx)("p",{className:"text-xs",children:"Crie seu primeiro projeto para come\xe7ar"})]}),(0,Sn.jsx)("div",{className:"border-t border-border mt-2 pt-2",children:(0,Sn.jsxs)("button",{onClick:()=>{o(!1),v()},className:"w-full flex items-center space-x-2 p-2 text-sm text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-colors",children:[(0,Sn.jsx)(An,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{children:"Criar Novo Projeto"})]})})]})})]})};return(0,Sn.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,Sn.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-card shadow-lg transform ".concat(r?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0"),children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 border-b border-border",children:[(0,Sn.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-card-foreground truncate",children:"Light Novel Creator"}),(0,Sn.jsx)("button",{onClick:()=>a(!1),className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsx)("nav",{className:"mt-6 px-3 flex-1 overflow-y-auto",children:(0,Sn.jsx)("div",{className:"space-y-1",children:g.map(e=>{const t=i.pathname===e.href;return(0,Sn.jsxs)(Ce,{to:e.href,className:"sidebar-item ".concat(t?"active":""),onClick:()=>a(!1),children:[(0,Sn.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),(0,Sn.jsx)("span",{className:"truncate",children:e.name})]},e.name)})})}),(0,Sn.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border bg-card",children:(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsxs)("button",{onClick:v,className:"w-full btn-primary flex items-center justify-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Novo Projeto"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Novo"})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Sn.jsxs)("button",{onClick:x,className:"btn-outline flex items-center justify-center text-sm",title:"Exportar Projeto",children:[(0,Sn.jsx)(dn,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:ml-1 sm:inline",children:"Exportar"})]}),(0,Sn.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{f(e.target.result)?zt.success("Projeto importado com sucesso!"):zt.error("Erro ao importar projeto")},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center justify-center text-sm",title:"Importar Projeto",children:[(0,Sn.jsx)(hn,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:ml-1 sm:inline",children:"Importar"})]})]})]})})]}),(0,Sn.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Sn.jsx)("header",{className:"bg-card shadow-sm border-b border-border",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0",children:[(0,Sn.jsx)("button",{onClick:()=>a(!0),className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-accent",children:(0,Sn.jsx)(fn,{className:"h-5 w-5"})}),(0,Sn.jsx)(N,{})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Sn.jsx)(On,{}),(0,Sn.jsx)(_n,{}),(0,Sn.jsx)(w,{}),c&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:x,className:"btn-outline flex items-center hidden sm:flex",title:"Exportar Projeto",children:[(0,Sn.jsx)(dn,{className:"mr-2 h-4 w-4"}),"Exportar"]}),(0,Sn.jsxs)("button",{onClick:()=>zt.success("Projeto salvo!"),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(pn,{className:"mr-2 h-4 w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Salvar"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Salvar"})]})]})]})]})}),(0,Sn.jsx)("main",{className:"flex-1 overflow-auto",children:(0,Sn.jsx)("div",{className:"p-4 sm:p-6",children:n})})]}),r&&(0,Sn.jsx)("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>a(!1)}),(0,Sn.jsx)(Wn,{})]})},Jn=Jt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Yn=Jt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zn=Jt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),$n=Jt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),er=Jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),tr=Jt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),nr=e=>{let{onSettingsClick:n}=e;const{settings:r}=(0,mn.A)(),[a,s]=(0,t.useState)({}),[o,i]=(0,t.useState)({}),l=[{id:"openai",name:"OpenAI",description:"GPT-4, GPT-3.5 e outros modelos avan\xe7ados",website:"https://platform.openai.com",color:"green",icon:"\ud83e\udd16"},{id:"anthropic",name:"Anthropic",description:"Claude 3.5 Sonnet, Opus e Haiku",website:"https://console.anthropic.com",color:"purple",icon:"\ud83e\udde0"},{id:"google",name:"Google AI",description:"Gemini Pro e Flash",website:"https://ai.google.dev",color:"blue",icon:"\ud83d\udd0d"},{id:"groq",name:"Groq",description:"Llama 3 e Mixtral ultra-r\xe1pidos",website:"https://console.groq.com",color:"orange",icon:"\u26a1"}];(0,t.useEffect)(()=>{l.forEach(e=>{var t;const n=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e.id];null!==n&&void 0!==n&&n.apiKey&&null!==n&&void 0!==n&&n.enabled&&c(e.id)})},[]);const c=async e=>{s(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:!0}));try{var t;await new Promise(e=>setTimeout(e,1500));const a=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e];if(!(null!==a&&void 0!==a&&a.apiKey&&a.apiKey.length>10))throw new Error("API Key inv\xe1lida");var n;i(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:"connected"})),zt.success("Conex\xe3o com ".concat(null===(n=l.find(t=>t.id===e))||void 0===n?void 0:n.name," estabelecida!"))}catch(o){var a;i(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:"error"})),zt.error("Erro ao conectar com ".concat(null===(a=l.find(t=>t.id===e))||void 0===a?void 0:a.name))}finally{s(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:!1}))}},A=e=>{var t,n,s,i;const l=o[e],c=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.enabled,A=null===r||void 0===r||null===(s=r.aiProviders)||void 0===s||null===(i=s[e])||void 0===i?void 0:i.apiKey;return a[e]?(0,Sn.jsx)(Zn,{className:"h-4 w-4 animate-spin"}):c?A?"connected"===l?(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500 dark:text-green-400"}):"error"===l?(0,Sn.jsx)(vn,{className:"h-4 w-4 text-red-500 dark:text-red-400"}):(0,Sn.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-300 dark:bg-blue-600"}):(0,Sn.jsx)($n,{className:"h-4 w-4 text-yellow-500 dark:text-yellow-400"}):(0,Sn.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-300 dark:bg-gray-600"})},u=e=>{var t,n,s,i;const l=o[e],c=null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.enabled,A=null===r||void 0===r||null===(s=r.aiProviders)||void 0===s||null===(i=s[e])||void 0===i?void 0:i.apiKey;return a[e]?"Testando...":c?A?"connected"===l?"Conectado":"error"===l?"Erro de conex\xe3o":"N\xe3o testado":"API Key necess\xe1ria":"Desabilitado"},d=l.filter(e=>{var t,n,a,s;return(null===r||void 0===r||null===(t=r.aiProviders)||void 0===t||null===(n=t[e.id])||void 0===n?void 0:n.enabled)&&(null===r||void 0===r||null===(a=r.aiProviders)||void 0===a||null===(s=a[e.id])||void 0===s?void 0:s.apiKey)&&"connected"===o[e.id]});return(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Integra\xe7\xe3o com IA"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:d.length>0?"".concat(d.length," provedor(es) conectado(s)"):"Nenhum provedor configurado"})]})]}),(0,Sn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Sn.jsxs)("button",{onClick:n,className:"btn-outline flex items-center text-sm",children:[(0,Sn.jsx)(sn,{className:"h-4 w-4 mr-1"}),"Configurar"]})})]}),(0,Sn.jsx)("div",{className:"mb-6",children:d.length>0?(0,Sn.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(gn,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"IA Configurada"}),(0,Sn.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Voc\xea pode usar as funcionalidades de IA para gerar conte\xfado, personagens e muito mais!"})]})]})}):(0,Sn.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(yn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Configure sua IA"}),(0,Sn.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Configure pelo menos um provedor de IA para desbloquear funcionalidades avan\xe7adas de gera\xe7\xe3o de conte\xfado."})]})]})})}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground mb-3",children:"Provedores Dispon\xedveis"}),l.map(e=>{var t;const n=(null===r||void 0===r||null===(t=r.aiProviders)||void 0===t?void 0:t[e.id])||{};return(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border-2 transition-all ".concat(n.enabled?"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/20"),children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"text-2xl mr-3",children:e.icon}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("h5",{className:"text-sm font-medium text-foreground mr-2",children:e.name}),A(e.id)]}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),(0,Sn.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",u(e.id)]})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[n.apiKey&&n.enabled&&(0,Sn.jsx)("button",{onClick:()=>c(e.id),disabled:a[e.id],className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50",title:"Testar conex\xe3o",children:(0,Sn.jsx)(er,{className:"h-4 w-4 ".concat(a[e.id]?"animate-spin":"")})}),(0,Sn.jsx)("button",{onClick:()=>window.open(e.website,"_blank"),className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",title:"Abrir website",children:(0,Sn.jsx)(tr,{className:"h-4 w-4"})})]})]},e.id)})]}),0===d.length&&(0,Sn.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"\ud83d\ude80 Setup R\xe1pido"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Recomendamos come\xe7ar com o OpenAI (mais popular) ou Groq (mais r\xe1pido e gratuito):"}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>{n(),setTimeout(()=>{const e=document.querySelector('[data-tab="ai"]');e&&e.click()},100)},className:"btn-primary text-sm",children:"Configurar OpenAI"}),(0,Sn.jsx)("button",{onClick:()=>{window.open("https://console.groq.com","_blank")},className:"btn-outline text-sm",children:"Obter Groq (Gratuito)"})]})]}),(0,Sn.jsxs)("div",{className:"mt-6 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-lg",children:[(0,Sn.jsx)("h5",{className:"text-xs font-medium text-foreground mb-2",children:"\ud83d\udca1 Dicas:"}),(0,Sn.jsxs)("ul",{className:"text-xs text-muted-foreground space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 Groq oferece modelos gratuitos e muito r\xe1pidos"}),(0,Sn.jsx)("li",{children:"\u2022 OpenAI tem os modelos mais avan\xe7ados (GPT-4)"}),(0,Sn.jsx)("li",{children:"\u2022 Claude (Anthropic) \xe9 excelente para textos longos"}),(0,Sn.jsx)("li",{children:"\u2022 Voc\xea pode configurar m\xfaltiplos provedores e alternar entre eles"})]})]})]})},rr=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ar=Jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),sr=Jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),or=e=>{let{feedback:n,onClose:r,onImprovementsApplied:a}=e;const[s,o]=(0,t.useState)(!1),[i,l]=(0,t.useState)([]),{characters:c,worldData:A,updateCharacters:u,updateWorldData:d}=(0,mn.A)(),h=async e=>{const t=c.some(e=>"protagonista"===e.role||"main"===e.role);if(!t&&c.length>0){const t=c.map((e,t)=>0===t?(0,_e.A)((0,_e.A)({},e),{},{role:"protagonista"}):e);u(t),e.push("Definido protagonista principal")}const n=c.filter(e=>!e.appearance||e.appearance.length<50);if(n.length>0){const t=c.map(e=>!e.appearance||e.appearance.length<50?(0,_e.A)((0,_e.A)({},e),{},{appearance:e.appearance+" (Descri\xe7\xe3o visual expandida automaticamente)"}):e);u(t),e.push("Expandidas descri\xe7\xf5es visuais dos personagens")}if(c.length<3){const t=[...c,{id:"char-".concat(Date.now(),"-1"),name:"Personagem Secund\xe1rio 1",role:"secund\xe1rio",description:"Personagem secund\xe1rio adicionado automaticamente para enriquecer a hist\xf3ria",appearance:"Descri\xe7\xe3o f\xedsica detalhada",personality:"Personalidade \xfanica e interessante"},{id:"char-".concat(Date.now(),"-2"),name:"Personagem Secund\xe1rio 2",role:"secund\xe1rio",description:"Outro personagem secund\xe1rio para criar din\xe2micas interessantes",appearance:"Descri\xe7\xe3o f\xedsica detalhada",personality:"Personalidade contrastante"}];u(t),e.push("Adicionados personagens secund\xe1rios")}},f=async e=>{if(!A.magicSystems||0===A.magicSystems.length){const t={id:"magic-".concat(Date.now()),name:"Sistema de Magia Elemental",description:"Sistema de magia baseado nos elementos da natureza",rules:["Magia requer concentra\xe7\xe3o e energia","Cada elemento tem suas vantagens e desvantagens","Usu\xe1rios t\xeam afinidade com elementos espec\xedficos"],limitations:["Uso excessivo causa fadiga","Elementos opostos se cancelam","Requer treinamento para dominar"]},n=(0,_e.A)((0,_e.A)({},A),{},{magicSystems:[...A.magicSystems||[],t]});d(n),e.push("Criado sistema de magia b\xe1sico")}if(!A.locations||A.locations.length<3){const t=[{id:"loc-".concat(Date.now(),"-1"),name:"Academia de Magia",description:"Instituto onde jovens aprendem a controlar suas habilidades m\xe1gicas",type:"educacional",importance:"alta"},{id:"loc-".concat(Date.now(),"-2"),name:"Floresta Encantada",description:"Floresta misteriosa cheia de criaturas m\xe1gicas e segredos",type:"natural",importance:"m\xe9dia"},{id:"loc-".concat(Date.now(),"-3"),name:"Cidade Capital",description:"Centro pol\xedtico e comercial do reino, onde as principais decis\xf5es s\xe3o tomadas",type:"urbano",importance:"alta"}],n=(0,_e.A)((0,_e.A)({},A),{},{locations:[...A.locations||[],...t]});d(n),e.push("Adicionados locais importantes ao mundo")}},p=async e=>{e.push("Sugest\xf5es de di\xe1logos adicionadas ao editor"),e.push("Template de conversas criado")},m=async e=>{if(!A.relationships||0===A.relationships.length){var t,n;const r=[{id:"rel-".concat(Date.now(),"-1"),character1:(null===(t=c[0])||void 0===t?void 0:t.id)||"char-1",character2:(null===(n=c[1])||void 0===n?void 0:n.id)||"char-2",type:"amizade",description:"Amizade profunda que se desenvolve ao longo da hist\xf3ria",development:"Cresce gradualmente atrav\xe9s de experi\xeancias compartilhadas"}],a=(0,_e.A)((0,_e.A)({},A),{},{relationships:[...A.relationships||[],...r]});d(a),e.push("Criados relacionamentos entre personagens")}e.push("Elementos emocionais sugeridos para desenvolvimento")};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(Qn,{className:"h-6 w-6 text-primary"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Aplicar Melhorias"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Melhorias autom\xe1ticas baseadas no feedback"})]})]}),(0,Sn.jsx)("button",{onClick:r,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsx)("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:0===i.length?(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"mb-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Melhorias Dispon\xedveis"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Com base no feedback, podemos aplicar as seguintes melhorias automaticamente:"}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[n.elements.characterDevelopment.score<7&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Sn.jsx)(rr,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Desenvolvimento de Personagens"}),(0,Sn.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Adicionar protagonista, expandir descri\xe7\xf5es e criar personagens secund\xe1rios"})]})]}),n.elements.worldBuilding.score<7&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,Sn.jsx)(Un,{className:"h-5 w-5 text-green-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"font-medium text-green-900 dark:text-green-100",children:"World Building"}),(0,Sn.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Criar sistema de magia e adicionar locais importantes"})]})]}),n.elements.dialogueQuality.score<7&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,Sn.jsx)(Zt,{className:"h-5 w-5 text-purple-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Qualidade dos Di\xe1logos"}),(0,Sn.jsx)("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:"Adicionar sugest\xf5es e templates de di\xe1logos"})]})]}),n.elements.emotionalImpact.score<7&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[(0,Sn.jsx)(sr,{className:"h-5 w-5 text-pink-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"font-medium text-pink-900 dark:text-pink-100",children:"Impacto Emocional"}),(0,Sn.jsx)("p",{className:"text-sm text-pink-800 dark:text-pink-200",children:"Criar relacionamentos e elementos emocionais"})]})]})]})]}),(0,Sn.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg mb-6",children:(0,Sn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Sn.jsx)(vn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"font-medium text-yellow-900 dark:text-yellow-100 mb-1",children:"Aviso Importante"}),(0,Sn.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"As melhorias ser\xe3o aplicadas automaticamente. Recomendamos revisar e personalizar os elementos criados para melhor se adequar \xe0 sua hist\xf3ria."})]})]})}),(0,Sn.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Sn.jsx)("button",{onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{onClick:async()=>{o(!0);const e=[];try{n.elements.characterDevelopment.score<7&&await h(e),n.elements.worldBuilding.score<7&&await f(e),n.elements.dialogueQuality.score<7&&await p(e),n.elements.emotionalImpact.score<7&&await m(e),l(e),a&&a(e)}catch(t){console.error("Erro ao aplicar melhorias:",t)}finally{o(!1)}},disabled:s,className:"btn-primary flex items-center",children:[(0,Sn.jsx)(on,{className:"mr-2 h-4 w-4"}),s?"Aplicando...":"Aplicar Melhorias"]})]})]}):(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"text-center mb-6",children:[(0,Sn.jsx)(gn,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Melhorias Aplicadas com Sucesso!"}),(0,Sn.jsx)("p",{className:"text-muted-foreground",children:"As seguintes melhorias foram aplicadas automaticamente:"})]}),(0,Sn.jsx)("div",{className:"space-y-3 mb-6",children:i.map((e,t)=>(0,Sn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,Sn.jsx)(gn,{className:"h-5 w-5 text-green-600"}),(0,Sn.jsx)("p",{className:"text-sm text-green-900 dark:text-green-100",children:e})]},t))}),(0,Sn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-6",children:[(0,Sn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Pr\xf3ximos Passos:"}),(0,Sn.jsxs)("div",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[(0,Sn.jsx)("p",{children:"\u2022 Revise os elementos criados automaticamente"}),(0,Sn.jsx)("p",{children:"\u2022 Personalize os nomes e descri\xe7\xf5es"}),(0,Sn.jsx)("p",{children:"\u2022 Ajuste os relacionamentos conforme necess\xe1rio"}),(0,Sn.jsx)("p",{children:"\u2022 Execute novamente o feedback para ver as melhorias"})]})]}),(0,Sn.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,Sn.jsx)("button",{onClick:r,className:"btn-primary",children:"Concluir"})})]})})]})})},ir=e=>{let{onClose:n}=e;const[r,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),[i,l]=(0,t.useState)("all"),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)({checkCharacterNames:!0,checkLocations:!0,checkTimeline:!0,checkMagicSystem:!0,checkRelationships:!0,checkWorldRules:!0,checkLightNovelElements:!0,checkWritingStyle:!0,checkPacing:!0,checkDialogue:!0}),{currentProject:x,projectStructure:y,characters:b,worldData:w}=(0,mn.A)(),N=[{id:"all",name:"Todos",icon:vn,color:"text-red-600"},{id:"characters",name:"Personagens",icon:rr,color:"text-blue-600"},{id:"locations",name:"Locais",icon:Un,color:"text-green-600"},{id:"timeline",name:"Timeline",icon:xn,color:"text-purple-600"},{id:"world",name:"Mundo",icon:Yt,color:"text-orange-600"},{id:"relationships",name:"Relacionamentos",icon:rr,color:"text-pink-600"},{id:"lightnovel",name:"Light Novel",icon:ln,color:"text-indigo-600"},{id:"writing",name:"Escrita",icon:Zt,color:"text-teal-600"}],B=async()=>{o(!0);try{const e=await j();f(e),d(!0)}catch(e){console.error("Erro ao gerar feedback:",e)}finally{o(!1)}},j=async()=>{var e,t;const n=(null===x||void 0===x?void 0:x.content)||"",r=b.length,a=Object.keys(w).length,s={overallScore:0,strengths:[],weaknesses:[],suggestions:[],elements:{characterDevelopment:{score:0,feedback:""},worldBuilding:{score:0,feedback:""},plotStructure:{score:0,feedback:""},dialogueQuality:{score:0,feedback:""},pacing:{score:0,feedback:""},tropes:{score:0,feedback:""},emotionalImpact:{score:0,feedback:""},originality:{score:0,feedback:""}}};r>=3?(s.elements.characterDevelopment.score=8,s.elements.characterDevelopment.feedback="Boa quantidade de personagens principais",s.strengths.push("Variedade de personagens bem desenvolvida")):(s.elements.characterDevelopment.score=4,s.elements.characterDevelopment.feedback="Considere adicionar mais personagens principais",s.weaknesses.push("Poucos personagens principais"),s.suggestions.push("Desenvolva pelo menos 3-5 personagens principais com arcos bem definidos")),a>=5?(s.elements.worldBuilding.score=9,s.elements.worldBuilding.feedback="Mundo rico e bem constru\xeddo",s.strengths.push("World building detalhado e imersivo")):(s.elements.worldBuilding.score=5,s.elements.worldBuilding.feedback="World building pode ser expandido",s.weaknesses.push("World building limitado"),s.suggestions.push("Expanda o sistema de magia, geografia e cultura do mundo"));const o=w.magicSystems&&w.magicSystems.length>0,i=w.relationships&&w.relationships.length>0;o&&i?(s.elements.plotStructure.score=8,s.elements.plotStructure.feedback="Estrutura narrativa bem balanceada",s.strengths.push("Equil\xedbrio entre elementos de a\xe7\xe3o e romance")):(s.elements.plotStructure.score=6,s.elements.plotStructure.feedback="Estrutura pode ser melhorada",s.suggestions.push("Balance elementos de a\xe7\xe3o, romance e desenvolvimento de personagem"));["disse","falou","perguntou","respondeu",'"','"'].some(e=>n.toLowerCase().includes(e))?(s.elements.dialogueQuality.score=7,s.elements.dialogueQuality.feedback="Presen\xe7a de di\xe1logos na narrativa",s.strengths.push("Uso de di\xe1logos para desenvolvimento")):(s.elements.dialogueQuality.score=4,s.elements.dialogueQuality.feedback="Di\xe1logos podem ser expandidos",s.weaknesses.push("Poucos di\xe1logos"),s.suggestions.push("Use mais di\xe1logos para mostrar em vez de contar"));n.length>5e3?(s.elements.pacing.score=8,s.elements.pacing.feedback="Conte\xfado com boa extens\xe3o",s.strengths.push("Pacing adequado para light novel")):(s.elements.pacing.score=5,s.elements.pacing.feedback="Conte\xfado pode ser expandido",s.suggestions.push("Desenvolva mais cenas e descri\xe7\xf5es"));["isekai","reencarna\xe7\xe3o","sistema","habilidade","n\xedvel","status"].some(e=>n.toLowerCase().includes(e))?(s.elements.tropes.score=7,s.elements.tropes.feedback="Uso de elementos familiares do g\xeanero",s.strengths.push("Tropes bem utilizados")):(s.elements.tropes.score=6,s.elements.tropes.feedback="Considere elementos t\xedpicos do g\xeanero",s.suggestions.push("Incorpore elementos familiares de light novels"));["cora\xe7\xe3o","sentimento","amor","\xf3dio","tristeza","alegria","medo"].some(e=>n.toLowerCase().includes(e))?(s.elements.emotionalImpact.score=8,s.elements.emotionalImpact.feedback="Conte\xfado emocional presente",s.strengths.push("Desenvolvimento emocional dos personagens")):(s.elements.emotionalImpact.score=5,s.elements.emotionalImpact.feedback="Desenvolvimento emocional pode ser melhorado",s.suggestions.push("Explore mais as emo\xe7\xf5es e motiva\xe7\xf5es dos personagens"));((null===(e=w.magicSystems)||void 0===e?void 0:e.length)||0+(null===(t=w.locations)||void 0===t?void 0:t.length)||0)>=3?(s.elements.originality.score=8,s.elements.originality.feedback="Elementos \xfanicos bem desenvolvidos",s.strengths.push("Originalidade no world building")):(s.elements.originality.score=6,s.elements.originality.feedback="Pode ser mais original",s.suggestions.push("Crie elementos \xfanicos que diferenciem sua hist\xf3ria"));const l=Object.values(s.elements).reduce((e,t)=>e+t.score,0);return s.overallScore=Math.round(l/Object.keys(s.elements).length),s.overallScore>=8?s.strengths.push("Hist\xf3ria com grande potencial para light novel"):s.overallScore>=6?s.suggestions.push("Continue desenvolvendo para alcan\xe7ar o potencial m\xe1ximo"):s.suggestions.push("Foque nos elementos fundamentais antes de expandir"),s},C=async()=>{o(!0);const e=[];try{if(g.checkCharacterNames){const t=k();e.push(...t)}if(g.checkLocations){const t=E();e.push(...t)}if(g.checkTimeline){const t=S();e.push(...t)}if(g.checkMagicSystem){const t=_();e.push(...t)}if(g.checkRelationships){const t=F();e.push(...t)}if(g.checkWorldRules){const t=U();e.push(...t)}if(g.checkLightNovelElements){const t=I();e.push(...t)}if(g.checkWritingStyle){const t=L();e.push(...t)}a(e)}catch(t){console.error("Erro ao verificar consist\xeancia:",t)}finally{o(!1)}},k=()=>{const e=[],t=b.map(e=>e.name.toLowerCase()),n=t.filter((e,n)=>t.indexOf(e)!==n);n.length>0&&e.push({id:"char-duplicate-names",category:"characters",severity:"warning",title:"Nomes de personagens duplicados",description:"Encontrados nomes duplicados: ".concat(n.join(", ")),suggestion:"Considere usar nomes \xfanicos para cada personagem",location:"Personagens"});const r=b.filter(e=>!e.description||""===e.description.trim());return r.length>0&&e.push({id:"char-no-description",category:"characters",severity:"info",title:"Personagens sem descri\xe7\xe3o",description:"".concat(r.length," personagem(s) sem descri\xe7\xe3o"),suggestion:"Adicione descri\xe7\xf5es para melhor desenvolvimento dos personagens",location:"Personagens"}),e},E=()=>{const e=[],t=w.locations.filter(e=>!e.description||""===e.description.trim());return t.length>0&&e.push({id:"loc-no-description",category:"locations",severity:"info",title:"Locais sem descri\xe7\xe3o",description:"".concat(t.length," local(is) sem descri\xe7\xe3o"),suggestion:"Adicione descri\xe7\xf5es para melhor imers\xe3o no mundo",location:"Locais"}),e},S=()=>{const e=[];return w.events&&0!==w.events.length||e.push({id:"timeline-no-events",category:"timeline",severity:"info",title:"Timeline vazia",description:"Nenhum evento hist\xf3rico definido",suggestion:"Considere adicionar eventos importantes da hist\xf3ria do mundo",location:"Timeline"}),e},_=()=>{const e=[];if(w.magicSystems&&0!==w.magicSystems.length){const t=w.magicSystems.filter(e=>!e.rules||0===e.rules.length);t.length>0&&e.push({id:"magic-no-rules",category:"world",severity:"warning",title:"Sistema de magia sem regras",description:"".concat(t.length," sistema(s) de magia sem regras definidas"),suggestion:"Defina regras claras para evitar inconsist\xeancias",location:"Sistema de Magia"})}else e.push({id:"magic-no-system",category:"world",severity:"info",title:"Sistema de magia n\xe3o definido",description:"Nenhum sistema de magia foi definido",suggestion:"Se sua hist\xf3ria tem magia, defina as regras do sistema",location:"Sistema de Magia"});return e},F=()=>{const e=[];return w.relationships&&0!==w.relationships.length||e.push({id:"rel-no-relationships",category:"relationships",severity:"info",title:"Relacionamentos n\xe3o definidos",description:"Nenhum relacionamento entre personagens foi definido",suggestion:"Defina relacionamentos para enriquecer a hist\xf3ria",location:"Relacionamentos"}),e},U=()=>{const e=[];return w.description&&""!==w.description.trim()||e.push({id:"world-no-description",category:"world",severity:"info",title:"Mundo sem descri\xe7\xe3o",description:"O mundo n\xe3o possui descri\xe7\xe3o geral",suggestion:"Adicione uma descri\xe7\xe3o geral do mundo",location:"Mundo"}),e},I=()=>{const e=[],t=w.magicSystems&&w.magicSystems.length>0,n=w.locations&&w.locations.some(e=>e.name.toLowerCase().includes("escola")||e.name.toLowerCase().includes("academia")),r=w.events&&w.events.length>0;t||n||r||e.push({id:"ln-no-elements",category:"lightnovel",severity:"info",title:"Elementos de Light Novel ausentes",description:"Considere adicionar elementos t\xedpicos do g\xeanero",suggestion:"Adicione sistema de magia, cen\xe1rio escolar ou elementos de aventura",location:"Elementos de Light Novel"});const a=b.some(e=>"protagonista"===e.role||"main"===e.role);return a||e.push({id:"ln-no-protagonist",category:"lightnovel",severity:"warning",title:"Protagonista n\xe3o definido",description:"Light novels geralmente t\xeam um protagonista claro",suggestion:"Defina claramente o protagonista e seus objetivos",location:"Personagens"}),e},L=()=>{const e=[],t=b.some(e=>e.appearance&&e.appearance.length>50);t||e.push({id:"writing-no-visual",category:"writing",severity:"info",title:"Descri\xe7\xf5es visuais limitadas",description:"Light novels beneficiam de descri\xe7\xf5es visuais detalhadas",suggestion:"Adicione descri\xe7\xf5es f\xedsicas detalhadas dos personagens",location:"Estilo de Escrita"});return b.length>1||e.push({id:"writing-no-dialogue",category:"writing",severity:"info",title:"Poucos personagens para di\xe1logos",description:"Di\xe1logos s\xe3o importantes em light novels",suggestion:"Adicione mais personagens para criar intera\xe7\xf5es interessantes",location:"Estilo de Escrita"}),e},Q=e=>{switch(e){case"error":return"text-red-600 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case"info":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"}},O=e=>{switch(e){case"error":case"warning":return(0,Sn.jsx)(vn,{className:"h-4 w-4"});default:return(0,Sn.jsx)(yn,{className:"h-4 w-4"})}};(0,t.useEffect)(()=>{x&&C()},[x,g]);const P="all"===i?r:r.filter(e=>e.category===i);return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-6xl h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(vn,{className:"h-6 w-6 text-primary"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Verificador de Consist\xeancia"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Detecta inconsist\xeancias na sua hist\xf3ria"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>A(!c),className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg",title:"Configura\xe7\xf5es",children:(0,Sn.jsx)(sn,{className:"h-5 w-5"})}),(0,Sn.jsx)("button",{onClick:n,className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]})]}),(0,Sn.jsxs)("div",{className:"flex h-full",children:[(0,Sn.jsxs)("div",{className:"w-64 bg-muted border-r border-border p-4",children:[(0,Sn.jsx)("div",{className:"space-y-2",children:N.map(e=>{const t=e.icon,n=r.filter(t=>t.category===e.id);return(0,Sn.jsxs)("button",{onClick:()=>l(e.id),className:"w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ".concat(i===e.id?"bg-blue-600 text-white shadow-md":"hover:bg-gray-100 dark:hover:bg-gray-800 text-foreground"),children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(t,{className:"h-4 w-4 ".concat(i===e.id?"text-white":"text-gray-600 dark:text-gray-400")}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),n.length>0&&(0,Sn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(i===e.id?"bg-white text-blue-600 font-semibold":"bg-red-500 text-white"),children:n.length})]},e.id)})}),c&&(0,Sn.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Sn.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-3",children:"Configura\xe7\xf5es:"}),(0,Sn.jsx)("div",{className:"space-y-2",children:Object.entries(g).map(e=>{let[t,n]=e;return(0,Sn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:n,onChange:e=>v((0,_e.A)((0,_e.A)({},g),{},{[t]:e.target.checked})),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-xs text-blue-800 dark:text-blue-200",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())})]},t)})})]})]}),(0,Sn.jsxs)("div",{className:"flex-1 p-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-foreground",children:[P.length," problema(s) encontrado(s)"]}),(0,Sn.jsxs)("p",{className:"text-sm text-muted-foreground",children:[r.filter(e=>"error"===e.severity).length," erro(s),",r.filter(e=>"warning"===e.severity).length," aviso(s),",r.filter(e=>"info"===e.severity).length," informa\xe7\xe3o(is)"]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:B,disabled:s,className:"btn-primary flex items-center",children:[(0,Sn.jsx)(ln,{className:"mr-2 h-4 w-4"}),s?"Analisando...":"Feedback Light Novel"]}),(0,Sn.jsxs)("button",{onClick:C,disabled:s,className:"btn-outline flex items-center",children:[(0,Sn.jsx)(er,{className:"mr-2 h-4 w-4 ".concat(s?"animate-spin":"")}),s?"Verificando...":"Verificar Novamente"]})]})]}),(0,Sn.jsx)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:P.length>0?P.map((e,t)=>(0,Sn.jsx)("div",{className:"p-4 border rounded-lg ".concat(Q(e.severity)),children:(0,Sn.jsx)("div",{className:"flex items-start justify-between",children:(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[O(e.severity),(0,Sn.jsx)("h4",{className:"font-medium",children:e.title}),(0,Sn.jsx)("span",{className:"text-xs px-2 py-1 bg-white/20 rounded",children:e.location})]}),(0,Sn.jsx)("p",{className:"text-sm mb-2",children:e.description}),e.suggestion&&(0,Sn.jsxs)("div",{className:"bg-white/20 p-3 rounded",children:[(0,Sn.jsx)("p",{className:"text-sm font-medium mb-1",children:"Sugest\xe3o:"}),(0,Sn.jsx)("p",{className:"text-sm",children:e.suggestion})]})]})})},"".concat(e.id,"-").concat(t))):(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(gn,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Nenhum problema encontrado!"}),(0,Sn.jsx)("p",{className:"text-muted-foreground",children:"Sua hist\xf3ria est\xe1 consistente. Continue assim!"})]})}),P.length>0&&(0,Sn.jsx)("div",{className:"mt-6 pt-4 border-t border-border",children:(0,Sn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("div",{className:"text-2xl font-bold text-red-600",children:P.filter(e=>"error"===e.severity).length}),(0,Sn.jsx)("div",{className:"text-sm text-muted-foreground",children:"Erros"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:P.filter(e=>"warning"===e.severity).length}),(0,Sn.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avisos"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:P.filter(e=>"info"===e.severity).length}),(0,Sn.jsx)("div",{className:"text-sm text-muted-foreground",children:"Informa\xe7\xf5es"})]})]})})]})]}),u&&h&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-4xl h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(ln,{className:"h-6 w-6 text-primary"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Feedback de Light Novel"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"An\xe1lise especializada para o g\xeanero"})]})]}),(0,Sn.jsx)("button",{onClick:()=>d(!1),className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded-lg",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsxs)("div",{className:"p-6 overflow-y-auto h-full",children:[(0,Sn.jsxs)("div",{className:"mb-8",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Pontua\xe7\xe3o Geral"}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("div",{className:"text-3xl font-bold text-primary",children:[h.overallScore,"/10"]}),(0,Sn.jsx)("div",{className:"flex",children:[...Array(10)].map((e,t)=>(0,Sn.jsx)(ar,{className:"h-5 w-5 ".concat(t<h.overallScore?"text-yellow-500 fill-current":"text-gray-300")},t))})]})]}),(0,Sn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Sn.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(h.overallScore/10*100,"%")}})})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Object.entries(h.elements).map(e=>{let[t,n]=e;return(0,Sn.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Sn.jsx)("h4",{className:"font-medium text-foreground capitalize",children:t.replace(/([A-Z])/g," $1").trim()}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsxs)("span",{className:"text-sm font-bold text-primary",children:[n.score,"/10"]}),(0,Sn.jsx)("div",{className:"flex",children:[...Array(10)].map((e,t)=>(0,Sn.jsx)(ar,{className:"h-3 w-3 ".concat(t<n.score?"text-yellow-500 fill-current":"text-gray-300")},t))})]})]}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:n.feedback})]},t)})}),h.strengths.length>0&&(0,Sn.jsxs)("div",{className:"mb-6",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center",children:[(0,Sn.jsx)(gn,{className:"h-5 w-5 text-green-500 mr-2"}),"Pontos Fortes"]}),(0,Sn.jsx)("div",{className:"space-y-2",children:h.strengths.map((e,t)=>(0,Sn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e})]},t))})]}),h.weaknesses.length>0&&(0,Sn.jsxs)("div",{className:"mb-6",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center",children:[(0,Sn.jsx)(vn,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Pontos de Melhoria"]}),(0,Sn.jsx)("div",{className:"space-y-2",children:h.weaknesses.map((e,t)=>(0,Sn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e})]},t))})]}),h.suggestions.length>0&&(0,Sn.jsxs)("div",{className:"mb-6",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-foreground mb-3 flex items-center",children:[(0,Sn.jsx)(In,{className:"h-5 w-5 text-blue-500 mr-2"}),"Sugest\xf5es de Melhoria"]}),(0,Sn.jsx)("div",{className:"space-y-2",children:h.suggestions.map((e,t)=>(0,Sn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e})]},t))})]}),(0,Sn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,Sn.jsx)("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Pr\xf3ximos Passos Recomendados:"}),(0,Sn.jsxs)("div",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[(0,Sn.jsx)("p",{children:"1. Foque nos pontos de melhoria identificados"}),(0,Sn.jsx)("p",{children:"2. Implemente as sugest\xf5es de melhoria"}),(0,Sn.jsx)("p",{children:"3. Revise e refine os elementos com pontua\xe7\xe3o baixa"}),(0,Sn.jsx)("p",{children:"4. Continue desenvolvendo os pontos fortes"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border",children:[(0,Sn.jsx)("button",{onClick:()=>d(!1),className:"btn-outline",children:"Fechar"}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>m(!0),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(on,{className:"mr-2 h-4 w-4"}),"Aplicar Melhorias"]}),(0,Sn.jsxs)("button",{onClick:()=>{B()},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(er,{className:"mr-2 h-4 w-4"}),"Reanalisar"]})]})]})]})]})}),p&&h&&(0,Sn.jsx)(or,{feedback:h,onClose:()=>m(!1),onImprovementsApplied:e=>{console.log("Melhorias aplicadas:",e),m(!1),setTimeout(()=>{B()},1e3)}})]})})},lr=Jt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),cr=Jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ar=Jt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ur=Jt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),dr=Jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),hr=Jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),fr=Jt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),pr=Jt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),mr=Jt("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),gr=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),vr=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xr=Jt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),yr=Jt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),br=e=>{let{onClose:n,type:r="volume",itemId:a=null}=e;const[s,o]=(0,t.useState)(null),[i,l]=(0,t.useState)(null),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(null),{currentProject:g,projectStructure:v,updateVolume:x,updateChapter:y,addVolumeCover:b,addChapterCover:w,removeVolumeCover:N,removeChapterCover:B}=(0,mn.A)(),j=(()=>{var e;if("volume"===r)return null===v||void 0===v||null===(e=v.volumes)||void 0===e?void 0:e.find(e=>e.id===a);for(const n of(null===v||void 0===v?void 0:v.volumes)||[]){var t;const e=null===(t=n.chapters)||void 0===t?void 0:t.find(e=>e.id===a);if(e)return(0,_e.A)((0,_e.A)({},e),{},{volumeId:n.id})}return null})(),C=null===j||void 0===j?void 0:j.cover;return(0,Sn.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(cr,{className:"h-6 w-6 text-blue-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h2",{className:"text-xl font-semibold",children:["Gerenciar Capa - ","volume"===r?"Volume":"Cap\xedtulo"]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:(null===j||void 0===j?void 0:j.title)||"Item n\xe3o encontrado"})]})]}),(0,Sn.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsxs)("div",{className:"p-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-medium",children:"Upload de Capa"}),C&&!u&&(0,Sn.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Capa Atual"}),(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)("img",{src:C.url,alt:"Capa atual",className:"w-full h-48 object-cover rounded-lg"}),(0,Sn.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>d(!0),className:"p-1 bg-white rounded shadow-sm hover:bg-gray-50",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:async()=>{if(j)try{"volume"===r?await N(a):await B(j.volumeId,a)}catch(e){console.error("Erro ao remover capa:",e)}},className:"p-1 bg-white rounded shadow-sm hover:bg-gray-50 text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,Sn.jsxs)("p",{children:["Arquivo: ",C.filename]}),(0,Sn.jsxs)("p",{children:["Tamanho: ",(C.size/1024).toFixed(1)," KB"]}),(0,Sn.jsxs)("p",{children:["Upload: ",new Date(C.uploadedAt).toLocaleDateString()]})]})]}),(!C||u)&&(0,Sn.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,Sn.jsx)("input",{ref:p,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/")){o(t);const e=new FileReader;e.onload=e=>{l(e.target.result),d(!0)},e.readAsDataURL(t)}},className:"hidden"}),i?(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>{if(!m.current||!i)return;const e=m.current,t=e.getContext("2d"),n=new cr;n.onload=()=>{const r=Math.min(300/n.width,400/n.height);e.width=n.width*r,e.height=n.height*r,t.drawImage(n,0,0,e.width,e.height);const a=e.toDataURL("image/jpeg",.8);l(a),f({width:e.width,height:e.height,ratio:r})},n.src=i},className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:[(0,Sn.jsx)(yr,{className:"h-4 w-4 inline mr-1"}),"Ajustar"]}),(0,Sn.jsx)("button",{onClick:()=>{o(null),l(null),d(!1)},className:"px-3 py-1 bg-gray-400 text-white rounded text-sm hover:bg-gray-500",children:"Cancelar"})]})]}):(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)(hn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("p",{className:"text-gray-600 mb-2",children:"Clique para selecionar uma imagem"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"PNG, JPG, JPEG at\xe9 5MB"}),(0,Sn.jsx)("button",{onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Selecionar Imagem"})]})]}),i&&(0,Sn.jsx)("button",{onClick:async()=>{if(s&&j){A(!0);try{const e={id:"".concat(r,"_").concat(a,"_").concat(Date.now()),url:i,filename:s.name,size:s.size,type:s.type,uploadedAt:(new Date).toISOString(),cropData:h};"volume"===r?await b(a,e):await w(j.volumeId,a,e),o(null),l(null),d(!1),f(null)}catch(e){console.error("Erro ao fazer upload:",e)}finally{A(!1)}}},disabled:c,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center justify-center",children:c?(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Fazendo Upload..."]}):(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(pn,{className:"h-4 w-4 mr-2"}),"Salvar Capa"]})})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-medium",children:"Visualiza\xe7\xe3o"}),(0,Sn.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Como aparecer\xe1"}),"volume"===r&&(0,Sn.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-4 rounded-lg",children:[(0,Sn.jsx)("div",{className:"w-32 h-40 mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:C?(0,Sn.jsx)("img",{src:C.url,alt:"Preview",className:"w-full h-full object-cover"}):(0,Sn.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Sn.jsx)(cr,{className:"h-8 w-8 text-gray-400"})})}),(0,Sn.jsx)("p",{className:"text-center text-sm text-gray-600 mt-2",children:"Capa do Volume"})]}),"chapter"===r&&(0,Sn.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 p-4 rounded-lg",children:[(0,Sn.jsx)("div",{className:"w-24 h-32 mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:C?(0,Sn.jsx)("img",{src:C.url,alt:"Preview",className:"w-full h-full object-cover"}):(0,Sn.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Sn.jsx)(cr,{className:"h-6 w-6 text-gray-400"})})}),(0,Sn.jsx)("p",{className:"text-center text-sm text-gray-600 mt-2",children:"Capa do Cap\xedtulo"})]})]}),(0,Sn.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Diretrizes para Capas"}),(0,Sn.jsxs)("ul",{className:"text-xs text-yellow-700 space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 Resolu\xe7\xe3o m\xednima: 300x400 pixels"}),(0,Sn.jsx)("li",{children:"\u2022 Formato: PNG, JPG, JPEG"}),(0,Sn.jsx)("li",{children:"\u2022 Tamanho m\xe1ximo: 5MB"}),(0,Sn.jsx)("li",{children:"\u2022 Propor\xe7\xe3o recomendada: 3:4"}),(0,Sn.jsx)("li",{children:"\u2022 Evite texto pequeno ou detalhes finos"})]})]})]})]}),(0,Sn.jsx)("canvas",{ref:m,style:{display:"none"}})]})]})})},wr=e=>{var n;let{onClose:r}=e;const[a,s]=(0,t.useState)(1),[o,i]=(0,t.useState)(1),[l,c]=(0,t.useState)(!1),[A,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(16),[f,p]=(0,t.useState)(1.6),[m,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(1),[y,b]=(0,t.useState)("book"),[w,N]=(0,t.useState)(!1),[B,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[E,S]=(0,t.useState)("volume"),[_,F]=(0,t.useState)(null),{currentProject:U,projectStructure:I}=(0,mn.A)(),L=(null===I||void 0===I||null===(n=I.volumes)||void 0===n?void 0:n.length)>0?I:{volumes:[{id:1,title:"Volume 1: Introdu\xe7\xe3o",chapters:[{id:1,title:"Cap\xedtulo 1: In\xedcio",content:(null===U||void 0===U?void 0:U.description)||"Nenhum conte\xfado dispon\xedvel. Comece a escrever no editor para ver o conte\xfado aqui."}]}]},Q=(e,t)=>{const n=L.volumes.find(t=>t.id===e),r=null===n||void 0===n?void 0:n.chapters.find(e=>e.id===t);return(null===r||void 0===r?void 0:r.content)||"Conte\xfado n\xe3o dispon\xedvel. Este cap\xedtulo ainda n\xe3o foi escrito."},O=L.volumes.some(e=>e.chapters.some(e=>e.content&&e.content.trim().length>0)),P=L.volumes.find(e=>e.id===a),T=null===P||void 0===P?void 0:P.chapters.find(e=>e.id===o),D=()=>{const e=M();if(e<H()-1){const t=P.chapters[e+1];i(t.id)}else if(a<L.volumes.length){const e=L.volumes.find(e=>e.id===a+1);e&&e.chapters.length>0&&(s(a+1),i(e.chapters[0].id))}},M=()=>(null===P||void 0===P?void 0:P.chapters.findIndex(e=>e.id===o))||0,H=()=>(null===P||void 0===P?void 0:P.chapters.length)||0;(0,t.useEffect)(()=>{if(L.volumes.length>0){const e=L.volumes[0];e.chapters.length>0&&(s(e.id),i(e.chapters[0].id))}},[L]),(0,t.useEffect)(()=>{if(m){const e=setInterval(()=>{const e=document.getElementById("novel-content");e&&(e.scrollTop+=v,e.scrollTop>=e.scrollHeight-e.clientHeight&&(D(),e.scrollTop=0))},100);return()=>clearInterval(e)}},[m,v,a,o]);return(0,Sn.jsxs)("div",{className:"fixed inset-0 z-50 w-screen h-screen overflow-hidden ".concat(A?"dark":""),children:[(0,Sn.jsxs)("div",{className:"w-full h-full flex flex-col ".concat(A?"bg-gray-900 text-white":"bg-amber-50 text-gray-900"),children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b ".concat(A?"bg-gray-800 border-gray-700":"bg-amber-100 border-amber-200"),children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsx)(Yt,{className:"h-6 w-6 text-amber-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-lg font-semibold",children:(null===U||void 0===U?void 0:U.title)||"Minha Light Novel"}),(0,Sn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[null===P||void 0===P?void 0:P.title," - ",null===T||void 0===T?void 0:T.title]}),!O&&(0,Sn.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"\u26a0\ufe0f Nenhum conte\xfado encontrado. Escreva no editor para ver o conte\xfado aqui."})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>j(!B),className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700",title:"Sum\xe1rio",children:(0,Sn.jsx)(lr,{className:"h-5 w-5"})}),(0,Sn.jsx)("button",{onClick:()=>N(!w),className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700",title:"Configura\xe7\xf5es",children:(0,Sn.jsx)(sn,{className:"h-5 w-5"})}),(0,Sn.jsx)("button",{onClick:()=>{return e=a,S("volume"),F(e),void k(!0);var e},className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700",title:"Gerenciar Capa do Volume",children:(0,Sn.jsx)(cr,{className:"h-5 w-5"})}),(0,Sn.jsx)("button",{onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),c(!1)):(document.documentElement.requestFullscreen(),c(!0))},className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700",title:l?"Sair da tela cheia":"Tela cheia",children:l?(0,Sn.jsx)(Ar,{className:"h-5 w-5"}):(0,Sn.jsx)(ur,{className:"h-5 w-5"})}),(0,Sn.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700",title:"Fechar",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]})]}),(0,Sn.jsxs)("div",{className:"flex w-full h-full flex-1",children:[B&&(0,Sn.jsx)("div",{className:"w-80 border-r ".concat(A?"bg-gray-800 border-gray-700":"bg-amber-50 border-amber-200"),children:(0,Sn.jsxs)("div",{className:"p-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Sum\xe1rio"}),(0,Sn.jsx)("div",{className:"space-y-4",children:L.volumes.map(e=>(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsx)("h4",{className:"font-medium text-amber-600",children:e.title}),(0,Sn.jsx)("div",{className:"ml-4 space-y-1",children:e.chapters.map(t=>(0,Sn.jsx)("button",{onClick:()=>{return n=e.id,r=t.id,s(n),i(r),void j(!1);var n,r},className:"w-full text-left p-2 rounded text-sm hover:bg-amber-200 dark:hover:bg-gray-700 ".concat(a===e.id&&o===t.id?"bg-amber-300 dark:bg-gray-600":""),children:t.title},t.id))})]},e.id))})]})}),w&&(0,Sn.jsx)("div",{className:"w-80 border-r ".concat(A?"bg-gray-800 border-gray-700":"bg-amber-50 border-amber-200"),children:(0,Sn.jsxs)("div",{className:"p-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Configura\xe7\xf5es"}),(0,Sn.jsx)("div",{className:"mb-4",children:(0,Sn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:A,onChange:e=>u(e.target.checked),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Modo Escuro"}),A?(0,Sn.jsx)(dr,{className:"h-4 w-4"}):(0,Sn.jsx)(hr,{className:"h-4 w-4"})]})}),(0,Sn.jsxs)("div",{className:"mb-4",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tamanho da Fonte"}),(0,Sn.jsx)("input",{type:"range",min:"12",max:"24",value:d,onChange:e=>h(parseInt(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[d,"px"]})]}),(0,Sn.jsxs)("div",{className:"mb-4",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Altura da Linha"}),(0,Sn.jsx)("input",{type:"range",min:"1.2",max:"2.0",step:"0.1",value:f,onChange:e=>p(parseFloat(e.target.value)),className:"w-full"}),(0,Sn.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:f})]}),(0,Sn.jsxs)("div",{className:"mb-4",children:[(0,Sn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Auto-scroll"}),m?(0,Sn.jsx)(fr,{className:"h-4 w-4"}):(0,Sn.jsx)(pr,{className:"h-4 w-4"})]}),m&&(0,Sn.jsxs)("div",{className:"mt-2 ml-6",children:[(0,Sn.jsx)("label",{className:"block text-xs mb-1",children:"Velocidade"}),(0,Sn.jsx)("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:v,onChange:e=>x(parseFloat(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[v,"x"]})]})]}),(0,Sn.jsxs)("div",{className:"mb-4",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Modo de Visualiza\xe7\xe3o"}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>b("book"),className:"p-2 rounded ".concat("book"===y?"bg-amber-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700"),title:"Livro",children:(0,Sn.jsx)(ln,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>b("list"),className:"p-2 rounded ".concat("list"===y?"bg-amber-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700"),title:"Lista",children:(0,Sn.jsx)(lr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>b("grid"),className:"p-2 rounded ".concat("grid"===y?"bg-amber-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700"),title:"Grade",children:(0,Sn.jsx)(mr,{className:"h-4 w-4"})})]})]})]})}),(0,Sn.jsxs)("div",{className:"flex-1 flex flex-col w-full",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b ".concat(A?"bg-gray-800 border-gray-700":"bg-amber-100 border-amber-200"),children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsx)("button",{onClick:()=>{const e=M();if(e>0){const t=P.chapters[e-1];i(t.id)}else if(a>1){const e=L.volumes.find(e=>e.id===a-1);e&&e.chapters.length>0&&(s(a-1),i(e.chapters[e.chapters.length-1].id))}},disabled:1===a&&0===M(),className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700 disabled:opacity-50",title:"Cap\xedtulo Anterior",children:(0,Sn.jsx)(gr,{className:"h-5 w-5"})}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("span",{className:"text-sm",children:["Volume ",(null===P||void 0===P?void 0:P.title)||a]}),(0,Sn.jsx)("span",{className:"text-gray-400",children:"|"}),(0,Sn.jsxs)("span",{className:"text-sm",children:["Cap\xedtulo ",M()+1]})]}),(0,Sn.jsx)("button",{onClick:D,disabled:a===L.volumes.length&&M()===H()-1,className:"p-2 rounded-lg hover:bg-amber-200 dark:hover:bg-gray-700 disabled:opacity-50",title:"Pr\xf3ximo Cap\xedtulo",children:(0,Sn.jsx)(vr,{className:"h-5 w-5"})})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("span",{className:"text-sm",children:[M()+1," de ",H()," cap\xedtulos"]}),(0,Sn.jsx)("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat((M()+1)/H()*100,"%")}})})]})]}),(0,Sn.jsx)("div",{className:"flex-1 overflow-hidden w-full",children:"book"===y?(0,Sn.jsxs)("div",{className:"h-full flex w-full",children:[(0,Sn.jsx)("div",{className:"flex-1 p-8 ".concat(A?"bg-gray-900":"bg-amber-50"),children:(0,Sn.jsx)("div",{id:"novel-content",className:"h-full overflow-y-auto pr-4 ".concat(A?"text-gray-100":"text-gray-900"),style:{fontSize:"".concat(d,"px"),lineHeight:f,fontFamily:"serif"},children:(0,Sn.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(null===T||void 0===T?void 0:T.cover)&&(0,Sn.jsx)("div",{className:"mb-6 flex justify-center",children:(0,Sn.jsx)("div",{className:"w-32 h-40 bg-white rounded-lg shadow-lg overflow-hidden",children:(0,Sn.jsx)("img",{src:T.cover.url,alt:"Capa do ".concat(T.title),className:"w-full h-full object-cover"})})}),(0,Sn.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:null===T||void 0===T?void 0:T.title}),(0,Sn.jsx)("div",{className:"prose prose-lg max-w-none",children:(()=>{const e=Q(a,o);return e.includes("<")?(0,Sn.jsx)("div",{dangerouslySetInnerHTML:{__html:e},className:"text-justify leading-relaxed"}):e.split("\n\n").map((e,t)=>(0,Sn.jsx)("p",{className:"mb-4 text-justify leading-relaxed",children:e},t))})()})]})})}),(0,Sn.jsx)("div",{className:"flex-1 p-8 ".concat(A?"bg-gray-900":"bg-amber-50"),children:(0,Sn.jsx)("div",{className:"h-full border-l ".concat(A?"border-gray-700":"border-amber-200"),children:(0,Sn.jsxs)("div",{className:"p-4",children:[(null===P||void 0===P?void 0:P.cover)&&(0,Sn.jsx)("div",{className:"mb-6 flex justify-center",children:(0,Sn.jsx)("div",{className:"w-40 h-52 bg-white rounded-lg shadow-lg overflow-hidden",children:(0,Sn.jsx)("img",{src:P.cover.url,alt:"Capa do ".concat(P.title),className:"w-full h-full object-cover"})})}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Notas do Cap\xedtulo"}),(0,Sn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Sn.jsx)("p",{children:"\u2022 Este cap\xedtulo introduz novos elementos da hist\xf3ria"}),(0,Sn.jsx)("p",{children:"\u2022 Desenvolvimento do personagem principal"}),(0,Sn.jsx)("p",{children:"\u2022 Prepara\xe7\xe3o para eventos futuros"})]})]})})})]}):"list"===y?(0,Sn.jsx)("div",{className:"h-full w-full p-8 ".concat(A?"bg-gray-900":"bg-amber-50"),children:(0,Sn.jsx)("div",{id:"novel-content",className:"h-full overflow-y-auto ".concat(A?"text-gray-100":"text-gray-900"),style:{fontSize:"".concat(d,"px"),lineHeight:f},children:(0,Sn.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(null===T||void 0===T?void 0:T.cover)&&(0,Sn.jsx)("div",{className:"mb-8 flex justify-center",children:(0,Sn.jsx)("div",{className:"w-40 h-52 bg-white rounded-lg shadow-lg overflow-hidden",children:(0,Sn.jsx)("img",{src:T.cover.url,alt:"Capa do ".concat(T.title),className:"w-full h-full object-cover"})})}),(0,Sn.jsx)("h2",{className:"text-3xl font-bold mb-8 text-center",children:null===T||void 0===T?void 0:T.title}),(0,Sn.jsx)("div",{className:"prose prose-xl max-w-none",children:(()=>{const e=Q(a,o);return e.includes("<")?(0,Sn.jsx)("div",{dangerouslySetInnerHTML:{__html:e},className:"text-justify leading-relaxed"}):e.split("\n\n").map((e,t)=>(0,Sn.jsx)("p",{className:"mb-6 text-justify leading-relaxed",children:e},t))})()})]})})}):(0,Sn.jsx)("div",{className:"h-full w-full p-8 ".concat(A?"bg-gray-900":"bg-amber-50"),children:(0,Sn.jsx)("div",{id:"novel-content",className:"h-full overflow-y-auto ".concat(A?"text-gray-100":"text-gray-900"),style:{fontSize:"".concat(d,"px"),lineHeight:f},children:(0,Sn.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Sn.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:null===T||void 0===T?void 0:T.title}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,Sn.jsx)("div",{className:"prose prose-lg max-w-none",children:(()=>{const e=Q(a,o),t=e.includes("<")?[e]:e.split("\n\n"),n=Math.ceil(t.length/2);return t.slice(0,n).map((t,n)=>(0,Sn.jsx)("div",{className:"mb-4 text-justify leading-relaxed",children:e.includes("<")?(0,Sn.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):(0,Sn.jsx)("p",{children:t})},n))})()}),(0,Sn.jsx)("div",{className:"prose prose-lg max-w-none",children:(()=>{const e=Q(a,o),t=e.includes("<")?[e]:e.split("\n\n"),n=Math.ceil(t.length/2);return t.slice(n).map((t,n)=>(0,Sn.jsx)("div",{className:"mb-4 text-justify leading-relaxed",children:e.includes("<")?(0,Sn.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}):(0,Sn.jsx)("p",{children:t})},n))})()})]})]})})})})]})]})]}),C&&(0,Sn.jsx)(br,{onClose:()=>k(!1),type:E,itemId:_})]})};var Nr=n(2284),Br=Uint8Array,jr=Uint16Array,Cr=Int32Array,kr=new Br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Er=new Br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Sr=new Br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_r=function(e,t){for(var n=new jr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new Cr(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return{b:n,r:a}},Fr=_r(kr,2),Ur=Fr.b,Ir=Fr.r;Ur[28]=258,Ir[258]=28;for(var Lr=_r(Er,0),Qr=(Lr.b,Lr.r),Or=new jr(32768),Pr=0;Pr<32768;++Pr){var Tr=(43690&Pr)>>1|(21845&Pr)<<1;Tr=(61680&(Tr=(52428&Tr)>>2|(13107&Tr)<<2))>>4|(3855&Tr)<<4,Or[Pr]=((65280&Tr)>>8|(255&Tr)<<8)>>1}var Dr=function(e,t,n){for(var r=e.length,a=0,s=new jr(t);a<r;++a)e[a]&&++s[e[a]-1];var o,i=new jr(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;if(n){o=new jr(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],A=t-e[a],u=i[e[a]-1]++<<A,d=u|(1<<A)-1;u<=d;++u)o[Or[u]>>l]=c}else for(o=new jr(r),a=0;a<r;++a)e[a]&&(o[a]=Or[i[e[a]-1]++]>>15-e[a]);return o},Mr=new Br(288);for(Pr=0;Pr<144;++Pr)Mr[Pr]=8;for(Pr=144;Pr<256;++Pr)Mr[Pr]=9;for(Pr=256;Pr<280;++Pr)Mr[Pr]=7;for(Pr=280;Pr<288;++Pr)Mr[Pr]=8;var Hr=new Br(32);for(Pr=0;Pr<32;++Pr)Hr[Pr]=5;var Rr=Dr(Mr,9,0),qr=Dr(Hr,5,0),Kr=function(e){return(e+7)/8|0},zr=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Br(e.subarray(t,n))},Gr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Vr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Wr=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return{t:ta,l:0};if(1==a){var o=new Br(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var i=n[0],l=n[1],c=0,A=1,u=2;for(n[0]={s:-1,f:i.f+l.f,l:i,r:l};A!=a-1;)i=n[n[c].f<n[u].f?c++:u++],l=n[c!=A&&n[c].f<n[u].f?c++:u++],n[A++]={s:-1,f:i.f+l.f,l:i,r:l};var d=s[0].s;for(r=1;r<a;++r)s[r].s>d&&(d=s[r].s);var h=new jr(d+1),f=Xr(n[A-1],h,0);if(f>t){r=0;var p=0,m=f-t,g=1<<m;for(s.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});r<a;++r){var v=s[r].s;if(!(h[v]>t))break;p+=g-(1<<f-h[v]),h[v]=t}for(p>>=m;p>0;){var x=s[r].s;h[x]<t?p-=1<<t-h[x]++-1:++r}for(;r>=0&&p;--r){var y=s[r].s;h[y]==t&&(--h[y],++p)}f=t}return{t:new Br(h),l:f}},Xr=function(e,t,n){return-1==e.s?Math.max(Xr(e.l,t,n+1),Xr(e.r,t,n+1)):t[e.s]=n},Jr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new jr(++t),r=0,a=e[0],s=1,o=function(e){n[r++]=e},i=1;i<=t;++i)if(e[i]==a&&i!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[i]}return{c:n.subarray(0,r),n:t}},Yr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Zr=function(e,t,n){var r=n.length,a=Kr(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<r;++s)e[a+s+4]=n[s];return 8*(a+4+r)},$r=function(e,t,n,r,a,s,o,i,l,c,A){Gr(t,A++,n),++a[256];for(var u=Wr(a,15),d=u.t,h=u.l,f=Wr(s,15),p=f.t,m=f.l,g=Jr(d),v=g.c,x=g.n,y=Jr(p),b=y.c,w=y.n,N=new jr(19),B=0;B<v.length;++B)++N[31&v[B]];for(B=0;B<b.length;++B)++N[31&b[B]];for(var j=Wr(N,7),C=j.t,k=j.l,E=19;E>4&&!C[Sr[E-1]];--E);var S,_,F,U,I=c+5<<3,L=Yr(a,Mr)+Yr(s,Hr)+o,Q=Yr(a,d)+Yr(s,p)+o+14+3*E+Yr(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&I<=L&&I<=Q)return Zr(t,A,e.subarray(l,l+c));if(Gr(t,A,1+(Q<L)),A+=2,Q<L){S=Dr(d,h,0),_=d,F=Dr(p,m,0),U=p;var O=Dr(C,k,0);Gr(t,A,x-257),Gr(t,A+5,w-1),Gr(t,A+10,E-4),A+=14;for(B=0;B<E;++B)Gr(t,A+3*B,C[Sr[B]]);A+=3*E;for(var P=[v,b],T=0;T<2;++T){var D=P[T];for(B=0;B<D.length;++B){var M=31&D[B];Gr(t,A,O[M]),A+=C[M],M>15&&(Gr(t,A,D[B]>>5&127),A+=D[B]>>12)}}}else S=Rr,_=Mr,F=qr,U=Hr;for(B=0;B<i;++B){var H=r[B];if(H>255){Vr(t,A,S[(M=H>>18&31)+257]),A+=_[M+257],M>7&&(Gr(t,A,H>>23&31),A+=kr[M]);var R=31&H;Vr(t,A,F[R]),A+=U[R],R>3&&(Vr(t,A,H>>5&8191),A+=Er[R])}else Vr(t,A,S[H]),A+=_[H]}return Vr(t,A,S[256]),A+_[256]},ea=new Cr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ta=new Br(0),na=function(e,t,n,r,a,s){var o=s.z||e.length,i=new Br(r+o+5*(1+Math.ceil(o/7e3))+a),l=i.subarray(r,i.length-a),c=s.l,A=7&(s.r||0);if(t){A&&(l[0]=s.r>>3);for(var u=ea[t-1],d=u>>13,h=8191&u,f=(1<<n)-1,p=s.p||new jr(32768),m=s.h||new jr(f+1),g=Math.ceil(n/3),v=2*g,x=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<v)&f},y=new Cr(25e3),b=new jr(288),w=new jr(32),N=0,B=0,j=s.i||0,C=0,k=s.w||0,E=0;j+2<o;++j){var S=x(j),_=32767&j,F=m[S];if(p[_]=F,m[S]=_,k<=j){var U=o-j;if((N>7e3||C>24576)&&(U>423||!c)){A=$r(e,l,0,y,b,w,B,C,E,j-E,A),C=N=B=0,E=j;for(var I=0;I<286;++I)b[I]=0;for(I=0;I<30;++I)w[I]=0}var L=2,Q=0,O=h,P=_-F&32767;if(U>2&&S==x(j-P))for(var T=Math.min(d,U)-1,D=Math.min(32767,j),M=Math.min(258,U);P<=D&&--O&&_!=F;){if(e[j+L]==e[j+L-P]){for(var H=0;H<M&&e[j+H]==e[j+H-P];++H);if(H>L){if(L=H,Q=P,H>T)break;var R=Math.min(P,H-2),q=0;for(I=0;I<R;++I){var K=j-P+I&32767,z=K-p[K]&32767;z>q&&(q=z,F=K)}}}P+=(_=F)-(F=p[_])&32767}if(Q){y[C++]=268435456|Ir[L]<<18|Qr[Q];var G=31&Ir[L],V=31&Qr[Q];B+=kr[G]+Er[V],++b[257+G],++w[V],k=j+L,++N}else y[C++]=e[j],++b[e[j]]}}for(j=Math.max(j,k);j<o;++j)y[C++]=e[j],++b[e[j]];A=$r(e,l,c,y,b,w,B,C,E,j-E,A),c||(s.r=7&A|l[A/8|0]<<3,A-=7,s.h=m,s.p=p,s.i=j,s.w=k)}else{for(j=s.w||0;j<o+c;j+=65535){var W=j+65535;W>=o&&(l[A/8|0]=c,W=o),A=Zr(l,A+1,e.subarray(j,W))}s.i=o}return zr(i,0,r+Kr(A)+a)},ra=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,s=0|n.length,o=0;o!=s;){for(var i=Math.min(o+2655,s);o<i;++o)a+=r+=n[o];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},aa=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Br(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return na(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},sa=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},oa=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=ra();a.p(t.dictionary),sa(e,2,a.d())}};function ia(e,t){t||(t={});var n=ra();n.p(e);var r=aa(e,t,t.dictionary?6:2,4);return oa(r,t),sa(r,r.length-4,n.d()),r}var la="undefined"!=typeof TextDecoder&&new TextDecoder;try{la.decode(ta,{stream:!0})}catch(Fe){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,o,i=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ca(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ua=n(4980);function da(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const ha=new TextEncoder;const fa=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),pa={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ma{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ua.A)(this,"buffer",void 0),(0,ua.A)(this,"byteLength",void 0),(0,ua.A)(this,"byteOffset",void 0),(0,ua.A)(this,"length",void 0),(0,ua.A)(this,"offset",void 0),(0,ua.A)(this,"lastWrittenByte",void 0),(0,ua.A)(this,"littleEndian",void 0),(0,ua.A)(this,"_data",void 0),(0,ua.A)(this,"_mark",void 0),(0,ua.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let s=r;(ArrayBuffer.isView(e)||e instanceof ma)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=pa[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===fa&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new pa[t](e.buffer);return this.offset+=n,a.reverse(),a}const s=new pa[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return da(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return da(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return ha.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ga(e){let t=e.length;for(;--t>=0;)e[t]=0}const va=256,xa=286,ya=30,ba=15,wa=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Na=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ba=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ja=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ca=new Array(576);ga(Ca);const ka=new Array(60);ga(ka);const Ea=new Array(512);ga(Ea);const Sa=new Array(256);ga(Sa);const _a=new Array(29);ga(_a);const Fa=new Array(ya);function Ua(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let Ia,La,Qa;function Oa(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ga(Fa);const Pa=e=>e<256?Ea[e]:Ea[256+(e>>>7)],Ta=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Da=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Ta(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ma=(e,t,n)=>{Da(e,n[2*t],n[2*t+1])},Ha=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Ra=(e,t,n)=>{const r=new Array(16);let a,s,o=0;for(a=1;a<=ba;a++)o=o+n[a-1]<<1,r[a]=o;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Ha(r[t]++,t))}},qa=e=>{let t;for(t=0;t<xa;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ya;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ka=e=>{e.bi_valid>8?Ta(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},za=(e,t,n,r)=>{const a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&r[t]<=r[n]},Ga=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&za(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!za(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},Va=(e,t,n)=>{let r,a,s,o,i=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+i++],r+=(255&e.pending_buf[e.sym_buf+i++])<<8,a=e.pending_buf[e.sym_buf+i++],0===r?Ma(e,a,t):(s=Sa[a],Ma(e,s+va+1,t),o=wa[s],0!==o&&(a-=_a[s],Da(e,a,o)),r--,s=Pa(r),Ma(e,s,n),o=Na[s],0!==o&&(r-=Fa[s],Da(e,r,o)))}while(i<e.sym_next);Ma(e,256,t)},Wa=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,i,l,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==n[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)Ga(e,n,o);l=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ga(e,n,1),i=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=i,n[2*l]=n[2*o]+n[2*i],e.depth[l]=(e.depth[o]>=e.depth[i]?e.depth[o]:e.depth[i])+1,n[2*o+1]=n[2*i+1]=l,e.heap[1]=l++,Ga(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,i=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,A,u,d,h,f,p=0;for(d=0;d<=ba;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)A=e.heap[c],d=n[2*n[2*A+1]+1]+1,d>l&&(d=l,p++),n[2*A+1]=d,A>r||(e.bl_count[d]++,h=0,A>=i&&(h=o[A-i]),f=n[2*A],e.opt_len+=f*(d+h),s&&(e.static_len+=f*(a[2*A+1]+h)));if(0!==p){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,p-=2}while(p>0);for(d=l;0!==d;d--)for(A=e.bl_count[d];0!==A;)u=e.heap[--c],u>r||(n[2*u+1]!==d&&(e.opt_len+=(d-n[2*u+1])*n[2*u],n[2*u+1]=d),A--)}})(e,t),Ra(n,c,e.bl_count)},Xa=(e,t,n)=>{let r,a,s=-1,o=t[1],i=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++i<l&&a===o||(i<c?e.bl_tree[2*a]+=i:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[32]++):i<=10?e.bl_tree[34]++:e.bl_tree[36]++,i=0,s=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))},Ja=(e,t,n)=>{let r,a,s=-1,o=t[1],i=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++i<l&&a===o)){if(i<c)do{Ma(e,a,e.bl_tree)}while(0!==--i);else 0!==a?(a!==s&&(Ma(e,a,e.bl_tree),i--),Ma(e,16,e.bl_tree),Da(e,i-3,2)):i<=10?(Ma(e,17,e.bl_tree),Da(e,i-3,3)):(Ma(e,18,e.bl_tree),Da(e,i-11,7));i=0,s=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}};let Ya=!1;const Za=(e,t,n,r)=>{Da(e,0+(r?1:0),3),Ka(e),Ta(e,n),Ta(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var $a=e=>{Ya||((()=>{let e,t,n,r,a;const s=new Array(16);for(n=0,r=0;r<28;r++)for(_a[r]=n,e=0;e<1<<wa[r];e++)Sa[n++]=r;for(Sa[n-1]=r,a=0,r=0;r<16;r++)for(Fa[r]=a,e=0;e<1<<Na[r];e++)Ea[a++]=r;for(a>>=7;r<ya;r++)for(Fa[r]=a<<7,e=0;e<1<<Na[r]-7;e++)Ea[256+a++]=r;for(t=0;t<=ba;t++)s[t]=0;for(e=0;e<=143;)Ca[2*e+1]=8,e++,s[8]++;for(;e<=255;)Ca[2*e+1]=9,e++,s[9]++;for(;e<=279;)Ca[2*e+1]=7,e++,s[7]++;for(;e<=287;)Ca[2*e+1]=8,e++,s[8]++;for(Ra(Ca,287,s),e=0;e<ya;e++)ka[2*e+1]=5,ka[2*e]=Ha(e,5);Ia=new Ua(Ca,wa,257,xa,ba),La=new Ua(ka,Na,0,ya,ba),Qa=new Ua(new Array(0),Ba,0,19,7)})(),Ya=!0),e.l_desc=new Oa(e.dyn_ltree,Ia),e.d_desc=new Oa(e.dyn_dtree,La),e.bl_desc=new Oa(e.bl_tree,Qa),e.bi_buf=0,e.bi_valid=0,qa(e)},es=(e,t,n,r)=>{let a,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<va;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Wa(e,e.l_desc),Wa(e,e.d_desc),o=(e=>{let t;for(Xa(e,e.dyn_ltree,e.l_desc.max_code),Xa(e,e.dyn_dtree,e.d_desc.max_code),Wa(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ja[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?Za(e,t,n,r):4===e.strategy||s===a?(Da(e,2+(r?1:0),3),Va(e,Ca,ka)):(Da(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(Da(e,t-257,5),Da(e,n-1,5),Da(e,r-4,4),a=0;a<r;a++)Da(e,e.bl_tree[2*ja[a]+1],3);Ja(e,e.dyn_ltree,t-1),Ja(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Va(e,e.dyn_ltree,e.dyn_dtree)),qa(e),r&&Ka(e)},ts=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Sa[n]+va+1)]++,e.dyn_dtree[2*Pa(t)]++),e.sym_next===e.sym_end),ns=e=>{Da(e,2,3),Ma(e,256,Ca),(e=>{16===e.bi_valid?(Ta(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},rs={_tr_init:$a,_tr_stored_block:Za,_tr_flush_block:es,_tr_tally:ts,_tr_align:ns};var as=(e,t,n,r)=>{let a=65535&e,s=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{a=a+t[r++]|0,s=s+a|0}while(--o);a%=65521,s%=65521}return a|s<<16};const ss=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var os=(e,t,n,r)=>{const a=ss,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e},is={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ls={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:cs,_tr_stored_block:As,_tr_flush_block:us,_tr_tally:ds,_tr_align:hs}=rs,{Z_NO_FLUSH:fs,Z_PARTIAL_FLUSH:ps,Z_FULL_FLUSH:ms,Z_FINISH:gs,Z_BLOCK:vs,Z_OK:xs,Z_STREAM_END:ys,Z_STREAM_ERROR:bs,Z_DATA_ERROR:ws,Z_BUF_ERROR:Ns,Z_DEFAULT_COMPRESSION:Bs,Z_FILTERED:js,Z_HUFFMAN_ONLY:Cs,Z_RLE:ks,Z_FIXED:Es,Z_DEFAULT_STRATEGY:Ss,Z_UNKNOWN:_s,Z_DEFLATED:Fs}=ls,Us=258,Is=262,Ls=42,Qs=113,Os=666,Ps=(e,t)=>(e.msg=is[t],t),Ts=e=>2*e-(e>4?9:0),Ds=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ms=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let Hs=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Rs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},qs=(e,t)=>{us(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Rs(e.strm)},Ks=(e,t)=>{e.pending_buf[e.pending++]=t},zs=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Gs=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=as(e.adler,t,a,n):2===e.state.wrap&&(e.adler=os(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Vs=(e,t)=>{let n,r,a=e.max_chain_length,s=e.strstart,o=e.prev_length,i=e.nice_match;const l=e.strstart>e.w_size-Is?e.strstart-(e.w_size-Is):0,c=e.window,A=e.w_mask,u=e.prev,d=e.strstart+Us;let h=c[s+o-1],f=c[s+o];e.prev_length>=e.good_match&&(a>>=2),i>e.lookahead&&(i=e.lookahead);do{if(n=t,c[n+o]===f&&c[n+o-1]===h&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<d);if(r=Us-(d-s),s=d-Us,r>o){if(e.match_start=t,o=r,r>=i)break;h=c[s+o-1],f=c[s+o]}}}while((t=u[t&A])>l&&0!==--a);return o<=e.lookahead?o:e.lookahead},Ws=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Is)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ms(e),r+=t),0===e.strm.avail_in)break;if(n=Gs(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Hs(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Hs(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Is&&0!==e.strm.avail_in)},Xs=(e,t)=>{let n,r,a,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,i=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<s&&(0===n&&t!==gs||t===fs||n!==r+e.strm.avail_in))break;o=t===gs&&n===r+e.strm.avail_in?1:0,As(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Rs(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Gs(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return i-=e.strm.avail_in,i&&(i>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=i&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-i,e.strm.next_in),e.strstart),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==fs&&t!==gs&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Gs(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,s=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=s||(r||t===gs)&&t!==fs&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,o=t===gs&&0===e.strm.avail_in&&n===r?1:0,As(e,e.block_start,n,o),e.block_start+=n,Rs(e.strm)),o?3:1)},Js=(e,t)=>{let n,r;for(;;){if(e.lookahead<Is){if(Ws(e),e.lookahead<Is&&t===fs)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Hs(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Is&&(e.match_length=Vs(e,n)),e.match_length>=3)if(r=ds(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Hs(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Hs(e,e.ins_h,e.window[e.strstart+1]);else r=ds(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(qs(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===gs?(qs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qs(e,!1),0===e.strm.avail_out)?1:2},Ys=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<Is){if(Ws(e),e.lookahead<Is&&t===fs)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Hs(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Is&&(e.match_length=Vs(e,n),e.match_length<=5&&(e.strategy===js||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=ds(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Hs(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(qs(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=ds(e,0,e.window[e.strstart-1]),r&&qs(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ds(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===gs?(qs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qs(e,!1),0===e.strm.avail_out)?1:2};function Zs(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const $s=[new Zs(0,0,0,0,Xs),new Zs(4,4,8,4,Js),new Zs(4,5,16,8,Js),new Zs(4,6,32,32,Js),new Zs(4,4,16,16,Ys),new Zs(8,16,32,32,Ys),new Zs(8,16,128,128,Ys),new Zs(8,32,128,256,Ys),new Zs(32,128,258,1024,Ys),new Zs(32,258,258,4096,Ys)];function eo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ds(this.dyn_ltree),Ds(this.dyn_dtree),Ds(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ds(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ds(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const to=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ls&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Qs&&t.status!==Os?1:0},no=e=>{if(to(e))return Ps(e,bs);e.total_in=e.total_out=0,e.data_type=_s;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Ls:Qs,e.adler=2===t.wrap?0:1,t.last_flush=-2,cs(t),xs},ro=e=>{const t=no(e);return t===xs&&(e=>{e.window_size=2*e.w_size,Ds(e.head),e.max_lazy_match=$s[e.level].max_lazy,e.good_match=$s[e.level].good_length,e.nice_match=$s[e.level].nice_length,e.max_chain_length=$s[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},ao=(e,t,n,r,a,s)=>{if(!e)return bs;let o=1;if(t===Bs&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==Fs||r<8||r>15||t<0||t>9||s<0||s>Es||8===r&&1!==o)return Ps(e,bs);8===r&&(r=9);const i=new eo;return e.state=i,i.strm=e,i.status=Ls,i.wrap=o,i.gzhead=null,i.w_bits=r,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=a+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+3-1)/3),i.window=new Uint8Array(2*i.w_size),i.head=new Uint16Array(i.hash_size),i.prev=new Uint16Array(i.w_size),i.lit_bufsize=1<<a+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new Uint8Array(i.pending_buf_size),i.sym_buf=i.lit_bufsize,i.sym_end=3*(i.lit_bufsize-1),i.level=t,i.strategy=s,i.method=n,ro(e)};var so=(e,t)=>{if(to(e)||t>vs||t<0)return e?Ps(e,bs):bs;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Os&&t!==gs)return Ps(e,0===e.avail_out?Ns:bs);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Rs(e),0===e.avail_out)return n.last_flush=-1,xs}else if(0===e.avail_in&&Ts(t)<=Ts(r)&&t!==gs)return Ps(e,Ns);if(n.status===Os&&0!==e.avail_in)return Ps(e,Ns);if(n.status===Ls&&0===n.wrap&&(n.status=Qs),n.status===Ls){let t=Fs+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Cs||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,zs(n,t),0!==n.strstart&&(zs(n,e.adler>>>16),zs(n,65535&e.adler)),e.adler=1,n.status=Qs,Rs(e),0!==n.pending)return n.last_flush=-1,xs}if(57===n.status)if(e.adler=0,Ks(n,31),Ks(n,139),Ks(n,8),n.gzhead)Ks(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ks(n,255&n.gzhead.time),Ks(n,n.gzhead.time>>8&255),Ks(n,n.gzhead.time>>16&255),Ks(n,n.gzhead.time>>24&255),Ks(n,9===n.level?2:n.strategy>=Cs||n.level<2?4:0),Ks(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ks(n,255&n.gzhead.extra.length),Ks(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=os(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ks(n,0),Ks(n,0),Ks(n,0),Ks(n,0),Ks(n,0),Ks(n,9===n.level?2:n.strategy>=Cs||n.level<2?4:0),Ks(n,3),n.status=Qs,Rs(e),0!==n.pending)return n.last_flush=-1,xs;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=os(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,Rs(e),0!==n.pending)return n.last_flush=-1,xs;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=os(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=os(e.adler,n.pending_buf,n.pending-r,r)),Rs(e),0!==n.pending)return n.last_flush=-1,xs;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ks(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=os(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=os(e.adler,n.pending_buf,n.pending-r,r)),Rs(e),0!==n.pending)return n.last_flush=-1,xs;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ks(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=os(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Rs(e),0!==n.pending))return n.last_flush=-1,xs;Ks(n,255&e.adler),Ks(n,e.adler>>8&255),e.adler=0}if(n.status=Qs,Rs(e),0!==n.pending)return n.last_flush=-1,xs}if(0!==e.avail_in||0!==n.lookahead||t!==fs&&n.status!==Os){let r=0===n.level?Xs(n,t):n.strategy===Cs?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ws(e),0===e.lookahead)){if(t===fs)return 1;break}if(e.match_length=0,n=ds(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(qs(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===gs?(qs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qs(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ks?((e,t)=>{let n,r,a,s;const o=e.window;for(;;){if(e.lookahead<=Us){if(Ws(e),e.lookahead<=Us&&t===fs)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){s=e.strstart+Us;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);e.match_length=Us-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ds(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ds(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(qs(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===gs?(qs(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(qs(e,!1),0===e.strm.avail_out)?1:2})(n,t):$s[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Os),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),xs;if(2===r&&(t===ps?hs(n):t!==vs&&(As(n,0,0,!1),t===ms&&(Ds(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Rs(e),0===e.avail_out))return n.last_flush=-1,xs}return t!==gs?xs:n.wrap<=0?ys:(2===n.wrap?(Ks(n,255&e.adler),Ks(n,e.adler>>8&255),Ks(n,e.adler>>16&255),Ks(n,e.adler>>24&255),Ks(n,255&e.total_in),Ks(n,e.total_in>>8&255),Ks(n,e.total_in>>16&255),Ks(n,e.total_in>>24&255)):(zs(n,e.adler>>>16),zs(n,65535&e.adler)),Rs(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?xs:ys)},oo=(e,t)=>{let n=t.length;if(to(e))return bs;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==Ls||r.lookahead)return bs;if(1===a&&(e.adler=as(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(Ds(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,o=e.next_in,i=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ws(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Hs(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Ws(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=i,e.avail_in=s,r.wrap=a,xs},io={deflateInit:(e,t)=>ao(e,t,Fs,15,8,Ss),deflateInit2:ao,deflateReset:ro,deflateResetKeep:no,deflateSetHeader:(e,t)=>to(e)||2!==e.state.wrap?bs:(e.state.gzhead=t,xs),deflate:so,deflateEnd:e=>{if(to(e))return bs;const t=e.state.status;return e.state=null,t===Qs?Ps(e,ws):xs},deflateSetDictionary:oo,deflateInfo:"pako deflate (from Nodeca project)"};const lo=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var co=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)lo(n,t)&&(e[t]=n[t])}}return e},Ao=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,s=e.length;r<s;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let uo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(gw){uo=!1}const ho=new Uint8Array(256);for(let n=0;n<256;n++)ho[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ho[254]=ho[254]=1;var fo=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,s,o=e.length,i=0;for(a=0;a<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),i+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(i),s=0,a=0;s<i;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<o&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},po=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const s=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){s[a++]=t;continue}let o=ho[t];if(o>4)s[a++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?s[a++]=65533:t<65536?s[a++]=t:(t-=65536,s[a++]=55296|t>>10&1023,s[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&uo)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,a)},mo=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+ho[e[n]]>t?n:t};var go=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const vo=Object.prototype.toString,{Z_NO_FLUSH:xo,Z_SYNC_FLUSH:yo,Z_FULL_FLUSH:bo,Z_FINISH:wo,Z_OK:No,Z_STREAM_END:Bo,Z_DEFAULT_COMPRESSION:jo,Z_DEFAULT_STRATEGY:Co,Z_DEFLATED:ko}=ls;function Eo(e){this.options=co({level:jo,method:ko,chunkSize:16384,windowBits:15,memLevel:8,strategy:Co},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new go,this.strm.avail_out=0;let n=io.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==No)throw new Error(is[n]);if(t.header&&io.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?fo(t.dictionary):"[object ArrayBuffer]"===vo.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=io.deflateSetDictionary(this.strm,e),n!==No)throw new Error(is[n]);this._dict_set=!0}}function So(e,t){const n=new Eo(t);if(n.push(e,!0),n.err)throw n.msg||is[n.err];return n.result}Eo.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?wo:xo,"string"===typeof e?n.input=fo(e):"[object ArrayBuffer]"===vo.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===yo||s===bo)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=io.deflate(n,s),a===Bo)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=io.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===No;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Eo.prototype.onData=function(e){this.chunks.push(e)},Eo.prototype.onEnd=function(e){e===No&&(this.result=Ao(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var _o={Deflate:Eo,deflate:So,deflateRaw:function(e,t){return(t=t||{}).raw=!0,So(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,So(e,t)},constants:ls};const Fo=16209;var Uo=function(e,t){let n,r,a,s,o,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b,w,N,B,j;const C=e.state;n=e.next_in,B=e.input,r=n+(e.avail_in-5),a=e.next_out,j=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),i=C.dmax,l=C.wsize,c=C.whave,A=C.wnext,u=C.window,d=C.hold,h=C.bits,f=C.lencode,p=C.distcode,m=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;e:do{h<15&&(d+=B[n++]<<h,h+=8,d+=B[n++]<<h,h+=8),v=f[d&m];t:for(;;){if(x=v>>>24,d>>>=x,h-=x,x=v>>>16&255,0===x)j[a++]=65535&v;else{if(!(16&x)){if(0===(64&x)){v=f[(65535&v)+(d&(1<<x)-1)];continue t}if(32&x){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Fo;break e}y=65535&v,x&=15,x&&(h<x&&(d+=B[n++]<<h,h+=8),y+=d&(1<<x)-1,d>>>=x,h-=x),h<15&&(d+=B[n++]<<h,h+=8,d+=B[n++]<<h,h+=8),v=p[d&g];n:for(;;){if(x=v>>>24,d>>>=x,h-=x,x=v>>>16&255,!(16&x)){if(0===(64&x)){v=p[(65535&v)+(d&(1<<x)-1)];continue n}e.msg="invalid distance code",C.mode=Fo;break e}if(b=65535&v,x&=15,h<x&&(d+=B[n++]<<h,h+=8,h<x&&(d+=B[n++]<<h,h+=8)),b+=d&(1<<x)-1,b>i){e.msg="invalid distance too far back",C.mode=Fo;break e}if(d>>>=x,h-=x,x=a-s,b>x){if(x=b-x,x>c&&C.sane){e.msg="invalid distance too far back",C.mode=Fo;break e}if(w=0,N=u,0===A){if(w+=l-x,x<y){y-=x;do{j[a++]=u[w++]}while(--x);w=a-b,N=j}}else if(A<x){if(w+=l+A-x,x-=A,x<y){y-=x;do{j[a++]=u[w++]}while(--x);if(w=0,A<y){x=A,y-=x;do{j[a++]=u[w++]}while(--x);w=a-b,N=j}}}else if(w+=A-x,x<y){y-=x;do{j[a++]=u[w++]}while(--x);w=a-b,N=j}for(;y>2;)j[a++]=N[w++],j[a++]=N[w++],j[a++]=N[w++],y-=3;y&&(j[a++]=N[w++],y>1&&(j[a++]=N[w++]))}else{w=a-b;do{j[a++]=j[w++],j[a++]=j[w++],j[a++]=j[w++],y-=3}while(y>2);y&&(j[a++]=j[w++],y>1&&(j[a++]=j[w++]))}break}}break}}while(n<r&&a<o);y=h>>3,n-=y,h-=y<<3,d&=(1<<h)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),C.hold=d,C.bits=h};const Io=15,Lo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Qo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Po=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var To=(e,t,n,r,a,s,o,i)=>{const l=i.bits;let c,A,u,d,h,f,p=0,m=0,g=0,v=0,x=0,y=0,b=0,w=0,N=0,B=0,j=null;const C=new Uint16Array(16),k=new Uint16Array(16);let E,S,_,F=null;for(p=0;p<=Io;p++)C[p]=0;for(m=0;m<r;m++)C[t[n+m]]++;for(x=l,v=Io;v>=1&&0===C[v];v--);if(x>v&&(x=v),0===v)return a[s++]=20971520,a[s++]=20971520,i.bits=1,0;for(g=1;g<v&&0===C[g];g++);for(x<g&&(x=g),w=1,p=1;p<=Io;p++)if(w<<=1,w-=C[p],w<0)return-1;if(w>0&&(0===e||1!==v))return-1;for(k[1]=0,p=1;p<Io;p++)k[p+1]=k[p]+C[p];for(m=0;m<r;m++)0!==t[n+m]&&(o[k[t[n+m]]++]=m);if(0===e?(j=F=o,f=20):1===e?(j=Lo,F=Qo,f=257):(j=Oo,F=Po,f=0),B=0,m=0,p=g,h=s,y=x,b=0,u=-1,N=1<<x,d=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){E=p-b,o[m]+1<f?(S=0,_=o[m]):o[m]>=f?(S=F[o[m]-f],_=j[o[m]-f]):(S=96,_=0),c=1<<p-b,A=1<<y,g=A;do{A-=c,a[h+(B>>b)+A]=E<<24|S<<16|_}while(0!==A);for(c=1<<p-1;B&c;)c>>=1;if(0!==c?(B&=c-1,B+=c):B=0,m++,0===--C[p]){if(p===v)break;p=t[n+o[m]]}if(p>x&&(B&d)!==u){for(0===b&&(b=x),h+=g,y=p-b,w=1<<y;y+b<v&&(w-=C[y+b],!(w<=0));)y++,w<<=1;if(N+=1<<y,1===e&&N>852||2===e&&N>592)return 1;u=B&d,a[u]=x<<24|y<<16|h-s}}return 0!==B&&(a[h+B]=p-b<<24|64<<16),i.bits=x,0};const{Z_FINISH:Do,Z_BLOCK:Mo,Z_TREES:Ho,Z_OK:Ro,Z_STREAM_END:qo,Z_NEED_DICT:Ko,Z_STREAM_ERROR:zo,Z_DATA_ERROR:Go,Z_MEM_ERROR:Vo,Z_BUF_ERROR:Wo,Z_DEFLATED:Xo}=ls,Jo=16180,Yo=16190,Zo=16191,$o=16192,ei=16194,ti=16199,ni=16200,ri=16206,ai=16209,si=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function oi(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ii=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Jo||t.mode>16211?1:0},li=e=>{if(ii(e))return zo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Jo,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ro},ci=e=>{if(ii(e))return zo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,li(e)},Ai=(e,t)=>{let n;if(ii(e))return zo;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?zo:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ci(e))},ui=(e,t)=>{if(!e)return zo;const n=new oi;e.state=n,n.strm=e,n.window=null,n.mode=Jo;const r=Ai(e,t);return r!==Ro&&(e.state=null),r};let di,hi,fi=!0;const pi=e=>{if(fi){di=new Int32Array(512),hi=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(To(1,e.lens,0,288,di,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;To(2,e.lens,0,32,hi,0,e.work,{bits:5}),fi=!1}e.lencode=di,e.lenbits=9,e.distcode=hi,e.distbits=5},mi=(e,t,n,r)=>{let a;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(t.subarray(n-r,n-r+a),s.wnext),(r-=a)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0};var gi=(e,t)=>{let n,r,a,s,o,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b,w,N,B=0;const j=new Uint8Array(4);let C,k;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ii(e)||!e.output||!e.input&&0!==e.avail_in)return zo;n=e.state,n.mode===Zo&&(n.mode=$o),o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,r=e.input,i=e.avail_in,c=n.hold,A=n.bits,u=i,d=l,N=Ro;e:for(;;)switch(n.mode){case Jo:if(0===n.wrap){n.mode=$o;break}for(;A<16;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,j[0]=255&c,j[1]=c>>>8&255,n.check=os(n.check,j,2,0),c=0,A=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=ai;break}if((15&c)!==Xo){e.msg="unknown compression method",n.mode=ai;break}if(c>>>=4,A-=4,w=8+(15&c),0===n.wbits&&(n.wbits=w),w>15||w>n.wbits){e.msg="invalid window size",n.mode=ai;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Zo,c=0,A=0;break;case 16181:for(;A<16;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(n.flags=c,(255&n.flags)!==Xo){e.msg="unknown compression method",n.mode=ai;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ai;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=os(n.check,j,2,0)),c=0,A=0,n.mode=16182;case 16182:for(;A<32;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,j[2]=c>>>16&255,j[3]=c>>>24&255,n.check=os(n.check,j,4,0)),c=0,A=0,n.mode=16183;case 16183:for(;A<16;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=os(n.check,j,2,0)),c=0,A=0,n.mode=16184;case 16184:if(1024&n.flags){for(;A<16;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=os(n.check,j,2,0)),c=0,A=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(h=n.length,h>i&&(h=i),h&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+h),w)),512&n.flags&&4&n.wrap&&(n.check=os(n.check,r,h,s)),i-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===i)break e;h=0;do{w=r[s+h++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&h<i);if(512&n.flags&&4&n.wrap&&(n.check=os(n.check,r,h,s)),i-=h,s+=h,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===i)break e;h=0;do{w=r[s+h++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&h<i);if(512&n.flags&&4&n.wrap&&(n.check=os(n.check,r,h,s)),i-=h,s+=h,w)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;A<16;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ai;break}c=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Zo;break;case 16189:for(;A<32;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}e.adler=n.check=si(c),c=0,A=0,n.mode=Yo;case Yo:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=i,n.hold=c,n.bits=A,Ko;e.adler=n.check=1,n.mode=Zo;case Zo:if(t===Mo||t===Ho)break e;case $o:if(n.last){c>>>=7&A,A-=7&A,n.mode=ri;break}for(;A<3;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}switch(n.last=1&c,c>>>=1,A-=1,3&c){case 0:n.mode=16193;break;case 1:if(pi(n),n.mode=ti,t===Ho){c>>>=2,A-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=ai}c>>>=2,A-=2;break;case 16193:for(c>>>=7&A,A-=7&A;A<32;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ai;break}if(n.length=65535&c,c=0,A=0,n.mode=ei,t===Ho)break e;case ei:n.mode=16195;case 16195:if(h=n.length,h){if(h>i&&(h=i),h>l&&(h=l),0===h)break e;a.set(r.subarray(s,s+h),o),i-=h,s+=h,l-=h,o+=h,n.length-=h;break}n.mode=Zo;break;case 16196:for(;A<14;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(n.nlen=257+(31&c),c>>>=5,A-=5,n.ndist=1+(31&c),c>>>=5,A-=5,n.ncode=4+(15&c),c>>>=4,A-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ai;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;A<3;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.lens[E[n.have++]]=7&c,c>>>=3,A-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},N=To(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid code lengths set",n.mode=ai;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;B=n.lencode[c&(1<<n.lenbits)-1],m=B>>>24,g=B>>>16&255,v=65535&B,!(m<=A);){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(v<16)c>>>=m,A-=m,n.lens[n.have++]=v;else{if(16===v){for(k=m+2;A<k;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(c>>>=m,A-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=ai;break}w=n.lens[n.have-1],h=3+(3&c),c>>>=2,A-=2}else if(17===v){for(k=m+3;A<k;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}c>>>=m,A-=m,w=0,h=3+(7&c),c>>>=3,A-=3}else{for(k=m+7;A<k;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}c>>>=m,A-=m,w=0,h=11+(127&c),c>>>=7,A-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ai;break}for(;h--;)n.lens[n.have++]=w}}if(n.mode===ai)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ai;break}if(n.lenbits=9,C={bits:n.lenbits},N=To(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,N){e.msg="invalid literal/lengths set",n.mode=ai;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},N=To(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,N){e.msg="invalid distances set",n.mode=ai;break}if(n.mode=ti,t===Ho)break e;case ti:n.mode=ni;case ni:if(i>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=i,n.hold=c,n.bits=A,Uo(e,d),o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,r=e.input,i=e.avail_in,c=n.hold,A=n.bits,n.mode===Zo&&(n.back=-1);break}for(n.back=0;B=n.lencode[c&(1<<n.lenbits)-1],m=B>>>24,g=B>>>16&255,v=65535&B,!(m<=A);){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(g&&0===(240&g)){for(x=m,y=g,b=v;B=n.lencode[b+((c&(1<<x+y)-1)>>x)],m=B>>>24,g=B>>>16&255,v=65535&B,!(x+m<=A);){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}c>>>=x,A-=x,n.back+=x}if(c>>>=m,A-=m,n.back+=m,n.length=v,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Zo;break}if(64&g){e.msg="invalid literal/length code",n.mode=ai;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(k=n.extra;A<k;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;B=n.distcode[c&(1<<n.distbits)-1],m=B>>>24,g=B>>>16&255,v=65535&B,!(m<=A);){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(0===(240&g)){for(x=m,y=g,b=v;B=n.distcode[b+((c&(1<<x+y)-1)>>x)],m=B>>>24,g=B>>>16&255,v=65535&B,!(x+m<=A);){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}c>>>=x,A-=x,n.back+=x}if(c>>>=m,A-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=ai;break}n.offset=v,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(k=n.extra;A<k;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ai;break}n.mode=16204;case 16204:if(0===l)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ai;break}h>n.wnext?(h-=n.wnext,f=n.wsize-h):f=n.wnext-h,h>n.length&&(h=n.length),p=n.window}else p=a,f=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{a[o++]=p[f++]}while(--h);0===n.length&&(n.mode=ni);break;case 16205:if(0===l)break e;a[o++]=n.length,l--,n.mode=ni;break;case ri:if(n.wrap){for(;A<32;){if(0===i)break e;i--,c|=r[s++]<<A,A+=8}if(d-=l,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?os(n.check,a,d,o-d):as(n.check,a,d,o-d)),d=l,4&n.wrap&&(n.flags?c:si(c))!==n.check){e.msg="incorrect data check",n.mode=ai;break}c=0,A=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;A<32;){if(0===i)break e;i--,c+=r[s++]<<A,A+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ai;break}c=0,A=0}n.mode=16208;case 16208:N=qo;break e;case ai:N=Go;break e;case 16210:return Vo;default:return zo}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=i,n.hold=c,n.bits=A,(n.wsize||d!==e.avail_out&&n.mode<ai&&(n.mode<ri||t!==Do))&&mi(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?os(n.check,a,d,e.next_out-d):as(n.check,a,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Zo?128:0)+(n.mode===ti||n.mode===ei?256:0),(0===u&&0===d||t===Do)&&N===Ro&&(N=Wo),N},vi={inflateReset:ci,inflateReset2:Ai,inflateResetKeep:li,inflateInit:e=>ui(e,15),inflateInit2:ui,inflate:gi,inflateEnd:e=>{if(ii(e))return zo;let t=e.state;return t.window&&(t.window=null),e.state=null,Ro},inflateGetHeader:(e,t)=>{if(ii(e))return zo;const n=e.state;return 0===(2&n.wrap)?zo:(n.head=t,t.done=!1,Ro)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,s;return ii(e)?zo:(r=e.state,0!==r.wrap&&r.mode!==Yo?zo:r.mode===Yo&&(a=1,a=as(a,t,n,0),a!==r.check)?Go:(s=mi(e,t,n,n),s?(r.mode=16210,Vo):(r.havedict=1,Ro)))},inflateInfo:"pako inflate (from Nodeca project)"};var xi=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const yi=Object.prototype.toString,{Z_NO_FLUSH:bi,Z_FINISH:wi,Z_OK:Ni,Z_STREAM_END:Bi,Z_NEED_DICT:ji,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:ki,Z_MEM_ERROR:Ei}=ls;function Si(e){this.options=co({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new go,this.strm.avail_out=0;let n=vi.inflateInit2(this.strm,t.windowBits);if(n!==Ni)throw new Error(is[n]);if(this.header=new xi,vi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=fo(t.dictionary):"[object ArrayBuffer]"===yi.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=vi.inflateSetDictionary(this.strm,t.dictionary),n!==Ni)))throw new Error(is[n])}function _i(e,t){const n=new Si(t);if(n.push(e),n.err)throw n.msg||is[n.err];return n.result}Si.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,o,i;if(this.ended)return!1;for(o=t===~~t?t:!0===t?wi:bi,"[object ArrayBuffer]"===yi.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=vi.inflate(n,o),s===ji&&a&&(s=vi.inflateSetDictionary(n,a),s===Ni?s=vi.inflate(n,o):s===ki&&(s=ji));n.avail_in>0&&s===Bi&&n.state.wrap>0&&0!==e[n.next_in];)vi.inflateReset(n),s=vi.inflate(n,o);switch(s){case Ci:case ki:case ji:case Ei:return this.onEnd(s),this.ended=!0,!1}if(i=n.avail_out,n.next_out&&(0===n.avail_out||s===Bi))if("string"===this.options.to){let e=mo(n.output,n.next_out),t=n.next_out-e,a=po(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==Ni||0!==i){if(s===Bi)return s=vi.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Si.prototype.onData=function(e){this.chunks.push(e)},Si.prototype.onEnd=function(e){e===Ni&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ao(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Fi={Inflate:Si,inflate:_i,inflateRaw:function(e,t){return(t=t||{}).raw=!0,_i(e,t)},ungzip:_i,constants:ls};const{Deflate:Ui,deflate:Ii,deflateRaw:Li,gzip:Qi}=_o,{Inflate:Oi,inflate:Pi,inflateRaw:Ti,ungzip:Di}=Fi;var Mi=Oi,Hi=Pi;const Ri=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Ri[n]=e}const qi=4294967295;function Ki(e,t){return(function(e,t,n){let r=e;for(let a=0;a<n;a++)r=Ri[255&(r^t[a])]^r>>>8;return r}(qi,e,t)^qi)>>>0}function zi(e,t,n){const r=e.readUint32(),a=Ki(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(a))}function Gi(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Vi(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function Wi(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function Xi(e,t,n,r,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-a]+n[s]>>1)&255}}function Ji(e,t,n,r,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+Yi(t[s-a],n[s],n[s-a])&255}}function Yi(e,t,n){const r=e+t-n,a=Math.abs(r-e),s=Math.abs(r-t),o=Math.abs(r-n);return a<=s&&a<=o?e:s<=o?t:n}function Zi(e,t,n,r,a,s){switch(e){case 0:Gi(t,n,a);break;case 1:Vi(t,n,a,s);break;case 2:Wi(t,n,r,a);break;case 3:Xi(t,n,r,a,s);break;case 4:Ji(t,n,r,a,s);break;default:throw new Error("Unsupported filter: ".concat(e))}}const $i=new Uint16Array([255]),el=255===new Uint8Array($i.buffer)[0];function tl(e){return(255&e)<<8|e>>8&255}const nl=new Uint16Array([255]),rl=255===new Uint8Array(nl.buffer)[0],al=new Uint8Array(0);function sl(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,i=Math.ceil(s/8*a*n),l=new Uint8Array(r*i);let c,A,u=al,d=0;for(let h=0;h<r;h++){switch(c=t.subarray(d+1,d+1+i),A=l.subarray(h*i,(h+1)*i),t[d]){case 0:Gi(c,A,i);break;case 1:Vi(c,A,i,o);break;case 2:Wi(c,A,u,i);break;case 3:Xi(c,A,u,i,o);break;case 4:Ji(c,A,u,i,o);break;default:throw new Error("Unsupported filter: ".concat(t[d]))}u=A,d+=i+1}if(16===s){const e=new Uint16Array(l.buffer);if(rl)for(let t=0;t<e.length;t++)e[t]=ol(e[t]);return e}return l}function ol(e){return(255&e)<<8|e>>8&255}const il=Uint8Array.of(137,80,78,71,13,10,26,10);function ll(e){if(!function(e){if(e.length<il.length)return!1;for(let t=0;t<il.length;t++)if(e[t]!==il[t])return!1;return!0}(e.readBytes(il.length)))throw new Error("wrong PNG signature")}const cl="tEXt",Al=new TextDecoder("latin1");function ul(e){if(hl(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const dl=/^[\u0000-\u00FF]*$/;function hl(e){if(!dl.test(e))throw new Error("invalid latin1 text")}function fl(e,t,n){const r=pl(t);e[r]=function(e,t){return Al.decode(e.readBytes(t))}(t,n-r.length-1)}function pl(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=Al.decode(e.readBytes(t-e.offset-1));return e.skip(1),ul(n),n}const ml=-1,gl=0,vl=2,xl=3,yl=4,bl=6,wl=-1,Nl=0,Bl=-1,jl=0,Cl=-1,kl=0,El=1,Sl=0,_l=1,Fl=2,Ul=0,Il=1;class Ll extends ma{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,ua.A)(this,"_checkCrc",void 0),(0,ua.A)(this,"_inflator",void 0),(0,ua.A)(this,"_png",void 0),(0,ua.A)(this,"_apng",void 0),(0,ua.A)(this,"_end",void 0),(0,ua.A)(this,"_hasPalette",void 0),(0,ua.A)(this,"_palette",void 0),(0,ua.A)(this,"_hasTransparency",void 0),(0,ua.A)(this,"_transparency",void 0),(0,ua.A)(this,"_compressionMethod",void 0),(0,ua.A)(this,"_filterMethod",void 0),(0,ua.A)(this,"_interlaceMethod",void 0),(0,ua.A)(this,"_colorType",void 0),(0,ua.A)(this,"_isAnimated",void 0),(0,ua.A)(this,"_numberOfFrames",void 0),(0,ua.A)(this,"_numberOfPlays",void 0),(0,ua.A)(this,"_frames",void 0),(0,ua.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Mi,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wl,this._filterMethod=Bl,this._interlaceMethod=Cl,this._colorType=ml,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ll(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(ll(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case cl:fl(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?zi(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?zi(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case gl:n=1;break;case vl:n=3;break;case xl:n=1;break;case yl:n=2;break;case bl:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nl)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case gl:case vl:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case xl:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=pl(this),n=this.readUint8();if(n!==Nl)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Hi(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=sl({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Sl:break;case _l:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case Fl:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case Ul:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:s,frameIndex:o}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[s+n]=t.data[o+n]}break;case Il:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:o,frameIndex:i}=r(a,s);for(let r=0;r<this._png.channels;r++){const a=t.data[i+this._png.channels-1]/n,s=r%(this._png.channels-1)===0?1:t.data[i+r],l=Math.floor(a*s+(1-a)*e.data[o+r]);e.data[o+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==jl)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===kl)this._png.data=sl({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==El)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],i=Math.ceil(s/8)*a,l=new Uint8Array(r*n*i);let c=0;for(let A=0;A<7;A++){const e=o[A],a=Math.ceil((n-e.x)/e.xStep),s=Math.ceil((r-e.y)/e.yStep);if(a<=0||s<=0)continue;const u=a*i,d=new Uint8Array(u);for(let o=0;o<s;o++){const s=t[c++],A=t.subarray(c,c+u);c+=u;const h=new Uint8Array(u);Zi(s,A,h,d,u,i),d.set(h);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,s=e.y+o*e.yStep;if(!(a>=n||s>=r))for(let e=0;e<i;e++)l[(s*n+a)*i+e]=h[t*i+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(el)for(let t=0;t<e.length;t++)e[t]=tl(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sl,blendOp:Ul,data:e}),this._inflator=new Mi,this._writingDataChunks=!1}}var Ql;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(Ql||(Ql={}));var Ol=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function Pl(){Ol.console&&"function"==typeof Ol.console.log&&Ol.console.log.apply(Ol.console,arguments)}var Tl={log:Pl,warn:function(e){Ol.console&&("function"==typeof Ol.console.warn?Ol.console.warn.apply(Ol.console,arguments):Pl.call(null,arguments))},error:function(e){Ol.console&&("function"==typeof Ol.console.error?Ol.console.error.apply(Ol.console,arguments):Pl(e))}};function Dl(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Rl(r.response,t,n)},r.onerror=function(){Tl.error("could not download file")},r.send()}function Ml(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(Qe){}return t.status>=200&&t.status<=299}function Hl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(Qe){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Rl=Ol.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Nr.A)(window))||window!==Ol?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ol.URL||Ol.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?Ml(a.href)?Dl(e,t,n):Hl(a,a.target="_blank"):Hl(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Hl(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Ml(e))Dl(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Hl(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Nr.A)(t)&&(Tl.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Dl(e,t,n);var a="application/octet-stream"===e.type,s=/constructor/i.test(Ol.HTMLElement)||Ol.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Nr.A)(FileReader))){var i=new FileReader;i.onloadend=function(){var e=i.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},i.readAsDataURL(e)}else{var l=Ol.URL||Ol.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function ql(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var Kl=Ol.atob.bind(Ol),zl=Ol.btoa.bind(Ol);function Gl(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];n=Wl(n,r,a,s,t[0],7,-680876936),s=Wl(s,n,r,a,t[1],12,-389564586),a=Wl(a,s,n,r,t[2],17,606105819),r=Wl(r,a,s,n,t[3],22,-1044525330),n=Wl(n,r,a,s,t[4],7,-176418897),s=Wl(s,n,r,a,t[5],12,1200080426),a=Wl(a,s,n,r,t[6],17,-1473231341),r=Wl(r,a,s,n,t[7],22,-45705983),n=Wl(n,r,a,s,t[8],7,1770035416),s=Wl(s,n,r,a,t[9],12,-1958414417),a=Wl(a,s,n,r,t[10],17,-42063),r=Wl(r,a,s,n,t[11],22,-1990404162),n=Wl(n,r,a,s,t[12],7,1804603682),s=Wl(s,n,r,a,t[13],12,-40341101),a=Wl(a,s,n,r,t[14],17,-1502002290),n=Xl(n,r=Wl(r,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Xl(s,n,r,a,t[6],9,-1069501632),a=Xl(a,s,n,r,t[11],14,643717713),r=Xl(r,a,s,n,t[0],20,-373897302),n=Xl(n,r,a,s,t[5],5,-701558691),s=Xl(s,n,r,a,t[10],9,38016083),a=Xl(a,s,n,r,t[15],14,-660478335),r=Xl(r,a,s,n,t[4],20,-405537848),n=Xl(n,r,a,s,t[9],5,568446438),s=Xl(s,n,r,a,t[14],9,-1019803690),a=Xl(a,s,n,r,t[3],14,-187363961),r=Xl(r,a,s,n,t[8],20,1163531501),n=Xl(n,r,a,s,t[13],5,-1444681467),s=Xl(s,n,r,a,t[2],9,-51403784),a=Xl(a,s,n,r,t[7],14,1735328473),n=Jl(n,r=Xl(r,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Jl(s,n,r,a,t[8],11,-2022574463),a=Jl(a,s,n,r,t[11],16,1839030562),r=Jl(r,a,s,n,t[14],23,-35309556),n=Jl(n,r,a,s,t[1],4,-1530992060),s=Jl(s,n,r,a,t[4],11,1272893353),a=Jl(a,s,n,r,t[7],16,-155497632),r=Jl(r,a,s,n,t[10],23,-1094730640),n=Jl(n,r,a,s,t[13],4,681279174),s=Jl(s,n,r,a,t[0],11,-358537222),a=Jl(a,s,n,r,t[3],16,-722521979),r=Jl(r,a,s,n,t[6],23,76029189),n=Jl(n,r,a,s,t[9],4,-640364487),s=Jl(s,n,r,a,t[12],11,-421815835),a=Jl(a,s,n,r,t[15],16,530742520),n=Yl(n,r=Jl(r,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Yl(s,n,r,a,t[7],10,1126891415),a=Yl(a,s,n,r,t[14],15,-1416354905),r=Yl(r,a,s,n,t[5],21,-57434055),n=Yl(n,r,a,s,t[12],6,1700485571),s=Yl(s,n,r,a,t[3],10,-1894986606),a=Yl(a,s,n,r,t[10],15,-1051523),r=Yl(r,a,s,n,t[1],21,-2054922799),n=Yl(n,r,a,s,t[8],6,1873313359),s=Yl(s,n,r,a,t[15],10,-30611744),a=Yl(a,s,n,r,t[6],15,-1560198380),r=Yl(r,a,s,n,t[13],21,1309151649),n=Yl(n,r,a,s,t[4],6,-145523070),s=Yl(s,n,r,a,t[11],10,-1120210379),a=Yl(a,s,n,r,t[2],15,718787259),r=Yl(r,a,s,n,t[9],21,-343485551),e[0]=sc(n,e[0]),e[1]=sc(r,e[1]),e[2]=sc(a,e[2]),e[3]=sc(s,e[3])}function Vl(e,t,n,r,a,s){return t=sc(sc(t,e),sc(r,s)),sc(t<<a|t>>>32-a,n)}function Wl(e,t,n,r,a,s,o){return Vl(t&n|~t&r,e,t,a,s,o)}function Xl(e,t,n,r,a,s,o){return Vl(t&r|n&~r,e,t,a,s,o)}function Jl(e,t,n,r,a,s,o){return Vl(t^n^r,e,t,a,s,o)}function Yl(e,t,n,r,a,s,o){return Vl(n^(t|~r),e,t,a,s,o)}function Zl(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Gl(r,$l(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Gl(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Gl(r,a),r}function $l(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var ec="0123456789abcdef".split("");function tc(e){for(var t="",n=0;n<4;n++)t+=ec[e>>8*n+4&15]+ec[e>>8*n&15];return t}function nc(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function rc(e){return Zl(e).map(nc).join("")}var ac="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=tc(e[t]);return e.join("")}(Zl("hello"));function sc(e,t){if(ac){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function oc(e,t){var n,r,a,s;if(e!==n){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),i=[],l=0;l<256;l++)i[l]=l;var c=0;for(l=0;l<256;l++){var A=i[l];c=(c+A+o.charCodeAt(l))%256,i[l]=i[c],i[c]=A}n=e,r=i}else i=r;var u=t.length,d=0,h=0,f="";for(l=0;l<u;l++)h=(h+(A=i[d=(d+1)%256]))%256,i[d]=i[h],i[h]=A,o=i[(i[d]+i[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var ic={print:4,modify:8,copy:16,"annot-forms":32};function lc(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==ic.perm)throw new Error("Invalid permission: "+e);a+=ic[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=rc(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=oc(this.encryptionKey,this.padding)}function cc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function Ac(e){if("object"!==(0,Nr.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(Pe){Ol.console&&Tl.error("jsPDF PubSub Error",Pe.message,Pe)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function uc(e){if(!(this instanceof uc))return new uc(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function dc(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hc(e,t,n,r,a){if(!(this instanceof hc))return new hc(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,dc.call(this,r,a)}function fc(e,t,n,r,a){if(!(this instanceof fc))return new fc(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,dc.call(this,r,a)}function pc(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],o=[],i=1,l=16,c="S",A=null;"object"===(0,Nr.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,s=e.compress||e.compressPdf||s,null!==(A=e.encryption||null)&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),i="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=Ac;var f="1.3",p=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return m};var g=h.__private__.getPageFormat=function(e){return m[e]};a=a||"a4";var v="compat",x="advanced",y=v;function b(){this.saveGraphicsState(),Y(new Fe(de,0,0,-de,0,cn()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),c="n",y=x}function w(){this.restoreGraphicsState(),c="S",y=v}var N=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=y===v;return t&&b.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},h.compatAPI=function(e){var t=y===x;return t&&w.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},h.isAdvancedAPI=function(){return y===x};var B,j=function(e){if(y!==x)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var k=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},E=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},S=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return y===v?e*de:y===x?e:void 0},_=function(e){return S(function(e){return y===v?cn()-e:y===x?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var F,U="00000000000000000000000000000000",I=h.__private__.getFileId=function(){return U},L=h.__private__.setFileId=function(e){return U=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==A&&(vt=new lc(A.userPermissions,A.userPassword,A.ownerPassword,U)),U};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return I()};var Q=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[n,M(r),"'",M(a),"'"].join("");return["D:",e.getFullYear(),M(e.getMonth()+1),M(e.getDate()),M(e.getHours()),M(e.getMinutes()),M(e.getSeconds()),s].join("")},O=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,s,o,0)},P=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=Q(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return F=t},T=h.__private__.getCreationDate=function(e){var t=F;return"jsDate"===e&&(t=O(F)),t};h.setCreationDate=function(e){return P(e),this},h.getCreationDate=function(e){return T(e)};var D,M=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},H=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},R=0,q=[],K=[],z=0,G=[],V=[],W=!1,X=K;h.__private__.setCustomOutputDestination=function(e){W=!0,X=e};var J=function(e){W||(X=e)};h.__private__.resetCustomOutputDestination=function(){W=!1,X=K};var Y=h.__private__.out=function(e){return e=e.toString(),z+=e.length+1,X.push(e),X},Z=h.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=y===x?e/de:e,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return y===v?te:te*de},ae=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return ae=e,this},h.__private__.getR2L=h.getR2L=function(){return ae};var se,oe=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};h.__private__.getZoomMode=function(){return ne};var ie,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};h.__private__.getPageMode=function(){return se};var ce=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ie=e};h.__private__.getLayoutMode=function(){return ie},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[e]},h.__private__.getDocumentProperties=function(){return Ae},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in Ae)Ae.hasOwnProperty(t)&&e[t]&&(Ae[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[e]=t};var ue,de,he,fe,pe,me={},ge={},ve=[],xe={},ye={},be={},we={},Ne=null,Be=0,je=[],Ce=new Ac(h),ke=e.hotfixes||[],Ee={},Se={},_e=[],Fe=function e(t,n,r,a,s,o){if(!(this instanceof e))return new e(t,n,r,a,s,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,a,s,o]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Fe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(e)},Fe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Fe(t,n,r,a,s,o)},Fe.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,o=Math.sqrt(e*e+t*t),i=(e/=o)*n+(t/=o)*r;n-=e*i,r-=t*i;var l=Math.sqrt(n*n+r*r);return i/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,i=-i,o=-o),{scale:new Fe(o,0,0,l,0,0),translate:new Fe(1,0,0,1,a,s),rotate:new Fe(e,t,-t,e,0,0),skew:new Fe(1,0,i,1,0,0)}},Fe.prototype.toString=function(e){return this.join(" ")},Fe.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,o=1/(e*r-t*n),i=r*o,l=-t*o,c=-n*o,A=e*o;return new Fe(i,l,c,A,-i*a-c*s,-l*a-A*s)},Fe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Fe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Fe.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty;return new Fe(e,t,n,r,a,s)},h.Matrix=Fe;var Ue=h.matrixMult=function(e,t){return t.multiply(e)},Ie=new Fe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ie;var Le=function(e,t){if(!ye[e]){var n=(t instanceof hc?"Sh":"P")+(Object.keys(xe).length+1).toString(10);t.id=n,ye[e]=n,xe[n]=t,Ce.publish("addPattern",t)}};h.ShadingPattern=hc,h.TilingPattern=fc,h.addShadingPattern=function(e,t){return j("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){j("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){j("endTilingPattern()"),t.stream=V[D].join("\n"),Le(e,t),Ce.publish("endTilingPattern",t),_e.pop().restore()};var Qe,Oe=h.__private__.newObject=function(){var e=Pe();return Te(e,!0),e},Pe=h.__private__.newObjectDeferred=function(){return R++,q[R]=function(){return z},R},Te=function(e,t){return t="boolean"==typeof t&&t,q[e]=z,t&&Y(e+" 0 obj"),e},De=h.__private__.newAdditionalObject=function(){var e={objId:Pe(),content:""};return G.push(e),e},Me=Pe(),He=Pe(),Re=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},qe=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,s=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var i=new ql(n);if(i.ok)n=i.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===s&&n===r&&r===a)t="string"==typeof n?n+" "+o[0]:2===e.precision?k(n/255)+" "+o[0]:E(n/255)+" "+o[0];else if(void 0===s||"object"===(0,Nr.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,r,a,o[1]].join(" "):2===e.precision?[k(n/255),k(r/255),k(a/255),o[1]].join(" "):[E(n/255),E(r/255),E(a/255),o[1]].join(" ")}else t="string"==typeof n?[n,r,a,s,o[2]].join(" "):2===e.precision?[k(n),k(r),k(a),k(s),o[2]].join(" "):[E(n),E(r),E(a),E(s),o[2]].join(" ");return t},Ke=h.__private__.getFilters=function(){return o},ze=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ke(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,o=e.objectId,i=function(e){return e};if(null!==A&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==A&&(i=vt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==pc.API.processDataByFilters?pc.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(c[d].value),c[d].value="["+h.join(" ")+"]"}}Y("<<");for(var p=0;p<c.length;p++)Y("/"+c[p].key+" "+c[p].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(i(l.data)),Y("endstream"))},Ge=h.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Te(r,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(B(e.mediaBox.bottomLeftX))+" "+parseFloat(B(e.mediaBox.bottomLeftY))+" "+B(e.mediaBox.topRightX)+" "+B(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+B(e.cropBox.bottomLeftX)+" "+B(e.cropBox.bottomLeftY)+" "+B(e.cropBox.topRightX)+" "+B(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+B(e.bleedBox.bottomLeftX)+" "+B(e.bleedBox.bottomLeftY)+" "+B(e.bleedBox.topRightX)+" "+B(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+B(e.trimBox.bottomLeftX)+" "+B(e.trimBox.bottomLeftY)+" "+B(e.trimBox.topRightX)+" "+B(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+B(e.artBox.bottomLeftX)+" "+B(e.artBox.bottomLeftY)+" "+B(e.artBox.topRightX)+" "+B(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:r,pageContext:je[t],pageNumber:t,page:n}),Y("/Contents "+a+" 0 R"),Y(">>"),Y("endobj");var s=n.join("\n");return y===x&&(s+="\nQ"),Te(a,!0),ze({data:s,filters:Ke(),objectId:a}),Y("endobj"),r},Ve=h.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Be;e++)je[e].objId=Pe(),je[e].contentsObjId=Pe();for(e=1;e<=Be;e++)n.push(Ge({number:e,data:V[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:Me,resourceDictionaryObjId:He}));Te(Me,!0),Y("<</Type /Pages");var r="/Kids [";for(t=0;t<Be;t++)r+=n[t]+" 0 R ";Y(r+"]"),Y("/Count "+Be),Y(">>"),Y("endobj"),Ce.publish("postPutPages")},We=function(e){Ce.publish("putFont",{font:e,out:Y,newObject:Oe,putStream:ze}),!0!==e.isAlreadyPutted&&(e.objectNumber=Oe(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+cc(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Xe=function(e){e.objectNumber=Oe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[B(e.x),B(e.y),B(e.x+e.width),B(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");ze({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Je=function(e,t){t||(t=21);var n=Oe(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var i="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var A=e[l].offset,u=(n-A)/(e[l+1].offset-A),d=e[l].color,h=e[l+1].color;i+=H(Math.round((1-u)*d[0]+u*h[0]).toString(16))+H(Math.round((1-u)*d[1]+u*h[1]).toString(16))+H(Math.round((1-u)*d[2]+u*h[2]).toString(16))}return i.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Y("endobj"),e.objectNumber=Oe(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var s="/Coords ["+B(parseFloat(e.coords[0]))+" "+B(parseFloat(e.coords[1]))+" ";2===e.type?s+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3])):s+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3]))+" "+B(parseFloat(e.coords[4]))+" "+B(parseFloat(e.coords[5])),Y(s+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+n+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ye=function(e,t){var n=Pe(),r=Oe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(B).join(" ")+"]"}),a.push({key:"XStep",value:B(e.xStep)}),a.push({key:"YStep",value:B(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),ze({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),Y("endobj")},Ze=function(e){for(var t in e.objectNumber=Oe(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+k(e[t]));break;case"stroke-opacity":Y("/CA "+k(e[t]))}Y(">>"),Y("endobj")},$e=function(e){Te(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Y("/Font <<"),me)me.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Y("/"+e+" "+me[e].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(xe).length>0){for(var e in Y("/Shading <<"),xe)xe.hasOwnProperty(e)&&xe[e]instanceof hc&&xe[e].objectNumber>=0&&Y("/"+e+" "+xe[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),Y(">>")}}(),function(e){if(Object.keys(xe).length>0){for(var t in Y("/Pattern <<"),xe)xe.hasOwnProperty(t)&&xe[t]instanceof h.TilingPattern&&xe[t].objectNumber>=0&&xe[t].objectNumber<e&&Y("/"+t+" "+xe[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),Y(">>")}}(e.objectOid),function(){if(Object.keys(be).length>0){var e;for(e in Y("/ExtGState <<"),be)be.hasOwnProperty(e)&&be[e].objectNumber>=0&&Y("/"+e+" "+be[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),Y(">>")}}(),function(){for(var e in Y("/XObject <<"),Ee)Ee.hasOwnProperty(e)&&Ee[e].objectNumber>=0&&Y("/"+e+" "+Ee[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},et=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,a){var s={id:"F"+(Object.keys(me).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return Ce.publish("addFont",{font:s,instance:this}),me[s.id]=s,et(s),s.id},nt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var n,r,a,s,o,i,l,c,A;if(a=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&me[ue].metadata&&me[ue].metadata[a]&&me[ue].metadata[a].encoding&&(s=me[ue].metadata[a].encoding,!o&&me[ue].encoding&&(o=me[ue].encoding),!o&&s.codePages&&(o=s.codePages[0]),"string"==typeof o&&(o=s[o]),o)){for(l=!1,i=[],n=0,r=e.length;n<r;n++)(c=o[e.charCodeAt(n)])?i.push(String.fromCharCode(c)):i.push(e[n]),i[n].charCodeAt(0)>>8&&(l=!0);e=i.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(i=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((A=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");i.push(A),i.push(c-(A<<8))}return String.fromCharCode.apply(void 0,i)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=h.__private__.beginPage=function(e){V[++Be]=[],je[Be]={objId:0,contentsObjId:0,userUnit:Number(i),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(Be),J(V[D])},at=function(e,t){var r,s,o;switch(n=t||n,"string"==typeof e&&(r=g(e.toLowerCase()),Array.isArray(r)&&(s=r[0],o=r[1])),Array.isArray(e)&&(s=e[0]*de,o=e[1]*de),isNaN(s)&&(s=a[0],o=a[1]),(s>14400||o>14400)&&(Tl.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),o=Math.min(14400,o)),a=[s,o],n.substr(0,1)){case"l":o>s&&(a=[o,s]);break;case"p":s>o&&(a=[o,s])}rt(a),Tt(Ot),Y(Gt),0!==Zt&&Y(Zt+" J"),0!==$t&&Y($t+" j"),Ce.publish("addPage",{pageNumber:Be})},st=function(e){e>0&&e<=Be&&(V.splice(e,1),je.splice(e,1),Be--,D>Be&&(D=Be),this.setPage(D))},ot=function(e){e>0&&e<=Be&&(D=e)},it=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return V.length-1},lt=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:me[ue].fontName,t=void 0!==t?t:me[ue].fontStyle,r=e.toLowerCase(),void 0!==ge[r]&&void 0!==ge[r][t]?a=ge[r][t]:void 0!==ge[e]&&void 0!==ge[e][t]?a=ge[e][t]:!1===n.disableWarning&&Tl.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=ge.times[t])&&(a=ge.times.normal),a},ct=h.__private__.putInfo=function(){var e=Oe(),t=function(e){return e};for(var n in null!==A&&(t=vt.encryptor(e,0)),Y("<<"),Y("/Producer ("+nt(t("jsPDF "+pc.version))+")"),Ae)Ae.hasOwnProperty(n)&&Ae[n]&&Y("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(Ae[n]))+")");Y("/CreationDate ("+nt(t(F))+")"),Y(">>"),Y("endobj")},At=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Me;switch(Oe(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Y("/OpenAction [3 0 R /XYZ null null "+k(ne)+"]")}switch(ie||(ie="continuous"),ie){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}se&&Y("/PageMode /"+se),Ce.publish("putCatalog"),Y(">>"),Y("endobj")},ut=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(R+1)),Y("/Root "+R+" 0 R"),Y("/Info "+(R-1)+" 0 R"),null!==A&&Y("/Encrypt "+vt.oid+" 0 R"),Y("/ID [ <"+U+"> <"+U+"> ]"),Y(">>")},dt=h.__private__.putHeader=function(){Y("%PDF-"+f),Y("%\xba\xdf\xac\xe0")},ht=h.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(R+1)),Y("0000000000 65535 f ");for(var t=1;t<=R;t++)"function"==typeof q[t]?Y((e+q[t]()).slice(-10)+" 00000 n "):void 0!==q[t]?Y((e+q[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ft=h.__private__.buildDocument=function(){var e;R=0,z=0,K=[],q=[],G=[],Me=Pe(),He=Pe(),J(K),Ce.publish("buildDocument"),dt(),Ve(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Te(t.objId,!0),Y(t.content),Y("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in me)me.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&We(me[e])}(),function(){var e;for(e in be)be.hasOwnProperty(e)&&Ze(be[e])}(),function(){for(var e in Ee)Ee.hasOwnProperty(e)&&Xe(Ee[e])}(),function(e){var t;for(t in xe)xe.hasOwnProperty(t)&&(xe[t]instanceof hc?Je(xe[t]):xe[t]instanceof fc&&Ye(xe[t],e))}(e),Ce.publish("putResources"),e.forEach($e),$e({resourcesOid:He,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==A&&(vt.oid=Oe(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vt.v),Y("/R "+vt.r),Y("/U <"+vt.toHexString(vt.U)+">"),Y("/O <"+vt.toHexString(vt.O)+">"),Y("/P "+vt.P),Y(">>"),Y("endobj")),ct(),At();var t=z;return ht(),ut(),Y("startxref"),Y(""+t),Y("%%EOF"),J(V[D]),K.join("\n")},pt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},mt=h.output=h.__private__.output=(Qe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":h.save(t.filename);break;case"arraybuffer":return $(ft());case"blob":return pt(ft());case"bloburi":case"bloburl":if(void 0!==Ol.URL&&"function"==typeof Ol.URL.createObjectURL)return Ol.URL&&Ol.URL.createObjectURL(pt(ft()))||void 0;Tl.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=ft();try{n=zl(r)}catch(A){n=zl(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ol)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",i=Ol.open();return null!==i&&i.document.write(o),i}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ol)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Ol.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ol))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=Ol.open();if(null!==f&&(f.document.write(d),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return Ol.document.location.href=this.output("datauristring",t);default:return null}},Qe.foo=function(){try{return Qe.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!Ol.console)throw new Error(n);Ol.console.error(n,t),Ol.alert&&alert(n)}},Qe.foo.bar=Qe,Qe.foo),gt=function(e){return!0===Array.isArray(ke)&&ke.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==gt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var vt=null;P(),L();var xt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},yt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return xt(t)},bt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:je[D].objId,pageNumber:D,pageContext:je[D]}};h.addPage=function(){return at.apply(this,arguments),this},h.setPage=function(){return ot.apply(this,arguments),J.call(this,V[D]),this},h.insertPage=function(e){return this.addPage(),this.movePage(D,e),this},h.movePage=function(e,t){var n,r;if(e>t){n=V[e],r=je[e];for(var a=e;a>t;a--)V[a]=V[a-1],je[a]=je[a-1];V[t]=n,je[t]=r,this.setPage(t)}else if(e<t){n=V[e],r=je[e];for(var s=e;s<t;s++)V[s]=V[s+1],je[s]=je[s+1];V[t]=n,je[t]=r,this.setPage(t)}return this},h.deletePage=function(){return st.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,n,r,a){var s,o,i,l,c,A,u,h,f,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var m=n;n=t,t=e,e=m}if(arguments[3]instanceof Fe==0?(i=arguments[4],l=arguments[5],"object"===(0,Nr.A)(u=arguments[3])&&null!==u||("string"==typeof i&&(l=i,i=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(i=u,u=null),r={flags:u,angle:i,align:l})):(j("The transform parameter of text() with a Matrix value"),f=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var g,v="",b="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Qt,w=p.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function C(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function k(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,s=e.concat(),o=[],i=s.length;i--;)"string"==typeof(r=s.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),o.push([a[0],a[1],a[2]]));n=o}return n}var E=!1,_=!0;if("string"==typeof e)E=!0;else if(Array.isArray(e)){var F=e.concat();o=[];for(var U,I=F.length;I--;)("string"!=typeof(U=F.shift())||Array.isArray(U)&&"string"!=typeof U[0])&&(_=!1);E=_}if(!1===E)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/p.internal.scaleFactor,Q=L*(b-1);switch(r.baseline){case"bottom":n-=Q;break;case"top":n+=L-Q;break;case"hanging":n+=L-2*Q;break;case"middle":n+=L/2-Q}if((A=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,A):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,A))},[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:me,activeFontSize:te}},Ce.publish("preProcessText",s),e=s.text,i=(r=s.options).angle,f instanceof Fe==0&&i&&"number"==typeof i){i*=Math.PI/180,0===r.rotationDirection&&(i=-i),y===x&&(i=-i);var O=Math.cos(i),P=Math.sin(i);f=new Fe(O,P,-P,O,0,0)}else i&&i instanceof Fe&&(f=i);y!==x||f||(f=Ie),void 0!==(c=r.charSpace||Jt)&&(v+=B(S(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=r.horizontalScale)&&(v+=B(100*h)+" Tz\n"),r.lang;var T=-1,D=void 0!==r.renderingMode?r.renderingMode:r.stroke,M=p.internal.getCurrentPageInfo().pageContext;switch(D){case 0:case!1:case"fill":T=0;break;case 1:case!0:case"stroke":T=1;break;case 2:case"fillThenStroke":T=2;break;case 3:case"invisible":T=3;break;case 4:case"fillAndAddForClipping":T=4;break;case 5:case"strokeAndAddPathForClipping":T=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":T=6;break;case 7:case"addToPathForClipping":T=7}var H=void 0!==M.usedRenderingMode?M.usedRenderingMode:-1;-1!==T?v+=T+" Tr\n":-1!==H&&(v+="0 Tr\n"),-1!==T&&(M.usedRenderingMode=T),l=r.align||"left";var R,q=te*b,K=p.internal.pageSize.getWidth(),z=me[ue];c=r.charSpace||Jt,A=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],V=function(e){return p.getStringUnitWidth(e,{font:z,charSpace:c,fontSize:te,doKerning:!1})*te/w};if("[object Array]"===Object.prototype.toString.call(e)){var W;o=C(e),"left"!==l&&(R=o.map(V));var X,J=0;if("right"===l){t-=R[0],e=[],I=o.length;for(var Z=0;Z<I;Z++)0===Z?(X=Rt(t),W=qt(n)):(X=S(J-R[Z]),W=-q),e.push([o[Z],X,W]),J=R[Z]}else if("center"===l){t-=R[0]/2,e=[],I=o.length;for(var $=0;$<I;$++)0===$?(X=Rt(t),W=qt(n)):(X=S((J-R[$])/2),W=-q),e.push([o[$],X,W]),J=R[$]}else if("left"===l){e=[],I=o.length;for(var ee=0;ee<I;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===z.encoding){e=[],I=o.length,A=0!==A?A:K;for(var ne=0,re=0;re<I;re++)if(W=0===re?qt(n):-q,X=0===re?Rt(t):ne,re<I-1){var se=S((A-R[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",X,W]),ne=0;for(var ie=1;ie<oe.length;ie++){var le=(V(oe[ie-1]+" "+oe[ie])-V(oe[ie]))*w+se;ie==oe.length-1?e.push([oe[ie],le,0]):e.push([oe[ie]+" ",le,0]),ne-=le}}else e.push([o[re],X,W]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],I=o.length,A=0!==A?A:K,re=0;re<I;re++)W=0===re?qt(n):-q,X=0===re?Rt(t):0,re<I-1?G.push(B(S((A-R[re])/(o[re].split(" ").length-1)))):G.push(0),e.push([o[re],X,W])}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=k(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:me,activeFontSize:te}},Ce.publish("postProcessText",s),e=s.text,g=s.mutex.isHex||!1;var ce=me[ue].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=k(e,function(e,t,n){return[N(e),t,n]})),o=C(e),e=[];for(var Ae,de,he,fe=Array.isArray(o[0])?1:0,pe="",ge=function(e,t,n){var a="";return n instanceof Fe?(n="number"==typeof r.angle?Ue(n,new Fe(1,0,0,1,e,t)):Ue(new Fe(1,0,0,1,e,t),n),y===x&&(n=Ue(new Fe(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=B(e)+" "+B(t)+" Td\n",a},ve=0;ve<o.length;ve++){switch(pe="",fe){case 1:he=(g?"<":"(")+o[ve][0]+(g?">":")"),Ae=parseFloat(o[ve][1]),de=parseFloat(o[ve][2]);break;case 0:he=(g?"<":"(")+o[ve]+(g?">":")"),Ae=Rt(t),de=qt(n)}void 0!==G&&void 0!==G[ve]&&(pe=G[ve]+" Tw\n"),0===ve?e.push(pe+ge(Ae,de,f)+he):0===fe?e.push(pe+he):1===fe&&e.push(pe+ge(Ae,de,f)+he)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var xe="BT\n/";return xe+=ue+" "+te+" Tf\n",xe+=B(te*b)+" TL\n",xe+=Wt+"\n",xe+=v,xe+=e,Y(xe+="ET"),d[ue]=!0,p};var wt=h.__private__.clip=h.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return wt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Nt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var Bt=h.__private__.getStyle=h.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},jt=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(e){return Ct("f",e),this},h.fillEvenOdd=function(e){return Ct("f*",e),this},h.fillStroke=function(e){return Ct("B",e),this},h.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,Nr.A)(t)?St(t,e):Y(e)},kt=function(e){null===e||y===x&&void 0===e||(e=Bt(e),Y(e))};function Et(e,t,n,r,a){var s=new fc(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Le(o,s),s}var St=function(e,t){var n=ye[e.key],r=xe[n];if(r instanceof hc)Y("q"),Y(_t(t)),r.gState&&h.setGState(r.gState),Y(e.matrix.toString()+" cm"),Y("/"+n+" sh"),Y("Q");else if(r instanceof fc){var a=new Fe(1,0,0,-1,0,cn());e.matrix&&(a=a.multiply(e.matrix||Ie),n=Et.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),Y("q"),Y("/Pattern cs"),Y("/"+n+" scn"),r.gState&&h.setGState(r.gState),Y(t),Y("Q")}},_t=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ft=h.moveTo=function(e,t){return Y(B(S(e))+" "+B(_(t))+" m"),this},Ut=h.lineTo=function(e,t){return Y(B(S(e))+" "+B(_(t))+" l"),this},It=h.curveTo=function(e,t,n,r,a,s){return Y([B(S(e)),B(_(t)),B(S(n)),B(_(r)),B(S(a)),B(_(s)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return y===v?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,n,r,a,s){var o,i,l,c,A,u,d,h,f,p,m,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ft(t,n),o=r[0],i=r[1],c=e.length,p=t,m=n,l=0;l<c;l++)2===(A=e[l]).length?(p=A[0]*o+p,m=A[1]*i+m,Ut(p,m)):(u=A[0]*o+p,d=A[1]*i+m,h=A[2]*o+p,f=A[3]*i+m,p=A[4]*o+p,m=A[5]*i+m,It(u,d,h,f,p,m));return s&&jt(),kt(a),this},h.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ft(r[0],r[1]);break;case"l":Ut(r[0],r[1]);break;case"c":It.apply(this,r);break;case"h":jt()}}return this},h.__private__.rect=h.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return y===v&&(r=-r),Y([B(S(e)),B(_(t)),B(S(n)),B(S(r)),"re"].join(" ")),kt(a),this},h.__private__.triangle=h.triangle=function(e,t,n,r,a,s,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!Nt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,s-r],[e-a,t-s]],e,t,[1,1],o,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,n,r,a,s,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!Nt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var i=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*a,0],[a*i,0,a,s-s*i,a,s],[0,r-2*s],[0,s*i,-a*i,s,-a,s],[2*a-n,0],[-a*i,0,-a,-s*i,-a,-s],[0,2*s-r],[0,-s*i,a*i,-s,a,-s]],e+a,t,[1,1],o,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Ft(e+n,t),It(e+n,t-o,e+s,t-r,e,t-r),It(e-s,t-r,e-n,t-o,e-n,t),It(e-n,t+o,e-s,t+r,e,t+r),It(e+s,t+r,e+n,t+o,e+n,t),kt(a),this},h.__private__.circle=h.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},h.setFont=function(e,t,n){return n&&(t=N(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Lt=h.__private__.getFont=h.getFont=function(){return me[lt.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,n={};for(e in ge)if(ge.hasOwnProperty(e))for(t in n[e]=[],ge[e])ge[e].hasOwnProperty(t)&&n[e].push(t);return n},h.addFont=function(e,t,n,r,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,a=a||"Identity-H")};var Qt,Ot=e.lineWidth||.200025,Pt=h.__private__.getLineWidth=h.getLineWidth=function(){return Ot},Tt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Ot=e,Y(B(S(e))+" w"),this};h.__private__.setLineDash=pc.API.setLineDash=pc.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return B(S(e))}).join(" "),t=B(S(t)),Y("["+e+"] "+t+" d"),this};var Dt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*Qt};h.__private__.getLineHeight=h.getLineHeight=function(){return te*Qt};var Mt=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Qt=e),this},Ht=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Qt};Mt(e.lineHeight);var Rt=h.__private__.getHorizontalCoordinate=function(e){return S(e)},qt=h.__private__.getVerticalCoordinate=function(e){return y===x?e:je[D].mediaBox.topRightY-je[D].mediaBox.bottomLeftY-S(e)},Kt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return B(Rt(e))},zt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return B(qt(e))},Gt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Re(Gt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,n,r){return Gt=qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Y(Gt),this};var Vt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Re(Vt)},h.__private__.setFillColor=h.setFillColor=function(e,t,n,r){return Vt=qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Y(Vt),this};var Wt=e.textColor||"0 g",Xt=h.__private__.getTextColor=h.getTextColor=function(){return Re(Wt)};h.__private__.setTextColor=h.setTextColor=function(e,t,n,r){return Wt=qe({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Yt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Jt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Zt=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,Y(t+" J"),this};var $t=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,Y(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(B(S(e))+" M"),this},h.GState=uc,h.setGState=function(e){(e="string"==typeof e?be[we[e]]:en(null,e)).equals(Ne)||(Y("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!we[e]){var n=!1;for(var r in be)if(be.hasOwnProperty(r)&&be[r].equals(t)){n=!0;break}if(n)t=be[r];else{var a="GS"+(Object.keys(be).length+1).toString(10);be[a]=t,t.id=a}return e&&(we[e]=t.id),Ce.publish("addGState",t),t}};h.addGState=function(e,t){return en(e,t),this},h.saveGraphicsState=function(){return Y("q"),ve.push({key:ue,size:te,color:Wt}),this},h.restoreGraphicsState=function(){Y("Q");var e=ve.pop();return ue=e.key,te=e.size,Wt=e.color,Ne=null,this},h.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},h.comment=function(e){return Y("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},rn=function(){this.page=Be,this.currentPage=D,this.pages=V.slice(0),this.pagesContext=je.slice(0),this.x=he,this.y=fe,this.matrix=pe,this.width=on(D),this.height=cn(D),this.outputDestination=X,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){Be=this.page,D=this.currentPage,je=this.pagesContext,V=this.pages,he=this.x,fe=this.y,pe=this.matrix,ln(D,this.width),An(D,this.height),X=this.outputDestination};var an=function(e,t,n,r,a){_e.push(new rn),Be=D=0,V=[],he=e,fe=t,pe=a,rt([n,r])};for(var sn in h.beginFormObject=function(e,t,n,r,a){return an(e,t,n,r,a),this},h.endFormObject=function(e){return function(e){if(Se[e])_e.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ee).length+1).toString(10);t.id=n,Se[e]=n,Ee[n]=t,Ce.publish("addFormObject",t),_e.pop().restore()}}(e),this},h.doFormObject=function(e,t){var n=Ee[Se[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+n.id+" Do"),Y("Q"),this},h.getFormObject=function(e){var t=Ee[Se[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Rl(pt(ft()),e),"function"==typeof Rl.unload&&Ol.setTimeout&&setTimeout(Rl.unload,911),this):new Promise(function(t,n){try{var a=Rl(pt(ft()),e);"function"==typeof Rl.unload&&Ol.setTimeout&&setTimeout(Rl.unload,911),t(a)}catch(r){n(r.message)}})},pc.API)pc.API.hasOwnProperty(sn)&&("events"===sn&&pc.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ce,pc.API.events):h[sn]=pc.API[sn]);var on=h.getPageWidth=function(e){return(je[e=e||D].mediaBox.topRightX-je[e].mediaBox.bottomLeftX)/de},ln=h.setPageWidth=function(e,t){je[e].mediaBox.topRightX=t*de+je[e].mediaBox.bottomLeftX},cn=h.getPageHeight=function(e){return(je[e=e||D].mediaBox.topRightY-je[e].mediaBox.bottomLeftY)/de},An=h.setPageHeight=function(e,t){je[e].mediaBox.topRightY=t*de+je[e].mediaBox.bottomLeftY};return h.internal={pdfEscape:nt,getStyle:Bt,getFont:Lt,getFontSize:re,getCharSpace:Yt,getTextColor:Xt,getLineHeight:Dt,getLineHeightFactor:Ht,getLineWidth:Pt,write:Z,getHorizontalCoordinate:Rt,getVerticalCoordinate:qt,getCoordinateString:Kt,getVerticalCoordinateString:zt,collections:{},newObject:Oe,newAdditionalObject:De,newObjectDeferred:Pe,newObjectDeferredBegin:Te,getFilters:Ke,putStream:ze,events:Ce,scaleFactor:de,pageSize:{getWidth:function(){return on(D)},setWidth:function(e){ln(D,e)},getHeight:function(){return cn(D)},setHeight:function(e){An(D,e)}},encryptionOptions:A,encryption:vt,getEncryptor:function(e){return null!==A?vt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:it,pages:V,out:Y,f2:k,f3:E,getPageInfo:xt,getPageInfoByObjId:yt,getCurrentPageInfo:bt,getPDFVersion:p,Point:tn,Rectangle:nn,Matrix:Fe,hasHotfix:gt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return on(D)},set:function(e){ln(D,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return cn(D)},set:function(e){An(D,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(d[r]=!0);var a=e[t][0].split("-");et({id:r,fontName:a[0],fontStyle:a[1]||""})}Ce.publish("addFonts",{fonts:me,dictionary:ge})}.call(h,ee),ue="F1",at(a,n),Ce.publish("initialized"),h}lc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},lc.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},lc.prototype.processOwnerPassword=function(e,t){return oc(rc(t).substr(0,5),e)},lc.prototype.encryptor=function(e,t){var n=rc(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return oc(n,e)}},uc.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Nr.A)(e)!==(0,Nr.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},pc.API={events:[]},pc.version="3.0.2";var mc=pc.API,gc=1,vc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yc=function(e){return e.toFixed(2)},bc=function(e){return e.toFixed(5)};mc.__acroform__={};var wc=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Nc=function(e){return e*gc},Bc=function(e){var t=new Mc,n=eA.internal.getHeight(e)||0,r=eA.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yc(r)),Number(yc(n))],t},jc=mc.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Cc=mc.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},kc=mc.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ec=mc.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kc(e,t-1)},Sc=mc.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jc(e,t-1)},_c=mc.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cc(e,t-1)},Fc=mc.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],i=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(s+i)||0,l.upperRight_X=n(a+o)||0,l.upperRight_Y=r(s)||0,[Number(yc(l.lowerLeft_X)),Number(yc(l.lowerLeft_Y)),Number(yc(l.upperRight_X)),Number(yc(l.upperRight_Y))]},Uc=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Ic(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yc(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Bc(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Ic=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var s=n,o=eA.internal.getHeight(e)||0;o=o<0?-o:o;var i=eA.internal.getWidth(e)||0;i=i<0?-i:i;var l=function(t,n,r){if(t+1<a.length){var s=n+" "+a[t+1][0];return Lc(s,e,r).width<=i-4}return!1};s++;e:for(;s>0;){t="",s--;var c,A,u=Lc("3",e,s).height,d=e.multiline?o-s:(o-u)/2,h=d+=2,f=0,p=0,m=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+Lc(t,e,s=12).width+", FieldWidth:"+i+"\n";break}for(var g="",v=0,x=0;x<a.length;x++)if(a.hasOwnProperty(x)){var y=!1;if(1!==a[x].length&&m!==a[x].length-1){if((u+2)*(v+2)+2>o)continue e;g+=a[x][m],y=!0,p=x,x--}else{g=" "==(g+=a[x][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var b=parseInt(x),w=l(b,g,s),N=x>=a.length-1;if(w&&!N){g+=" ",m=0;continue}if(w||N){if(N)p=b;else if(e.multiline&&(u+2)*(v+2)+2>o)continue e}else{if(!e.multiline)continue e;if((u+2)*(v+2)+2>o)continue e;p=b}}for(var B="",j=f;j<=p;j++){var C=a[j];if(e.multiline){if(j===p){B+=C[m]+" ",m=(m+1)%C.length;continue}if(j===f){B+=C[C.length-1]+" ";continue}}B+=C[0]+" "}switch(B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B,A=Lc(B,e,s).width,e.textAlign){case"right":c=i-A-2;break;case"center":c=(i-A)/2;break;default:c=2}t+=yc(c)+" "+yc(h)+" Td\n",t+="("+vc(B)+") Tj\n",t+=-yc(c)+" 0 Td\n",h=-(s+2),A=0,f=y?p:p+1,v++,g=""}break}return r.text=t,r.fontSize=s,r},Lc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Qc={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Oc=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Pc=mc.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(0!==s&&(a+=" "),(0,Nr.A)(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+vc(r(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tc=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+vc(r(e))+")"},Dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dc.prototype.toString=function(){return this.objId+" 0 R"},Dc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:Pc(a,this.objId,this.scope)}):a instanceof Dc?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var Mc=function(){Dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};wc(Mc,Dc);var Hc=function(){Dc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vc(t(e))+")"}},set:function(t){e=t}})};wc(Hc,Dc);var Rc=function e(){Dc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(t,3))},set:function(e){!0===Boolean(e)?this.F=Sc(t,3):this.F=_c(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Jc)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vc(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var i="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/gc:c},set:function(e){c=e}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(e){A=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Jc||this instanceof Zc))return Tc(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Vc==0?Tc(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Vc==0?"("===e.substr(0,1)?xc(e.substr(1,e.length-2)):xc(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vc==1?xc(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Vc==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Vc==0?Tc(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Vc==0?"("===e.substr(0,1)?xc(e.substr(1,e.length-2)):xc(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vc==1?xc(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Vc==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,1):this.Ff=_c(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,2):this.Ff=_c(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,3):this.Ff=_c(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');m=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(m){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};wc(Rc,Dc);var qc=function(){Rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pc(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,18):this.Ff=_c(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Sc(this.Ff,19):this.Ff=_c(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Sc(this.Ff,20),t.sort()):this.Ff=_c(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,22):this.Ff=_c(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,23):this.Ff=_c(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,27):this.Ff=_c(this.Ff,27)}}),this.hasAppearanceStream=!1};wc(qc,Rc);var Kc=function(){qc.call(this),this.fontName="helvetica",this.combo=!1};wc(Kc,qc);var zc=function(){Kc.call(this),this.combo=!0};wc(zc,Kc);var Gc=function(){zc.call(this),this.edit=!0};wc(Gc,zc);var Vc=function(){Rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,15):this.Ff=_c(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,16):this.Ff=_c(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,17):this.Ff=_c(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,26):this.Ff=_c(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+vc(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Nr.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};wc(Vc,Rc);var Wc=function(){Vc.call(this),this.pushButton=!0};wc(Wc,Vc);var Xc=function(){Vc.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};wc(Xc,Vc);var Jc=function(){var e,t;Rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+vc(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Nr.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=eA.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wc(Jc,Rc),Xc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Xc.prototype.createOption=function(e){var t=new Jc;return t.Parent=this,t.optionName=e,this.Kids.push(t),tA.call(this.scope,t),t};var Yc=function(){Vc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=eA.CheckBox.createAppearanceStream()};wc(Yc,Vc);var Zc=function(){Rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,13):this.Ff=_c(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,21):this.Ff=_c(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,23):this.Ff=_c(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,24):this.Ff=_c(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,25):this.Ff=_c(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,26):this.Ff=_c(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wc(Zc,Rc);var $c=function(){Zc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ec(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Sc(this.Ff,14):this.Ff=_c(this.Ff,14)}}),this.password=!0};wc($c,Zc);var eA={CheckBox:{createAppearanceStream:function(){return{N:{On:eA.CheckBox.YesNormal},D:{On:eA.CheckBox.YesPushDown,Off:eA.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Ic(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+yc(eA.internal.getWidth(e))+" "+yc(eA.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yc(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Bc(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],s=eA.internal.getHeight(e),o=eA.internal.getWidth(e),i=Ic(e,e.caption);return a.push("1 g"),a.push("0 0 "+yc(o)+" "+yc(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yc(o-1)+" "+yc(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+yc(i.fontSize)+" Tf "+r),a.push(i.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yc(eA.internal.getWidth(e))+" "+yc(eA.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:eA.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=eA.RadioButton.Circle.YesNormal,t.D[e]=eA.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bc(e);t.scope=e.scope;var n=[],r=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=eA.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+bc(eA.internal.getWidth(e)/2)+" "+bc(eA.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=[],r=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*eA.internal.Bezier_C).toFixed(5)),o=Number((r*eA.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+bc(eA.internal.getWidth(e)/2)+" "+bc(eA.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+bc(eA.internal.getWidth(e)/2)+" "+bc(eA.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=[],r=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*eA.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+bc(eA.internal.getWidth(e)/2)+" "+bc(eA.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:eA.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=eA.RadioButton.Cross.YesNormal,t.D[e]=eA.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bc(e);t.scope=e.scope;var n=[],r=eA.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+yc(eA.internal.getWidth(e)-2)+" "+yc(eA.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yc(r.x1.x)+" "+yc(r.x1.y)+" m"),n.push(yc(r.x2.x)+" "+yc(r.x2.y)+" l"),n.push(yc(r.x4.x)+" "+yc(r.x4.y)+" m"),n.push(yc(r.x3.x)+" "+yc(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=eA.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+yc(eA.internal.getWidth(e))+" "+yc(eA.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yc(eA.internal.getWidth(e)-2)+" "+yc(eA.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yc(n.x1.x)+" "+yc(n.x1.y)+" m"),r.push(yc(n.x2.x)+" "+yc(n.x2.y)+" l"),r.push(yc(n.x4.x)+" "+yc(n.x4.y)+" m"),r.push(yc(n.x3.x)+" "+yc(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Bc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yc(eA.internal.getWidth(e))+" "+yc(eA.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};eA.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=eA.internal.getWidth(e),n=eA.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},eA.internal.getWidth=function(e){var t=0;return"object"===(0,Nr.A)(e)&&(t=Nc(e.Rect[2])),t},eA.internal.getHeight=function(e){var t=0;return"object"===(0,Nr.A)(e)&&(t=Nc(e.Rect[3])),t};var tA=mc.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Rc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Qc)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gc=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Hc,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Oc(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],s=[],o=a.Rect;if(a.Rect&&(a.Rect=Fc(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=eA.createDefaultAppearanceStream(a),"object"===(0,Nr.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(s=a.getKeyValueListForStream()),a.Rect=o,a.hasAppearanceStream&&!a.appearanceStreamContent){var i=Uc(a);s.push({key:"AP",value:"<</N "+i+">>"}),t.internal.acroformPlugin.xForms.push(i)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var A=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var r in A)if(A.hasOwnProperty(r)){var u=A[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=A)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,Nr.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Rc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mc.AcroFormChoiceField=qc,mc.AcroFormListBox=Kc,mc.AcroFormComboBox=zc,mc.AcroFormEditBox=Gc,mc.AcroFormButton=Vc,mc.AcroFormPushButton=Wc,mc.AcroFormRadioButton=Xc,mc.AcroFormCheckBox=Yc,mc.AcroFormTextField=Zc,mc.AcroFormPasswordField=$c,mc.AcroFormAppearance=eA,mc.AcroForm={ChoiceField:qc,ListBox:Kc,ComboBox:zc,EditBox:Gc,Button:Vc,PushButton:Wc,RadioButton:Xc,CheckBox:Yc,TextField:Zc,PasswordField:$c,Appearance:eA},pc.AcroForm={ChoiceField:qc,ListBox:Kc,ComboBox:zc,EditBox:Gc,Button:Vc,PushButton:Wc,RadioButton:Xc,CheckBox:Yc,TextField:Zc,PasswordField:$c,Appearance:eA};pc.AcroForm;function nA(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,s,o,i,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(w(e))for(l in r)for(o=r[l],a=0;a<o.length;a+=1){for(i=!0,s=0;s<o[a].length;s+=1)if(void 0!==o[a][s]&&o[a][s]!==e[s]){i=!1;break}if(!0===i){c=l;break}}else for(l in r)for(o=r[l],a=0;a<o.length;a+=1){for(i=!0,s=0;s<o[a].length;s+=1)if(void 0!==o[a][s]&&o[a][s]!==e.charCodeAt(s)){i=!1;break}if(!0===i){c=l;break}}return c===n&&t!==n&&(c=t),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",i=0,l=t.transparency.length;i<l;i++)o+=t.transparency[i]+" "+t.transparency[i]+" ";s.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var A=(null!=t.predictor?"/Predictor "+t.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:A,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var d=this.internal.newObject();r({data:B(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)s.call(this,e[n])},i=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},A=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(0,Nr.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Kl(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return Kl(t.toDataURL(s,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},m=function(e,t,n,r,a,s){var o=p.call(this,n,r,a),i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=c.call(this);if(n=o[0],r=o[1],A[a.index]=a,s){s*=Math.PI/180;var u=Math.cos(s),d=Math.sin(s),h=function(e){return e.toFixed(4)},f=[h(u),h(d),h(-1*d),h(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,i(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([i(n),"0","0",i(r),"0","0","cm"].join(" "))):this.internal.write([i(n),"0","0",i(r),i(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(w(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},B=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=w(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,s,o,i,c,A;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],s=arguments[3],o=arguments[4],i=arguments[5],c=arguments[6],A=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],s=arguments[4],o=arguments[5],i=arguments[6],c=arguments[7],A=arguments[8]),"object"===(0,Nr.A)(e=arguments[0])&&!d(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,a=u.y||a||0,s=u.w||u.width||s,o=u.h||u.height||o,i=u.alias||i,c=u.compression||c,A=u.rotation||u.angle||A}var h=this.internal.getFilters();if(void 0===c&&-1!==h.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=j.call(this,e,t,i,c);return m.call(this,r,a,s,o,f,A),this};var j=function(t,r,s,o){var i,l,c;if("string"==typeof t&&a(t)===n){t=unescape(t);var p=C(t,!1);(""!==p||void 0!==(p=e.loadFile(t,!0)))&&(t=p)}if(d(t)&&(t=h(t,r)),r=a(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=s)||0===c.length)&&(s=function(e){return"string"==typeof e||w(e)?x(e):w(e.data)?x(e.data):null}(t)),(i=f.call(this,s))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),i=this["process"+r.toUpperCase()](t,A.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(o),l)),!i)throw new Error("An unknown error occurred whilst processing the image.");return i},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var s;n=null!==(s=b(e))&&void 0!==s?s:e;try{r=Kl(n)}catch(a){if(t)throw y(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,s,o="";if(d(t)&&(t=h(t)),"string"==typeof t&&a(t)===n&&(""===(o=C(t,!1))&&(o=e.loadFile(t)||""),t=o),s=a(t),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+s.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=s,r}}(pc.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};pc.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,i=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,A=0;A<l.length&&!c;A++)switch((n=l[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var d=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(f.objId),g=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(m(n.contents))+")",a+=" /Popup "+p.objId+" 0 R",a+=" /P "+i.objId+" 0 R",a+=" /T ("+d(m(g))+") >>",f.content=a;var v=f.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(a+=" /Open true"),a+=" >>",p.content=a,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(h(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var b=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+b+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var s=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:o(e),y:i(t),w:o(e+n),h:i(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,s,o=this.getTextWidth(e),i=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(i*l)}else s=o,a=i;return this.text(e,t,n,r),n+=.2*i,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-i,s,a,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(pc.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},i=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var A=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===s(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&i(t)||i(e)&&!o(t)||i(e)&&l(t)||i(e)&&i(t)?0:A(e)&&o(t)&&!i(t)&&o(n)&&c(n)?3:i(e)||!o(n)?1:2:-1},h=function(e){var n=0,r=0,a=0,s="",i="",l="",c=(e=e||"").split("\\s+"),A=[];for(n=0;n<c.length;n+=1){for(A.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],i=c[n][r-1],l=c[n][r+1],o(s)?(a=d(s,i,l),A[n]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):A[n]+=s;A[n]=u(A[n])}return A.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([h(t[r][0]),t[r][1],t[r][2]]):n.push([h(t[r])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(pc.API),pc.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(pc.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,o=0,i=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var A=t.maxWidth;A>0?"string"==typeof e?e=this.splitTextToSize(e,A):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,A))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)o<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(o=l);return 0!==o&&(i=e.length),{w:o/=s,h:Math.max((i*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,i=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+i.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=i.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,A){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,d,h,f,p=[],m=[],g=[],v={},x={},y=[],b=[],w=(A=A||{}).autoSize||!1,N=!1!==A.printHeaders,B=A.css&&void 0!==A.css["font-size"]?16*A.css["font-size"]:A.fontSize||12,j=A.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof A.padding?A.padding:3,k=A.headerBackgroundColor||"#c8c8c8",E=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=E,this.setFontSize(B),null==c)m=p=Object.keys(l[0]),g=p.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Nr.A)(c[0]))for(p=c.map(function(e){return e.name}),m=c.map(function(e){return e.prompt||e.name||""}),g=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)x[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(m=p=c,g=p.map(function(){return"left"}));if(w||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<p.length;u+=1){for(v[f=p[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(m[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=v[f],this.setFont(void 0,"normal"),h=0;h<d.length;h+=1)y.push(this.getTextDimensions(d[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[f]=Math.max.apply(null,y)+C+C,y=[]}if(N){var S={};for(u=0;u<p.length;u+=1)S[p[u]]={},S[p[u]].text=m[u],S[p[u]].align=g[u];var _=i.call(this,S,x);b=p.map(function(t){return new s(e,n,x[t],_,S[t].text,void 0,S[t].align)}),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var F=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:u,data:l[u]},this);var U=i.call(this,l[u],x);for(h=0;h<p.length;h+=1){var I=l[u][p[h]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:u,col:h,data:I},this),o.call(this,new s(e,n,x[p[h]],U,I,u+2,F[p[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var i=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var i=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(i[0],i[1],i[2],i[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,a),this.setTextColor(A)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(pc.API);var rA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sA=nA(aA),oA=[100,200,300,400,500,600,700,800,900],iA=nA(oA);function lA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return rA[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof sA[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function cA(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var AA={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function hA(e){return e.trimLeft()}function fA(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function pA(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var mA,gA,vA,xA,yA,bA,wA,NA,BA=["times"];function jA(e,t,n,r){var a=4,s=EA;switch(r){case pc.API.image_compression.FAST:a=1,s=kA;break;case pc.API.image_compression.MEDIUM:a=6,s=SA;break;case pc.API.image_compression.SLOW:a=9,s=_A}e=function(e,t,n,r){for(var a,s=e.length/t,o=new Uint8Array(e.length+s),i=[CA,kA,EA,SA,_A],l=0;l<s;l+=1){var c=l*t,A=e.subarray(c,c+t);if(r)o.set(r(A,n,a),c+l);else{for(var u=i.length,d=[],h=0;h<u;h+=1)d[h]=i[h](A,n,a);var f=UA(d.concat());o.set(d[f],c+l)}a=A}return o}(e,t,n,s);var o=ia(e,{level:a});return pc.API.__addimage__.arrayBufferToBinaryString(o)}function CA(e){var t=Array.apply([],e);return t.unshift(0),t}function kA(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var s=e[a-t]||0;r[a+1]=e[a]-s+256&255}return r}function EA(e,t,n){var r=e.length,a=[];a[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;a[s+1]=e[s]-o+256&255}return a}function SA(e,t,n){var r=e.length,a=[];a[0]=3;for(var s=0;s<r;s+=1){var o=e[s-t]||0,i=n&&n[s]||0;a[s+1]=e[s]+256-(o+i>>>1)&255}return a}function _A(e,t,n){var r=e.length,a=[];a[0]=4;for(var s=0;s<r;s+=1){var o=FA(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function FA(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=a&&r<=s?e:a<=s?t:n}function UA(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function IA(e,t,n){var r=t*n,a=Math.floor(r/8),s=16-(r-8*a+n),o=(1<<n)-1;return QA(e,a)>>s&o}function LA(e,t,n,r){var a=n*r,s=Math.floor(a/8),o=16-(a-8*s+r),i=(1<<r)-1,l=(t&i)<<o;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,s,QA(e,s)&~(i<<o)&65535|l)}function QA(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function OA(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var i=null,l=null;s&&(i=t,l=o,t+=3*o);var c=!0,A=[],u=0,d=null,h=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],1&p||(d=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++],b=y>>6&1,w=1<<1+(7&y),N=i,B=l,j=!1;y>>7&&(j=!0,N=t,B=w,t+=3*w);var C=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}A.push({x:m,y:g,width:v,height:x,has_local_palette:j,palette_offset:N,palette_size:B,data_offset:C,data_length:t-C,transparent_index:d,interlaced:!!b,delay:u,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=A.length)throw new Error("Frame index out of range.");return A[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,o=new Uint8Array(s);PA(e,a.data_offset,o,s);var i=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,A=n-c,u=c,d=4*(a.y*n+a.x),h=4*((a.y+a.height)*n+a.x),f=d,p=4*A;!0===a.interlaced&&(p+=4*n*7);for(var m=8,g=0,v=o.length;g<v;++g){var x=o[g];if(0===u&&(u=c,(f+=p)>=h&&(p=4*A+4*n*(m-1),f=d+(c+A)*(m<<1),m>>=1)),x===l)f+=4;else{var y=e[i+3*x],b=e[i+3*x+1],w=e[i+3*x+2];r[f++]=w,r[f++]=b,r[f++]=y,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,o=new Uint8Array(s);PA(e,a.data_offset,o,s);var i=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,A=n-c,u=c,d=4*(a.y*n+a.x),h=4*((a.y+a.height)*n+a.x),f=d,p=4*A;!0===a.interlaced&&(p+=4*n*7);for(var m=8,g=0,v=o.length;g<v;++g){var x=o[g];if(0===u&&(u=c,(f+=p)>=h&&(p=4*A+4*n*(m-1),f=d+(c+A)*(m<<1),m>>=1)),x===l)f+=4;else{var y=e[i+3*x],b=e[i+3*x+1],w=e[i+3*x+2];r[f++]=y,r[f++]=b,r[f++]=w,r[f++]=255}--u}}}function PA(e,t,n,r){for(var a=e[t++],s=1<<a,o=s+1,i=o+1,l=a+1,c=(1<<l)-1,A=0,u=0,d=0,h=e[t++],f=new Int32Array(4096),p=null;;){for(;A<16&&0!==h;)u|=e[t++]<<A,A+=8,1===h?h=e[t++]:--h;if(A<l)break;var m=u&c;if(u>>=l,A-=l,m!==s){if(m===o)break;for(var g=m<i?m:p,v=0,x=g;x>s;)x=f[x]>>8,++v;var y=x;if(d+v+(g!==m?1:0)>r)return void Tl.log("Warning, gif stream longer than expected.");n[d++]=y;var b=d+=v;for(g!==m&&(n[d++]=y),x=g;v--;)x=f[x],n[--b]=255&x,x>>=8;null!==p&&i<4096&&(f[i++]=p<<8|y,i>=c+1&&l<12&&(++l,c=c<<1|1)),p=m}else i=o+1,c=(1<<(l=a+1))-1,p=null}return d!==r&&Tl.log("Warning, gif stream shorter than expected."),n}function TA(e){var t,n,r,a,s,o=Math.floor,i=new Array(64),l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(65535),d=new Array(65535),h=new Array(64),f=new Array(64),p=[],m=0,g=7,v=new Array(64),x=new Array(64),y=new Array(64),b=new Array(256),w=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(e,t){for(var n=0,r=0,a=new Array,s=1;s<=16;s++){for(var o=1;o<=e[s];o++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=s,r++,n++;n*=2}return a}function I(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(m|=1<<g),n--,--g<0&&(255==m?(L(255),L(0)):L(m),g=7,m=0)}function L(e){p.push(e)}function Q(e){L(e>>8&255),L(255&e)}function O(e,t,n,r,a){for(var s,o=a[0],i=a[240],l=function(e,t){var n,r,a,s,o,i,l,c,A,u,d=0;for(A=0;A<8;++A){n=e[d],r=e[d+1],a=e[d+2],s=e[d+3],o=e[d+4],i=e[d+5],l=e[d+6];var f=n+(c=e[d+7]),p=n-c,m=r+l,g=r-l,v=a+i,x=a-i,y=s+o,b=s-o,w=f+y,N=f-y,B=m+v,j=m-v;e[d]=w+B,e[d+4]=w-B;var C=.707106781*(j+N);e[d+2]=N+C,e[d+6]=N-C;var k=.382683433*((w=b+x)-(j=g+p)),E=.5411961*w+k,S=1.306562965*j+k,_=.707106781*(B=x+g),F=p+_,U=p-_;e[d+5]=U+E,e[d+3]=U-E,e[d+1]=F+S,e[d+7]=F-S,d+=8}for(d=0,A=0;A<8;++A){n=e[d],r=e[d+8],a=e[d+16],s=e[d+24],o=e[d+32],i=e[d+40],l=e[d+48];var I=n+(c=e[d+56]),L=n-c,Q=r+l,O=r-l,P=a+i,T=a-i,D=s+o,M=s-o,H=I+D,R=I-D,q=Q+P,K=Q-P;e[d]=H+q,e[d+32]=H-q;var z=.707106781*(K+R);e[d+16]=R+z,e[d+48]=R-z;var G=.382683433*((H=M+T)-(K=O+L)),V=.5411961*H+G,W=1.306562965*K+G,X=.707106781*(q=T+O),J=L+X,Y=L-X;e[d+40]=Y+V,e[d+24]=Y-V,e[d+8]=J+W,e[d+56]=J-W,d++}for(A=0;A<64;++A)u=e[A]*t[A],h[A]=u>0?u+.5|0:u-.5|0;return h}(e,t),c=0;c<64;++c)f[N[c]]=l[c];var A=f[0]-n;n=f[0],0==A?I(r[0]):(I(r[d[s=32767+A]]),I(u[s]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return I(o),n;for(var m,g=1;g<=p;){for(var v=g;0==f[g]&&g<=p;)++g;var x=g-v;if(x>=16){m=x>>4;for(var y=1;y<=m;++y)I(i);x&=15}s=32767+f[g],I(a[(x<<4)+d[s]]),I(u[s]),g++}return 63!=p&&I(o),n}function P(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),i[N[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=o((a[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[s]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var p=0;p<8;p++)c[h]=1/(i[N[h]]*d[f]*d[p]*8),A[h]=1/(l[N[h]]*d[f]*d[p]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&P(s),p=new Array,m=0,g=7,Q(65496),Q(65504),Q(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),Q(1),Q(1),L(0),L(0),function(){Q(65499),Q(132),L(0);for(var e=0;e<64;e++)L(i[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){Q(65472),Q(17),L(8),Q(t),Q(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){Q(65476),Q(418),L(0);for(var e=0;e<16;e++)L(B[e+1]);for(var t=0;t<=11;t++)L(j[t]);L(16);for(var n=0;n<16;n++)L(C[n+1]);for(var r=0;r<=161;r++)L(k[r]);L(1);for(var a=0;a<16;a++)L(E[a+1]);for(var s=0;s<=11;s++)L(S[s]);L(17);for(var o=0;o<16;o++)L(_[o+1]);for(var i=0;i<=161;i++)L(F[i])}(),Q(65498),Q(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var o=0,u=0,d=0;m=0,g=7,this.encode.displayName="_encode_";for(var h,f,b,N,U,T,D,M,H,R=e.data,q=e.width,K=e.height,z=4*q,G=0;G<K;){for(h=0;h<z;){for(U=z*G+h,D=-1,M=0,H=0;H<64;H++)T=U+(M=H>>3)*z+(D=4*(7&H)),G+M>=K&&(T-=z*(G+1+M-K)),h+D>=z&&(T-=h+D-z+4),f=R[T++],b=R[T++],N=R[T++],v[H]=(w[f]+w[b+256|0]+w[N+512|0]>>16)-128,x[H]=(w[f+768|0]+w[b+1024|0]+w[N+1280|0]>>16)-128,y[H]=(w[f+1280|0]+w[b+1536|0]+w[N+1792|0]>>16)-128;o=O(v,c,o,t,r),u=O(x,A,u,n,a),d=O(y,A,d,n,a),h+=32}G+=8}if(g>=0){var V=[];V[1]=g+1,V[0]=(1<<g+1)-1,I(V)}return Q(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)b[t]=e(t)}(),t=U(B,j),n=U(E,S),r=U(C,k),a=U(_,F),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)d[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),P(e)}function DA(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function MA(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var s=0;s<a;s++)e[t+s]=n[r+s]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function s(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function i(e,t){var n=[];return function e(n,r,a){for(var s=a[r],o=0;o<s&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));o++)e(n[o],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,s){t(!(a%r));do{e[n+(a-=r)]=s}while(0<a)}function A(e,n,r,a,o){if(t(2328>=o),512>=o)var i=s(512);else if(null==(i=s(o)))return 0;return function(e,n,r,a,o,i){var A,d,h=n,f=1<<r,p=s(16),m=s(16);for(t(0!=o),t(null!=a),t(null!=e),t(0<r),d=0;d<o;++d){if(15<a[d])return 0;++p[a[d]]}if(p[0]==o)return 0;for(m[1]=0,A=1;15>A;++A){if(p[A]>1<<A)return 0;m[A+1]=m[A]+p[A]}for(d=0;d<o;++d)A=a[d],0<a[d]&&(i[m[A]++]=d);if(1==m[15])return(a=new u).g=0,a.value=i[0],c(e,h,1,f,a),f;var g,v=-1,x=f-1,y=0,b=1,w=1,N=1<<r;for(d=0,A=1,o=2;A<=r;++A,o<<=1){if(b+=w<<=1,0>(w-=p[A]))return 0;for(;0<p[A];--p[A])(a=new u).g=A,a.value=i[d++],c(e,h+y,o,N,a),y=l(y,A)}for(A=r+1,o=2;15>=A;++A,o<<=1){if(b+=w<<=1,0>(w-=p[A]))return 0;for(;0<p[A];--p[A]){if(a=new u,(y&x)!=v){for(h+=N,g=1<<(v=A)-r;15>v&&!(0>=(g-=p[v]));)++v,g<<=1;f+=N=1<<(g=v-r),e[n+(v=y&x)].g=g+r,e[n+v].value=h-n-v}a.g=A-r,a.value=i[d++],c(e,h+(y>>r),o,N,a),y=l(y,A)}}return b!=2*m[15]-1?0:f}(e,n,r,a,o,i)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function h(){this.G=o(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Tn,d)}function f(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,C(e)}function p(e,t){for(var n=0;0<t--;)n|=E(e,128)<<t;return n}function m(e,t){var n=p(e,t);return k(e)?-n:n}function g(e,n,r,a){var s,o=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)o+=n[r+s]<<8*s;e.Ra=o,e.bb=a,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function x(e,n){if(t(0<=n),!e.h&&n<=Mn){var r=w(e)&Dn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&Hn-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function B(e,t){e.u=t,e.h=N(e)}function j(e){e.u>=Rn&&(t(e.u>=Rn),v(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function k(e){return p(e,1)}function E(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,a=n*t>>>8,s=(e.I>>>r>a)+0;for(s?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+qn[r],e.b-=r,e.Ca=(n<<r)-1,s}function S(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function _(e,t){return e[t+0]|e[t+1]<<8}function F(e,t){return _(e,t)|e[t+2]<<16}function U(e,t){return _(e,t)|_(e,t+2)<<16}function I(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function O(e,n,r,a){t(null!=r),t(null!=a);var s=r[0],o=a[0];return 0==s&&(s=(e*o+n/2)/n),0==o&&(o=(n*s+e/2)/e),0>=s||0>=o?0:(r[0]=s,a[0]=o,1)}function P(e,t){return e+(1<<t)-1>>>t}function T(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function D(t,n){e[n]=function(n,r,a,s,o,i,l){var c;for(c=0;c<o;++c){var A=e[t](i[l+c-1],a,s+c);i[l+c]=T(n[r+c],A)}}}function M(){this.ud=this.hd=this.jd=0}function H(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function R(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function q(e,t){return R(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function z(e,t,n,r,a,s,o){for(r=s[o-1],n=0;n<a;++n)s[o+n]=r=T(e[t+n],r)}function G(e,t,n,r,a){var s;for(s=0;s<n;++s){var o=e[t+s],i=o>>8&255,l=16711935&(l=(l=16711935&o)+((i<<16)+i));r[a+s]=(4278255360&o)+l>>>0}}function V(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,n,r,a,s){var o;for(o=0;o<r;++o){var i=t[n+o],l=i>>>8,c=i,A=255&(A=(A=i>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(A<<24>>24)>>>5)),a[s+o]=(4278255360&i)+(A<<16)+c}}function X(t,n,r,a,s){e[n]=function(e,t,n,r,o,i,l,c,A){for(r=l;r<c;++r)for(l=0;l<A;++l)o[i++]=s(n[a(e[t++])])},e[t]=function(t,n,o,i,l,c,A){var u=8>>t.b,d=t.Ea,h=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<o;++n){var p,m=0;for(p=0;p<d;++p)p&t||(m=a(i[l++])),c[A++]=s(h[m&f]),m>>=u}else e["VP8LMapColor"+r](i,l,h,f,c,A,n,o,d)}}function J(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s}}function Y(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r[a++]=s>>24&255}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var s=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[a++]=s,r[a++]=o}}function $(e,t,n,r,a){for(n=t+n;t<n;){var s=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[a++]=s,r[a++]=o}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=255&s,r[a++]=s>>8&255,r[a++]=s>>16&255}}function te(e,t,n,a,s,o){if(0==o)for(n=t+n;t<n;)S(a,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),s+=32;else r(a,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Rr||e==qr||e==Kr||e==zr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function ie(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function Ae(e,t){var n=e.T,a=t.ba.f.RGBA,s=a.eb,o=a.fb+e.ka*a.A,i=ma[t.ba.S],l=e.y,c=e.O,A=e.f,u=e.N,d=e.ea,h=e.W,f=t.cc,p=t.dc,m=t.Mc,g=t.Nc,v=e.ka,x=e.ka+e.T,y=e.U,b=y+1>>1;for(0==v?i(l,c,null,null,A,u,d,h,A,u,d,h,s,o,null,null,y):(i(t.ec,t.fc,l,c,f,p,m,g,A,u,d,h,s,o-a.A,s,o,y),++n);v+2<x;v+=2)f=A,p=u,m=d,g=h,u+=e.Rc,h+=e.Rc,o+=2*a.A,i(l,(c+=2*e.fa)-e.fa,l,c,f,p,m,g,A,u,d,h,s,o-a.A,s,o,y);return c+=e.fa,e.j+x<e.o?(r(t.ec,t.fc,l,c,y),r(t.cc,t.dc,A,u,b),r(t.Mc,t.Nc,d,h,b),n--):1&x||i(l,c,null,null,A,u,d,h,A,u,d,h,s,o+a.A,null,null,y),n}function ue(e,n,r){var a=e.F,s=[e.J];if(null!=a){var o=e.U,i=n.ba.S,l=i==Dr||i==Kr;n=n.ba.f.RGBA;var c=[0],A=e.ka;c[0]=e.T,e.Kb&&(0==A?--c[0]:(--A,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-A));var u=n.eb;A=n.fb+A*n.A,e=Br(a,s[0],e.width,o,c,u,A+(l?0:3),n.A),t(r==c),e&&re(i)&&wr(u,A,l,o,c,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Or||n==Tr||n==Dr||n==Mr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Qn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=Ae,vn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&mn())}if(r&&!_a){for(e=0;256>e;++e)Fa[e]=89858*(e-128)+ja>>Ba,La[e]=-22014*(e-128)+ja,Ia[e]=-45773*(e-128),Ua[e]=113618*(e-128)+ja>>Ba;for(e=Ca;e<ka;++e)t=76283*(e-16)+ja>>Ba,Qa[e-Ca]=ze(t,255),Oa[e-Ca]=ze(t+8>>4,15);_a=1}return 1}function he(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=x(e,8)?0:(t[0]=x(e,14)+1,n[0]=x(e,14)+1,r[0]=x(e,1),0!=x(e,3)?0:!e.h)}function me(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+x(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Yr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=w(n),a=e[t+=255&r].g-8;return 0<a&&(B(n,n.u+8),r=w(n),t+=e[t].value,t+=r&(1<<a)-1),B(n,n.u+e[t].g),e[t].value}function xe(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function be(e,n,a,s){var o=e.ab,i=e.c*n,l=e.C;n=l+n;var c=a,A=s;for(s=e.Ta,a=e.Ua;0<o--;){var u=e.gc[o],d=l,h=n,f=c,p=A,m=(A=s,c=a,u.Ea);switch(t(d<h),t(h<=u.nc),u.hc){case 2:Gn(f,p,(h-d)*m,A,c);break;case 0:var g=d,v=h,x=A,y=c,b=(C=u).Ea;0==g&&(Kn(f,p,null,null,1,x,y),z(f,p+1,0,0,b-1,x,y+1),p+=b,y+=b,++g);for(var w=1<<C.b,N=w-1,B=P(b,C.b),j=C.K,C=C.w+(g>>C.b)*B;g<v;){var k=j,E=C,S=1;for(zn(f,p,x,y-b,1,x,y);S<b;){var _=(S&~N)+w;_>b&&(_=b),(0,Yn[k[E++]>>8&15])(f,p+ +S,x,y+S-b,_-S,x,y+S),S=_}p+=b,y+=b,++g&N||(C+=B)}h!=u.nc&&r(A,c-m,A,c+(h-d-1)*m,m);break;case 1:for(m=f,v=p,b=(f=u.Ea)-(y=f&~(x=(p=1<<u.b)-1)),g=P(f,u.b),w=u.K,u=u.w+(d>>u.b)*g;d<h;){for(N=w,B=u,j=new M,C=v+y,k=v+f;v<C;)V(N[B++],j),Zn(j,m,v,p,A,c),v+=p,c+=p;v<k&&(V(N[B++],j),Zn(j,m,v,b,A,c),v+=b,c+=b),++d&x||(u+=g)}break;case 3:if(f==A&&p==c&&0<u.b){for(v=A,f=m=c+(h-d)*m-(y=(h-d)*P(u.Ea,u.b)),p=A,x=c,g=[],y=(b=y)-1;0<=y;--y)g[y]=p[x+y];for(y=b-1;0<=y;--y)v[f+y]=g[y];Vn(u,d,h,A,m,A,c)}else Vn(u,d,h,f,p,A,c)}c=s,A=a}A!=a&&r(s,a,c,A,i)}function we(e,n){var r=e.V,a=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var o=e.l,i=e.Ta,l=e.Ua,c=o.width;if(be(e,s,r,a),s=l=[l],t((r=e.C)<(a=n)),t(o.v<o.va),a>o.o&&(a=o.o),r<o.j){var A=o.j-r;r=o.j,s[0]+=A*c}if(r>=a?r=0:(s[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,d=(a=r.S,s=o.U,o=o.T,A=u.eb,u.A),h=o;for(u=u.fb+e.Ma*u.A;0<h--;){var f=i,p=l,m=s,g=A,v=u;switch(a){case Qr:$n(f,p,m,g,v);break;case Or:er(f,p,m,g,v);break;case Rr:er(f,p,m,g,v),wr(g,v,0,m,1,0);break;case Pr:rr(f,p,m,g,v);break;case Tr:te(f,p,m,g,v,1);break;case qr:te(f,p,m,g,v,1),wr(g,v,0,m,1,0);break;case Dr:te(f,p,m,g,v,0);break;case Kr:te(f,p,m,g,v,0),wr(g,v,1,m,1,0);break;case Mr:tr(f,p,m,g,v);break;case zr:tr(f,p,m,g,v),Nr(g,v,m,1,0);break;case Hr:nr(f,p,m,g,v);break;default:t(0)}l+=c,u+=d}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Be(e,n,r,a,s,o){if(0!=e.Z){var i=e.qd,l=e.rd;for(t(null!=pa[e.Z]);n<r;++n)pa[e.Z](i,l,a,s,a,s,o),i=a,l=s,s+=o;e.qd=i,e.rd=l}}function je(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var s=e.l.width,o=r.ca,i=r.tb+s*a,l=e.V,c=e.Ba+e.c*a,A=e.gc;t(1==e.ab),t(3==A[0].hc),Xn(A[0],a,n,l,c,o,i),Be(r,a,n,o,i,s)}e.C=e.Ma=n}function Ce(e,n,r,a,s,o,i){var l=e.$/a,c=e.$%a,A=e.m,u=e.s,d=r+e.$,h=d;s=r+a*s;var f=r+a*o,p=280+u.ua,m=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,v=u.wc,x=d<f?ye(u,c,l):null;t(e.C<o),t(f<=s);var y=!1;e:for(;;){for(;y||d<f;){var b=0;if(l>=m){var C=d-r;t((m=e).Pb),m.wd=m.m,m.xd=C,0<m.s.ua&&L(m.s.Wa,m.s.vb),m=l+$r}if(c&v||(x=ye(u,c,l)),t(null!=x),x.Qb&&(n[d]=x.qb,y=!0),!y)if(j(A),x.jc){b=A,C=n;var k=d,E=x.pd[w(b)&Tn-1];t(x.jc),256>E.g?(B(b,b.u+E.g),C[k]=E.value,b=0):(B(b,b.u+E.g-256),t(256<=E.value),b=E.value),0==b&&(y=!0)}else b=ve(x.G[0],x.H[0],A);if(A.h)break;if(y||256>b){if(!y)if(x.nd)n[d]=(x.qb|b<<8)>>>0;else{if(j(A),y=ve(x.G[1],x.H[1],A),j(A),C=ve(x.G[2],x.H[2],A),k=ve(x.G[3],x.H[3],A),A.h)break;n[d]=(k<<24|y<<16|b<<8|C)>>>0}if(y=!1,++d,++c>=a&&(c=0,++l,null!=i&&l<=o&&!(l%16)&&i(e,l),null!=g))for(;h<d;)b=n[h++],g.X[(506832829*b&4294967295)>>>g.Mb]=b}else if(280>b){if(b=me(b-256,A),C=ve(x.G[4],x.H[4],A),j(A),C=ge(a,C=me(C,A)),A.h)break;if(d-r<C||s-d<b)break e;for(k=0;k<b;++k)n[d+k]=n[d+k-C];for(d+=b,c+=b;c>=a;)c-=a,++l,null!=i&&l<=o&&!(l%16)&&i(e,l);if(t(d<=s),c&v&&(x=ye(u,c,l)),null!=g)for(;h<d;)b=n[h++],g.X[(506832829*b&4294967295)>>>g.Mb]=b}else{if(!(b<p))break e;for(y=b-280,t(null!=g);h<d;)b=n[h++],g.X[(506832829*b&4294967295)>>>g.Mb]=b;b=d,t(!(y>>>(C=g).Xa)),n[b]=C.X[y],y=!0}y||t(A.h==N(A))}if(e.Pb&&A.h&&d<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(A.h)break e;null!=i&&i(e,l>o?o:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function ke(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ee(){var t=new sn;return null==t?null:(t.a=0,t.xb=fa,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,Zn=W,$n=J,er=Y,tr=Z,nr=$,rr=ee,e.VP8LMapColor32b=Wn,e.VP8LMapColor8b=Jn,t)}function Se(e,n,r,i,l){var c=1,d=[e],f=[n],p=i.m,m=i.s,g=null,v=0;e:for(;;){if(r)for(;c&&x(p,1);){var y=d,b=f,N=i,C=1,k=N.m,E=N.gc[N.ab],S=x(k,2);if(N.Oc&1<<S)c=0;else{switch(N.Oc|=1<<S,E.hc=S,E.Ea=y[0],E.nc=b[0],E.K=[null],++N.ab,t(4>=N.ab),S){case 0:case 1:E.b=x(k,3)+2,C=Se(P(E.Ea,E.b),P(E.nc,E.b),0,N,E.K),E.K=E.K[0];break;case 3:var _,F=x(k,8)+1,U=16<F?0:4<F?1:2<F?2:3;if(y[0]=P(E.Ea,U),E.b=U,_=C=Se(F,1,0,N,E.K)){var L,Q=F,O=E,D=1<<(8>>O.b),M=s(D);if(null==M)_=0;else{var H=O.K[0],R=O.w;for(M[0]=O.K[0][0],L=1;L<1*Q;++L)M[L]=T(H[R+L],M[L-1]);for(;L<4*D;++L)M[L]=0;O.K[0]=null,O.K[0]=M,_=1}}C=_;break;case 2:break;default:t(0)}c=C}}if(d=d[0],f=f[0],c&&x(p,1)&&!(c=1<=(v=x(p,4))&&11>=v)){i.a=3;break e}var q;if(q=c)t:{var K,z,G,V=i,W=d,X=f,J=v,Y=r,Z=V.m,$=V.s,ee=[null],te=1,ne=0,re=Zr[J];n:for(;;){if(Y&&x(Z,1)){var ae=x(Z,3)+2,se=P(W,ae),oe=P(X,ae),ie=se*oe;if(!Se(se,oe,0,V,ee))break n;for(ee=ee[0],$.xc=ae,K=0;K<ie;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(z=0;5>z;++z){var ce=Wr[z];!z&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var Ae=o(te*re,u),ue=te,de=o(ue,h);if(null==de)var he=null;else t(65536>=ue),he=de;var fe=s(ne);if(null==he||null==fe||null==Ae){V.a=1;break n}var pe=Ae;for(K=G=0;K<te;++K){var me=he[K],ge=me.G,ve=me.H,ye=0,be=1,we=0;for(z=0;5>z;++z){ce=Wr[z],ge[z]=pe,ve[z]=G,!z&&0<J&&(ce+=1<<J);r:{var Ne,Be=ce,je=V,Ee=fe,_e=pe,Fe=G,Ue=0,Ie=je.m,Le=x(Ie,1);if(a(Ee,0,0,Be),Le){var Qe=x(Ie,1)+1,Oe=x(Ie,1),Pe=x(Ie,0==Oe?1:8);Ee[Pe]=1,2==Qe&&(Ee[Pe=x(Ie,8)]=1);var Te=1}else{var De=s(19),Me=x(Ie,4)+4;if(19<Me){je.a=3;var He=0;break r}for(Ne=0;Ne<Me;++Ne)De[Jr[Ne]]=x(Ie,3);var Re=void 0,qe=void 0,Ke=je,ze=De,Ge=Be,Ve=Ee,We=0,Xe=Ke.m,Je=8,Ye=o(128,u);a:for(;A(Ye,0,7,ze,19);){if(x(Xe,1)){var Ze=2+2*x(Xe,3);if((Re=2+x(Xe,Ze))>Ge)break a}else Re=Ge;for(qe=0;qe<Ge&&Re--;){j(Xe);var $e=Ye[0+(127&w(Xe))];B(Xe,Xe.u+$e.g);var et=$e.value;if(16>et)Ve[qe++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Vr[nt],at=x(Xe,Gr[nt])+rt;if(qe+at>Ge)break a;for(var st=tt?Je:0;0<at--;)Ve[qe++]=st}}We=1;break a}We||(Ke.a=3),Te=We}(Te=Te&&!Ie.h)&&(Ue=A(_e,Fe,8,Ee,Be)),Te&&0!=Ue?He=Ue:(je.a=3,He=0)}if(0==He)break n;if(be&&1==Xr[z]&&(be=0==pe[G].g),ye+=pe[G].g,G+=He,3>=z){var ot,it=fe[0];for(ot=1;ot<ce;++ot)fe[ot]>it&&(it=fe[ot]);we+=it}}if(me.nd=be,me.Qb=0,be&&(me.qb=(ge[3][ve[3]+0].value<<24|ge[1][ve[1]+0].value<<16|ge[2][ve[2]+0].value)>>>0,0==ye&&256>ge[0][ve[0]+0].value&&(me.Qb=1,me.qb+=ge[0][ve[0]+0].value<<8)),me.jc=!me.Qb&&6>we,me.jc){var lt,ct=me;for(lt=0;lt<Tn;++lt){var At=lt,ut=ct.pd[At],dt=ct.G[0][ct.H[0]+At];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,At>>=xe(dt,8,ut),At>>=xe(ct.G[1][ct.H[1]+At],16,ut),At>>=xe(ct.G[2][ct.H[2]+At],0,ut),xe(ct.G[3][ct.H[3]+At],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=Ae,q=1;break t}q=0}if(!(c=q)){i.a=3;break e}if(0<v){if(m.ua=1<<v,!I(m.Wa,v)){i.a=1,c=0;break e}}else m.ua=0;var ht=i,ft=d,pt=f,mt=ht.s,gt=mt.xc;if(ht.c=ft,ht.i=pt,mt.md=P(ft,gt),mt.wc=0==gt?-1:(1<<gt)-1,r){i.xb=ha;break e}if(null==(g=s(d*f))){i.a=1,c=0;break e}c=(c=Ce(i,g,0,d,f,f,null))&&!p.h;break e}return c?(null!=l?l[0]=g:(t(null==g),t(r)),i.$=0,r||ke(m)):ke(m),c}function _e(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Fe(e,n){var r=e.C,a=n-r,s=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var i=16<a?16:a,l=e.l.ma,c=e.l.width,A=c*i,u=l.ca,d=l.tb+c*r,h=e.Ta,f=e.Ua;be(e,i,s,o),jr(h,f,u,d,A),Be(l,r,r+i,u,d,c),a-=i,s+=i*e.c,r+=i}t(r==n),e.C=e.Ma=n}function Ue(){this.ub=this.yd=this.td=this.Rb=0}function Ie(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],s=0;s<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function Oe(){this.jb=s(3),this.Wc=i([4,8],Qe),this.Xc=i([4,17],Qe)}function Pe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Te(){this.ld=this.La=this.dd=this.tc=0}function De(){this.Na=this.la=0}function Me(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function He(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Re(){this.uc=this.M=this.Nb=0,this.wa=Array(new Te),this.Y=0,this.ya=Array(new He),this.aa=0,this.l=new Ge}function qe(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Ue,this.Kc=new Ie,this.ed=new Pe,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new Re,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,y),this.ia=0,this.pb=o(4,Me),this.Pa=new Oe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qe),this.Hd=0,this.rb=Array(new De),this.sb=0,this.wa=Array(new Te),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new He),this.L=this.aa=0,this.gd=i([4,2],Te),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ze(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ve(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Ye)),e}function We(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Xe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,o=n.ha;if(4>o)return We(e,7,"Truncated header.");var i=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&i),l.td=i>>1&7,l.yd=i>>4&1,l.ub=i>>5,3<l.td)return We(e,3,"Incorrect keyframe parameters.");if(!l.yd)return We(e,4,"Frame not displayable.");s+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return We(e,7,"cannot parse picture header");if(!Xe(r,s,o))return We(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((i=e.Pa).jb,0,255,i.jb.length),t(null!=(i=e.Qa)),i.Cb=0,i.Bb=0,i.Fb=1,a(i.Zb,0,0,i.Zb.length),a(i.Lb,0,0,i.Lb)}if(l.ub>o)return We(e,7,"bad partition length");f(i=e.m,r,s,l.ub),s+=l.ub,o-=l.ub,l.Rb&&(c.Ld=k(i),c.Kd=k(i)),c=e.Qa;var A,u=e.Pa;if(t(null!=i),t(null!=c),c.Cb=k(i),c.Cb){if(c.Bb=k(i),k(i)){for(c.Fb=k(i),A=0;4>A;++A)c.Zb[A]=k(i)?m(i,7):0;for(A=0;4>A;++A)c.Lb[A]=k(i)?m(i,6):0}if(c.Bb)for(A=0;3>A;++A)u.jb[A]=k(i)?p(i,8):255}else c.Bb=0;if(i.Ka)return We(e,3,"cannot parse segment header");if((c=e.ed).zd=k(i),c.Tb=p(i,6),c.wb=p(i,3),c.Pc=k(i),c.Pc&&k(i)){for(u=0;4>u;++u)k(i)&&(c.vd[u]=m(i,6));for(u=0;4>u;++u)k(i)&&(c.od[u]=m(i,6))}if(e.L=0==c.Tb?0:c.zd?1:2,i.Ka)return We(e,3,"cannot parse filter header");var d=o;if(o=A=s,s=A+d,c=d,e.Xb=(1<<p(e.m,2))-1,d<3*(u=e.Xb))r=7;else{for(A+=3*u,c-=3*u,d=0;d<u;++d){var h=r[o+0]|r[o+1]<<8|r[o+2]<<16;h>c&&(h=c),f(e.Jc[+d],r,A,h),A+=h,c-=h,o+=3}f(e.Jc[+u],r,A,c),r=A<s?0:5}if(0!=r)return We(e,r,"cannot parse partitions");for(r=p(A=e.m,7),o=k(A)?m(A,4):0,s=k(A)?m(A,4):0,c=k(A)?m(A,4):0,u=k(A)?m(A,4):0,A=k(A)?m(A,4):0,d=e.Qa,h=0;4>h;++h){if(d.Cb){var g=d.Zb[h];d.Fb||(g+=r)}else{if(0<h){e.pb[h]=e.pb[0];continue}g=r}var v=e.pb[h];v.Sc[0]=ea[ze(g+o,127)],v.Sc[1]=ta[ze(g+0,127)],v.Eb[0]=2*ea[ze(g+s,127)],v.Eb[1]=101581*ta[ze(g+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ea[ze(g+u,117)],v.Qc[1]=ta[ze(g+A,127)],v.lc=g+A}if(!l.Rb)return We(e,4,"Not a key frame.");for(k(i),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(s=0;3>s;++s)for(c=0;11>c;++c)u=E(i,la[r][o][s][c])?p(i,8):oa[r][o][s][c],l.Wc[r][o].Yb[s][c]=u;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ca[o]]}return e.kc=k(i),e.kc&&(e.Bd=p(i,8)),e.cb=1}function Ye(e,t,n,r,a,s,o){var i=t[a].Yb[n];for(n=0;16>a;++a){if(!E(e,i[n+0]))return a;for(;!E(e,i[n+1]);)if(i=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(E(e,i[n+2])){var c=e,A=0;if(E(c,(d=i)[(u=n)+3]))if(E(c,d[u+6])){for(i=0,u=2*(A=E(c,d[u+8]))+(d=E(c,d[u+9+A])),A=0,d=ra[u];d[i];++i)A+=A+E(c,d[i]);A+=3+(8<<u)}else E(c,d[u+7])?(A=7+2*E(c,165),A+=E(c,145)):A=5+E(c,159);else A=E(c,d[u+4])?3+E(c,d[u+5]):2;i=l[2]}else A=1,i=l[1];l=o+aa[a],0>(c=e).b&&C(c);var u,d=c.b,h=(u=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=h,c.Ca|=1,c.I-=(u+1&h)<<d,s[l]=((A^h)-h)*r[(0<a)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,s){$e(e,t,0,n,r+a),$e(e,t,1,n,r+s),$e(e,t,2,n,r-s),$e(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,o=0,i=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],A=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);i[o+0]=l+u,i[o+1]=c+A,i[o+2]=c-A,i[o+3]=l-u,o+=4,t++}for(a=o=0;4>a;++a)l=(e=i[o+0]+4)+i[o+8],c=e-i[o+8],A=(35468*i[o+4]>>16)-tt(i[o+12]),$e(n,r,0,0,l+(u=tt(i[o+4])+(35468*i[o+12]>>16))),$e(n,r,1,0,c+A),$e(n,r,2,0,c-A),$e(n,r,3,0,l-u),o++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,s=35468*e[t+4]>>16,o=tt(e[t+4]),i=35468*e[t+1]>>16;et(n,r,0,a+o,e=tt(e[t+1]),i),et(n,r,1,a+s,e,i),et(n,r,2,a-s,e,i),et(n,r,3,a-o,e,i)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function ot(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)$e(n,r,t,a,e)}function it(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,o=s(16);for(a=0;4>a;++a){var i=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],A=e[t+0+a]-e[t+12+a];o[0+a]=i+l,o[8+a]=i-l,o[4+a]=A+c,o[12+a]=A-c}for(a=0;4>a;++a)i=(e=o[0+4*a]+3)+o[3+4*a],l=o[1+4*a]+o[2+4*a],c=o[1+4*a]-o[2+4*a],A=e-o[3+4*a],n[r+0]=i+l>>3,n[r+16]=A+c>>3,n[r+32]=i-l>>3,n[r+48]=A-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,s=Ir,o=255-e[a-1];for(r=0;r<n;++r){var i,l=s,c=o+e[t-1];for(i=0;i<n;++i)e[t+i]=l[c+e[a+i]];t+=32}}function At(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function dt(e,t){ct(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function pt(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];pt(r>>5,e,t)}function gt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];pt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];pt(r>>4,e,t)}function xt(e,t){pt(128,e,t)}function yt(e,t,n){return e+2*t+n+2>>2}function bt(e,t){var n,a=t-32;for(a=new Uint8Array([yt(e[a-1],e[a+0],e[a+1]),yt(e[a+0],e[a+1],e[a+2]),yt(e[a+1],e[a+2],e[a+3]),yt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function wt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];S(e,t+0,16843009*yt(e[t-1-32],n,r)),S(e,t+32,16843009*yt(n,r,a)),S(e,t+64,16843009*yt(r,a,s)),S(e,t+96,16843009*yt(a,s,s))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function Bt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],o=e[t+0-32],i=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=yt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=yt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=yt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=yt(o,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=yt(i,o,s),e[t+3+32]=e[t+2+0]=yt(l,i,o),e[t+3+0]=yt(c,l,i)}function jt(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],s=e[t+4-32],o=e[t+5-32],i=e[t+6-32],l=e[t+7-32];e[t+0+0]=yt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=yt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=yt(r,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=yt(a,s,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=yt(s,o,i),e[t+3+64]=e[t+2+96]=yt(o,i,l),e[t+3+96]=yt(i,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],o=e[t+0-32],i=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+o+1>>1,e[t+1+0]=e[t+2+64]=o+i+1>>1,e[t+2+0]=e[t+3+64]=i+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=yt(a,r,n),e[t+0+64]=yt(r,n,s),e[t+0+32]=e[t+1+96]=yt(n,s,o),e[t+1+32]=e[t+2+96]=yt(s,o,i),e[t+2+32]=e[t+3+96]=yt(o,i,l),e[t+3+32]=yt(i,l,c)}function kt(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],s=e[t+3-32],o=e[t+4-32],i=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+o+1>>1,e[t+0+32]=yt(n,r,a),e[t+1+32]=e[t+0+96]=yt(r,a,s),e[t+2+32]=e[t+1+96]=yt(a,s,o),e[t+3+32]=e[t+2+96]=yt(s,o,i),e[t+3+64]=yt(o,i,l),e[t+3+96]=yt(i,l,c)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=yt(n,r,a),e[t+3+0]=e[t+1+32]=yt(r,a,s),e[t+3+32]=e[t+1+64]=yt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function St(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96],o=e[t-1-32],i=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=yt(i,l,c),e[t+2+0]=yt(o,i,l),e[t+1+0]=e[t+3+32]=yt(n,o,i),e[t+1+32]=e[t+3+64]=yt(r,n,o),e[t+1+64]=e[t+3+96]=yt(a,r,n),e[t+1+96]=yt(s,a,r)}function _t(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ft(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Ut(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function It(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ut(r>>4,e,t)}function Lt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ut(r>>3,e,t)}function Qt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ut(r>>3,e,t)}function Ot(e,t){Ut(128,e,t)}function Pt(e,t,n){var r=e[t-n],a=e[t+0],s=3*(a-r)+Fr[1020+e[t-2*n]-e[t+n]],o=Ur[112+(s+4>>3)];e[t-n]=Ir[255+r+Ur[112+(s+3>>3)]],e[t+0]=Ir[255+a-o]}function Tt(e,t,n,r){var a=e[t+0],s=e[t+n];return Lr[255+e[t-2*n]-e[t-n]]>r||Lr[255+s-a]>r}function Dt(e,t,n,r){return 4*Lr[255+e[t-n]-e[t+0]]+Lr[255+e[t-2*n]-e[t+n]]<=r}function Mt(e,t,n,r,a){var s=e[t-3*n],o=e[t-2*n],i=e[t-n],l=e[t+0],c=e[t+n],A=e[t+2*n],u=e[t+3*n];return 4*Lr[255+i-l]+Lr[255+o-c]>r?0:Lr[255+e[t-4*n]-s]<=a&&Lr[255+s-o]<=a&&Lr[255+o-i]<=a&&Lr[255+u-A]<=a&&Lr[255+A-c]<=a&&Lr[255+c-l]<=a}function Ht(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Dt(e,t+r,n,a)&&Pt(e,t+r,n)}function Rt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Dt(e,t+r*n,1,a)&&Pt(e,t+r*n,1)}function qt(e,t,n,r){var a;for(a=3;0<a;--a)Ht(e,t+=4*n,n,r)}function Kt(e,t,n,r){var a;for(a=3;0<a;--a)Rt(e,t+=4,n,r)}function zt(e,t,n,r,a,s,o,i){for(s=2*s+1;0<a--;){if(Mt(e,t,n,s,o))if(Tt(e,t,n,i))Pt(e,t,n);else{var l=e,c=t,A=n,u=l[c-2*A],d=l[c-A],h=l[c+0],f=l[c+A],p=l[c+2*A],m=27*(v=Fr[1020+3*(h-d)+Fr[1020+u-f]])+63>>7,g=18*v+63>>7,v=9*v+63>>7;l[c-3*A]=Ir[255+l[c-3*A]+v],l[c-2*A]=Ir[255+u+g],l[c-A]=Ir[255+d+m],l[c+0]=Ir[255+h-m],l[c+A]=Ir[255+f-g],l[c+2*A]=Ir[255+p-v]}t+=r}}function Gt(e,t,n,r,a,s,o,i){for(s=2*s+1;0<a--;){if(Mt(e,t,n,s,o))if(Tt(e,t,n,i))Pt(e,t,n);else{var l=e,c=t,A=n,u=l[c-A],d=l[c+0],h=l[c+A],f=Ur[112+(4+(p=3*(d-u))>>3)],p=Ur[112+(p+3>>3)],m=f+1>>1;l[c-2*A]=Ir[255+l[c-2*A]+m],l[c-A]=Ir[255+u+p],l[c+0]=Ir[255+d-f],l[c+A]=Ir[255+h-m]}t+=r}}function Vt(e,t,n,r,a,s){zt(e,t,n,1,16,r,a,s)}function Wt(e,t,n,r,a,s){zt(e,t,1,n,16,r,a,s)}function Xt(e,t,n,r,a,s){var o;for(o=3;0<o;--o)Gt(e,t+=4*n,n,1,16,r,a,s)}function Jt(e,t,n,r,a,s){var o;for(o=3;0<o;--o)Gt(e,t+=4,1,n,16,r,a,s)}function Yt(e,t,n,r,a,s,o,i){zt(e,t,a,1,8,s,o,i),zt(n,r,a,1,8,s,o,i)}function Zt(e,t,n,r,a,s,o,i){zt(e,t,1,a,8,s,o,i),zt(n,r,1,a,8,s,o,i)}function $t(e,t,n,r,a,s,o,i){Gt(e,t+4*a,a,1,8,s,o,i),Gt(n,r+4*a,a,1,8,s,o,i)}function en(e,t,n,r,a,s,o,i){Gt(e,t+4,1,a,8,s,o,i),Gt(n,r+4,1,a,8,s,o,i)}function tn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new Ge,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,s,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)a[s+t]=e+n[r+t]&255,e=a[s+t]}function cn(e,t,n,r,a,s,o){var i;if(null==e)ln(null,null,n,r,a,s,o);else for(i=0;i<o;++i)a[s+i]=e[t+i]+n[r+i]&255}function An(e,t,n,r,a,s,o){if(null==e)ln(null,null,n,r,a,s,o);else{var i,l=e[t+0],c=l,A=l;for(i=0;i<o;++i)c=A+(l=e[t+i])-c,A=n[r+i]+(-256&c?0>c?0:255:c)&255,c=l,a[s+i]=A}}function un(e,n,a,o){var i=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=o||a+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var A=e.Fa,u=e.P,d=e.qc,h=e.mb,f=e.nb,p=u+1,m=d-1,v=c.l;if(t(null!=A&&null!=h&&null!=n),pa[0]=null,pa[1]=ln,pa[2]=cn,pa[3]=An,c.ca=h,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&A[u+0],c.Z=A[u+0]>>2&3,c.Lc=A[u+0]>>4&3,u=A[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(v.put=he,v.ac=de,v.bc=fe,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=Ee();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,g(n.m,A,p,m),!Se(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,A=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(A),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=_e(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-a}t(null!=e.ga),t(a+o<=l);e:{if(n=(A=e.ga).c,l=A.l.o,0==A.$a){if(p=e.rc,m=e.Vc,v=e.Fa,u=e.P+1+a*n,d=e.mb,h=e.nb+a*n,t(u<=e.P+e.qc),0!=A.Z)for(t(null!=pa[A.Z]),c=0;c<o;++c)pa[A.Z](p,m,v,u,d,h,n),p=d,m=h,h+=n,u+=n;else for(c=0;c<o;++c)r(d,h,v,u,n),p=d,m=h,h+=n,u+=n;e.rc=p,e.Vc=m}else{if(t(null!=A.mc),n=a+o,t(null!=(c=A.mc)),t(n<=c.i),c.C>=n)n=1;else if(A.ic||mn(),A.ic){A=c.V,p=c.Ba,m=c.c;var x=c.i,y=(v=1,u=c.$/m,d=c.$%m,h=c.m,f=c.s,c.$),b=m*x,w=m*n,B=f.wc,C=y<w?ye(f,d,u):null;t(y<=b),t(n<=x),t(Ne(f));t:for(;;){for(;!h.h&&y<w;){if(d&B||(C=ye(f,d,u)),t(null!=C),j(h),256>(x=ve(C.G[0],C.H[0],h)))A[p+y]=x,++y,++d>=m&&(d=0,++u<=n&&!(u%16)&&je(c,u));else{if(!(280>x)){v=0;break t}x=me(x-256,h);var k,E=ve(C.G[4],C.H[4],h);if(j(h),!(y>=(E=ge(m,E=me(E,h)))&&b-y>=x)){v=0;break t}for(k=0;k<x;++k)A[p+y+k]=A[p+y+k-E];for(y+=x,d+=x;d>=m;)d-=m,++u<=n&&!(u%16)&&je(c,u);y<w&&d&B&&(C=ye(f,d,u))}t(h.h==N(h))}je(c,u>n?n:u);break t}!v||h.h&&y<b?(v=0,c.a=h.h?5:3):c.$=y,n=v}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Fe);if(!n){o=0;break e}}a+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*i}function dn(e,t,n,r,a,s){for(;0<a--;){var o,i=e,l=t+(n?1:0),c=e,A=t+(n?0:3);for(o=0;o<r;++o){var u=c[A+4*o];255!=u&&(u*=32897,i[l+4*o+0]=i[l+4*o+0]*u>>23,i[l+4*o+1]=i[l+4*o+1]*u>>23,i[l+4*o+2]=i[l+4*o+2]*u>>23)}t+=s}}function hn(e,t,n,r,a){for(;0<r--;){var s;for(s=0;s<n;++s){var o=e[t+2*s+0],i=15&(c=e[t+2*s+1]),l=4369*i,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|i}t+=a}}function fn(e,t,n,r,a,s,o,i){var l,c,A=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];s[o+4*l]=u,A&=u}t+=n,o+=i}return 255!=A}function pn(e,t,n,r,a){var s;for(s=0;s<a;++s)n[r+s]=e[t+s]>>8}function mn(){wr=dn,Nr=hn,Br=fn,jr=pn}function gn(n,r,a){e[n]=function(e,n,s,o,i,l,c,A,u,d,h,f,p,m,g,v,x){var y,b=x-1>>1,w=i[l+0]|c[A+0]<<16,N=u[d+0]|h[f+0]<<16;t(null!=e);var B=3*w+N+131074>>2;for(r(e[n+0],255&B,B>>16,p,m),null!=s&&(B=3*N+w+131074>>2,r(s[o+0],255&B,B>>16,g,v)),y=1;y<=b;++y){var j=i[l+y]|c[A+y]<<16,C=u[d+y]|h[f+y]<<16,k=w+j+N+C+524296,E=k+2*(j+N)>>3;B=E+w>>1,w=(k=k+2*(w+C)>>3)+j>>1,r(e[n+2*y-1],255&B,B>>16,p,m+(2*y-1)*a),r(e[n+2*y-0],255&w,w>>16,p,m+(2*y-0)*a),null!=s&&(B=k+N>>1,w=E+C>>1,r(s[o+2*y-1],255&B,B>>16,g,v+(2*y-1)*a),r(s[o+2*y+0],255&w,w>>16,g,v+(2*y+0)*a)),w=j,N=C}1&x||(B=3*w+N+131074>>2,r(e[n+x-1],255&B,B>>16,p,m+(x-1)*a),null!=s&&(B=3*N+w+131074>>2,r(s[o+x-1],255&B,B>>16,g,v+(x-1)*a)))}}function vn(){ma[Qr]=ga,ma[Or]=xa,ma[Pr]=va,ma[Tr]=ya,ma[Dr]=ba,ma[Mr]=wa,ma[Hr]=Na,ma[Rr]=xa,ma[qr]=ya,ma[Kr]=ba,ma[zr]=wa}function xn(e){return e&~Sa?0>e?0:255:e>>Ea}function yn(e,t){return xn((19077*e>>8)+(26149*t>>8)-14234)}function bn(e,t,n){return xn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function wn(e,t){return xn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,a){r[a+0]=yn(e,n),r[a+1]=bn(e,t,n),r[a+2]=wn(e,t)}function Bn(e,t,n,r,a){r[a+0]=wn(e,t),r[a+1]=bn(e,t,n),r[a+2]=yn(e,n)}function jn(e,t,n,r,a){var s=bn(e,t,n);t=s<<3&224|wn(e,t)>>3,r[a+0]=248&yn(e,n)|s>>5,r[a+1]=t}function Cn(e,t,n,r,a){var s=240&wn(e,t)|15;r[a+0]=240&yn(e,n)|bn(e,t,n)>>4,r[a+1]=s}function kn(e,t,n,r,a){r[a+0]=255,Nn(e,t,n,r,a+1)}function En(e,t,n,r,a){Bn(e,t,n,r,a),r[a+3]=255}function Sn(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function ze(e,t){return 0>e?0:e>t?t:e}function _n(t,n,r){e[t]=function(e,t,a,s,o,i,l,c,A){for(var u=c+(-2&A)*r;c!=u;)n(e[t+0],a[s+0],o[i+0],l,c),n(e[t+1],a[s+0],o[i+0],l,c+r),t+=2,++s,++i,c+=2*r;1&A&&n(e[t+0],a[s+0],o[i+0],l,c)}}function Fn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Un(e,t,n,r,a){switch(e>>>30){case 3:sr(t,n,r,a,0);break;case 2:or(t,n,r,a);break;case 1:lr(t,n,r,a)}}function In(e,t){var n,s,o=t.M,i=t.Nb,l=e.oc,c=e.pc+40,A=e.oc,u=e.pc+584,d=e.oc,h=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)A[u+32*n-1]=129,d[h+32*n-1]=129;for(0<o?l[c-1-32]=A[u-1-32]=d[h-1-32]=129:(a(l,c-32-1,127,21),a(A,u-32-1,127,9),a(d,h-32-1,127,9)),s=0;s<e.za;++s){var f=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(A,u+32*n-4,A,u+32*n+4,4),r(d,h+32*n-4,d,h+32*n+4,4)}var p=e.Gd,m=e.Hd+s,g=f.ad,v=f.Hc;if(0<o&&(r(l,c-32,p[m].y,0,16),r(A,u-32,p[m].f,0,8),r(d,h-32,p[m].ea,0,8)),f.Za){var x=l,y=c-32+16;for(0<o&&(s>=e.za-1?a(x,y,p[m].y[15],4):r(x,y,p[m+1].y,0,4)),n=0;4>n;n++)x[y+128+n]=x[y+256+n]=x[y+384+n]=x[y+0+n];for(n=0;16>n;++n,v<<=2)x=l,y=c+Pa[n],ua[f.Ob[n]](x,y),Un(v,g,16*+n,x,y)}else if(x=Fn(s,o,f.Ob[0]),Aa[x](l,c),0!=v)for(n=0;16>n;++n,v<<=2)Un(v,g,16*+n,l,c+Pa[n]);for(n=f.Gc,x=Fn(s,o,f.Dd),da[x](A,u),da[x](d,h),v=g,x=A,y=u,255&(f=0|n)&&(170&f?ir(v,256,x,y):cr(v,256,x,y)),f=d,v=h,255&(n>>=8)&&(170&n?ir(g,320,f,v):cr(g,320,f,v)),o<e.Ub-1&&(r(p[m].y,0,l,c+480,16),r(p[m].f,0,A,u+224,8),r(p[m].ea,0,d,h+224,8)),n=8*i*e.B,p=e.sa,m=e.ta+16*s+16*i*e.R,g=e.qa,f=e.ra+8*s+n,v=e.Ha,x=e.Ia+8*s+n,n=0;16>n;++n)r(p,m+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(g,f+n*e.B,A,u+32*n,8),r(v,x+n*e.B,d,h+32*n,8)}}function Ln(e,r,a,s,o,i,l,c,A){var u=[0],d=[0],h=0,f=null!=A?A.kd:0,p=null!=A?A:new nn;if(null==e||12>a)return 7;p.data=e,p.w=r,p.ha=a,r=[r],a=[a],p.gb=[p.gb];e:{var m=r,v=a,x=p.gb;if(t(null!=e),t(null!=v),t(null!=x),x[0]=0,12<=v[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){x=3;break e}var y=U(e,m[0]+4);if(12>y||4294967286<y){x=3;break e}if(f&&y>v[0]-8){x=7;break e}x[0]=y,m[0]+=12,v[0]-=12}x=0}if(0!=x)return x;for(y=0<p.gb[0],a=a[0];;){e:{var w=e;v=r,x=a;var N=u,B=d,j=m=[0];if((E=h=[h])[0]=0,8>x[0])x=7;else{if(!n(w,v[0],"VP8X")){if(10!=U(w,v[0]+4)){x=3;break e}if(18>x[0]){x=7;break e}var C=U(w,v[0]+8),k=1+F(w,v[0]+12);if(2147483648<=k*(w=1+F(w,v[0]+15))){x=3;break e}null!=j&&(j[0]=C),null!=N&&(N[0]=k),null!=B&&(B[0]=w),v[0]+=18,x[0]-=18,E[0]=1}x=0}}if(h=h[0],m=m[0],0!=x)return x;if(v=!!(2&m),!y&&h)return 3;if(null!=i&&(i[0]=!!(16&m)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=u[0],m=d[0],h&&v&&null==A){x=0;break}if(4>a){x=7;break}if(y&&h||!y&&!h&&!n(e,r[0],"ALPH")){a=[a],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{C=e,x=r,y=a;var E=p.gb;N=p.na,B=p.P,j=p.Sa,k=22,t(null!=C),t(null!=y),w=x[0];var S=y[0];for(t(null!=N),t(null!=j),N[0]=null,B[0]=null,j[0]=0;;){if(x[0]=w,y[0]=S,8>S){x=7;break e}var _=U(C,w+4);if(4294967286<_){x=3;break e}var I=8+_+1&-2;if(k+=I,0<E&&k>E){x=3;break e}if(!n(C,w,"VP8 ")||!n(C,w,"VP8L")){x=0;break e}if(S[0]<I){x=7;break e}n(C,w,"ALPH")||(N[0]=C,B[0]=w+8,j[0]=_),w+=I,S-=I}}if(a=a[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=x)break}a=[a],p.Ja=[p.Ja],p.xa=[p.xa];e:if(E=e,x=r,y=a,N=p.gb[0],B=p.Ja,j=p.xa,C=x[0],w=!n(E,C,"VP8 "),k=!n(E,C,"VP8L"),t(null!=E),t(null!=y),t(null!=B),t(null!=j),8>y[0])x=7;else{if(w||k){if(E=U(E,C+4),12<=N&&E>N-12){x=3;break e}if(f&&E>y[0]-8){x=7;break e}B[0]=E,x[0]+=8,y[0]-=8,j[0]=k}else j[0]=5<=y[0]&&47==E[C+0]&&!(E[C+4]>>5),B[0]=y[0];x=0}if(a=a[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=x)break;if(4294967286<p.Ja)return 3;if(null==c||v||(c[0]=p.xa?2:1),l=[l],m=[m],p.xa){if(5>a){x=7;break}c=l,f=m,v=i,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],E=[0],N=[0],g(B=new b,e,r,a),pe(B,y,E,N)?(null!=c&&(c[0]=y[0]),null!=f&&(f[0]=E[0]),null!=v&&(v[0]=N[0]),e=1):e=0):e=0}else{if(10>a){x=7;break}c=m,null==e||10>a||!Xe(e,r+3,a-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],m=m[0],h&&(u[0]!=l||d[0]!=m))return 3;null!=A&&(A[0]=p,A.offset=r-A.w,t(4294967286>r-A.w),t(A.offset==A.ha-a));break}return 0==x||7==x&&h&&null==A?(null!=i&&(i[0]|=null!=p.na&&0<p.na.length),null!=s&&(s[0]=l),null!=o&&(o[0]=m),0):x}function Qn(e,t,n){var r=t.width,a=t.height,s=0,o=0,i=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(i=e.cd,l=e.bd,s=e.v,o=e.j,11>n||(s&=-2,o&=-2),0>s||0>o||0>=i||0>=l||s+i>r||o+l>a))return 0;if(t.v=s,t.j=o,t.va=s+i,t.o=o+l,t.U=i,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!O(i,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function On(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Pn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,o=n.bd,i=-2&n.v,l=-2&n.j;if(0>i||0>l||0>=a||0>=o||i+a>e||l+o>t)return 2;e=a,t=o}if(n.da){if(!O(e,t,a=[n.ib],o=[n.hb]))return 2;e=a[0],t=o[0]}}r.width=e,r.height=t;e:{var c=r.width,A=r.height;if(e=r.S,0>=c||0>=A||!(e>=Qr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){i=o=a=t=0;var u=(l=c*Ma[e])*A;if(11>e||(o=(A+1)/2*(t=(c+1)/2),12==e&&(i=(a=c)*A)),null==(A=s(u+2*o+i))){e=1;break e}r.sd=A,11>e?((c=r.f.RGBA).eb=A,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=A,c.O=0,c.fa=l,c.Fd=u,c.f=A,c.N=0+u,c.Ab=t,c.Cd=o,c.ea=A,c.W=0+u+o,c.Db=t,c.Ed=o,12==e&&(c.F=A,c.J=0+u+2*o),c.Tc=i,c.lb=a)}if(t=1,a=r.S,o=r.width,i=r.height,a>=Qr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(i-1)+o<=e.size,t&=l>=o*Ma[a],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,u=(i+1)/2,c=Math.abs(e.fa),A=Math.abs(e.Ab);var d=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(i-1)+o;t&=c*(i-1)+o<=e.Fd,t&=A*(u-1)+l<=e.Cd,t=(t&=d*(u-1)+l<=e.Ed)&c>=o&A>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=h>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=On(r)),e}var Tn=64,Dn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mn=24,Hn=32,Rn=8,qn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];D("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return H(H(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return H(e,t[n-1])},e.Predictor7=function(e,t,n){return H(e,t[n+0])},e.Predictor8=function(e,t,n){return H(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return H(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return H(H(e,t[n-1]),H(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(R((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|R((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|R((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|R((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(q((e=H(e,t[n+0]))>>24&255,r>>24&255)<<24|q(e>>16&255,r>>16&255)<<16|q(e>>8&255,r>>8&255)<<8|q(255&e,255&r))>>>0};var Kn=e.PredictorAdd0;e.PredictorAdd1=z,D("Predictor2","PredictorAdd2"),D("Predictor3","PredictorAdd3"),D("Predictor4","PredictorAdd4"),D("Predictor5","PredictorAdd5"),D("Predictor6","PredictorAdd6"),D("Predictor7","PredictorAdd7"),D("Predictor8","PredictorAdd8"),D("Predictor9","PredictorAdd9"),D("Predictor10","PredictorAdd10"),D("Predictor11","PredictorAdd11"),D("Predictor12","PredictorAdd12"),D("Predictor13","PredictorAdd13");var zn=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Vn=e.ColorIndexInverseTransform,Wn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Yn=e.VP8LPredictorsAdd=[];Yn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,$n,er,tr,nr,rr,ar,sr,or,ir,lr,cr,Ar,ur,dr,hr,fr,pr,mr,gr,vr,xr,yr,br,wr,Nr,Br,jr,Cr=s(511),kr=s(2041),Er=s(225),Sr=s(767),_r=0,Fr=kr,Ur=Er,Ir=Sr,Lr=Cr,Qr=0,Or=1,Pr=2,Tr=3,Dr=4,Mr=5,Hr=6,Rr=7,qr=8,Kr=9,zr=10,Gr=[2,3,7],Vr=[3,3,11],Wr=[280,256,256,256,40],Xr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$r=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ia=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Aa=[],ua=[],da=[],ha=1,fa=2,pa=[],ma=[];gn("UpsampleRgbLinePair",Nn,3),gn("UpsampleBgrLinePair",Bn,3),gn("UpsampleRgbaLinePair",Sn,4),gn("UpsampleBgraLinePair",En,4),gn("UpsampleArgbLinePair",kn,4),gn("UpsampleRgba4444LinePair",Cn,2),gn("UpsampleRgb565LinePair",jn,2);var ga=e.UpsampleRgbLinePair,va=e.UpsampleBgrLinePair,xa=e.UpsampleRgbaLinePair,ya=e.UpsampleBgraLinePair,ba=e.UpsampleArgbLinePair,wa=e.UpsampleRgba4444LinePair,Na=e.UpsampleRgb565LinePair,Ba=16,ja=1<<Ba-1,Ca=-227,ka=482,Ea=6,Sa=(256<<Ea)-1,_a=0,Fa=s(256),Ua=s(256),Ia=s(256),La=s(256),Qa=s(ka-Ca),Oa=s(ka-Ca);_n("YuvToRgbRow",Nn,3),_n("YuvToBgrRow",Bn,3),_n("YuvToRgbaRow",Sn,4),_n("YuvToBgraRow",En,4),_n("YuvToArgbRow",kn,4),_n("YuvToRgba4444Row",Cn,2),_n("YuvToRgb565Row",jn,2);var Pa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ta=[0,2,8],Da=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,i,l,c){var A=Or,u=new tn,d=new oe;u.ba=d,d.S=A,d.width=[d.width],d.height=[d.height];var h=d.width,f=d.height,p=new ie;if(null==p||null==e)var m=2;else t(null!=p),m=Ln(e,n,i,p.width,p.height,p.Pd,p.Qd,p.format,null);if(0!=m?h=0:(null!=h&&(h[0]=p.width[0]),null!=f&&(f[0]=p.height[0]),h=1),h){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=c&&(c[0]=d.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=i,c.kd=1,n=[0],t(null!=c),(0==(e=Ln(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=he,l.ac=de,l.bc=fe,l.ma=u,c.xa){if(null==(e=Ee())){u=1;break e}if(function(e,n){var r=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!pe(e.m,r,a,s)){e.a=3;break t}if(e.xb=fa,n.width=r[0],n.height=a[0],!Se(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Pn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(i=l.l)),t(null!=(c=i.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Qn(c.Oa,i,Tr)){l.a=2;break n}if(!_e(l,i.width))break n;if(i.da)break n;if((i.da||re(l.ca.S))&&mn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&mn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!I(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,i.o,we))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ve)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Pn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,i=u.Oa,t(null!=(c=e)),null!=i){if(0<(h=0>(h=i.Md)?0:100<h?255:255*h/100)){for(f=p=0;4>f;++f)12>(m=c.pb[f]).lc&&(m.ia=h*Da[0>m.lc?0:m.lc]>>3),p|=m.ia;p&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=i.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var i=Ta[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-i>>4,e.zb=n.j-i>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+i>>4,e.Hb=n.va+15+i>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(i=0;4>i;++i){var c;if(e.Qa.Cb){var A=e.Qa.Lb[i];e.Qa.Fb||(A+=l.Tb)}else A=l.Tb;for(c=0;1>=c;++c){var u=e.gd[i][c],d=A;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var h=d;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),u.dd=h,u.tc=2*d+h,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=c}}}i=0}else We(e,6,"Frame setup failed"),i=e.a;if(i=0==i){if(i){e.$c=0,0<e.Aa||(e.Ic=1);t:{i=e.Ic,l=4*(h=e.za);var f=32*h,p=h+1,m=0<e.L?h*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*h;if((u=l+832+(c=3*(16*i+Ta[e.L])/2*f)+(A=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)i=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){i=We(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=l,e.Gd=o(f,qe),e.Hd=0,e.rb=o(p+1,De),e.sb=1,e.wa=m?o(m,Te):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=o(g,He),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Ta[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=d+h,e.qa=e.sa,e.ra=e.ta+16*i*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*i*e.B+f,e.$c=0,d+=c,e.mb=A?u:null,e.nb=A?d:null,t(d+A<=e.Fc+e.Vb),Ze(e),a(e.Ac,e.Bc,0,l),i=1}}if(i){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!_r){for(i=-255;255>=i;++i)Cr[255+i]=0>i?-i:i;for(i=-1020;1020>=i;++i)kr[1020+i]=-128>i?-128:127<i?127:i;for(i=-112;112>=i;++i)Er[112+i]=-16>i?-16:15<i?15:i;for(i=-255;510>=i;++i)Sr[255+i]=0>i?0:255<i?255:i;_r=1}ar=lt,sr=at,ir=st,lr=ot,cr=it,or=rt,Ar=Vt,ur=Wt,dr=Yt,hr=Zt,fr=Xt,pr=Jt,mr=$t,gr=en,vr=Ht,xr=Rt,yr=qt,br=Kt,ua[0]=Nt,ua[1]=At,ua[2]=bt,ua[3]=wt,ua[4]=Bt,ua[5]=Ct,ua[6]=jt,ua[7]=kt,ua[8]=St,ua[9]=Et,Aa[0]=mt,Aa[1]=dt,Aa[2]=ht,Aa[3]=ft,Aa[4]=gt,Aa[5]=vt,Aa[6]=xt,da[0]=It,da[1]=ut,da[2]=_t,da[3]=Ft,da[4]=Qt,da[5]=Lt,da[6]=Ot,i=1}else i=0}i&&(i=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,i=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var A=l,u=c,d=u.Ac,h=u.Bc+4*o,f=u.zc,p=u.ya[u.aa+o];if(u.Qa.Bb?p.$b=E(A,u.Pa.jb[0])?2+E(A,u.Pa.jb[2]):E(A,u.Pa.jb[1]):p.$b=0,u.kc&&(p.Ad=E(A,u.Bd)),p.Za=!E(A,145)+0,p.Za){var m=p.Ob,g=0;for(u=0;4>u;++u){var v,x=f[0+u];for(v=0;4>v;++v){x=ia[d[h+v]][x];for(var y=sa[E(A,x[0])];0<y;)y=sa[2*y+E(A,x[y])];x=-y,d[h+v]=x}r(m,g,d,h,4),g+=4,f[0+u]=x}}else x=E(A,156)?E(A,128)?1:3:E(A,163)?2:0,p.Ob[0]=x,a(d,h,x,4),a(f,0,x,4);p.Dd=E(A,142)?E(A,114)?E(A,183)?1:3:2:0}if(c.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=i,A=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],h=l.kc?o.Ad:0)A.la=d.la=0,o.Za||(A.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var b,w;if(A=d,d=c,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],p=l.pb[f.$b],u=f.ad,m=0,g=l.rb[l.sb-1],x=v=0,a(u,m,0,384),f.Za)var N=0,B=h[3];else{y=s(16);var j=A.Na+g.Na;if(j=na(d,h[1],j,p.Eb,0,y,0),A.Na=g.Na=(0<j)+0,1<j)ar(y,0,u,m);else{var C=y[0]+3>>3;for(y=0;256>y;y+=16)u[m+y]=C}N=1,B=h[0]}var k=15&A.la,S=15&g.la;for(y=0;4>y;++y){var _=1&S;for(C=w=0;4>C;++C)k=k>>1|(_=(j=na(d,B,j=_+(1&k),p.Sc,N,u,m))>N)<<7,w=w<<2|(3<j?3:1<j?2:0!=u[m+0]),m+=16;k>>=4,S=S>>1|_<<7,v=(v<<8|w)>>>0}for(B=k,N=S>>4,b=0;4>b;b+=2){for(w=0,k=A.la>>4+b,S=g.la>>4+b,y=0;2>y;++y){for(_=1&S,C=0;2>C;++C)j=_+(1&k),k=k>>1|(_=0<(j=na(d,h[2],j,p.Qc,0,u,m)))<<3,w=w<<2|(3<j?3:1<j?2:0!=u[m+0]),m+=16;k>>=2,S=S>>1|_<<5}x|=w<<4*b,B|=k<<4<<b,N|=(240&S)<<b}A.la=B,g.la=N,f.Hc=v,f.Gc=x,f.ia=43690&x?0:p.ia,h=!(v|x)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!h),c.Ka)return We(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,o=(i=e).D,A=0<i.L&&i.M>=i.zb&&i.M<=i.Va,0==i.Aa)t:{if(o.M=i.M,o.uc=A,In(i,o),c=1,o=(w=i.D).Nb,A=(x=Ta[i.L])*i.R,d=x/2*i.B,y=16*o*i.R,C=8*o*i.B,h=i.sa,f=i.ta-A+y,p=i.qa,u=i.ra-d+C,m=i.Ha,g=i.Ia-d+C,S=0==(k=w.M),v=k>=i.Va-1,2==i.Aa&&In(i,w),w.uc)for(_=(j=i).D.M,t(j.D.uc),w=j.yb;w<j.Hb;++w){N=w,B=_;var F=(U=(H=j).D).Nb;b=H.R;var U=U.wa[U.Y+N],I=H.sa,L=H.ta+16*F*b+16*N,Q=U.dd,O=U.tc;if(0!=O)if(t(3<=O),1==H.L)0<N&&xr(I,L,b,O+4),U.La&&br(I,L,b,O),0<B&&vr(I,L,b,O+4),U.La&&yr(I,L,b,O);else{var P=H.B,T=H.qa,D=H.ra+8*F*P+8*N,M=H.Ha,H=H.Ia+8*F*P+8*N;F=U.ld,0<N&&(ur(I,L,b,O+4,Q,F),hr(T,D,M,H,P,O+4,Q,F)),U.La&&(pr(I,L,b,O,Q,F),gr(T,D,M,H,P,O,Q,F)),0<B&&(Ar(I,L,b,O+4,Q,F),dr(T,D,M,H,P,O+4,Q,F)),U.La&&(fr(I,L,b,O,Q,F),mr(T,D,M,H,P,O,Q,F))}}if(i.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*k,k=16*(k+1),S?(l.y=i.sa,l.O=i.ta+y,l.f=i.qa,l.N=i.ra+C,l.ea=i.Ha,l.W=i.Ia+C):(w-=x,l.y=h,l.O=f,l.f=p,l.N=u,l.ea=m,l.W=g),v||(k-=x),k>l.o&&(k=l.o),l.F=null,l.J=null,null!=i.Fa&&0<i.Fa.length&&w<k&&(l.J=un(i,l,w,k-w),l.F=i.mb,null==l.F&&0==l.F.length)){c=We(i,3,"Could not decode alpha data.");break t}w<l.j&&(x=l.j-w,w=l.j,t(!(1&x)),l.O+=i.R*x,l.N+=i.B*(x>>1),l.W+=i.B*(x>>1),null!=l.F&&(l.J+=l.width*x)),w<k&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=k-w,c=l.put(l))}o+1!=i.Ic||v||(r(i.sa,i.ta-A,h,f+16*i.R,A),r(i.qa,i.ra-d,p,u+8*i.B,d),r(i.Ha,i.Ia-d,m,g+8*i.B,d))}if(!c)return We(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),i&=1}return i?(e.cb=0,i):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=On(u.ba))}u=n}A=0!=u?null:11>A?d.f.RGBA.eb:d.f.kb.y}else A=null;return A};var Ma=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function A(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],p=[],m=new l,g=e,v=function(e,t){var n={},r=0,a=!1,s=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(d(e,t+=4),t+=8;t<e.length;){var i=c(e,t),l=d(e,t+=4);t+=4;var h=l+(1&l);switch(i){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(m=n.frames[r]).src_off=a?o:t-8,m.src_size=s+l+8,r++,a&&(a=!1,s=0,o=0);break;case"VP8X":(m=n.header={}).feature_flags=e[t];var f=t+4;m.canvas_width=1+u(e,f),f+=3,m.canvas_height=1+u(e,f),f+=3;break;case"ALPH":a=!0,s=h+8,o=t-8;break;case"ANIM":(m=n.header).bgcolor=d(e,t),f=t+4,m.loop_count=A(e,f),f+=2;break;case"ANMF":var p,m;(m=n.frames[r]={}).offset_x=2*u(e,t),t+=3,m.offset_y=2*u(e,t),t+=3,m.width=1+u(e,t),t+=3,m.height=1+u(e,t),t+=3,m.duration=u(e,t),t+=3,p=e[t++],m.dispose=1&p,m.blend=p>>1&1}"ANMF"!=i&&(t+=h)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var x=v.header?v.header:null,y=v.frames?v.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],f=[x.canvas_width];for(var b=0;b<y.length&&0!=y[b].blend;b++);}var w=y[0],N=m.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=N,w.imgwidth=f[0],w.imgheight=h[0];for(var B=0;B<f[0]*h[0]*4;B++)p[B]=N[B];return this.width=f,this.height=h,this.data=p,this}!function(e){var t,n,r,a,s,o,i,l,c,A=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,i=this.internal.Rectangle,l=this.internal.Matrix,c=new A}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var i=0;Object.defineProperty(this,"lastBreak",{get:function(){return i},set:function(e){i=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof A&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){h=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var s=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===o?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var i=function(e){var t,n,r=[],a=e.trim();if(""===a)return BA;if(a in uA)return[uA[a]];for(;""!==a;){switch(n=null,t=(a=hA(a)).charAt(0)){case'"':case"'":n=fA(a.substring(1),t);break;default:n=pA(a)}if(null===n)return BA;if(r.push(n[0]),""!==(a=hA(n[1]))&&","!==a.charAt(0))return BA;a=a.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=lA(e[n]),a=r.family,s=r.stretch,o=r.style,i=r.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][o]=t[a][s][o]||{},t[a][s][o][i]=r}return t}(n.concat(t))}return h}(this.pdf,this.fontFaces),c=i.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),A=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},AA,n.genericFontFamilies||{}),s=null,o=null,i=0;i<t.length;++i)if(a[(s=lA(t[i])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+dA(s)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=sA[e],r=n<=sA.normal?-1:1,a=cA(t,aA,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=rA[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=iA[e],r=cA(t,oA,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dA(s)+"'.");return o}(l,c);this.pdf.setFont(A.ref.name,A.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var d="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<i.length;p++){if(void 0!==this.pdf.internal.getFont(i[p],u,{noFallback:!0,disableWarning:!0})){d=i[p];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(i[p],"bold",{noFallback:!0,disableWarning:!0}))d=i[p],u="bold";else if(void 0!==this.pdf.internal.getFont(i[p],"normal",{noFallback:!0,disableWarning:!0})){d=i[p],u="normal";break}}if(""===d)for(var m=0;m<i.length;m++)if(f[i[m]]){d=f[i[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){y.call(this,"fill",!1)},u.prototype.stroke=function(){y.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Tl.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},u.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Nr.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Tl.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Tl.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new o(n,r)),s=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Tl.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var i=this.ctx.transform.applyToPoint(new o(a,s)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},u.prototype.arc=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw Tl.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var i=this.ctx.transform.applyToPoint(new o(e,t));e=i.x,t=i.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Tl.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Tl.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Tl.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Tl.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new ql(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Tl.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!h.call(this)){var a=L(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Tl.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var a=L(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Tl.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Tl.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Tl.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Tl.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s))throw Tl.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,a,s);this.ctx.transform=this.ctx.transform.multiply(o)},u.prototype.setTransform=function(e,t,n,r,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,a,s)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,s,o,c,A){var u=this.pdf.getImageProperties(e),d=1,h=1,f=1,g=1;void 0!==r&&void 0!==c&&(f=c/r,g=A/a,d=u.width/r*c/r,h=u.height/a*A/a),void 0===s&&(s=t,o=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,A=a),void 0===r&&void 0===c&&(c=u.width,A=u.height);for(var y,w=this.ctx.transform.decompose(),N=L(w.rotate.shx),B=new l,j=(B=(B=(B=B.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new i(s-t*f,o-n*g,r*d,a*h)),C=m.call(this,j),k=[],E=0;E<C.length;E+=1)-1===k.indexOf(C[E])&&k.push(C[E]);if(x(k),this.autoPaging)for(var S=k[0],_=k[k.length-1],F=S;F<_+1;F++){this.pdf.setPage(F);var U=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],I=1===F?this.posY+this.margin[0]:this.margin[0],Q=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===F?0:Q+(F-2)*O;if(0!==this.ctx.clip_path.length){var T=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(y,this.posX+this.margin[3],-P+I+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=T}var D=JSON.parse(JSON.stringify(j));D=v([D],this.posX+this.margin[3],-P+I+this.ctx.prevPageLastElemOffset)[0];var M=(F>S||F<_)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,O,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",D.x,D.y,D.w,D.h,null,null,N),M&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",j.x,j.y,j.w,j.h,null,null,N)};var m=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var s=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"bct":var o=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+a)/n)+1),r.push(Math.floor((o.y+o.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var i=0;i<r.length;i+=1)for(;this.pdf.internal.getNumberOfPages()<r[i];)g.call(this);return r},g=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=s},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},x=function(e){return e.sort(function(e,t){return e-t})},y=function(e,t){for(var n,r,a=this.fillStyle,s=this.strokeStyle,o=this.lineCap,i=this.lineWidth,l=Math.abs(i*this.ctx.transform.scaleX),c=this.lineJoin,A=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var f=m.call(this,u[h]),y=0;y<f.length;y+=1)-1===d.indexOf(f[y])&&d.push(f[y]);for(var w=0;w<d.length;w++)for(;this.pdf.internal.getNumberOfPages()<d[w];)g.call(this);if(x(d),this.autoPaging)for(var N=d[0],B=d[d.length-1],j=N;j<B+1;j++){this.pdf.setPage(j),this.fillStyle=a,this.strokeStyle=s,this.lineCap=o,this.lineWidth=l,this.lineJoin=c;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===j?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],S=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_=1===j?0:E+(j-2)*S;if(0!==this.ctx.clip_path.length){var F=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-_+k+this.ctx.prevPageLastElemOffset),b.call(this,e,!0),this.path=F}if(r=JSON.parse(JSON.stringify(A)),this.path=v(r,this.posX+this.margin[3],-_+k+this.ctx.prevPageLastElemOffset),!1===t||0===j){var U=(j>N||j<B)&&p.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,S,null).clip().discardPath()),b.call(this,e,t),U&&this.pdf.restoreGraphicsState()}this.lineWidth=i}else this.lineWidth=l,b.call(this,e,t),this.lineWidth=i;this.path=A},b=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,r,a=[],s=this.path,o=0;o<s.length;o++){var i=s[o];switch(i.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:i,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[o-1]&&!isNaN(s[o-1].x)&&(n=[i.x-s[o-1].x,i.y-s[o-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(i);break}break;case"bct":n=[i.x1-s[o-1].x,i.y1-s[o-1].y,i.x2-s[o-1].x,i.y2-s[o-1].y,i.x-s[o-1].x,i.y-s[o-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=s[o-1].x+2/3*(i.x1-s[o-1].x),A=s[o-1].y+2/3*(i.y1-s[o-1].y),u=i.x+2/3*(i.x1-i.x),d=i.y+2/3*(i.y1-i.y),p=i.x,m=i.y;n=[c-s[o-1].x,A-s[o-1].y,u-s[o-1].x,d-s[o-1].y,p-s[o-1].x,m-s[o-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(i)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,v=0;v<a.length;v++)if(a[v].arc)for(var x=a[v].abs,y=0;y<x.length;y++){var b=x[y];"arc"===b.type?B.call(this,b.x,b.y,b.radius,b.startAngle,b.endAngle,b.counterclockwise,void 0,t,!g):S.call(this,b.x,b.y),g=!0}else if(!0===a[v].close)this.pdf.internal.out("h"),g=!1;else if(!0!==a[v].begin){var w=a[v].start.x,N=a[v].start.y;_.call(this,a[v].deltas,w,N),g=!0}r&&j.call(this,r),t&&C.call(this)}},w=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(e,t,n,r,a,s,o,i,l){for(var c=U.call(this,n,r,a,s),A=0;A<c.length;A++){var u=c[A];0===A&&(l?k.call(this,u.x1+e,u.y1+t):S.call(this,u.x1+e,u.y1+t)),F.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}i?C.call(this):j.call(this,o)},j=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=w.call(this,e.y),a=N.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new o(e.x,r)),c=this.ctx.transform.decompose(),A=new l;A=(A=(A=A.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,d,h,f=this.ctx.transform.applyToRectangle(new i(e.x,r,n.w,n.h)),g=A.applyToRectangle(new i(e.x,a,n.w,n.h)),y=m.call(this,g),B=[],j=0;j<y.length;j+=1)-1===B.indexOf(y[j])&&B.push(y[j]);if(x(B),this.autoPaging)for(var C=B[0],k=B[B.length-1],E=C;E<k+1;E++){this.pdf.setPage(E);var S=1===E?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],F=this.pdf.internal.pageSize.height-this.margin[2],U=F-this.margin[0],I=this.pdf.internal.pageSize.width-this.margin[1],L=I-this.margin[3],Q=1===E?0:_+(E-2)*U;if(0!==this.ctx.clip_path.length){var O=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(u,this.posX+this.margin[3],-1*Q+S),b.call(this,"fill",!0),this.path=O}var P=v([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-Q+S+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale);var T="text"!==this.autoPaging;if(T||P.y+P.h<=F){if(T||P.y>=S&&P.x<=I){var D=T?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||I-P.x)[0],M=v([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-Q+S+this.ctx.prevPageLastElemOffset)[0],H=T&&(E>C||E<k)&&p.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,U,null).clip().discardPath()),this.pdf.text(D,M.x,M.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),H&&this.pdf.restoreGraphicsState()}}else P.y<F&&(this.ctx.prevPageLastElemOffset+=F-P.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)},S=function(e,t,a,s){a=a||0,s=s||0,this.pdf.internal.out(n(e+a)+" "+r(t+s)+" l")},_=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},F=function(e,n,r,o,i,l,c,A){this.pdf.internal.out([t(a(r+e)),t(s(o+n)),t(a(i+e)),t(s(l+n)),t(a(c+e)),t(s(A+n)),"c"].join(" "))},U=function(e,t,n,r){for(var a=2*Math.PI,s=Math.PI/2;t>n;)t-=a;var o=Math.abs(n-t);o<a&&r&&(o=a-o);for(var i=[],l=r?-1:1,c=t;o>1e-5;){var A=c+l*Math.min(o,s);i.push(I.call(this,e,c,A)),o-=Math.abs(A-c),c=A}return i},I=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),s=e*Math.sin(r),o=a,i=-s,l=o*o+i*i,c=l+o*a+i*s,A=4/3*(Math.sqrt(2*l*c)-c)/(o*s-i*a),u=o-A*i,d=i+A*o,h=u,f=-d,p=r+t,m=Math.cos(p),g=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*m-d*g,y2:u*g+d*m,x3:h*m-f*g,y3:h*g+f*m,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},Q=function(e,t,n,r,a,s){var o=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),A=s+.5*(r-s),u=Math.min(e,a,o,c),d=Math.max(e,a,o,c),h=Math.min(t,s,l,A),f=Math.max(t,s,l,A);return new i(u,h,d-u,f-h)},O=function(e,t,n,r,a,s,o,l){var c,A,u,d,h,f,p,m,g,v,x,y,b,w,N=n-e,B=r-t,j=a-n,C=s-r,k=o-a,E=l-s;for(A=0;A<41;A++)g=(p=(u=e+(c=A/40)*N)+c*((h=n+c*j)-u))+c*(h+c*(a+c*k-h)-p),v=(m=(d=t+c*B)+c*((f=r+c*C)-d))+c*(f+c*(s+c*E-f)-m),0==A?(x=g,y=v,b=g,w=v):(x=Math.min(x,g),y=Math.min(y,v),b=Math.max(b,g),w=Math.max(w,v));return new i(Math.round(x),Math.round(y),Math.round(b-x),Math.round(w-y))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(pc.API),function(e){var t=function(e){var t,n,r,a,s,o,i,l,c,A;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(s=((s=((s=((s=(s-(A=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(i=s%85))/85)%85,n.push(o+33,i+33,l+33,c+33,A+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,s,o=String,i="length",l=255,c="charCodeAt",A="slice",u="replace";for(e[A](-2),e=e[A](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,s=(e+=t="uuuuu"[A](e[i]%5||5))[i];s>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[i]),o.fromCharCode.apply(o,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=ia(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,o){var i=0,l=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),i=0;i<o.length;i+=1)switch(o[i]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[i]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(pc.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(De){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(pc.API),function(e){function t(){return(Ol.html2canvas?Promise.resolve(Ol.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Ol.DOMPurify?Promise.resolve(Ol.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,Nr.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},i=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(e,t){return e.__proto__=t||i.prototype,e},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},i.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var o=n[s],i=o.src.find(function(e){return"truetype"===e.format});i&&t.addFont(i.url,o.ref.name,o.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},i.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},i.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},i.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in i.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},i.prototype.get=function(e,t){return this.then(function(){var n=e in i.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},i.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},i.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||pc.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},i.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},i.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},i.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:i.convert(Object.assign({},r),Promise.prototype),s=n.call(a,e,t);return i.convert(s,r.__proto__)},i.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},i.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},i.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return i.convert(t,this)},i.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},i.prototype.error=function(e){return this.then(function(){throw new Error(e)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,pc.getPageSize=function(e,t,n){if("object"===(0,Nr.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,s=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var i,l=0,c=0;if(o.hasOwnProperty(s))l=o[s][1]/a,c=o[s][0]/a;else try{l=n[1],c=n[0]}catch(Ke){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(i=c,c=l,l=i);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(i=c,c=l,l=i)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(lA):null;var n=new i(t);return t.worker?n:n.from(e).doCallback()}}(pc.API),pc.API.addJS=function(e){return vA=e,this.internal.events.subscribe("postPutResources",function(){mA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==mA&&void 0!==gA&&this.internal.out("/Names <</JavaScript "+mA+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],o=n.exec(s);if(null!=o){var i=o[1];e.internal.newObjectDeferredBegin(i,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var A=e.internal.newObject();c.push(A);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var o=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var i=0;i<t.children.length;i++)this.renderItems(t.children[i])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(pc.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,s,o){var i,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,i=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},o=4;o<a;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),s={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),i.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:i.width,height:i.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(pc.API),pc.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=function(e,t){return new Ll(e,t).decode()}(e,{checkCrc:!0}),o=s.width,i=s.height,l=s.channels,c=s.palette,A=s.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,s=e.depth,o=!1,i=[],l=[],c=void 0,A=!1,u=0,d=0;d<a.length;d++){var h=Aa(a[d],4),f=h[0],p=h[1],m=h[2],g=h[3];i.push(f,p,m),null!=g&&(0===g?(u++,l.length<1&&l.push(d)):g<255&&(A=!0))}if(A||u>1){o=!0,l=void 0;var v=t*n;c=new Uint8Array(v);for(var x=new DataView(r.buffer),y=0;y<v;y++){var b=Aa(a[IA(x,y,s)],4)[3];c[y]=b}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:r,alphaBytes:c,needSMask:o,palette:i,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,s=e.depth,o=2===a?"DeviceGray":"DeviceRGB",i=a-1,l=n*r,c=i,A=l*c,u=1*l,d=Math.ceil(A*s/8),h=Math.ceil(u*s/8),f=new Uint8Array(d),p=new Uint8Array(h),m=new DataView(t.buffer),g=new DataView(f.buffer),v=new DataView(p.buffer),x=!1,y=0;y<l;y++){for(var b=y*a,w=0;w<c;w++)LA(g,IA(m,b+w,s),y*c+w,s);var N=IA(m,b+c,s);N<(1<<s)-1&&(x=!0),LA(v,N,1*y,s)}return{colorSpace:o,colorsPerPixel:i,colorBytes:f,alphaBytes:p,needSMask:x}}(s):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint8Array?t:new Uint8Array(t.buffer),needSMask:!1}}(s);var u,d,h,f=a,p=f.colorSpace,m=f.colorsPerPixel,g=f.colorBytes,v=f.alphaBytes,x=f.needSMask,y=f.palette,b=f.mask,w=null;return r!==pc.API.image_compression.NONE?(w=function(e){var t;switch(e){case pc.API.image_compression.FAST:t=11;break;case pc.API.image_compression.MEDIUM:t=13;break;case pc.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,d="/Predictor ".concat(w," "),e=jA(g,o*m,m,r),x&&(h=jA(v,o,1,r))):(u=void 0,d="",e=g,x&&(h=v)),d+="/Colors ".concat(m," /BitsPerComponent ").concat(A," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:u,decodeParameters:d,transparency:b,palette:y,sMask:h,predictor:w,width:o,height:i,bitsPerComponent:A,colorSpace:p}}},function(e){e.processGIF89A=function(t,n,r,a){var s=new OA(t),o=s.width,i=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:i},A=new TA(100).encode(c,100);return e.processJPEG.call(this,A,n,r,a)},e.processGIF87A=e.processGIF89A}(pc.API),DA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},DA.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(Qe){Tl.log("bit decode error:"+Qe)}},DA.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*a*4,i=0;i<8&&8*a+i<this.width;i++){var l=this.palette[s>>7-i&1];this.data[o+4*i]=l.blue,this.data[o+4*i+1]=l.green,this.data[o+4*i+2]=l.red,this.data[o+4*i+3]=255}0!==n&&(this.pos+=4-n)}},DA.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*a*4,i=s>>4,l=15&s,c=this.palette[i];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},DA.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},DA.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,i=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,A=r*this.width*4+4*a;this.data[A]=l,this.data[A+1]=i,this.data[A+2]=o,this.data[A+3]=c}this.pos+=e}},DA.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,A=a*this.width*4+4*s;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=i,this.data[A+3]=255}this.pos+=e}},DA.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},DA.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=r,this.data[i+3]=o}},DA.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var s=new DA(t,!1),o=s.width,i=s.height,l={data:s.getData(),width:o,height:i},c=new TA(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(pc.API),MA.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var s=new MA(t),o=s.width,i=s.height,l={data:s.getData(),width:o,height:i},c=new TA(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(pc.API),pc.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),i=0,l=0,c=0;c<a;c+=4){var A=r[c],u=r[c+1],d=r[c+2],h=r[c+3];s[i++]=A,s[i++]=u,s[i++]=d,o[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},pc.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xA=pc.API,yA=xA.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),i=t.widths?t.widths:a.metadata.Unicode.widths,l=i.fof?i.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,A=c.fof?c.fof:1,u=!1!==t.doKerning,d=0,h=e.length,f=0,p=i[0]||l,m=[];for(n=0;n<h;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?m.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=u&&"object"===(0,Nr.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/A:0,m.push((i[r]||p)/l+d)),f=r;return m},bA=xA.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return xA.processArabic&&(e=xA.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:yA.apply(this,arguments).reduce(function(e,t){return e+t},0)},wA=function(e,t,n,r){for(var a=[],s=0,o=e.length,i=0;s!==o&&i+t[s]<n;)i+=t[s],s++;a.push(e.slice(0,s));var l=s;for(i=0;s!==o;)i+t[s]>r&&(a.push(e.slice(l,s)),i=0,l=s),i+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},NA=function(e,t,n){n||(n={});var r,a,s,o,i,l,c,A=[],u=[A],d=n.textIndent||0,h=0,f=0,p=e.split(" "),m=yA.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),v=[];p.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),p=v,l=bA.apply(this,[g,n])}for(s=0,o=p.length;s<o;s++){var x=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),x=1),d+h+(f=(a=yA.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||x){if(f>t){for(i=wA.apply(this,[r,a,t-(d+h),t]),A.push(i.shift()),A=[i.pop()];i.length;)u.push([i.shift()]);f=a.slice(r.length-(A[0]?A[0].length:0)).reduce(function(e,t){return e+t},0)}else A=[r];u.push(A),d=f+l,h=m}else A.push(r),d+=h+f,h=m}return c=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},xA.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var i,l,c=[];for(i=0,l=r.length;i<l;i++)c=c.concat(NA.apply(this,[r[i],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},s=0;s<16;s++)r[n[s]]=t[s],a[t[s]]=n[s];var o=function(e){return"0x"+parseInt(e,10).toString(16)},i=e.__fontmetrics__.compress=function(e){var t,n,r,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=o(t).slice(3),s="-"):(r=o(t).slice(2),s=""),r=s+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==(0,Nr.A)(t))throw new Error("Don't know what to do with value type "+(0,Nr.A)(t)+".");r=i(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,s,o={},i=1,l=o,c=[],A="",u="",d=e.length-1,h=1;h<d;h+=1)"'"==(s=e[h])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,a]),l={},a=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==s?i=-1:void 0===a?r.hasOwnProperty(s)?(A+=r[s],a=parseInt(A,16)*i,i=1,A=""):A+=s:r.hasOwnProperty(s)?(u+=r[s],l[a]=parseInt(u,16)*i,i=1,a=void 0,u=""):u+=s;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=A.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(pc.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Kl(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(pc),pc.API.addSvgAsImage=function(e,t,r,a,s,o,i,l){if(isNaN(t)||isNaN(r))throw Tl.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Tl.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Ol.canvg?Promise.resolve(Ol.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(A,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,i,l)})},pc.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},pc.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},i=Object.keys(o),l=[],c=0,A=0,u=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=i.length;for(u=0;u<h;u+=1)n[i[u]].value=n[i[u]].defaultValue,n[i[u]].explicitSet=!1}if("object"===(0,Nr.A)(e))for(a in e)if(s=e[a],d(i,a)&&void 0!==s){if("boolean"===n[a].type&&"boolean"==typeof s)n[a].value=s;else if("name"===n[a].type&&d(n[a].valueSet,s))n[a].value=s;else if("integer"===n[a].type&&Number.isInteger(s))n[a].value=s;else if("array"===n[a].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(A=0;A<s[c].length;A+=1)"number"!=typeof s[c][A]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(pc.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],o=0,i=e.length;o<i;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(a[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,a,s,o,i;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,i=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<i;o++)t=n[o],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var i=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",A=0;A<l.length;A++)c+=String.fromCharCode(l[A]);var u=s();o({data:c,addLength1:!0,objectId:u}),a("endobj");var d=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),a("endobj");var h=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+cc(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var f=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+cc(n.fontName)),a("/FontDescriptor "+h+" 0 R"),a("/W "+e.API.PDFObject.convert(i)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+d+" 0 R"),a("/BaseFont /"+cc(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+f+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var i=n.metadata.rawData,l="",c=0;c<i.length;c++)l+=String.fromCharCode(i[c]);var A=s();o({data:l,addLength1:!0,objectId:A}),a("endobj");var u=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var d=s();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+A+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+cc(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=s();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+cc(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,s=e.y,o=e.options||{},i=e.mutex||{},l=i.pdfEscape,c=i.activeFontKey,A=i.fonts,u=c,d="",h=0,f="",p=A[u].encoding;if("Identity-H"!==A[u].encoding)return{text:r,x:a,y:s,options:o,mutex:i};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),h=0;h<f.length;h+=1)A[u].metadata.hasOwnProperty("cmap")&&(t=A[u].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&A[u].metadata.hasOwnProperty("Unicode")?d+=f[h]:d+="";var m="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===p?m=l(d,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(m=n(d,A[u])),i.isHex=!0,{text:m,x:a,y:s,options:o,mutex:i}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([a(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(a(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(pc),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(pc.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,s,o,i,l,c=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,g=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=h[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},x=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,o,i){var l,c,A,u,d=t[i];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":i<1||i+1>=t.length||"EN"!==(l=o[i-1])&&"AN"!==l||"EN"!==(c=t[i+1])&&"AN"!==c?d="N":m&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=i>0?o[i-1]:"B")&&i+1<t.length&&"EN"===t[i+1]?"EN":"N";break;case"ET":if(i>0&&"EN"===o[i-1]){d="EN";break}if(m){d="N";break}for(A=i+1,u=t.length;A<u&&"ET"===t[A];)A++;d=A<u&&"EN"===t[A]?"EN":"N";break;case"NSM":if(a&&!s){for(u=t.length,A=i+1;A<u&&"NSM"===t[A];)A++;if(A<u){var h=e[i],f=h>=1425&&h<=2303||64286===h;if(l=t[A],f&&("R"===l||"AL"===l)){d="R";break}}}d=i<1||"B"===(l=t[i-1])?"N":o[i-1];break;case"B":m=!1,n=!0,d=g;break;case"S":r=!0,d="N"}return d},b=function(e,t,n){var r=e.split("");return n&&w(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},w=function(e,t,a){var s,o,i,l,c,h=-1,f=e.length,p=0,x=[],b=g?u:A,w=[];for(m=!1,n=!1,r=!1,o=0;o<f;o++)w[o]=v(e[o]);for(i=0;i<f;i++){if(c=p,x[i]=y(e,w,x,i),s=240&(p=b[c][d[x[i]]]),p&=15,t[i]=l=b[p][5],s>0)if(16===s){for(o=h;o<i;o++)t[o]=1;h=-1}else h=-1;if(b[p][6])-1===h&&(h=i);else if(h>-1){for(o=h;o<i;o++)t[o]=l;h=-1}"B"===w[i]&&(t[i]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=g}}(w,t,f)},N=function(e,t,r,a,s){if(!(s.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var o,i,l,c,A=t.length,u=0;u<A;){if(a[u]>=e){for(l=u+1;l<A&&a[l]>=e;)l++;for(c=u,i=l-1;c<i;c++,i--)o=t[c],t[c]=t[i],t[i]=o,r&&(o=r[c],r[c]=r[i],r[i]=o);u=l}u++}}},B=function(e,t,n){var r=e.split(""),a={hiLevel:g};return n||(n=[]),w(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=f.indexOf(e[a]))>=0&&(e[a]=f[r+1])}(r,n,a),N(2,r,t,n,a),N(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=x(e)),void 0===i&&(i=x(e))}(e,t),a||!o||i)if(a&&o&&s^i)g=s?1:0,e=b(e,t,n);else if(!a&&o&&i)g=s?1:0,e=B(e,t,n),e=b(e,t);else if(!a||s||o||i){if(a&&!o&&s^i)e=b(e,t),s?(g=0,e=B(e,t,n)):(g=1,e=B(e,t,n),e=b(e,t));else if(a&&s&&!o&&i)g=1,e=B(e,t,n),e=b(e,t);else if(!a&&!o&&s^i){var r=l;s?(g=1,e=B(e,t,n),g=0,l=!1,e=B(e,t,n),l=r):(g=0,e=B(e,t,n),e=b(e,t),g=1,l=!1,e=B(e,t,n),l=r,e=b(e,t))}}else g=0,e=B(e,t,n);else g=s?1:0,e=B(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,o=e.isOutputVisual,s=e.isInputRtl,i=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([n.doBidiReorder(t[s])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(pc),pc.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new RA(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new iu(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new qA(this.contents),this.head=new GA(this),this.name=new $A(this),this.cmap=new WA(this),this.toUnicode={},this.hhea=new XA(this),this.maxp=new eu(this),this.hmtx=new tu(this),this.post=new YA(this),this.os2=new JA(this),this.loca=new ou(this),this.glyf=new ru(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var HA,RA=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,s,o,i;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),i=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^i)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*s+256*o+i},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),qA=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,s,o,i,l,c,A,u,d,h,f;for(f in d=Object.keys(t).length,i=Math.log(2),A=16*Math.floor(Math.log(d)/i),s=Math.floor(A/i),c=16*d-A,(r=new RA).writeInt(this.scalarType),r.writeShort(d),r.writeShort(A),r.writeShort(s),r.writeShort(c),a=16*d,l=r.pos+a,o=null,h=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),h=h.concat(u),"head"===f&&(o=l),l+=u.length;l%4;)h.push(0),l++;return r.write(h),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=nu.call(e);e.length%4;)e.push(0);for(r=new RA(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),KA={}.hasOwnProperty,zA=function(e,t){for(var n in t)KA.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};HA=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var GA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new RA).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),VA=function(){function e(e,t){var n,r,a,s,o,i,l,c,A,u,d,h,f,p,m,g,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(i=0;i<256;++i)this.codeMap[i]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,a=function(){var t,n;for(n=[],i=t=0;0<=u?t<u:t>u;i=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],i=t=0;0<=u?t<u:t>u;i=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],i=t=0;0<=u?t<u:t>u;i=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],i=t=0;0<=u?t<u:t>u;i=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],i=t=0;0<=r?t<r:t>r;i=0<=r?++t:--t)n.push(e.readUInt16());return n}(),i=m=0,v=a.length;m<v;i=++m)for(p=a[i],n=g=h=f[i];h<=p?g<=p:g>=p;n=h<=p?++g:--g)0===c[i]?s=n+l[i]:0!==(s=o[c[i]/2+(n-h)-(u-i)]||0)&&(s+=l[i]),this.codeMap[n]=65535&s}e.pos=A}return e.encode=function(e,t){var n,r,a,s,o,i,l,c,A,u,d,h,f,p,m,g,v,x,y,b,w,N,B,j,C,k,E,S,_,F,U,I,L,Q,O,P,T,D,M,H,R,q,K,z,G,V;switch(S=new RA,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,p=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),g={0:0},a={},_=0,L=s.length;_<L;_++)null==g[K=e[r=s[_]]]&&(g[K]=++f),a[r]={old:e[r],new:g[e[r]]},p[r]=g[e[r]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(p),{charMap:a,subtable:S.data,maxGlyphID:f+1};case"unicode":for(k=[],A=[],v=0,g={},n={},m=l=null,F=0,Q=s.length;F<Q;F++)null==g[y=e[r=s[F]]]&&(g[y]=++v),n[r]={old:y,new:g[y]},o=g[y]-r,null!=m&&o===l||(m&&A.push(m),k.push(r),l=o),m=r;for(m&&A.push(m),A.push(65535),k.push(65535),j=2*(B=k.length),N=2*Math.pow(Math.log(B)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,w=2*B-N,i=[],b=[],d=[],h=U=0,O=k.length;U<O;h=++U){if(C=k[h],c=A[h],65535===C){i.push(0),b.push(0);break}if(C-(E=n[C].new)>=32768)for(i.push(0),b.push(2*(d.length+B-h)),r=I=C;C<=c?I<=c:I>=c;r=C<=c?++I:--I)d.push(n[r].new);else i.push(E-C),b.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*B+2*d.length),S.writeUInt16(0),S.writeUInt16(j),S.writeUInt16(N),S.writeUInt16(u),S.writeUInt16(w),R=0,P=A.length;R<P;R++)r=A[R],S.writeUInt16(r);for(S.writeUInt16(0),q=0,T=k.length;q<T;q++)r=k[q],S.writeUInt16(r);for(z=0,D=i.length;z<D;z++)o=i[z],S.writeUInt16(o);for(G=0,M=b.length;G<M;G++)x=b[G],S.writeUInt16(x);for(V=0,H=d.length;V<H;V++)f=d[V],S.writeUInt16(f);return{charMap:n,subtable:S.data,maxGlyphID:v+1}}},e}(),WA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new VA(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=VA.encode(e,t),(r=new RA).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),XA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),JA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),YA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),ZA=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$A=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,s,o,i,l,c,A,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(i={},a=c=0,A=n.length;c<A;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),s=new ZA(l,r),null==i[u=r.nameID]&&(i[u]=[]),i[r.nameID].push(s);this.strings=i,this.copyright=i[0],this.fontFamily=i[1],this.fontSubfamily=i[2],this.uniqueSubfamily=i[3],this.fontName=i[4],this.version=i[5];try{this.postscriptName=i[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Re){this.postscriptName=i[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=i[7],this.manufacturer=i[8],this.designer=i[9],this.description=i[10],this.vendorUrl=i[11],this.designerUrl=i[12],this.license=i[13],this.licenseUrl=i[14],this.preferredFamily=i[15],this.preferredSubfamily=i[17],this.compatibleFull=i[18],this.sampleText=i[19]},e}(),eu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),tu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,s,o,i;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],i=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)i.push(this.widths.push(n));return i},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),nu=[].slice,ru=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,s,o,i,l,c,A;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(o=new RA(t.read(r))).readShort(),l=o.readShort(),A=o.readShort(),i=o.readShort(),c=o.readShort(),this.cache[e]=-1===s?new su(o,l,A,i,c):new au(o,s,l,A,i,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,s,o,i;for(s=[],a=[],o=0,i=t.length;o<i;o++)r=e[t[o]],a.push(s.length),r&&(s=s.concat(r.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),au=function(){function e(e,t,n,r,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),su=function(){function e(e,t,n,r,a){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new RA(nu.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),ou=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zA(e,HA),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<n.length;++s)if(n[s]=r,a<t.length&&t[a]==s){++a,n[s]=r;var o=this.offsets[s],i=this.offsets[s+1]-o;i>0&&(r+=i)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),iu=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,s,o,i;for(r={},s=0,o=e.length;s<o;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in i=this.glyphsFor(t))n=i[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,s,o,i,l,c,A,u,d,h,f,p,m;for(r in n=WA.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},m=n.charMap)d[(i=m[r]).old]=i.new;for(h in u=n.maxGlyphID,s)h in d||(d[h]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),A=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=A.length;e<t;e++)o=A[e],n.push(c[o]);return n}(),a=this.font.glyf.encode(s,f,d),l=this.font.loca.encode(a.offsets,f),p={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();pc.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,s,o;if(Array.isArray(n))return"["+function(){var e,a,s;for(s=[],e=0,a=n.length;e<a;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in s=["<<"],n)o=n[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join("\n")}return""+n},t}();var lu=n(5239),cu=n.n(lu);const Au=e=>{var n,r,a,s;let{onClose:o}=e;const[i,l]=(0,t.useState)(!1),[c,A]=(0,t.useState)(0),[u,d]=(0,t.useState)({includeCover:!0,includeTableOfContents:!0,includeMetadata:!0,includeAuthorBio:!0,pageSize:"A5",fontSize:12,lineHeight:1.6,margins:2,fontFamily:"Times New Roman",includePageNumbers:!0,includeHeaders:!0,includeFooters:!0,quality:"high"}),{currentProject:h,projectStructure:f,characters:p,worldData:m}=(0,mn.A)(),g=((0,t.useRef)(null),(e,t)=>{const n=document.createElement("div");n.style.cssText="\n      width: 100%;\n      min-height: 100%;\n      padding: 60px;\n      font-family: '".concat(u.fontFamily,"', serif;\n      background: white;\n      color: #333;\n      font-size: ").concat(u.fontSize,"px;\n      line-height: ").concat(u.lineHeight,";\n      box-sizing: border-box;\n    ");const r='\n      <div style="text-align: center; margin-bottom: 40px; border-bottom: 1px solid #ddd; padding-bottom: 20px;">\n        <h1 style="font-size: 20px; margin: 0 0 10px 0; color: #333;">\n          '.concat(e.title,'\n        </h1>\n        <h2 style="font-size: 16px; margin: 0; color: #667eea; font-weight: normal;">\n          ').concat(t.title,"\n        </h2>\n      </div>\n    "),a=(t.content||"Conte\xfado n\xe3o dispon\xedvel.").replace(/<[^>]*>/g,"").split("\n\n").map(e=>'<p style="text-align: justify; margin-bottom: 16px; text-indent: 20px;">'.concat(e,"</p>")).join("");return n.innerHTML=r+a,n});return(0,Sn.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(nn,{className:"h-6 w-6 text-blue-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold",children:"Exportar Light Novel para PDF"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:"Formata\xe7\xe3o profissional para portais"})]})]}),(0,Sn.jsx)("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg",disabled:i,children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsxs)("div",{className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,Sn.jsx)(sn,{className:"h-5 w-5 mr-2"}),"Op\xe7\xf5es de Exporta\xe7\xe3o"]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:u.includeCover,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{includeCover:e.target.checked})),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Incluir Capa"})]}),(0,Sn.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:u.includeTableOfContents,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{includeTableOfContents:e.target.checked})),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Incluir Sum\xe1rio"})]}),(0,Sn.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:u.includeMetadata,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{includeMetadata:e.target.checked})),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Incluir Metadados"})]}),(0,Sn.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:u.includePageNumbers,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{includePageNumbers:e.target.checked})),className:"rounded"}),(0,Sn.jsx)("span",{className:"text-sm",children:"N\xfameros de P\xe1gina"})]})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[(0,Sn.jsx)(Yt,{className:"h-5 w-5 mr-2"}),"Formata\xe7\xe3o"]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tamanho da Fonte"}),(0,Sn.jsxs)("select",{value:u.fontSize,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{fontSize:parseInt(e.target.value)})),className:"w-full p-2 border rounded-lg",children:[(0,Sn.jsx)("option",{value:10,children:"10px"}),(0,Sn.jsx)("option",{value:11,children:"11px"}),(0,Sn.jsx)("option",{value:12,children:"12px"}),(0,Sn.jsx)("option",{value:13,children:"13px"}),(0,Sn.jsx)("option",{value:14,children:"14px"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Altura da Linha"}),(0,Sn.jsxs)("select",{value:u.lineHeight,onChange:e=>d(t=>(0,_e.A)((0,_e.A)({},t),{},{lineHeight:parseFloat(e.target.value)})),className:"w-full p-2 border rounded-lg",children:[(0,Sn.jsx)("option",{value:1.4,children:"1.4"}),(0,Sn.jsx)("option",{value:1.5,children:"1.5"}),(0,Sn.jsx)("option",{value:1.6,children:"1.6"}),(0,Sn.jsx)("option",{value:1.7,children:"1.7"}),(0,Sn.jsx)("option",{value:1.8,children:"1.8"})]})]})]})]}),(0,Sn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[(0,Sn.jsx)(rr,{className:"h-5 w-5 mr-2"}),"Informa\xe7\xf5es do Projeto"]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"T\xedtulo:"})," ",(null===h||void 0===h?void 0:h.title)||"N/A"]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"Autor:"})," ",(null===h||void 0===h?void 0:h.author)||"N/A"]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"G\xeanero:"})," ",(null===h||void 0===h?void 0:h.genre)||"N/A"]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"Volumes:"})," ",(null===f||void 0===f||null===(n=f.volumes)||void 0===n?void 0:n.length)||0]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"Cap\xedtulos:"})," ",(null===f||void 0===f||null===(r=f.volumes)||void 0===r?void 0:r.reduce((e,t)=>{var n;return e+((null===(n=t.chapters)||void 0===n?void 0:n.length)||0)},0))||0]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("strong",{children:"Palavras:"})," ",(null===f||void 0===f||null===(a=f.volumes)||void 0===a||null===(s=a.reduce((e,t)=>{var n;return e+(null===(n=t.chapters)||void 0===n?void 0:n.reduce((e,t)=>{var n;return e+((null===(n=t.content)||void 0===n?void 0:n.split(" ").length)||0)},0))},0))||void 0===s?void 0:s.toLocaleString())||0]})]})]})]}),i&&(0,Sn.jsxs)("div",{className:"mt-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Sn.jsx)("span",{className:"text-sm font-medium",children:"Exportando PDF..."}),(0,Sn.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.round(c),"%"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(c,"%")}})})]}),(0,Sn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t",children:[(0,Sn.jsx)("button",{onClick:o,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",disabled:i,children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:async()=>{l(!0),A(0);try{var e;const t=new pc("p","pt","a4"),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();let a=0;const s=async e=>{const t=document.createElement("div");t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="595px",t.style.height="842px",t.style.backgroundColor="white",t.style.padding="40px",t.style.fontFamily="Arial, sans-serif",t.style.fontSize="12px",t.style.lineHeight="1.6",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);try{await new Promise(e=>setTimeout(e,100));return await cu()(t,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:595,height:842})}finally{document.body.removeChild(t)}};if(u.includeCover){A(10);const e=(()=>{var e;const t=document.createElement("div");return t.style.cssText="\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      padding: 60px;\n      font-family: 'Times New Roman', serif;\n      position: relative;\n      overflow: hidden;\n      box-sizing: border-box;\n    ",t.innerHTML='\n      <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>\');"></div>\n      \n      <div style="position: relative; z-index: 2;">\n        <div style="font-size: 14px; margin-bottom: 20px; opacity: 0.9; letter-spacing: 2px;">\n          LIGHT NOVEL\n        </div>\n        \n        <h1 style="font-size: 48px; margin: 0 0 30px 0; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); line-height: 1.2;">\n          '.concat((null===h||void 0===h?void 0:h.title)||"T\xedtulo da Light Novel",'\n        </h1>\n        \n        <div style="width: 60px; height: 3px; background: white; margin: 30px auto;"></div>\n        \n        <div style="font-size: 20px; margin-bottom: 40px; opacity: 0.9;">\n          ').concat((null===h||void 0===h?void 0:h.author)||"Autor",'\n        </div>\n        \n        <div style="font-size: 16px; opacity: 0.8; margin-bottom: 20px;">\n          ').concat((null===h||void 0===h?void 0:h.genre)||"G\xeanero",'\n        </div>\n        \n        <div style="position: absolute; bottom: 60px; left: 60px; right: 60px;">\n          <div style="font-size: 12px; opacity: 0.7; margin-bottom: 10px;">\n            Volume ').concat((null===f||void 0===f||null===(e=f.volumes)||void 0===e?void 0:e.length)||1,'\n          </div>\n          <div style="font-size: 14px; opacity: 0.9;">\n            ').concat((new Date).getFullYear(),"\n          </div>\n        </div>\n      </div>\n    "),t})(),o=(await s(e)).toDataURL("image/png");t.addImage(o,"PNG",0,0,n,r),t.addPage(),a++}if(u.includeMetadata){A(30);const e=(()=>{var e,t,n;const r=document.createElement("div");r.style.cssText="\n      width: 100%;\n      min-height: 100%;\n      padding: 60px;\n      font-family: 'Times New Roman', serif;\n      background: white;\n      color: #333;\n      box-sizing: border-box;\n    ";const a=(null===f||void 0===f||null===(e=f.volumes)||void 0===e?void 0:e.reduce((e,t)=>{var n;return e+(null===(n=t.chapters)||void 0===n?void 0:n.reduce((e,t)=>{var n;return e+((null===(n=t.content)||void 0===n?void 0:n.split(" ").length)||0)},0))},0))||0,s=(null===f||void 0===f||null===(t=f.volumes)||void 0===t?void 0:t.reduce((e,t)=>{var n;return e+((null===(n=t.chapters)||void 0===n?void 0:n.length)||0)},0))||0;return r.innerHTML='\n      <h1 style="font-size: 24px; text-align: center; margin-bottom: 40px; border-bottom: 2px solid #333; padding-bottom: 10px;">\n        INFORMA\xc7\xd5ES DA OBRA\n      </h1>\n      \n      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 40px;">\n        <div>\n          <h3 style="font-size: 16px; color: #667eea; margin-bottom: 15px;">Informa\xe7\xf5es B\xe1sicas</h3>\n          <div style="margin-bottom: 10px;">\n            <strong>T\xedtulo:</strong> '.concat((null===h||void 0===h?void 0:h.title)||"N/A",'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>Autor:</strong> ').concat((null===h||void 0===h?void 0:h.author)||"N/A",'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>G\xeanero:</strong> ').concat((null===h||void 0===h?void 0:h.genre)||"N/A",'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>P\xfablico-alvo:</strong> ').concat((null===h||void 0===h?void 0:h.targetAudience)||"N/A",'\n          </div>\n        </div>\n        \n        <div>\n          <h3 style="font-size: 16px; color: #667eea; margin-bottom: 15px;">Estat\xedsticas</h3>\n          <div style="margin-bottom: 10px;">\n            <strong>Volumes:</strong> ').concat((null===f||void 0===f||null===(n=f.volumes)||void 0===n?void 0:n.length)||0,'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>Cap\xedtulos:</strong> ').concat(s,'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>Palavras:</strong> ').concat(a.toLocaleString(),'\n          </div>\n          <div style="margin-bottom: 10px;">\n            <strong>Personagens:</strong> ').concat((null===p||void 0===p?void 0:p.length)||0,'\n          </div>\n        </div>\n      </div>\n      \n      <div style="margin-bottom: 30px;">\n        <h3 style="font-size: 16px; color: #667eea; margin-bottom: 15px;">Sinopse</h3>\n        <p style="text-align: justify; line-height: 1.6;">\n          ').concat((null===h||void 0===h?void 0:h.description)||"Sinopse n\xe3o dispon\xedvel.",'\n        </p>\n      </div>\n      \n      <div style="margin-bottom: 30px;">\n        <h3 style="font-size: 16px; color: #667eea; margin-bottom: 15px;">Personagens Principais</h3>\n        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">\n          ').concat((null===p||void 0===p?void 0:p.slice(0,6).map(e=>'\n            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 5px;">\n              <strong>'.concat(e.name,'</strong><br/>\n              <small style="color: #666;">').concat(e.role||"Personagem","</small>\n            </div>\n          ")).join(""))||"Nenhum personagem cadastrado.",'\n        </div>\n      </div>\n      \n      <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; font-size: 12px;">\n        <p>Gerado em ').concat((new Date).toLocaleDateString("pt-BR"),"</p>\n        <p>Light Novel Creator Pro</p>\n      </div>\n    "),r})(),o=(await s(e)).toDataURL("image/png");t.addImage(o,"PNG",0,0,n,r),t.addPage(),a++}if(u.includeTableOfContents){A(50);const e=(()=>{var e;const t=document.createElement("div");t.style.cssText="\n      width: 100%;\n      min-height: 100%;\n      padding: 60px;\n      font-family: 'Times New Roman', serif;\n      background: white;\n      color: #333;\n      box-sizing: border-box;\n    ";let n='\n      <h1 style="font-size: 24px; text-align: center; margin-bottom: 40px; border-bottom: 2px solid #333; padding-bottom: 10px;">\n        SUM\xc1RIO\n      </h1>\n    ';return null===f||void 0===f||null===(e=f.volumes)||void 0===e||e.forEach((e,t)=>{var r;n+='\n        <div style="margin-bottom: 20px;">\n          <h2 style="font-size: 18px; color: #667eea; margin-bottom: 10px;">\n            '.concat(e.title,"\n          </h2>\n      "),null===(r=e.chapters)||void 0===r||r.forEach((e,r)=>{n+='\n          <div style="display: flex; justify-content: space-between; margin-bottom: 5px; padding-left: 20px;">\n            <span style="font-size: 14px;">'.concat(e.title,'</span>\n            <span style="font-size: 14px; color: #666;">').concat(t+1,".").concat(r+1,"</span>\n          </div>\n        ")}),n+="</div>"}),t.innerHTML=n,t})(),o=(await s(e)).toDataURL("image/png");t.addImage(o,"PNG",0,0,n,r),t.addPage(),a++}const i=(null===f||void 0===f||null===(e=f.volumes)||void 0===e?void 0:e.reduce((e,t)=>{var n;return e+((null===(n=t.chapters)||void 0===n?void 0:n.length)||0)},0))||0;let c=0;for(const e of(null===f||void 0===f?void 0:f.volumes)||[])for(const o of e.chapters||[]){A(60+c/i*30);const l=g(e,o),u=(await s(l)).toDataURL("image/png");t.addImage(u,"PNG",0,0,n,r),t.addPage(),a++,c++}A(95);const d="".concat((null===h||void 0===h?void 0:h.title)||"light-novel","_").concat((new Date).toISOString().split("T")[0],".pdf");t.save(d),A(100),setTimeout(()=>{l(!1),A(0),o()},1e3)}catch(t){console.error("Erro na exporta\xe7\xe3o:",t),l(!1),A(0)}},disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:i?(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(Zn,{className:"h-4 w-4 animate-spin"}),(0,Sn.jsx)("span",{children:"Exportando..."})]}):(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(dn,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{children:"Exportar PDF"})]})})]})]})]})})},uu=()=>(0,Sn.jsxs)("div",{className:"p-4 border border-green-300 bg-green-50 rounded-lg",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Teste do Exportador PDF"}),(0,Sn.jsx)("p",{className:"text-green-700 mb-3",children:"Este \xe9 um teste para verificar se o exportador est\xe1 funcionando."}),(0,Sn.jsxs)("button",{onClick:()=>{alert("Teste do Exportador de PDF - Funcionando!")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,Sn.jsx)(nn,{className:"mr-2 h-4 w-4"}),"Testar Exportador"]})]}),du=Jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hu=()=>{const{worldData:e,volumes:n,chapters:r,characters:a,settings:s}=(0,mn.A)(),o=(null===s||void 0===s?void 0:s.defaultAIProvider)||"openai",{isAnalyzing:i,getQualityTips:l,getVolumeInsights:c}=Vn(o,s),[A,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),f=t.useMemo(()=>{if(!e)return 0;let t=0,n=0;e.name&&(t+=2),e.genre&&(t+=1),e.techLevel&&(t+=1),n+=4;return["locations","peoples","regions","landmarks","resources","languages","religions","traditions","technologies","governments","economies","events","magicSystems"].forEach(r=>{e[r]&&e[r].length>0&&(t+=1),n+=1}),Math.round(t/n*10)},[e]),p=(0,t.useCallback)(async()=>{if(!i)try{const[t,a]=await Promise.all([l(e,{volumes:n,chapters:r}),c(e,{volumes:n,chapters:r})]);u({qualityTips:t?t.split("\n").slice(0,2):["Continue desenvolvendo os elementos do mundo","Mantenha consist\xeancia entre os elementos"],volumeInsights:a?a.split("\n").slice(0,2):["Desenvolva a estrutura narrativa gradualmente","Explore as conex\xf5es entre elementos"]})}catch(t){console.error("Erro ao gerar insights:",t)}},[i,l,c,e,n,r]);return t.useEffect(()=>{e&&!A&&p()},[e,A,p]),e?(0,Sn.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(Pn,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsx)("h3",{className:"font-medium text-foreground",children:"Insights do Agente IA"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("div",{className:"text-sm font-medium text-foreground",children:[f,"/10"]}),f>=7?(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}):(0,Sn.jsx)(du,{className:"h-4 w-4 text-yellow-500"})]})]}),i?(0,Sn.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Sn.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Analisando projeto..."})]}):A?(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Sn.jsx)(ar,{className:"h-4 w-4 text-yellow-500"}),(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Dicas de Qualidade"})]}),(0,Sn.jsx)("ul",{className:"text-xs text-muted-foreground space-y-1",children:A.qualityTips.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"}),e]},t))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Sn.jsx)(Hn,{className:"h-4 w-4 text-green-500"}),(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground",children:"Insights para Volumes"})]}),(0,Sn.jsx)("ul",{className:"text-xs text-muted-foreground space-y-1",children:A.volumeInsights.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"}),e]},t))})]}),(0,Sn.jsxs)("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-center space-x-2 text-xs text-blue-600 hover:text-blue-700 transition-colors",children:[(0,Sn.jsx)("span",{children:"Ver insights completos"}),(0,Sn.jsx)(Ln,{className:"h-3 w-3"})]})]}):(0,Sn.jsxs)("div",{className:"text-center py-4",children:[(0,Sn.jsx)(Mn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Clique para gerar insights personalizados"}),(0,Sn.jsx)("button",{onClick:p,className:"mt-2 text-xs text-blue-600 hover:text-blue-700",children:"Gerar Insights"})]}),d&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,Sn.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Insights Completos do Agente IA"}),(0,Sn.jsxs)("button",{onClick:()=>h(!1),className:"text-muted-foreground hover:text-foreground",children:[(0,Sn.jsx)("span",{className:"sr-only",children:"Fechar"}),(0,Sn.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Sn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,Sn.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Sn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"font-medium text-foreground",children:"Score de Coer\xeancia"}),(0,Sn.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[f,"/10"]})]})}),A&&(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h3",{className:"font-medium text-foreground mb-2 flex items-center",children:[(0,Sn.jsx)(ar,{className:"h-4 w-4 text-yellow-500 mr-2"}),"Dicas de Qualidade"]}),(0,Sn.jsx)("ul",{className:"text-sm text-muted-foreground space-y-2",children:A.qualityTips.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"}),e]},t))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("h3",{className:"font-medium text-foreground mb-2 flex items-center",children:[(0,Sn.jsx)(Hn,{className:"h-4 w-4 text-green-500 mr-2"}),"Insights para Volumes"]}),(0,Sn.jsx)("ul",{className:"text-sm text-muted-foreground space-y-2",children:A.volumeInsights.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"}),e]},t))})]})]})]})]})})]}):(0,Sn.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Sn.jsx)(Pn,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsx)("h3",{className:"font-medium text-foreground",children:"Agente de IA"})]}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Crie um mundo primeiro para receber insights personalizados."})]})},fu=()=>{var e;const n=ee(),[r,a]=t.useState(!1),[s,o]=t.useState(!1),[i,l]=t.useState(!1),{currentProject:c,projects:A,characters:u,worldData:d,loreData:h,editorContent:f}=(0,mn.A)(),p=f.split(/\s+/).filter(e=>e.length>0).length,m=u.length,g=d.locations.length,v=Object.values(h).flat().length,[x,y]=t.useState(()=>{const e=localStorage.getItem("daily-writing-stats");return e?JSON.parse(e):{}}),[b,w]=t.useState(()=>{const e=localStorage.getItem("writing-goals");return e?JSON.parse(e):[]}),N=(()=>{const e=new Date;e.setDate(e.getDate()-e.getDay());let t=0,n=0;for(let a=0;a<7;a++){var r;const s=new Date(e);s.setDate(s.getDate()+a);const o=s.toISOString().split("T")[0],i=(null===(r=x[o])||void 0===r?void 0:r.wordsWritten)||0;t+=i,i>0&&n++}return{totalWords:t,daysWithWriting:n,averageWords:n>0?Math.round(t/n):0}})(),B=(()=>{(new Date).toISOString().split("T")[0];let e=0,t=new Date;for(;(null===(n=x[t.toISOString().split("T")[0]])||void 0===n?void 0:n.wordsWritten)>0;){var n;e++,t.setDate(t.getDate()-1)}return e})(),j=[{name:"Palavras Escritas",value:p.toLocaleString(),icon:nn,color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-50 dark:bg-primary-900/20"},{name:"Personagens",value:m,icon:en,color:"text-secondary-600 dark:text-secondary-400",bgColor:"bg-secondary-50 dark:bg-secondary-900/20"},{name:"Locais",value:g,icon:$t,color:"text-accent-foreground",bgColor:"bg-accent"},{name:"Elementos de Lore",value:v,icon:Yt,color:"text-muted-foreground",bgColor:"bg-muted"}],C=[{name:"Streak Atual",value:B,icon:Jn,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20"},{name:"Palavras Esta Semana",value:N.totalWords.toLocaleString(),icon:Hn,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20"},{name:"M\xe9dia Di\xe1ria",value:N.averageWords.toLocaleString(),icon:Dn,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{name:"Dias Ativos",value:"".concat(N.daysWithWriting,"/7"),icon:Yn,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-50 dark:bg-purple-900/20"}],k=[{name:"Continuar Escrita",description:"Retomar o editor de texto",href:"/editor",icon:nn,color:"bg-primary-600"},{name:"Criar Personagem",description:"Gerar novo personagem",href:"/character-generator",icon:en,color:"bg-secondary-600"},{name:"Expandir Mundo",description:"Adicionar locais e culturas",href:"/world-builder",icon:$t,color:"bg-accent"},{name:"Assistente AI",description:"Obter ajuda criativa",href:"/ai-assistant",icon:Qn,color:"bg-muted"}],E=A.slice(-3).reverse();return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),(0,Sn.jsx)("p",{className:"text-muted-foreground mt-2",children:"Bem-vindo ao seu criador de Light Novel"})]}),c&&(0,Sn.jsxs)("div",{className:"text-right",children:[(0,Sn.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:c.name}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Projeto Ativo"})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bgColor),children:(0,Sn.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})}),(0,Sn.jsxs)("div",{className:"ml-4",children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.name}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.value})]})]})},e.name))}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Metas de Escrita"}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map(e=>(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bgColor),children:(0,Sn.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.color)})}),(0,Sn.jsxs)("div",{className:"ml-4",children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.name}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.value})]})]})},e.name))})]}),(0,Sn.jsx)(nr,{onSettingsClick:()=>n("/settings")}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Teste do Sistema de Feedback"}),(0,Sn.jsxs)("button",{onClick:()=>a(!0),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(vn,{className:"mr-2 h-4 w-4"}),"Testar Feedback Light Novel"]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Leitor de Light Novel"}),(0,Sn.jsxs)("button",{onClick:()=>o(!0),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(ln,{className:"mr-2 h-4 w-4"}),"Abrir Leitor Virtual"]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Exporta\xe7\xe3o Profissional"}),(0,Sn.jsxs)("button",{onClick:()=>l(!0),className:"btn-secondary flex items-center bg-green-600 hover:bg-green-700 text-white",children:[(0,Sn.jsx)(nn,{className:"mr-2 h-4 w-4"}),"Exportar PDF Profissional"]}),(0,Sn.jsx)("div",{className:"mt-4",children:(0,Sn.jsx)(uu,{})})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"A\xe7\xf5es R\xe1pidas"}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:k.map(e=>(0,Sn.jsx)(Ce,{to:e.href,className:"group block p-4 border border-border rounded-lg hover:border-border hover:shadow-sm transition-all duration-200",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-2 rounded-lg ".concat(e.color," text-white"),children:(0,Sn.jsx)(e.icon,{className:"h-5 w-5"})}),(0,Sn.jsxs)("div",{className:"ml-3",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground group-hover:text-primary-600",children:e.name}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),(0,Sn.jsx)(Ln,{className:"ml-auto h-4 w-4 text-muted-foreground group-hover:text-primary-600 transition-colors"})]})},e.name))})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Sn.jsx)(hu,{}),(0,Sn.jsxs)("div",{className:"card bg-gradient-to-r from-primary-100/50 to-secondary-100/50 dark:from-primary-900/20 dark:to-secondary-900/20 border-primary-200 dark:border-primary-800",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"\ud83d\udca1 Dica do Dia"}),(0,Sn.jsx)("p",{className:"text-foreground",children:"Use o Assistente AI para gerar ideias quando estiver com bloqueio criativo. Ele pode ajudar com desenvolvimento de personagens, enredos e descri\xe7\xf5es de cen\xe1rios."})]})]}),E.length>0&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Projetos Recentes"}),(0,Sn.jsx)("div",{className:"space-y-3",children:E.map(e=>(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg hover:bg-accent transition-colors",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Yt,{className:"h-5 w-5 text-muted-foreground mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground",children:e.name}),(0,Sn.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.genre," \u2022 ",e.wordCount," palavras"]})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(Yn,{className:"h-4 w-4 text-muted-foreground"}),(0,Sn.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))})]}),c&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Progresso da Escrita"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Palavras Escritas"}),(0,Sn.jsxs)("span",{className:"text-sm text-muted-foreground",children:[p.toLocaleString()," / ",c.targetWordCount||"\u221e"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(c.targetWordCount?Math.min(p/c.targetWordCount*100,100):0,"%")}})}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,Sn.jsx)("span",{children:"In\xedcio"}),(0,Sn.jsxs)("span",{children:["Meta: ",(null===(e=c.targetWordCount)||void 0===e?void 0:e.toLocaleString())||"N\xe3o definida"]})]})]})]}),r&&(0,Sn.jsx)(ir,{onClose:()=>a(!1)}),s&&(0,Sn.jsx)(wr,{onClose:()=>o(!1)}),i&&(0,Sn.jsx)(Au,{onClose:()=>l(!1)})]})};var pu=n(2823),mu=n.n(pu);const gu=Jt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),vu=Jt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),xu=Jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),yu=3e5,bu={AUTO:"auto",MANUAL:"manual",MAJOR:"major",MINOR:"minor",PATCH:"patch",MERGE:"merge",REVERT:"revert"},wu="published",Nu="reverted";const Bu=new class{constructor(){this.versions=new Map,this.branches=new Map,this.currentBranch="main",this.currentVersion=null,this.autoVersionEnabled=!0,this.lastAutoVersion=null}init(e){this.projectId=e,this.loadVersions(),this.loadBranches(),this.branches.has("main")||this.createBranch("main","Branch principal"),this.currentBranch="main"}createVersion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:n=bu.MANUAL,message:r="",description:a="",tags:s=[],author:o="Usu\xe1rio",isAuto:i=!1}=t;if(i&&!this.shouldCreateAutoVersion())return null;const l=this.generateVersionId(),c=(new Date).toISOString(),A=this.getCurrentVersion(),u=A?A.content:"",d=this.calculateChanges(u,e),h=this.calculateStats(e,d),f={id:l,branch:this.currentBranch,type:n,status:wu,content:e,message:r,description:a,tags:s,author:o,timestamp:c,changes:d,stats:h,parent:A?A.id:null,children:[],metadata:{wordCount:this.countWords(e),charCount:e.length,lineCount:e.split("\n").length,isAuto:i}};this.versions.set(l,f);const p=this.branches.get(this.currentBranch);return p&&(p.versions.push(l),p.lastVersion=l,p.lastUpdated=c),this.currentVersion=l,A&&A.children.push(l),this.saveVersions(),this.saveBranches(),f}createBranch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.branches.has(e))throw new Error('Branch "'.concat(e,'" j\xe1 existe'));const n={name:e,description:t,versions:[],lastVersion:null,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString(),parent:this.currentBranch,parentVersion:this.currentVersion};return this.branches.set(e,n),this.saveBranches(),n}switchBranch(e){if(!this.branches.has(e))throw new Error('Branch "'.concat(e,'" n\xe3o existe'));this.currentBranch=e;const t=this.branches.get(e);return this.currentVersion=t.lastVersion,t}getVersionHistory(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.currentBranch,n=this.branches.get(t);if(!n)return[];const r=[];let a=n.lastVersion;for(;a&&r.length<e;){const e=this.versions.get(a);if(!e)break;r.push(e),a=e.parent}return r}compareVersions(e,t){const n=this.versions.get(e),r=this.versions.get(t);if(!n||!r)throw new Error("Vers\xe3o n\xe3o encontrada");const a=this.calculateChanges(n.content,r.content);return{from:n,to:r,changes:a,stats:this.calculateStats(r.content,a)}}revertVersion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.versions.get(e);if(!n)throw new Error("Vers\xe3o n\xe3o encontrada");const r=this.versions.get(n.parent);if(!r)throw new Error("N\xe3o \xe9 poss\xedvel reverter a primeira vers\xe3o");const a=this.createVersion(r.content,{type:bu.REVERT,message:"Revert: ".concat(n.message),description:"Revertendo para vers\xe3o ".concat(e),author:t.author||"Sistema",tags:["revert",e]});return n.status=Nu,this.saveVersions(),a}calculateChanges(e,t){const n=[];if(e===t)return n;const r=e.split(/\s+/),a=t.split(/\s+/);let s=0;const o=Math.max(r.length,a.length);for(let i=0;i<o;i++){const e=r[i]||"",t=a[i]||"";e!==t&&(e&&!t?n.push({type:"deletion",content:e,position:s,length:e.length}):!e&&t?n.push({type:"addition",content:t,position:s,length:t.length}):n.push({type:"modification",oldContent:e,newContent:t,position:s,length:Math.max(e.length,t.length)})),s+=Math.max(e.length,t.length)+1}return n}calculateStats(e,t){const n=t.filter(e=>"addition"===e.type),r=t.filter(e=>"deletion"===e.type);return{additions:n.length,deletions:r.length,totalChanges:t.length,wordsAdded:n.reduce((e,t)=>e+this.countWords(t.content),0),wordsRemoved:r.reduce((e,t)=>e+this.countWords(t.content),0),charactersAdded:n.reduce((e,t)=>e+t.length,0),charactersRemoved:r.reduce((e,t)=>e+t.length,0)}}countWords(e){return e.split(/\s+/).filter(e=>e.length>0).length}shouldCreateAutoVersion(){if(!this.autoVersionEnabled)return!1;if(!this.lastAutoVersion)return!0;return Date.now()-this.lastAutoVersion>=yu}getCurrentVersion(){return this.currentVersion?this.versions.get(this.currentVersion):null}generateVersionId(){return"v_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}saveVersions(){try{const e=Object.fromEntries(this.versions);localStorage.setItem("versions_".concat(this.projectId),JSON.stringify(e))}catch(e){console.error("Erro ao salvar vers\xf5es:",e)}}loadVersions(){try{const e=localStorage.getItem("versions_".concat(this.projectId));if(e){const t=JSON.parse(e);this.versions=new Map(Object.entries(t))}}catch(e){console.error("Erro ao carregar vers\xf5es:",e)}}saveBranches(){try{const e=Object.fromEntries(this.branches);localStorage.setItem("branches_".concat(this.projectId),JSON.stringify(e))}catch(e){console.error("Erro ao salvar branches:",e)}}loadBranches(){try{const e=localStorage.getItem("branches_".concat(this.projectId));if(e){const t=JSON.parse(e);this.branches=new Map(Object.entries(t))}}catch(e){console.error("Erro ao carregar branches:",e)}}},ju=Bu,Cu=(e,t)=>Bu.createVersion(e,t),ku=e=>{const{currentProject:n}=(0,mn.A)(),r=(0,t.useRef)(""),a=(0,t.useRef)(null),s=(0,t.useRef)(!1),o={enabled:!0,interval:3e5,minChanges:50,maxVersions:20},i=(0,t.useCallback)((e,t)=>{if(!e||!t)return!1;const n=e.split(/\s+/).filter(e=>e.length>0),r=t.split(/\s+/).filter(e=>e.length>0),a=Math.abs(r.length-n.length);return Math.abs(t.length-e.length)>=o.minChanges||a>=10},[]),l=(0,t.useCallback)(async e=>{if(n&&o.enabled)try{const t=e.split(/\s+/).filter(e=>e.length>0).length,n=e.length,r="Auto-save: ".concat(t," palavras, ").concat(n," caracteres"),a="Vers\xe3o autom\xe1tica criada durante a escrita. Progresso: ".concat(t," palavras.");await Cu(e,{type:bu.AUTO,message:r,description:a,author:"Sistema",isAuto:!0}),console.log("Vers\xe3o autom\xe1tica criada:",r)}catch(t){console.error("Erro ao criar vers\xe3o autom\xe1tica:",t)}},[n]),c=(0,t.useCallback)(e=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{l(e)},o.interval)},[l]);(0,t.useEffect)(()=>{if(n&&!s.current)return s.current=!0,r.current=e,e&&e.trim().length>0&&Cu(e,{type:bu.MANUAL,message:"Vers\xe3o inicial",description:"Primeira vers\xe3o do projeto",author:"Sistema"}),()=>{a.current&&clearTimeout(a.current)}},[n,e]),(0,t.useEffect)(()=>{if(!n||!s.current)return;i(r.current,e)&&(r.current=e,c(e))},[e,n,i,c]),(0,t.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[]);return{createManualVersion:(0,t.useCallback)(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n||!e)return null;try{return await Cu(e,{type:bu.MANUAL,message:t||"Vers\xe3o manual",description:r,author:"Usu\xe1rio"})}catch(a){return console.error("Erro ao criar vers\xe3o manual:",a),null}},[n,e]),getVersionStats:(0,t.useCallback)(()=>{if(!n)return null;return{wordCount:e.split(/\s+/).filter(e=>e.length>0).length,charCount:e.length,lineCount:e.split("\n").length,lastModified:(new Date).toISOString(),autoVersionEnabled:o.enabled,autoVersionInterval:o.interval}},[e,n]),autoVersionConfig:o}};const Eu=new class{constructor(){this.events=[],this.performance={},this.writingStats={totalWords:0,totalTime:0,sessions:[],goals:{}},this.isEnabled="false"!==localStorage.getItem("analytics_enabled")}track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isEnabled)return;const n={event:e,data:t,timestamp:(new Date).toISOString(),sessionId:this.getSessionId()};this.events.push(n),this.saveEvents()}trackPerformance(e,t){this.isEnabled&&(this.performance[e]={value:t,timestamp:(new Date).toISOString()},this.savePerformance())}trackWritingSession(e){if(!this.isEnabled)return;const t=(0,_e.A)((0,_e.A)({},e),{},{timestamp:(new Date).toISOString(),sessionId:this.getSessionId()});this.writingStats.sessions.push(t),this.saveWritingStats()}updateWritingStats(e){this.writingStats=(0,_e.A)((0,_e.A)((0,_e.A)({},this.writingStats),e),{},{lastUpdated:(new Date).toISOString()}),this.saveWritingStats()}setWritingGoal(e,t){this.writingStats.goals[e]={target:t,createdAt:(new Date).toISOString()},this.saveWritingStats()}getWritingProgress(e){const t=this.writingStats.goals[e];if(!t)return null;const n=(new Date).toDateString(),r=this.writingStats.sessions.filter(e=>new Date(e.timestamp).toDateString()===n).reduce((e,t)=>e+(t.wordsAdded||0),0);return{target:t.target,current:r,progress:Math.min(r/t.target*100,100),remaining:Math.max(t.target-r,0)}}getSessionId(){let e=localStorage.getItem("analytics_session_id");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("analytics_session_id",e)),e}saveEvents(){try{const e=this.events.slice(-100);localStorage.setItem("analytics_events",JSON.stringify(e))}catch(e){console.error("Error saving analytics events:",e)}}savePerformance(){try{localStorage.setItem("analytics_performance",JSON.stringify(this.performance))}catch(e){console.error("Error saving performance data:",e)}}saveWritingStats(){try{localStorage.setItem("analytics_writing_stats",JSON.stringify(this.writingStats))}catch(e){console.error("Error saving writing stats:",e)}}loadData(){try{const e=localStorage.getItem("analytics_events");e&&(this.events=JSON.parse(e));const t=localStorage.getItem("analytics_performance");t&&(this.performance=JSON.parse(t));const n=localStorage.getItem("analytics_writing_stats");n&&(this.writingStats=JSON.parse(n))}catch(e){console.error("Error loading analytics data:",e)}}exportData(){return{events:this.events,performance:this.performance,writingStats:this.writingStats,exportDate:(new Date).toISOString()}}clearData(){this.events=[],this.performance={},this.writingStats={totalWords:0,totalTime:0,sessions:[],goals:{}},localStorage.removeItem("analytics_events"),localStorage.removeItem("analytics_performance"),localStorage.removeItem("analytics_writing_stats"),localStorage.removeItem("analytics_session_id")}setEnabled(e){this.isEnabled=e,localStorage.setItem("analytics_enabled",e.toString())}getSummary(){const e=this.writingStats.sessions.length,t=this.writingStats.sessions.reduce((e,t)=>e+(t.wordsAdded||0),0),n=this.writingStats.sessions.reduce((e,t)=>e+(t.duration||0),0),r=e>0?t/e:0,a=e>0?n/e:0;return{totalSessions:e,totalWords:t,totalTime:n,averageWordsPerSession:Math.round(r),averageTimePerSession:Math.round(a),goals:this.writingStats.goals,lastSession:this.writingStats.sessions[this.writingStats.sessions.length-1]}}};Eu.loadData(),"undefined"!==typeof window&&window.addEventListener("load",()=>{Eu.track("page_view",{path:window.location.pathname,title:document.title})});const Su=(e,t)=>Eu.track(e,t),_u=e=>Eu.getWritingProgress(e),Fu=Jt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Uu=e=>{var n;let{onClose:r,onGenerate:a,isGenerating:s,worldData:o,characters:i,selectedText:l}=e;const[c,A]=(0,t.useState)(""),[u,d]=(0,t.useState)("continue"),[h,f]=(0,t.useState)({useCharacters:!0,useLocations:!0,useSelectedText:!0}),p=[{value:"continue",label:"Continuar Hist\xf3ria",icon:Yt,desc:"Continue escrevendo de onde parou"},{value:"character",label:"Foco em Personagem",icon:en,desc:"Desenvolva um personagem espec\xedfico"},{value:"scene",label:"Nova Cena",icon:Un,desc:"Crie uma nova cena ou cen\xe1rio"},{value:"dialogue",label:"Di\xe1logo",icon:Fu,desc:"Gere conversas naturais"},{value:"action",label:"Cena de A\xe7\xe3o",icon:Qn,desc:"Escreva sequ\xeancias din\xe2micas"},{value:"custom",label:"Personalizado",icon:Fu,desc:"Prompt totalmente customizado"}];return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Assistente de Escrita IA"]}),(0,Sn.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]})}),(0,Sn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Assist\xeancia"}),(0,Sn.jsx)("div",{className:"grid grid-cols-2 gap-3",children:p.map(e=>(0,Sn.jsxs)("button",{onClick:()=>d(e.value),className:"p-3 text-left border rounded-lg transition-colors ".concat(u===e.value?"border-purple-500 bg-purple-50 text-purple-900":"border-gray-200 hover:border-gray-300"),children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Sn.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),(0,Sn.jsx)("span",{className:"font-medium text-sm",children:e.label})]}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]},e.value))})]}),l&&(0,Sn.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Sn.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Texto Selecionado:"}),(0,Sn.jsxs)("p",{className:"text-sm text-blue-700 italic",children:['"',l.substring(0,200),l.length>200?"...":"",'"']})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"custom"===u?"Prompt Personalizado":"Instru\xe7\xf5es Adicionais (Opcional)"}),(0,Sn.jsx)("textarea",{value:c,onChange:e=>A(e.target.value),placeholder:"custom"===u?"Descreva exatamente o que voc\xea quer que a IA escreva...":'Ex: "Inclua mais tens\xe3o emocional", "Foque no desenvolvimento do protagonista"...',className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:4})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Contexto a Incluir"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[l&&(0,Sn.jsxs)("label",{className:"flex items-center",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:h.useSelectedText,onChange:e=>f(t=>(0,_e.A)((0,_e.A)({},t),{},{useSelectedText:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,Sn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Usar texto selecionado"})]}),i.length>0&&(0,Sn.jsxs)("label",{className:"flex items-center",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:h.useCharacters,onChange:e=>f(t=>(0,_e.A)((0,_e.A)({},t),{},{useCharacters:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,Sn.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["Incluir informa\xe7\xf5es dos personagens (",i.length,")"]})]}),(null===o||void 0===o||null===(n=o.locations)||void 0===n?void 0:n.length)>0&&(0,Sn.jsxs)("label",{className:"flex items-center",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:h.useLocations,onChange:e=>f(t=>(0,_e.A)((0,_e.A)({},t),{},{useLocations:e.target.checked})),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,Sn.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["Incluir informa\xe7\xf5es dos locais (",o.locations.length,")"]})]})]})]})]}),(0,Sn.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Sn.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:()=>{const e={type:u,prompt:c,options:h,selectedText:h.useSelectedText?l:null};a(e)},disabled:s||"custom"===u&&!c.trim(),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:s?(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar Texto"]})})]})]})})},Iu=Jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Lu=e=>{let{onChapterSelect:n,currentChapter:r,currentVolume:a}=e;const{projectStructure:s,addVolume:o,addChapter:i,updateVolume:l,updateChapter:c,deleteVolume:A,deleteChapter:u}=(0,mn.A)(),[d,h]=(0,t.useState)(new Set),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,x]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[w,N]=(0,t.useState)(null),[B,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)("volume"),[E,S]=(0,t.useState)(null),[_,F]=(0,t.useState)(null),U=(0,t.useCallback)(e=>{h(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),I=(0,t.useCallback)(()=>{const e=prompt("T\xedtulo do novo volume:");e&&e.trim()&&(o({title:e.trim(),description:""}),zt.success("Volume criado!"))},[o]),L=(0,t.useCallback)(e=>{const t=prompt("T\xedtulo do novo cap\xedtulo:");t&&t.trim()&&(i(e,{title:t.trim(),description:""}),zt.success("Cap\xedtulo criado!"),h(t=>new Set([...t,e])))},[i]),Q=(0,t.useCallback)(e=>{p(e.id),x(e.title)},[]),O=(0,t.useCallback)(e=>{v.trim()&&(l(e,{title:v.trim()}),p(null),x(""),zt.success("Volume atualizado!"))},[v,l]),P=(0,t.useCallback)(e=>{g(e.id),b(e.title)},[]),T=(0,t.useCallback)((e,t)=>{y.trim()&&(c(e,t,{title:y.trim()}),g(null),b(""),zt.success("Cap\xedtulo atualizado!"))},[y,c]),D=(0,t.useCallback)(e=>{window.confirm("Tem certeza que deseja excluir este volume e todos os seus cap\xedtulos?")&&(A(e),zt.success("Volume exclu\xeddo!"))},[A]),M=(0,t.useCallback)((e,t)=>{window.confirm("Tem certeza que deseja excluir este cap\xedtulo?")&&(u(e,t),zt.success("Cap\xedtulo exclu\xeddo!"))},[u]),H=(0,t.useCallback)((e,t)=>{k(e),S(t),j(!0)},[]),R=(0,t.useCallback)(e=>{F(_===e?null:e)},[_]);(0,t.useCallback)(()=>{F(null)},[]);(0,t.useEffect)(()=>{const e=e=>{_&&!e.target.closest(".dropdown-container")&&F(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[_]);const q=(0,t.useCallback)((e,t)=>{const n="".concat(t.title," (C\xf3pia)");i(e,{title:n,description:t.description||"",content:t.content||""}),zt.success("Cap\xedtulo duplicado!")},[i]),K=(0,t.useCallback)(e=>e.chapters.reduce((e,t)=>e+(t.wordCount||0),0),[]),z=(0,t.useCallback)(e=>e.content&&""!==e.content.trim()?e.wordCount<500?{status:"draft",label:"Rascunho",color:"text-yellow-600"}:e.wordCount<2e3?{status:"progress",label:"Em progresso",color:"text-blue-600"}:{status:"complete",label:"Completo",color:"text-green-600"}:{status:"empty",label:"Vazio",color:"text-gray-400"},[]);return(0,Sn.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Sn.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(ln,{className:"h-5 w-5 mr-2 text-blue-600"}),"Estrutura"]}),(0,Sn.jsx)("button",{onClick:I,className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Adicionar Volume",children:(0,Sn.jsx)(An,{className:"h-4 w-4"})})]})}),(0,Sn.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===s.volumes.length?(0,Sn.jsxs)("div",{className:"p-4 text-center",children:[(0,Sn.jsx)(Yt,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),(0,Sn.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:"Nenhum volume criado"}),(0,Sn.jsxs)("button",{onClick:I,className:"btn-primary text-sm",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-1"}),"Criar Primeiro Volume"]})]}):(0,Sn.jsx)("div",{className:"p-2",children:s.volumes.map(e=>(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsxs)("div",{className:"flex items-center p-2 rounded-lg hover:bg-gray-50 transition-colors ".concat((null===a||void 0===a?void 0:a.id)===e.id?"bg-blue-50 border border-blue-200":""),children:[(0,Sn.jsx)("button",{onClick:()=>U(e.id),className:"p-1 hover:bg-gray-200 rounded mr-1 transition-colors",children:d.has(e.id)?(0,Sn.jsx)(cn,{className:"h-4 w-4"}):(0,Sn.jsx)(vr,{className:"h-4 w-4"})}),(0,Sn.jsx)(ln,{className:"h-4 w-4 mr-2 text-blue-600"}),f===e.id?(0,Sn.jsx)("input",{value:v,onChange:e=>x(e.target.value),onBlur:()=>O(e.id),onKeyDown:t=>{"Enter"===t.key&&O(e.id),"Escape"===t.key&&(p(null),x(""))},className:"flex-1 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):(0,Sn.jsx)("span",{className:"flex-1 text-sm font-medium text-gray-900 truncate",children:e.title}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[(0,Sn.jsx)("span",{className:"text-xs text-gray-500",children:K(e).toLocaleString()}),(0,Sn.jsxs)("div",{className:"relative dropdown-container",children:[(0,Sn.jsx)("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",onClick:()=>R("volume-".concat(e.id)),children:(0,Sn.jsx)(vu,{className:"h-3 w-3"})}),_==="volume-".concat(e.id)&&(0,Sn.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[140px]",children:[(0,Sn.jsxs)("button",{onClick:()=>Q(e),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(Zt,{className:"h-3 w-3 mr-2"}),"Renomear"]}),(0,Sn.jsxs)("button",{onClick:()=>L(e.id),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(An,{className:"h-3 w-3 mr-2"}),"Novo Cap\xedtulo"]}),(0,Sn.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Sn.jsxs)("button",{onClick:()=>H("volume",e.id),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(cr,{className:"h-3 w-3 mr-2"}),"Gerenciar Capa"]}),(0,Sn.jsxs)("button",{onClick:()=>D(e.id),className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 text-red-600 flex items-center transition-colors",children:[(0,Sn.jsx)(Nn,{className:"h-3 w-3 mr-2"}),"Excluir"]})]})]})]})]}),d.has(e.id)&&(0,Sn.jsxs)("div",{className:"ml-6 mt-1 space-y-1",children:[e.chapters.map(t=>{const a=z(t);return(0,Sn.jsxs)("div",{className:"flex items-center p-2 rounded cursor-pointer hover:bg-gray-50 transition-colors group ".concat((null===r||void 0===r?void 0:r.id)===t.id?"bg-blue-50 border border-blue-200":""),onClick:()=>n(e,t),children:[(0,Sn.jsx)(nn,{className:"h-4 w-4 mr-2 text-gray-500"}),m===t.id?(0,Sn.jsx)("input",{value:y,onChange:e=>b(e.target.value),onBlur:()=>T(e.id,t.id),onKeyDown:n=>{"Enter"===n.key&&T(e.id,t.id),"Escape"===n.key&&(g(null),b(""))},className:"flex-1 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,onClick:e=>e.stopPropagation()}):(0,Sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-700 truncate block",children:t.title}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Sn.jsx)("span",{className:"text-xs ".concat(a.color," font-medium"),children:a.label}),(0,Sn.jsxs)("span",{className:"text-xs text-gray-400",children:[(t.wordCount||0).toLocaleString()," palavras"]})]})]}),(0,Sn.jsx)("div",{className:"flex items-center space-x-1 ml-2",children:(0,Sn.jsxs)("div",{className:"relative dropdown-container",children:[(0,Sn.jsx)("button",{className:"p-1 hover:bg-gray-200 rounded opacity-0 group-hover:opacity-100 transition-all",onClick:e=>{e.stopPropagation(),R("chapter-".concat(t.id))},onMouseEnter:e=>{e.stopPropagation()},children:(0,Sn.jsx)(vu,{className:"h-3 w-3"})}),_==="chapter-".concat(t.id)&&(0,Sn.jsxs)("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 min-w-[140px]",children:[(0,Sn.jsxs)("button",{onClick:e=>{e.stopPropagation(),P(t)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(Zt,{className:"h-3 w-3 mr-2"}),"Renomear"]}),(0,Sn.jsxs)("button",{onClick:n=>{n.stopPropagation(),q(e.id,t)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(Iu,{className:"h-3 w-3 mr-2"}),"Duplicar"]}),(0,Sn.jsxs)("button",{onClick:e=>{e.stopPropagation(),H("chapter",t.id)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 flex items-center transition-colors",children:[(0,Sn.jsx)(cr,{className:"h-3 w-3 mr-2"}),"Gerenciar Capa"]}),(0,Sn.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,Sn.jsxs)("button",{onClick:n=>{n.stopPropagation(),M(e.id,t.id)},className:"w-full px-3 py-1 text-left text-xs hover:bg-gray-50 text-red-600 flex items-center transition-colors",children:[(0,Sn.jsx)(Nn,{className:"h-3 w-3 mr-2"}),"Excluir"]})]})]})})]},t.id)}),(0,Sn.jsxs)("button",{onClick:()=>L(e.id),className:"flex items-center p-2 w-full text-left text-sm text-gray-500 hover:bg-gray-50 rounded transition-colors",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Cap\xedtulo"]})]})]},e.id))})}),B&&(0,Sn.jsx)(br,{onClose:()=>j(!1),type:C,itemId:E})]})},Qu=Jt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Ou=()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)("daily"),[i,l]=(0,t.useState)("");(0,t.useEffect)(()=>{c();const e=setInterval(c,3e4);return()=>clearInterval(e)},[]);const c=()=>{const e=Eu.getSummary();n(e)},A=e=>e>=100?"text-green-600":e>=75?"text-blue-600":e>=50?"text-yellow-600":"text-red-600";if(!e)return(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"animate-pulse",children:[(0,Sn.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,Sn.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,Sn.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})});const u=_u("daily"),d=_u("weekly");return(0,Sn.jsxs)("div",{className:"space-y-4",children:[u&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(Dn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Meta Di\xe1ria"]}),(0,Sn.jsx)("button",{onClick:()=>a(!0),className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:(0,Sn.jsx)(sn,{className:"h-4 w-4"})})]}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium ".concat(A(u.progress)),children:[u.current," / ",u.target]})]}),(0,Sn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(u.progress>=100?"bg-green-500":u.progress>=75?"bg-blue-500":u.progress>=50?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(u.progress,100),"%")}})}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Sn.jsxs)("span",{children:[Math.round(u.progress),"% completo"]}),(0,Sn.jsxs)("span",{children:[u.remaining," palavras restantes"]})]})]})]}),d&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Sn.jsx)(Yn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Meta Semanal"]}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium ".concat(A(d.progress)),children:[d.current," / ",d.target]})]}),(0,Sn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(d.progress>=100?"bg-green-500":d.progress>=75?"bg-blue-500":d.progress>=50?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(d.progress,100),"%")}})}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Sn.jsxs)("span",{children:[Math.round(d.progress),"% completo"]}),(0,Sn.jsxs)("span",{children:[d.remaining," palavras restantes"]})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Sn.jsx)(xu,{className:"h-5 w-5 mr-2 text-green-600"}),"Estat\xedsticas"]}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Sn.jsx)(Hn,{className:"h-4 w-4 mr-1"}),"Total de palavras"]}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:e.totalWords.toLocaleString()})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Sn.jsx)(xn,{className:"h-4 w-4 mr-1"}),"Tempo total"]}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:(e=>{if(e<60)return"".concat(e,"min");const t=Math.floor(e/60),n=e%60;return"".concat(t,"h ").concat(n,"min")})(e.totalTime)})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Sn.jsx)(Yn,{className:"h-4 w-4 mr-1"}),"Sess\xf5es"]}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:e.totalSessions})]}),e.averageWordsPerSession>0&&(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"M\xe9dia por sess\xe3o"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium",children:[e.averageWordsPerSession," palavras"]})]})]})]}),e.totalWords>0&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Sn.jsx)(Qu,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Conquistas"]}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[e.totalWords>=1e3&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,Sn.jsx)(Qu,{className:"h-4 w-4 mr-2"}),"Primeiro Milhar - 1.000 palavras"]}),e.totalWords>=5e3&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Sn.jsx)(Qu,{className:"h-4 w-4 mr-2"}),"Escritor Dedicado - 5.000 palavras"]}),e.totalWords>=1e4&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,Sn.jsx)(Qu,{className:"h-4 w-4 mr-2"}),"Autor Profissional - 10.000 palavras"]}),e.totalSessions>=10&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[(0,Sn.jsx)(Qu,{className:"h-4 w-4 mr-2"}),"Consist\xeancia - 10 sess\xf5es"]}),u&&u.progress>=100&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,Sn.jsx)(Qu,{className:"h-4 w-4 mr-2"}),"Meta Di\xe1ria Atingida!"]})]})]}),r&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Definir Meta de Escrita"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Meta"}),(0,Sn.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Sn.jsx)("option",{value:"daily",children:"Di\xe1ria"}),(0,Sn.jsx)("option",{value:"weekly",children:"Semanal"}),(0,Sn.jsx)("option",{value:"monthly",children:"Mensal"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta (palavras)"}),(0,Sn.jsx)("input",{type:"number",value:i,onChange:e=>l(e.target.value),placeholder:"Ex: 1000",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Sn.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:()=>{const e=parseInt(i);isNaN(e)||e<=0?zt.error("Por favor, insira um valor v\xe1lido"):(((e,t)=>{Eu.setWritingGoal(e,t)})(s,e),a(!1),l(""),c(),zt.success("Meta ".concat(s," definida: ").concat(e," palavras")))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Definir Meta"})]})]})})]})},Pu=Jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Tu=Jt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Du=e=>{var n,r;let{content:a,projectData:s}=e;const[o,i]=(0,t.useState)({}),[l,c]=(0,t.useState)("week"),[A,u]=(0,t.useState)("writing");(0,t.useEffect)(()=>{if(!a)return;const e=a,t=e.split(/\s+/).filter(e=>e.length>0),n=e.split(/[.!?]+/).filter(e=>e.trim().length>0),r=e.split(/\n\s*\n/).filter(e=>e.trim().length>0),s=e.match(/"[^"]*"/g)||[],o=s.join(" ").split(/\s+/).filter(e=>e.length>0),l=n.filter(e=>e.split(/\s+/).length<=10),c=n.filter(e=>{const t=e.split(/\s+/).length;return t>10&&t<=20}),A=n.filter(e=>e.split(/\s+/).length>20),u=new Set(t.map(e=>e.toLowerCase().replace(/[^\w]/g,""))),d=u.size/t.length*100,h=o.length/t.length*100,f=100-h,p={basic:{wordCount:t.length,sentenceCount:n.length,paragraphCount:r.length,characterCount:e.length,averageWordsPerSentence:t.length/n.length,averageWordsPerParagraph:t.length/r.length},dialogue:{dialogueCount:s.length,dialogueWords:o.length,dialogueDensity:h,averageDialogueLength:o.length/s.length,descriptionDensity:f},rhythm:{shortSentences:l.length,mediumSentences:c.length,longSentences:A.length,shortSentencePercentage:l.length/n.length*100,mediumSentencePercentage:c.length/n.length*100,longSentencePercentage:A.length/n.length*100},vocabulary:{uniqueWords:u.size,vocabularyDiversity:d,averageWordLength:t.reduce((e,t)=>e+t.length,0)/t.length}};i(p)},[a]);const d=()=>{if(!o.basic)return"M\xe9dio";const e=o.basic.averageWordsPerSentence;return e<10?"R\xe1pido":e>20?"Lento":"M\xe9dio"},h=()=>{if(!o.rhythm)return"Variado";const e=o.rhythm.shortSentencePercentage,t=o.rhythm.longSentencePercentage;return e>50?"Din\xe2mico":t>30?"Contemplativo":"Variado"},f=[{id:"writing",name:"Escrita",icon:Yt,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{id:"dialogue",name:"Di\xe1logos",icon:In,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{id:"rhythm",name:"Ritmo",icon:Pu,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{id:"vocabulary",name:"Vocabul\xe1rio",icon:Dn,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsx)("div",{className:"flex items-center justify-between",children:(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Analytics Avan\xe7ados"}),(0,Sn.jsx)("p",{className:"text-muted-foreground",children:"An\xe1lise detalhada do seu texto e m\xe9tricas de escrita"})]})}),(0,Sn.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:f.map(e=>{const t=e.icon;return(0,Sn.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ".concat(A===e.id?"".concat(e.bgColor," ").concat(e.color):"bg-muted text-muted-foreground hover:text-foreground"),children:[(0,Sn.jsx)(t,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{children:e.name})]},e.id)})}),(0,Sn.jsxs)("div",{className:"space-y-6",children:["writing"===A&&(()=>{var e,t,n,r,a,s;return(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=o.basic)||void 0===e||null===(t=e.wordCount)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,Sn.jsx)(Yt,{className:"h-8 w-8 text-blue-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(n=o.basic)||void 0===n?void 0:n.sentenceCount)||0})]}),(0,Sn.jsx)(In,{className:"h-8 w-8 text-green-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Par\xe1grafos"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=o.basic)||void 0===r?void 0:r.paragraphCount)||0})]}),(0,Sn.jsx)(xu,{className:"h-8 w-8 text-purple-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras/Frase"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(a=o.basic)||void 0===a||null===(s=a.averageWordsPerSentence)||void 0===s?void 0:s.toFixed(1))||0})]}),(0,Sn.jsx)(Dn,{className:"h-8 w-8 text-orange-500"})]})})]})})(),"dialogue"===A&&(()=>{var e,t,n,r,a,s,i,l,c,A,u;return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Di\xe1logos"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=o.dialogue)||void 0===e?void 0:e.dialogueCount)||0})]}),(0,Sn.jsx)(In,{className:"h-8 w-8 text-green-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Densidade"}),(0,Sn.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[(null===(t=o.dialogue)||void 0===t||null===(n=t.dialogueDensity)||void 0===n?void 0:n.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)(Tu,{className:"h-8 w-8 text-blue-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras/Dial."}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=o.dialogue)||void 0===r||null===(a=r.averageDialogueLength)||void 0===a?void 0:a.toFixed(1))||0})]}),(0,Sn.jsx)(Dn,{className:"h-8 w-8 text-purple-500"})]})})]}),(0,Sn.jsxs)("div",{className:"card p-6",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Distribui\xe7\xe3o de Conte\xfado"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Sn.jsx)("span",{children:"Di\xe1logos"}),(0,Sn.jsxs)("span",{children:[(null===(s=o.dialogue)||void 0===s||null===(i=s.dialogueDensity)||void 0===i?void 0:i.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(l=o.dialogue)||void 0===l?void 0:l.dialogueDensity)||0,"%")}})})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Sn.jsx)("span",{children:"Narrativa"}),(0,Sn.jsxs)("span",{children:[(null===(c=o.dialogue)||void 0===c||null===(A=c.descriptionDensity)||void 0===A?void 0:A.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(u=o.dialogue)||void 0===u?void 0:u.descriptionDensity)||0,"%")}})})]})]})]})]})})(),"rhythm"===A&&(()=>{var e,t,n,r,a,s,i,l,c;return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases Curtas"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=o.rhythm)||void 0===e?void 0:e.shortSentences)||0}),(0,Sn.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(t=o.rhythm)||void 0===t||null===(n=t.shortSentencePercentage)||void 0===n?void 0:n.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)(Pu,{className:"h-8 w-8 text-green-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases M\xe9dias"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(r=o.rhythm)||void 0===r?void 0:r.mediumSentences)||0}),(0,Sn.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(a=o.rhythm)||void 0===a||null===(s=a.mediumSentencePercentage)||void 0===s?void 0:s.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)(xu,{className:"h-8 w-8 text-blue-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Frases Longas"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(i=o.rhythm)||void 0===i?void 0:i.longSentences)||0}),(0,Sn.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null===(l=o.rhythm)||void 0===l||null===(c=l.longSentencePercentage)||void 0===c?void 0:c.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)(Hn,{className:"h-8 w-8 text-purple-500"})]})})]}),(0,Sn.jsxs)("div",{className:"card p-6",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"An\xe1lise de Ritmo"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,Sn.jsx)("span",{className:"font-medium",children:"Pace de Escrita:"}),(0,Sn.jsx)("span",{className:"text-blue-600 font-semibold",children:d()})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[(0,Sn.jsx)("span",{className:"font-medium",children:"Ritmo Geral:"}),(0,Sn.jsx)("span",{className:"text-purple-600 font-semibold",children:h()})]})]})]})]})})(),"vocabulary"===A&&(()=>{var e,t,n,r,a,s,i,l,c;return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Palavras \xdanicas"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(e=o.vocabulary)||void 0===e||null===(t=e.uniqueWords)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,Sn.jsx)(Dn,{className:"h-8 w-8 text-orange-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diversidade"}),(0,Sn.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[(null===(n=o.vocabulary)||void 0===n||null===(r=n.vocabularyDiversity)||void 0===r?void 0:r.toFixed(1))||0,"%"]})]}),(0,Sn.jsx)(Tu,{className:"h-8 w-8 text-green-500"})]})}),(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tamanho M\xe9dio"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:(null===(a=o.vocabulary)||void 0===a||null===(s=a.averageWordLength)||void 0===s?void 0:s.toFixed(1))||0})]}),(0,Sn.jsx)(xu,{className:"h-8 w-8 text-blue-500"})]})})]}),(0,Sn.jsxs)("div",{className:"card p-6",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Recomenda\xe7\xf5es"}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(null===(i=o.vocabulary)||void 0===i?void 0:i.vocabularyDiversity)<50&&(0,Sn.jsx)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,Sn.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,Sn.jsx)("strong",{children:"Vocabul\xe1rio:"})," Considere usar mais variedade de palavras para enriquecer o texto."]})}),(null===(l=o.dialogue)||void 0===l?void 0:l.dialogueDensity)>70&&(0,Sn.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,Sn.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,Sn.jsx)("strong",{children:"Di\xe1logos:"})," O texto tem muitos di\xe1logos. Considere adicionar mais descri\xe7\xf5es."]})}),(null===(c=o.rhythm)||void 0===c?void 0:c.longSentencePercentage)>40&&(0,Sn.jsx)("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:(0,Sn.jsxs)("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:[(0,Sn.jsx)("strong",{children:"Ritmo:"})," Muitas frases longas podem tornar a leitura cansativa. Considere quebrar algumas frases."]})})]})]})]})})()]}),(0,Sn.jsxs)("div",{className:"card p-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Resumo Geral"}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pace de Escrita"}),(0,Sn.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:d()})]}),(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Balance de Di\xe1logos"}),(0,Sn.jsx)("p",{className:"text-lg font-semibold text-green-600",children:(()=>{if(!o.dialogue)return"Equilibrado";const e=o.dialogue.dialogueDensity;return e<20?"Narrativo":e>60?"Dialogado":"Equilibrado"})()})]}),(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ritmo"}),(0,Sn.jsx)("p",{className:"text-lg font-semibold text-purple-600",children:h()})]}),(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diversidade"}),(0,Sn.jsxs)("p",{className:"text-lg font-semibold text-orange-600",children:[(null===(n=o.vocabulary)||void 0===n||null===(r=n.vocabularyDiversity)||void 0===r?void 0:r.toFixed(1))||0,"%"]})]})]})]})]})},Mu=Jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Hu=Jt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Ru=Jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),qu=3e5,Ku=10,zu=50,Gu=5,Vu=36e5,Wu=52428800;const Xu=new class{constructor(){this.autoBackupInterval=null,this.safetyBackupInterval=null,this.lastBackupTime=this.getLastBackupTime(),this.isBackupInProgress=!1}init(){this.startAutoBackup(),this.startSafetyBackup(),this.cleanupOldBackups()}destroy(){this.autoBackupInterval&&clearInterval(this.autoBackupInterval),this.safetyBackupInterval&&clearInterval(this.safetyBackupInterval)}startAutoBackup(){this.autoBackupInterval=setInterval(()=>{this.performAutoBackup()},qu)}startSafetyBackup(){this.safetyBackupInterval=setInterval(()=>{this.performSafetyBackup()},Vu)}async performAutoBackup(){if(!this.isBackupInProgress)try{this.isBackupInProgress=!0;const e=this.getCurrentProjectData();if(!e.project)return;const t=(0,_e.A)((0,_e.A)({},e),{},{timestamp:Date.now(),type:"auto",version:"1.0"}),n="backup_auto_".concat(Date.now()),r=JSON.stringify(t);if(r.length>Wu)return void console.warn("Backup muito grande, pulando...");localStorage.setItem(n,r),this.updateBackupMetadata(n,"auto"),this.cleanupOldBackups(),console.log("Backup autom\xe1tico realizado com sucesso")}catch(e){console.error("Erro no backup autom\xe1tico:",e)}finally{this.isBackupInProgress=!1}}async performSafetyBackup(){if(!this.isBackupInProgress)try{this.isBackupInProgress=!0;const e=this.getCurrentProjectData();if(!e.project)return;const t=(0,_e.A)((0,_e.A)({},e),{},{timestamp:Date.now(),type:"safety",version:"1.0"}),n="backup_safety_".concat(Date.now()),r=JSON.stringify(t);if(r.length>Wu)return void console.warn("Backup de seguran\xe7a muito grande, pulando...");localStorage.setItem(n,r),this.updateBackupMetadata(n,"safety"),this.cleanupOldBackups(),console.log("Backup de seguran\xe7a realizado com sucesso")}catch(e){console.error("Erro no backup de seguran\xe7a:",e)}finally{this.isBackupInProgress=!1}}async performManualBackup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isBackupInProgress)throw new Error("Backup j\xe1 est\xe1 em andamento");try{this.isBackupInProgress=!0;const t=this.getCurrentProjectData();if(!t.project)throw new Error("Nenhum projeto ativo para backup");const n=(0,_e.A)((0,_e.A)({},t),{},{timestamp:Date.now(),type:"manual",description:e,version:"1.0"}),r="backup_manual_".concat(Date.now()),a=JSON.stringify(n);if(a.length>Wu)throw new Error("Dados do projeto muito grandes para backup");return localStorage.setItem(r,a),this.updateBackupMetadata(r,"manual",e),this.cleanupOldBackups(),this.lastBackupTime=Date.now(),localStorage.setItem("lastBackupTime",this.lastBackupTime.toString()),console.log("Backup manual realizado com sucesso"),{success:!0,message:"Backup realizado com sucesso",backupKey:r,timestamp:Date.now()}}catch(t){throw console.error("Erro no backup manual:",t),t}finally{this.isBackupInProgress=!1}}async restoreBackup(e){try{const t=localStorage.getItem(e);if(!t)throw new Error("Backup n\xe3o encontrado");const n=JSON.parse(t);if(!n.project||!n.volumes)throw new Error("Dados do backup inv\xe1lidos");return this.restoreProjectData(n),console.log("Backup restaurado com sucesso"),{success:!0,message:"Backup restaurado com sucesso",backupData:n}}catch(t){throw console.error("Erro ao restaurar backup:",t),t}}getCurrentProjectData(){var e;const t=n(9088).A.getState();return{project:t.currentProject,volumes:(null===(e=t.projectStructure)||void 0===e?void 0:e.volumes)||[],worldData:t.worldData||{},characters:t.characters||[],loreData:t.loreData||{},narrativeData:t.narrativeData||{},settings:t.settings||{},goals:JSON.parse(localStorage.getItem("writing-goals")||"[]"),dailyStats:JSON.parse(localStorage.getItem("daily-writing-stats")||"{}"),quickNotes:JSON.parse(localStorage.getItem("quick-notes")||"[]")}}restoreProjectData(e){const t=n(9088).A;e.project&&t.getState().setCurrentProject(e.project),e.volumes&&t.setState(t=>({projectStructure:(0,_e.A)((0,_e.A)({},t.projectStructure),{},{volumes:e.volumes})})),e.worldData&&t.getState().updateWorldData(e.worldData),e.characters&&t.setState({characters:e.characters}),e.loreData&&t.setState({loreData:e.loreData}),e.narrativeData&&t.setState({narrativeData:e.narrativeData}),e.settings&&t.getState().updateSettings(e.settings),e.goals&&localStorage.setItem("writing-goals",JSON.stringify(e.goals)),e.dailyStats&&localStorage.setItem("daily-writing-stats",JSON.stringify(e.dailyStats)),e.quickNotes&&localStorage.setItem("quick-notes",JSON.stringify(e.quickNotes))}updateBackupMetadata(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=this.getBackupMetadata();a.backups.push({key:e,type:t,description:r,timestamp:Date.now(),size:(null===(n=localStorage.getItem(e))||void 0===n?void 0:n.length)||0}),localStorage.setItem("backupMetadata",JSON.stringify(a))}getBackupMetadata(){const e=localStorage.getItem("backupMetadata");return e?JSON.parse(e):{backups:[]}}cleanupOldBackups(){const e=this.getBackupMetadata(),{backups:t}=e,n=t.filter(e=>"auto"===e.type),r=t.filter(e=>"manual"===e.type),a=t.filter(e=>"safety"===e.type);if(n.length>Ku){const t=n.sort((e,t)=>e.timestamp-t.timestamp).slice(0,n.length-Ku);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}if(r.length>zu){const t=r.sort((e,t)=>e.timestamp-t.timestamp).slice(0,r.length-zu);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}if(a.length>Gu){const t=a.sort((e,t)=>e.timestamp-t.timestamp).slice(0,a.length-Gu);t.forEach(t=>{localStorage.removeItem(t.key),e.backups=e.backups.filter(e=>e.key!==t.key)})}localStorage.setItem("backupMetadata",JSON.stringify(e))}getBackupStats(){const e=this.getBackupMetadata(),{backups:t}=e,n=t.reduce((e,t)=>e+t.size,0),r=t.filter(e=>"auto"===e.type).length,a=t.filter(e=>"manual"===e.type).length,s=t.filter(e=>"safety"===e.type).length;return{totalBackups:t.length,totalSize:this.formatBytes(n),autoBackups:r,manualBackups:a,safetyBackups:s,lastBackup:this.lastBackupTime?new Date(this.lastBackupTime).toLocaleString():"Nunca",nextAutoBackup:this.getNextAutoBackupTime()}}getBackupList(){return this.getBackupMetadata().backups.sort((e,t)=>t.timestamp-e.timestamp).map(e=>(0,_e.A)((0,_e.A)({},e),{},{date:new Date(e.timestamp).toLocaleString(),size:this.formatBytes(e.size)}))}deleteBackup(e){try{localStorage.removeItem(e);const t=this.getBackupMetadata();return t.backups=t.backups.filter(t=>t.key!==e),localStorage.setItem("backupMetadata",JSON.stringify(t)),{success:!0,message:"Backup exclu\xeddo com sucesso"}}catch(t){throw console.error("Erro ao excluir backup:",t),t}}async exportBackupToFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);if(!n)throw new Error("Backup n\xe3o encontrado");JSON.parse(n);const r=this.getBackupMetadata().backups.find(t=>t.key===e);if(!t){const e=new Date(r.timestamp).toISOString().split("T")[0],n=new Date(r.timestamp).toTimeString().split(" ")[0].replace(/:/g,"-");t="backup_".concat(r.type,"_").concat(e,"_").concat(n,".json")}const a=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(a),o=document.createElement("a");return o.href=s,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),{success:!0,message:"Backup exportado com sucesso",filename:t}}catch(n){throw console.error("Erro ao exportar backup:",n),n}}async importBackupFromFile(e){try{const t=await e.text(),n=JSON.parse(t);if(!n.project||!n.volumes)throw new Error("Arquivo de backup inv\xe1lido");const r="backup_imported_".concat(Date.now());return localStorage.setItem(r,t),this.updateBackupMetadata(r,"imported","Importado de ".concat(e.name)),{success:!0,message:"Backup importado com sucesso",backupKey:r}}catch(t){throw console.error("Erro ao importar backup:",t),t}}getLastBackupTime(){const e=localStorage.getItem("lastBackupTime");return e?parseInt(e):null}getNextAutoBackupTime(){if(!this.lastBackupTime)return"Desconhecido";const e=this.lastBackupTime+qu;return new Date(e).toLocaleString()}formatBytes(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}checkBackupIntegrity(){const e=this.getBackupMetadata(),t=[];return e.backups.forEach(e=>{const n=localStorage.getItem(e.key);if(n)try{const r=JSON.parse(n);r.project&&r.volumes||t.push("Backup ".concat(e.key," tem dados inv\xe1lidos"))}catch(r){t.push("Backup ".concat(e.key," tem formato JSON inv\xe1lido"))}else t.push("Backup ".concat(e.key," n\xe3o encontrado no localStorage"))}),{isValid:0===t.length,issues:t}}},Ju=Xu,Yu=e=>{var n;let{onClose:r}=e;const[a,s]=(0,t.useState)([]),[o,i]=(0,t.useState)({}),[l,c]=(0,t.useState)(null),[A,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{y(),Ju.init()},[]);const y=()=>{s(Ju.getBackupList()),i(Ju.getBackupStats()),x(Ju.checkBackupIntegrity())},b=e=>{switch(e){case"auto":return(0,Sn.jsx)(xn,{className:"h-4 w-4 text-blue-500"});case"manual":return(0,Sn.jsx)(pn,{className:"h-4 w-4 text-green-500"});case"safety":return(0,Sn.jsx)(Mu,{className:"h-4 w-4 text-purple-500"});case"imported":return(0,Sn.jsx)(hn,{className:"h-4 w-4 text-orange-500"});default:return(0,Sn.jsx)(nn,{className:"h-4 w-4 text-gray-500"})}},w=e=>{switch(e){case"auto":return"Autom\xe1tico";case"manual":return"Manual";case"safety":return"Seguran\xe7a";case"imported":return"Importado";default:return e}},N=e=>{switch(e){case"auto":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"manual":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"safety":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"imported":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-6xl h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Gerenciador de Backups"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gerencie seus backups autom\xe1ticos e manuais"})]}),(0,Sn.jsx)("button",{onClick:r,className:"text-muted-foreground hover:text-foreground",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("div",{className:"flex h-full",children:[(0,Sn.jsx)("div",{className:"w-80 bg-muted border-r border-border p-6",children:(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Estat\xedsticas"}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total de Backups:"}),(0,Sn.jsx)("span",{className:"font-semibold text-foreground",children:o.totalBackups||0})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tamanho Total:"}),(0,Sn.jsx)("span",{className:"font-semibold text-foreground",children:o.totalSize||"0 Bytes"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Autom\xe1ticos:"}),(0,Sn.jsx)("span",{className:"font-semibold text-blue-600",children:o.autoBackups||0})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Manuais:"}),(0,Sn.jsx)("span",{className:"font-semibold text-green-600",children:o.manualBackups||0})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Seguran\xe7a:"}),(0,Sn.jsx)("span",{className:"font-semibold text-purple-600",children:o.safetyBackups||0})]})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status"}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"\xdaltimo Backup:"}),(0,Sn.jsx)("span",{className:"text-xs text-foreground",children:o.lastBackup||"Nunca"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:"Pr\xf3ximo Auto:"}),(0,Sn.jsx)("span",{className:"text-xs text-foreground",children:o.nextAutoBackup||"Desconhecido"})]}),(0,Sn.jsxs)("div",{className:"mt-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[null!==v&&void 0!==v&&v.isValid?(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}):(0,Sn.jsx)(vn,{className:"h-4 w-4 text-yellow-500"}),(0,Sn.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Integridade"})]}),(null===v||void 0===v||null===(n=v.issues)||void 0===n?void 0:n.length)>0&&(0,Sn.jsxs)("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[v.issues.length," problema(s) encontrado(s)"]})]})]})]}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsxs)("button",{onClick:()=>u(!0),className:"w-full btn-primary flex items-center justify-center",disabled:m,children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Criar Backup"]}),(0,Sn.jsxs)("label",{className:"w-full btn-outline flex items-center justify-center cursor-pointer",children:[(0,Sn.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Importar Backup",(0,Sn.jsx)("input",{type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await Ju.importBackupFromFile(t);zt.success(e.message),y()}catch(n){zt.error("Erro ao importar backup: ".concat(n.message))}},className:"hidden"})]}),(0,Sn.jsxs)("button",{onClick:y,className:"w-full btn-outline flex items-center justify-center",disabled:m,children:[(0,Sn.jsx)(er,{className:"mr-2 h-4 w-4"}),"Atualizar"]})]})]})}),(0,Sn.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(0,Sn.jsx)("div",{className:"space-y-4",children:0===a.length?(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(Hu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Nenhum backup encontrado"}),(0,Sn.jsx)("p",{className:"text-muted-foreground",children:"Crie seu primeiro backup para come\xe7ar"})]}):a.map(e=>(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[b(e.type),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("span",{className:"font-medium text-foreground",children:w(e.type)}),(0,Sn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(N(e.type)),children:e.type})]}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:e.date}),e.description&&(0,Sn.jsx)("p",{className:"text-sm text-foreground mt-1",children:e.description})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("span",{className:"text-sm text-muted-foreground",children:e.size}),(0,Sn.jsxs)("div",{className:"flex space-x-1",children:[(0,Sn.jsx)("button",{onClick:()=>(async e=>{try{const t=await Ju.exportBackupToFile(e);zt.success(t.message)}catch(t){zt.error("Erro ao exportar backup: ".concat(t.message))}})(e.key),className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded",title:"Exportar",children:(0,Sn.jsx)(dn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>{c(e),h(!0)},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-accent rounded",title:"Restaurar",children:(0,Sn.jsx)(Ru,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este backup?"))try{const t=Ju.deleteBackup(e);zt.success(t.message),y()}catch(t){zt.error("Erro ao excluir backup: ".concat(t.message))}})(e.key),className:"p-2 text-muted-foreground hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Excluir",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]})]})},e.key))})})]}),A&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Criar Backup Manual"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descri\xe7\xe3o (opcional)"}),(0,Sn.jsx)("textarea",{value:f,onChange:e=>p(e.target.value),placeholder:"Ex: Antes de grandes mudan\xe7as no cap\xedtulo 5",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground",rows:"3"})]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>u(!1),className:"flex-1 btn-outline",disabled:m,children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:async()=>{if(f.trim()){g(!0);try{const e=await Ju.performManualBackup(f);zt.success(e.message),p(""),u(!1),y()}catch(e){zt.error("Erro ao criar backup: ".concat(e.message))}finally{g(!1)}}else zt.error("Por favor, adicione uma descri\xe7\xe3o para o backup")},className:"flex-1 btn-primary",disabled:m,children:m?"Criando...":"Criar Backup"})]})]})]})}),d&&l&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Restaurar Backup"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,Sn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Sn.jsx)(vn,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 font-medium",children:"Aten\xe7\xe3o!"}),(0,Sn.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Esta a\xe7\xe3o substituir\xe1 todos os dados atuais. Esta opera\xe7\xe3o n\xe3o pode ser desfeita."})]})]})}),(0,Sn.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,Sn.jsxs)("p",{className:"text-sm text-foreground",children:[(0,Sn.jsx)("strong",{children:"Backup:"})," ",l.description||w(l.type)]}),(0,Sn.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,Sn.jsx)("strong",{children:"Data:"})," ",l.date]}),(0,Sn.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,Sn.jsx)("strong",{children:"Tamanho:"})," ",l.size]})]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>h(!1),className:"flex-1 btn-outline",disabled:m,children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja restaurar este backup? Isso substituir\xe1 todos os dados atuais.")){g(!0);try{const t=await Ju.restoreBackup(e);zt.success(t.message),h(!1),c(null),window.location.reload()}catch(t){zt.error("Erro ao restaurar backup: ".concat(t.message))}finally{g(!1)}}})(l.key),className:"flex-1 btn-primary bg-red-600 hover:bg-red-700",disabled:m,children:m?"Restaurando...":"Restaurar Backup"})]})]})]})})]})})},Zu=Jt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),$u=e=>{let{content:n,onContentUpdate:r}=e;const{currentProject:a}=(0,mn.A)(),[s,o]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[c,A]=(0,t.useState)("main"),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({message:"",description:"",type:bu.MANUAL});(0,t.useEffect)(()=>{a&&(ju.init(a.id),p())},[a]);const p=()=>{if(!a)return;const e=(t=c,n=50,Bu.getVersionHistory(t,n));var t,n;o(e);const r=Array.from(ju.branches.values());l(r),A(ju.currentBranch)};return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:"Controle de Vers\xf5es"}),(0,Sn.jsx)("p",{className:"text-muted-foreground",children:"Gerencie vers\xf5es e hist\xf3rico de mudan\xe7as"})]}),(0,Sn.jsxs)("button",{onClick:()=>d(!0),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Nova Vers\xe3o"]})]}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Hist\xf3rico de Vers\xf5es"}),(0,Sn.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===s.length?(0,Sn.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,Sn.jsx)(Zu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,Sn.jsx)("p",{children:"Nenhuma vers\xe3o encontrada"})]}):s.map(e=>{return(0,Sn.jsx)("div",{className:"card p-4",children:(0,Sn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Sn.jsx)(pn,{className:"h-4 w-4 text-blue-600"}),(0,Sn.jsx)("span",{className:"font-medium text-foreground",children:e.message})]}),e.description&&(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,Sn.jsxs)("span",{className:"flex items-center",children:[(0,Sn.jsx)(rr,{className:"mr-1 h-3 w-3"}),e.author]}),(0,Sn.jsxs)("span",{className:"flex items-center",children:[(0,Sn.jsx)(Yn,{className:"mr-1 h-3 w-3"}),(t=e.timestamp,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))]}),(0,Sn.jsxs)("span",{className:"flex items-center",children:[(0,Sn.jsx)(In,{className:"mr-1 h-3 w-3"}),e.stats.totalChanges," mudan\xe7as"]})]})]}),(0,Sn.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Tem certeza que deseja reverter para esta vers\xe3o?"))try{const t=t(e,{author:"Usu\xe1rio"});r&&r(t.content),zt.success("Vers\xe3o revertida com sucesso!"),p()}catch(t){zt.error("Erro ao reverter vers\xe3o: ".concat(t.message))}})(e.id),className:"p-1 text-muted-foreground hover:text-foreground",title:"Reverter para esta vers\xe3o",children:(0,Sn.jsx)(Ru,{className:"h-4 w-4"})})]})},e.id);var t})})]})}),u&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,Sn.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 w-full max-w-md",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Criar Nova Vers\xe3o"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Mensagem *"}),(0,Sn.jsx)("input",{type:"text",value:h.message,onChange:e=>f(t=>(0,_e.A)((0,_e.A)({},t),{},{message:e.target.value})),className:"input-field",placeholder:"Descreva as mudan\xe7as..."})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Descri\xe7\xe3o (opcional)"}),(0,Sn.jsx)("textarea",{value:h.description,onChange:e=>f(t=>(0,_e.A)((0,_e.A)({},t),{},{description:e.target.value})),className:"input-field",rows:"3",placeholder:"Descri\xe7\xe3o detalhada..."})]}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>{d(!1),f({message:"",description:"",type:bu.MANUAL})},className:"btn-outline flex-1",children:"Cancelar"}),(0,Sn.jsx)("button",{onClick:()=>{if(h.message.trim())try{Cu(n,{message:h.message,description:h.description,type:h.type,author:"Usu\xe1rio"})&&(zt.success("Vers\xe3o criada com sucesso!"),f({message:"",description:"",type:bu.MANUAL}),d(!1),p())}catch(e){zt.error("Erro ao criar vers\xe3o: ".concat(e.message))}else zt.error("Adicione uma mensagem para a vers\xe3o")},className:"btn-primary flex-1",children:"Criar Vers\xe3o"})]})]})]})})]})},ed=e=>{let{content:n}=e;const[r,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!1),[i,l]=(0,t.useState)("info");if((0,t.useEffect)(()=>{const e=Bu.getCurrentVersion();e&&a(e)},[n]),(0,t.useEffect)(()=>{if(r){o(!0),l("success");const e=setTimeout(()=>{o(!1)},5e3);return()=>clearTimeout(e)}},[r]),!s||!r)return null;return(0,Sn.jsx)("div",{className:"fixed bottom-4 right-4 p-4 rounded-lg border ".concat((()=>{switch(i){case"success":return"bg-green-50 border-green-200 text-green-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})()," shadow-lg z-50 max-w-sm"),children:(0,Sn.jsxs)("div",{className:"flex items-start space-x-3",children:[(()=>{switch(i){case"success":return(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-600"});case"warning":return(0,Sn.jsx)(du,{className:"h-4 w-4 text-yellow-600"});default:return(0,Sn.jsx)(pn,{className:"h-4 w-4 text-blue-600"})}})(),(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Sn.jsx)(gu,{className:"h-3 w-3"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:"Vers\xe3o Salva"})]}),(0,Sn.jsx)("p",{className:"text-xs mb-2",children:r.message}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-4 text-xs opacity-75",children:[(0,Sn.jsxs)("span",{className:"flex items-center",children:[(0,Sn.jsx)(xn,{className:"mr-1 h-3 w-3"}),new Date(r.timestamp).toLocaleTimeString()]}),(0,Sn.jsxs)("span",{children:[r.stats.totalChanges," mudan\xe7as"]})]})]}),(0,Sn.jsx)("button",{onClick:()=>o(!1),className:"text-current opacity-50 hover:opacity-100",children:"\xd7"})]})})},td=e=>{var n,r,a;let{worldData:s,projectData:o,onGenerateWithContext:i,onGetInsights:l,isOpen:c,onClose:A}=e;const[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),g=(0,t.useCallback)(async()=>{d(!0);try{var e,t,n,r,a,l,c,A,u,h,p,g,v,x,y,b;const d={worldName:(null===s||void 0===s?void 0:s.name)||"Mundo n\xe3o definido",genre:(null===s||void 0===s?void 0:s.genre)||"Fantasia",techLevel:(null===s||void 0===s?void 0:s.techLevel)||"Medieval",locations:(null===s||void 0===s||null===(e=s.locations)||void 0===e?void 0:e.length)||0,peoples:(null===s||void 0===s||null===(t=s.peoples)||void 0===t?void 0:t.length)||0,regions:(null===s||void 0===s||null===(n=s.regions)||void 0===n?void 0:n.length)||0,landmarks:(null===s||void 0===s||null===(r=s.landmarks)||void 0===r?void 0:r.length)||0,resources:(null===s||void 0===s||null===(a=s.resources)||void 0===a?void 0:a.length)||0,languages:(null===s||void 0===s||null===(l=s.languages)||void 0===l?void 0:l.length)||0,religions:(null===s||void 0===s||null===(c=s.religions)||void 0===c?void 0:c.length)||0,traditions:(null===s||void 0===s||null===(A=s.traditions)||void 0===A?void 0:A.length)||0,technologies:(null===s||void 0===s||null===(u=s.technologies)||void 0===u?void 0:u.length)||0,governments:(null===s||void 0===s||null===(h=s.governments)||void 0===h?void 0:h.length)||0,economies:(null===s||void 0===s||null===(p=s.economies)||void 0===p?void 0:p.length)||0,events:(null===s||void 0===s||null===(g=s.events)||void 0===g?void 0:g.length)||0,magicSystems:(null===s||void 0===s||null===(v=s.magicSystems)||void 0===v?void 0:v.length)||0,volumes:(null===o||void 0===o||null===(x=o.volumes)||void 0===x?void 0:x.length)||0,chapters:(null===o||void 0===o||null===(y=o.chapters)||void 0===y?void 0:y.length)||0,characters:(null===o||void 0===o||null===(b=o.characters)||void 0===b?void 0:b.length)||0},w="Analise o contexto deste projeto de light novel:\n\nMUNDO:\n- Nome: ".concat(d.worldName,"\n- G\xeanero: ").concat(d.genre,"\n- N\xedvel Tecnol\xf3gico: ").concat(d.techLevel,"\n\nELEMENTOS EXISTENTES:\n- Locais: ").concat(d.locations,"\n- Povos: ").concat(d.peoples,"\n- Regi\xf5es: ").concat(d.regions,"\n- Marcos: ").concat(d.landmarks,"\n- Recursos: ").concat(d.resources,"\n- Idiomas: ").concat(d.languages,"\n- Religi\xf5es: ").concat(d.religions,"\n- Tradi\xe7\xf5es: ").concat(d.traditions,"\n- Tecnologias: ").concat(d.technologies,"\n- Governos: ").concat(d.governments,"\n- Economias: ").concat(d.economies,"\n- Eventos: ").concat(d.events,"\n- Sistemas M\xe1gicos: ").concat(d.magicSystems,"\n\nPROJETO:\n- Volumes: ").concat(d.volumes,"\n- Cap\xedtulos: ").concat(d.chapters,"\n- Personagens: ").concat(d.characters,"\n\nForne\xe7a um resumo conciso do contexto atual e sugest\xf5es para manter coer\xeancia."),N=await i(w,d);m(N);const B='Com base no contexto do projeto, forne\xe7a:\n\n1. DICAS DE QUALIDADE:\n- Pontos fortes do projeto atual\n- \xc1reas que precisam de desenvolvimento\n- Sugest\xf5es para melhorar a coer\xeancia\n\n2. INSIGHTS PARA VOLUMES E CAP\xcdTULOS:\n- Estrutura narrativa recomendada\n- Elementos que podem ser explorados\n- Pontos de tens\xe3o e desenvolvimento\n\n3. SUGEST\xd5ES DE DESENVOLVIMENTO:\n- Elementos do mundo que podem ser expandidos\n- Conex\xf5es entre elementos existentes\n- Oportunidades narrativas\n\nFormate como JSON:\n{\n  "qualityTips": ["dica 1", "dica 2"],\n  "volumeInsights": ["insight 1", "insight 2"],\n  "developmentSuggestions": ["sugest\xe3o 1", "sugest\xe3o 2"],\n  "coherenceScore": "score de 1-10",\n  "priorityAreas": ["\xe1rea 1", "\xe1rea 2"]\n}',j=await i(B,d);f(j),zt.success("An\xe1lise do projeto conclu\xedda!")}catch(w){console.error("Erro na an\xe1lise:",w),zt.error("Erro ao analisar o projeto")}finally{d(!1)}},[s,o,i]),v=((0,t.useCallback)(async(e,t)=>{try{var n,r,a,o,i,l,c,A,u,d,h,f,p;const e={worldName:null===s||void 0===s?void 0:s.name,genre:null===s||void 0===s?void 0:s.genre,techLevel:null===s||void 0===s?void 0:s.techLevel,existingElements:{locations:(null===s||void 0===s||null===(n=s.locations)||void 0===n?void 0:n.map(e=>e.name))||[],peoples:(null===s||void 0===s||null===(r=s.peoples)||void 0===r?void 0:r.map(e=>e.name))||[],regions:(null===s||void 0===s||null===(a=s.regions)||void 0===a?void 0:a.map(e=>e.name))||[],landmarks:(null===s||void 0===s||null===(o=s.landmarks)||void 0===o?void 0:o.map(e=>e.name))||[],resources:(null===s||void 0===s||null===(i=s.resources)||void 0===i?void 0:i.map(e=>e.name))||[],languages:(null===s||void 0===s||null===(l=s.languages)||void 0===l?void 0:l.map(e=>e.name))||[],religions:(null===s||void 0===s||null===(c=s.religions)||void 0===c?void 0:c.map(e=>e.name))||[],traditions:(null===s||void 0===s||null===(A=s.traditions)||void 0===A?void 0:A.map(e=>e.name))||[],technologies:(null===s||void 0===s||null===(u=s.technologies)||void 0===u?void 0:u.map(e=>e.name))||[],governments:(null===s||void 0===s||null===(d=s.governments)||void 0===d?void 0:d.map(e=>e.name))||[],economies:(null===s||void 0===s||null===(h=s.economies)||void 0===h?void 0:h.map(e=>e.name))||[],events:(null===s||void 0===s||null===(f=s.events)||void 0===f?void 0:f.map(e=>e.name))||[],magicSystems:(null===s||void 0===s||null===(p=s.magicSystems)||void 0===p?void 0:p.map(e=>e.name))||[]}};return"CONTEXTO DO MUNDO:\n- Nome: ".concat(e.worldName,"\n- G\xeanero: ").concat(e.genre,"\n- N\xedvel Tecnol\xf3gico: ").concat(e.techLevel,"\n\nELEMENTOS EXISTENTES:\n").concat(Object.entries(e.existingElements).filter(e=>{let[t,n]=e;return n.length>0}).map(e=>{let[t,n]=e;return"- ".concat(t,": ").concat(n.join(", "))}).join("\n"),"\n\nREGRAS DE COER\xcaNCIA:\n1. Mantenha consist\xeancia com o g\xeanero e n\xedvel tecnol\xf3gico\n2. Evite elementos que n\xe3o fazem sentido no contexto (ex: tecnologia moderna em mundo medieval)\n3. Considere as conex\xf5es com elementos existentes\n4. Mantenha a atmosfera e estilo do mundo estabelecido\n\nAgora gere um ").concat(t," que seja coerente com este contexto.")}catch(m){return console.error("Erro ao gerar prompt contextualizado:",m),null}},[s]),(0,t.useMemo)(()=>{if(!s)return 0;let e=0,t=0;s.name&&(e+=2),s.genre&&(e+=1),s.techLevel&&(e+=1),t+=4;return["locations","peoples","regions","landmarks","resources","languages","religions","traditions","technologies","governments","economies","events","magicSystems"].forEach(n=>{s[n]&&s[n].length>0&&(e+=1),t+=1}),Math.round(e/t*10)},[s]));return c?(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(Pn,{className:"h-6 w-6 text-blue-600"}),(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Agente de IA - An\xe1lise Inteligente"})]}),(0,Sn.jsxs)("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:[(0,Sn.jsx)("span",{className:"sr-only",children:"Fechar"}),(0,Sn.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Sn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,Sn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Sn.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(Dn,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Score de Coer\xeancia do Projeto"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[v,"/10"]}),v>=7?(0,Sn.jsx)(gn,{className:"h-5 w-5 text-green-500"}):(0,Sn.jsx)(du,{className:"h-5 w-5 text-yellow-500"})]})]}),(0,Sn.jsx)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:v>=7?"Excelente! Seu projeto tem boa coer\xeancia interna.":"Considere expandir mais elementos para melhorar a coer\xeancia."})]}),(0,Sn.jsx)("div",{className:"text-center",children:(0,Sn.jsx)("button",{onClick:g,disabled:u,className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analisando..."]}):(0,Sn.jsxs)(Sn.Fragment,{children:[(0,Sn.jsx)(Pn,{className:"h-4 w-4 mr-2"}),"Analisar Projeto Completo"]})})}),p&&(0,Sn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,Sn.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,Sn.jsx)(Yt,{className:"h-4 w-4 mr-2"}),"Resumo do Contexto"]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:p})]}),h&&(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[(0,Sn.jsx)(Mn,{className:"h-4 w-4 mr-2"}),"Insights e Dicas"]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,Sn.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,Sn.jsx)(ar,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Dicas de Qualidade"]}),(0,Sn.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:null===(n=h.qualityTips)||void 0===n?void 0:n.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"}),e]},t))})]}),(0,Sn.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,Sn.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,Sn.jsx)(Hn,{className:"h-4 w-4 mr-2 text-green-500"}),"Insights para Volumes"]}),(0,Sn.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:null===(r=h.volumeInsights)||void 0===r?void 0:r.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-green-500 mr-2",children:"\u2022"}),e]},t))})]})]}),(0,Sn.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[(0,Sn.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center",children:[(0,Sn.jsx)(Dn,{className:"h-4 w-4 mr-2 text-purple-500"}),"Sugest\xf5es de Desenvolvimento"]}),(0,Sn.jsx)("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:null===(a=h.developmentSuggestions)||void 0===a?void 0:a.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-start",children:[(0,Sn.jsx)("span",{className:"text-purple-500 mr-2",children:"\u2022"}),e]},t))})]})]}),(0,Sn.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,Sn.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Funcionalidades do Agente"}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}),(0,Sn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"An\xe1lise contextual autom\xe1tica"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}),(0,Sn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Prompts inteligentes"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}),(0,Sn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Dicas de qualidade"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(gn,{className:"h-4 w-4 text-green-500"}),(0,Sn.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Insights para volumes"})]})]})]})]})]})}):null},nd=()=>{const{editorContent:e,setEditorContent:n,addToHistory:r,currentProject:a,characters:s,worldData:o,settings:i,projectStructure:l,currentChapter:c,currentVolume:A,setCurrentChapter:u,setCurrentVolume:d,updateChapter:h}=(0,mn.A)(),{checkWritingProgress:f,checkWritingSession:p}=En(),{createManualVersion:m,getVersionStats:g}=ku(e),v=(null===i||void 0===i?void 0:i.defaultAIProvider)||"openai",{isAgentOpen:x,setIsAgentOpen:y,isAnalyzing:b,generateWithContext:w,analyzeProject:N,generateElementPrompt:B,getQualityTips:j,getVolumeInsights:C}=Vn(v,i),[k,E]=(0,t.useState)(!1),[S,_]=(0,t.useState)(0),[F,U]=(0,t.useState)(0),[I,L]=(0,t.useState)(0),[Q,O]=(0,t.useState)(""),[P,T]=(0,t.useState)(!1),[D,M]=(0,t.useState)(!1),[H,R]=(0,t.useState)(!1),[q,K]=(0,t.useState)(!1),[z,G]=(0,t.useState)(!1),[V,W]=(0,t.useState)(!1),[X,J]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1),[$,ee]=(0,t.useState)(!1),[te,ne]=(0,t.useState)(!1),[re,ae]=(0,t.useState)(!1),[se,oe]=(0,t.useState)(Date.now()),ie=(0,t.useRef)(null),le=(0,t.useRef)(null),ce=(0,t.useRef)(null),Ae=(0,t.useMemo)(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image","blockquote","code-block"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}),[]),ue=(0,t.useMemo)(()=>["header","bold","italic","underline","strike","list","bullet","align","link","image","blockquote","code-block","color","background"],[]),de=(0,t.useMemo)(()=>{const t=e.replace(/<[^>]*>/g,""),n=t.trim().split(/\s+/).filter(e=>e.length>0),r=t.length,a=e.split("</p>").length-1,s=Math.ceil(n.length/200);return{wordCount:n.length,charCount:r,paragraphCount:a,readingTime:s}},[e]);(0,t.useEffect)(()=>{_(de.wordCount),U(de.charCount),L(de.readingTime)},[de]),(0,t.useEffect)(()=>(le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{e.trim()&&(r(e),Su("editor_auto_save"))},3e4),()=>{le.current&&clearTimeout(le.current)}),[e,r]),(0,t.useEffect)(()=>(ce.current=setInterval(()=>{const e=Date.now()-se;p(e)},6e4),()=>{ce.current&&clearInterval(ce.current)}),[se,p]),(0,t.useEffect)(()=>{const e=e=>{$&&!e.target.closest(".relative")&&ee(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[$]),(0,t.useEffect)(()=>{f(S)},[S,f]);const he=(0,t.useCallback)(()=>{r(e),m("Salvamento manual"),zt.success("Conte\xfado salvo com sucesso!"),Su("editor_manual_save")},[e,r,m]),fe=(0,t.useCallback)((e,t,n)=>{if(e&&e.length>0){const t=n.getText(e.index,e.length);O(t)}else O("")},[]),pe=(0,t.useCallback)(e=>{u(e),K(!1),zt.success('Cap\xedtulo "'.concat(e.title,'" selecionado'))},[u]),me=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===i||void 0===i||!i.defaultAIProvider)return void zt.error("Configure um provedor de IA nas configura\xe7\xf5es");M(!0);const r=t||e;try{const t=new Kn(i.defaultAIProvider,i.aiProviders[i.defaultAIProvider].apiKey),a=await t.generateText(r);a&&(n(e=>e+"\n\n"+a),zt.success("Texto gerado com sucesso!"),Su("ai_text_generation",{type:e}))}catch(a){zt.error("Erro ao gerar texto: "+a.message)}finally{M(!1)}},[i,n]),ge=(0,t.useCallback)(async(e,t)=>{M(!0);try{const r=new Kn(i.defaultAIProvider,i.aiProviders[i.defaultAIProvider].apiKey),a=await r.generateText(e,t);a&&(n(e=>e+"\n\n"+a),zt.success("Texto avan\xe7ado gerado com sucesso!"))}catch(r){zt.error("Erro ao gerar texto avan\xe7ado: "+r.message)}finally{M(!1)}},[i,n]),ve=(0,t.useCallback)(e=>{const t="[".concat(e.name,"]");if(ie.current){const e=ie.current.getSelection();e&&ie.current.insertText(e.index,t)}zt.success('Personagem "'.concat(e.name,'" inserido'))},[]),xe=(0,t.useCallback)(e=>{const t="[".concat(e.name,"]");if(ie.current){const e=ie.current.getSelection();e&&ie.current.insertText(e.index,t)}zt.success('Local "'.concat(e.name,'" inserido'))},[]),ye=(0,t.useCallback)(()=>{const t=e.replace(/<[^>]*>/g,""),n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat((null===c||void 0===c?void 0:c.title)||"capitulo",".txt"),a.click(),URL.revokeObjectURL(r),zt.success("Arquivo exportado como texto")},[e,c]),be=(0,t.useCallback)(()=>{const t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat((null===c||void 0===c?void 0:c.title)||"capitulo",".html"),r.click(),URL.revokeObjectURL(n),zt.success("Arquivo exportado como HTML")},[e,c]),we=(0,t.useCallback)(async()=>{try{await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e;let s="\n      <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>".concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</title>\n        <style>\n          body {\n            font-family: 'Times New Roman', serif;\n            font-size: 12pt;\n            line-height: 1.6;\n            margin: 2.54cm;\n          }\n          .title {\n            font-size: 18pt;\n            font-weight: bold;\n            text-align: center;\n            margin-bottom: 2em;\n          }\n          .chapter-title {\n            font-size: 14pt;\n            font-weight: bold;\n            margin-top: 2em;\n            margin-bottom: 1em;\n            page-break-before: always;\n          }\n          .content {\n            text-align: justify;\n            margin-bottom: 1em;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"title\">").concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</div>\n    ");null===n||void 0===n||n.forEach(e=>{var t;s+='<h2 class="chapter-title">'.concat(e.title,"</h2>"),null===(t=e.chapters)||void 0===t||t.forEach(e=>{s+='\n          <h3 class="chapter-title">'.concat(e.title,'</h3>\n          <div class="content">\n            ').concat(e.content||"","\n          </div>\n        ")})}),s+="</body></html>";const o=new Blob([s],{type:"application/msword"}),i=URL.createObjectURL(o),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".doc"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"Word document exported"}}catch(t){return console.error("Word export error:",t),{success:!1,error:t.message}}}(e,null===c||void 0===c||c.title),zt.success("Arquivo Word exportado com sucesso!")}catch(t){zt.error("Erro ao exportar Word: "+t.message)}},[e,c]),Ne=(0,t.useCallback)(async()=>{try{await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e;let s='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="UTF-8">\n        <title>'.concat((null===t||void 0===t?void 0:t.name)||"Light Novel","</title>\n        <style>\n          body {\n            font-family: 'Times New Roman', serif;\n            line-height: 1.6;\n            margin: 2cm;\n            font-size: 12pt;\n          }\n          .title-page {\n            text-align: center;\n            page-break-after: always;\n            margin-top: 30%;\n          }\n          .title-page h1 {\n            font-size: 24pt;\n            margin-bottom: 1em;\n          }\n          .title-page .author {\n            font-size: 14pt;\n            margin-bottom: 2em;\n          }\n          .chapter-title {\n            font-size: 16pt;\n            font-weight: bold;\n            margin-top: 2em;\n            margin-bottom: 1em;\n            page-break-before: always;\n          }\n          .chapter-content {\n            text-align: justify;\n            margin-bottom: 1em;\n          }\n          .page-break {\n            page-break-before: always;\n          }\n          @media print {\n            body { margin: 0; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"title-page\">\n          <h1>").concat((null===t||void 0===t?void 0:t.name)||"Light Novel",'</h1>\n          <div class="author">').concat((null===t||void 0===t?void 0:t.author)||"Autor","</div>\n          <div>").concat((null===t||void 0===t?void 0:t.genre)||"G\xeanero","</div>\n        </div>\n    ");null===n||void 0===n||n.forEach(e=>{var t;s+='<h2 class="chapter-title">'.concat(e.title,"</h2>"),null===(t=e.chapters)||void 0===t||t.forEach(e=>{s+='\n          <h3 class="chapter-title">'.concat(e.title,'</h3>\n          <div class="chapter-content">\n            ').concat(e.content||"","\n          </div>\n        ")})}),s+="\n      </body>\n      </html>\n    ";const o=new Blob([s],{type:"text/html"}),i=URL.createObjectURL(o),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".html"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"PDF export initiated (HTML format)"}}catch(t){return console.error("PDF export error:",t),{success:!1,error:t.message}}}(e,null===c||void 0===c||c.title),zt.success("Arquivo PDF exportado com sucesso!")}catch(t){zt.error("Erro ao exportar PDF: "+t.message)}},[e,c]),Be=(0,t.useCallback)(async()=>{try{await async function(e){try{const{project:t,volumes:n,worldData:r,characters:a}=e,s={title:(null===t||void 0===t?void 0:t.name)||"Light Novel",author:(null===t||void 0===t?void 0:t.author)||"Autor",language:"pt-BR",chapters:[]};null===n||void 0===n||n.forEach(e=>{var t;null===(t=e.chapters)||void 0===t||t.forEach(t=>{s.chapters.push({title:"".concat(e.title," - ").concat(t.title),content:t.content||"",id:"chapter-".concat(t.id)})})});const o=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a");return l.href=i,l.download="".concat((null===t||void 0===t?void 0:t.name)||"novel",".epub.json"),l.click(),URL.revokeObjectURL(i),{success:!0,message:"EPUB structure exported (JSON format)"}}catch(t){return console.error("EPUB export error:",t),{success:!1,error:t.message}}}(e,null===c||void 0===c||c.title),zt.success("Arquivo EPUB exportado com sucesso!")}catch(t){zt.error("Erro ao exportar EPUB: "+t.message)}},[e,c]),je=(0,t.useCallback)(async()=>{try{await(e=>{try{var t;const{project:n,volumes:r,worldData:a,characters:s}=e,o={project:{name:null===n||void 0===n?void 0:n.name,genre:null===n||void 0===n?void 0:n.genre,author:null===n||void 0===n?void 0:n.author,createdAt:null===n||void 0===n?void 0:n.createdAt,updatedAt:null===n||void 0===n?void 0:n.updatedAt},volumes:(null===r||void 0===r?void 0:r.length)||0,chapters:(null===r||void 0===r?void 0:r.reduce((e,t)=>{var n;return e+((null===(n=t.chapters)||void 0===n?void 0:n.length)||0)},0))||0,totalWords:(null===r||void 0===r?void 0:r.reduce((e,t)=>{var n;return e+(null===(n=t.chapters)||void 0===n?void 0:n.reduce((e,t)=>e+(t.wordCount||0),0))},0))||0,characters:(null===s||void 0===s?void 0:s.length)||0,locations:(null===a||void 0===a||null===(t=a.locations)||void 0===t?void 0:t.length)||0,exportDate:(new Date).toISOString()},i=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),c=document.createElement("a");return c.href=l,c.download="".concat((null===n||void 0===n?void 0:n.name)||"novel","_statistics.json"),c.click(),URL.revokeObjectURL(l),{success:!0,message:"Statistics exported"}}catch(n){return console.error("Statistics export error:",n),{success:!1,error:n.message}}})(de,null===c||void 0===c||c.title),zt.success("Estat\xedsticas exportadas com sucesso!")}catch(e){zt.error("Erro ao exportar estat\xedsticas: "+e.message)}},[de,c]),Ce=(0,t.useCallback)(async()=>{try{await(e=>{try{var t;const n=(0,_e.A)((0,_e.A)({},e),{},{exportDate:(new Date).toISOString(),version:"2.0.0",exportType:"backup"}),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),s=document.createElement("a");return s.href=a,s.download="".concat((null===(t=e.project)||void 0===t?void 0:t.name)||"novel","_backup_").concat((new Date).toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(a),{success:!0,message:"Backup exported successfully"}}catch(n){return console.error("Backup export error:",n),{success:!1,error:n.message}}})({content:e,chapter:c,statistics:de}),zt.success("Backup exportado com sucesso!")}catch(t){zt.error("Erro ao exportar backup: "+t.message)}},[e,c,de]);return(0,Sn.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Sn.jsx)("div",{className:"bg-card border-b border-border p-3 sm:p-4",children:(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 min-w-0",children:[(0,Sn.jsxs)("div",{className:"min-w-0",children:[(0,Sn.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-foreground truncate",children:c?c.title:"Editor de Texto"}),A&&(0,Sn.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:A.title})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[(0,Sn.jsx)(nn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsxs)("span",{children:[S.toLocaleString()," palavras"]}),(0,Sn.jsx)("span",{children:"\u2022"}),(0,Sn.jsx)(xn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsxs)("span",{children:[I," min de leitura"]})]})]}),(0,Sn.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-2",children:[(0,Sn.jsxs)("button",{onClick:he,className:"btn-primary flex items-center text-sm",children:[(0,Sn.jsx)(pn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Salvar"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Salvar"})]}),(0,Sn.jsxs)("button",{onClick:()=>ae(!0),className:"btn-secondary flex items-center bg-blue-600 hover:bg-blue-700 text-white text-sm",children:[(0,Sn.jsx)(gu,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Vers\xf5es"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Vers\xf5es"})]}),(0,Sn.jsxs)("button",{onClick:()=>y(!0),className:"btn-secondary flex items-center bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-sm",children:[(0,Sn.jsx)(Pn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Agente IA"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Agente"})]}),(0,Sn.jsxs)("button",{onClick:()=>R(!0),className:"btn-secondary flex items-center bg-purple-600 hover:bg-purple-700 text-white text-sm",children:[(0,Sn.jsx)(Qn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"IA Avan\xe7ada"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"IA"})]}),(0,Sn.jsxs)("button",{onClick:()=>T(!P),className:"btn-outline flex items-center text-sm",children:[(0,Sn.jsx)(Qn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"AI Helper"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"AI"})]}),(0,Sn.jsxs)("button",{onClick:()=>E(!k),className:"btn-outline flex items-center text-sm",children:[k?(0,Sn.jsx)(Bn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}):(0,Sn.jsx)(wn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:k?"Editar":"Visualizar"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:k?"Editar":"Ver"})]}),(0,Sn.jsxs)("button",{onClick:()=>ne(!0),className:"btn-secondary flex items-center bg-green-600 hover:bg-green-700 text-white text-sm",children:[(0,Sn.jsx)(nn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Exportar PDF"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"PDF"})]}),(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsxs)("button",{onClick:()=>ee(!$),className:"btn-outline flex items-center text-sm",children:[(0,Sn.jsx)(vu,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Ferramentas"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"..."})]}),$&&(0,Sn.jsx)("div",{className:"absolute right-0 mt-2 w-48 sm:w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:(0,Sn.jsxs)("div",{className:"py-2",children:[(0,Sn.jsxs)("button",{onClick:()=>{K(!q),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(Yt,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Navegador de Cap\xedtulos"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Cap\xedtulos"})]}),(0,Sn.jsxs)("button",{onClick:()=>{G(!z),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(xu,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Analytics"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Analytics"})]}),(0,Sn.jsxs)("button",{onClick:()=>{W(!0),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(pn,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Gerenciar Backups"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Backups"})]}),(0,Sn.jsxs)("button",{onClick:()=>{J(!0),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(gn,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Verificar Consist\xeancia"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Consist\xeancia"})]}),(0,Sn.jsxs)("button",{onClick:()=>{Z(!0),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(ln,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Leitor Virtual"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Leitor"})]}),(0,Sn.jsxs)("button",{onClick:()=>{ne(!0),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(nn,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Exportar PDF Profissional"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"PDF Profissional"})]}),(0,Sn.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,Sn.jsxs)("button",{onClick:()=>{ae(!0),ee(!1)},className:"w-full flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,Sn.jsx)(gu,{className:"mr-2 sm:mr-3 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Controle de Vers\xf5es"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Vers\xf5es"})]})]})})]})]})]})}),(0,Sn.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[q&&(0,Sn.jsxs)("div",{className:"fixed inset-0 z-50 lg:relative lg:z-auto",children:[(0,Sn.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50",onClick:()=>K(!1)}),(0,Sn.jsxs)("div",{className:"fixed left-0 top-0 h-full w-80 bg-card border-r border-border lg:relative lg:translate-x-0 transform transition-transform duration-300 ease-in-out lg:transform-none",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border lg:hidden",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold",children:"Cap\xedtulos"}),(0,Sn.jsx)("button",{onClick:()=>K(!1),className:"p-2",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsx)(Lu,{onChapterSelect:pe,currentChapter:c,currentVolume:A})]})]}),(0,Sn.jsx)("div",{className:"flex-1 flex flex-col lg:mr-80",children:k?(0,Sn.jsx)("div",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:(0,Sn.jsx)("div",{className:"prose prose-sm sm:prose-lg max-w-none",dangerouslySetInnerHTML:{__html:e}})}):(0,Sn.jsx)("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"#ffffff"},children:(0,Sn.jsx)(mu(),{ref:ie,theme:"snow",value:e,onChange:n,modules:Ae,formats:ue,placeholder:"Comece a escrever sua light novel...",onSelectionChange:fe,className:"flex-1",style:{height:"100%",backgroundColor:"#ffffff"}})})}),P&&(0,Sn.jsxs)("div",{className:"fixed inset-0 z-50 lg:relative lg:z-auto",children:[(0,Sn.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50",onClick:()=>T(!1)}),(0,Sn.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 h-96 bg-card border-t border-border rounded-t-lg lg:relative lg:bottom-auto lg:left-auto lg:right-auto lg:h-auto lg:w-80 lg:border-t-0 lg:border-l lg:rounded-t-none transform transition-transform duration-300 ease-in-out lg:transform-none",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border lg:hidden",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold",children:"Assistente IA"}),(0,Sn.jsx)("button",{onClick:()=>T(!1),className:"p-2",children:(0,Sn.jsx)(un,{className:"h-5 w-5"})})]}),(0,Sn.jsxs)("div",{className:"p-4 space-y-4 lg:space-y-6 overflow-y-auto h-full",children:[(0,Sn.jsx)(Ou,{}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-600"}),"Assistente IA"]}),Q&&(0,Sn.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Sn.jsx)("p",{className:"text-xs sm:text-sm text-blue-800",children:(0,Sn.jsx)("strong",{children:"Texto selecionado:"})}),(0,Sn.jsxs)("p",{className:"text-xs sm:text-sm text-blue-700 mt-1 italic",children:['"',Q.substring(0,100),Q.length>100?"...":"",'"']})]}),(0,Sn.jsx)("div",{className:"space-y-2",children:[{key:"continuar",label:"\u270d\ufe0f Continuar escrevendo",desc:"Continue a hist\xf3ria"},{key:"descrever personagem",label:"\ud83d\udc64 Descrever personagem",desc:"Crie descri\xe7\xf5es detalhadas"},{key:"cena de a\xe7\xe3o",label:"\u26a1 Cena de a\xe7\xe3o",desc:"Escreva cenas din\xe2micas"},{key:"di\xe1logo",label:"\ud83d\udcac Di\xe1logo",desc:"Crie conversas naturais"},{key:"descri\xe7\xe3o de cen\xe1rio",label:"\ud83c\udfde\ufe0f Cen\xe1rio",desc:"Descreva ambientes"},{key:"transi\xe7\xe3o",label:"\ud83d\udd04 Transi\xe7\xe3o",desc:"Conecte cenas suavemente"},...Q?[{key:"melhorar",label:"\u2728 Melhorar texto",desc:"Aprimore o texto selecionado"}]:[]].map(e=>(0,Sn.jsxs)("button",{onClick:()=>me(e.key),disabled:D,className:"w-full text-left p-2 sm:p-3 text-xs sm:text-sm hover:bg-gray-100 rounded-lg transition-colors border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Sn.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,Sn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.desc})]},e.key))}),D&&(0,Sn.jsx)("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,Sn.jsxs)("div",{className:"flex items-center text-purple-700",children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-700 mr-2"}),(0,Sn.jsx)("span",{className:"text-xs sm:text-sm",children:"Gerando texto com IA..."})]})}),(0,Sn.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,Sn.jsx)("textarea",{placeholder:"Ou escreva um prompt personalizado...",className:"w-full p-2 text-xs sm:text-sm border border-gray-300 rounded-lg resize-none",rows:3,onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&e.target.value.trim()&&(me("custom",e.target.value),e.target.value="")}}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ctrl + Enter para enviar"})]})]}),s.length>0&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Personagens"}),(0,Sn.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map(e=>(0,Sn.jsx)("button",{onClick:()=>ve(e),className:"w-full text-left p-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",children:e.name},e.id))})]}),o.locations.length>0&&(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Locais"}),(0,Sn.jsx)("div",{className:"space-y-2",children:o.locations.slice(0,5).map(e=>(0,Sn.jsx)("button",{onClick:()=>xe(e),className:"w-full text-left p-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",children:e.name},e.id))})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Exportar"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsxs)("button",{onClick:ye,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Como Texto (.txt)"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Texto"})]}),(0,Sn.jsxs)("button",{onClick:be,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Como HTML (.html)"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"HTML"})]}),(0,Sn.jsxs)("button",{onClick:we,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Como Word (.doc)"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Word"})]}),(0,Sn.jsxs)("button",{onClick:Ne,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Como PDF (.html)"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"PDF"})]}),(0,Sn.jsxs)("button",{onClick:Be,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Como EPUB (.json)"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"EPUB"})]}),(0,Sn.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,Sn.jsxs)("button",{onClick:je,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Estat\xedsticas"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Stats"})]}),(0,Sn.jsxs)("button",{onClick:Ce,className:"w-full btn-outline flex items-center justify-center text-xs sm:text-sm",children:[(0,Sn.jsx)(dn,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Backup Completo"}),(0,Sn.jsx)("span",{className:"sm:hidden",children:"Backup"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Estat\xedsticas"}),(0,Sn.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-gray-600",children:"Palavras:"}),(0,Sn.jsx)("span",{className:"font-medium",children:S.toLocaleString()})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-gray-600",children:"Caracteres:"}),(0,Sn.jsx)("span",{className:"font-medium",children:F.toLocaleString()})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-gray-600",children:"Tempo de leitura:"}),(0,Sn.jsxs)("span",{className:"font-medium",children:[I," min"]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-gray-600",children:"Par\xe1grafos:"}),(0,Sn.jsx)("span",{className:"font-medium",children:de.paragraphCount})]})]})]})]})]})]})]}),H&&(0,Sn.jsx)(Uu,{onClose:()=>R(!1),onGenerate:ge,isGenerating:D,worldData:o,characters:s,selectedText:Q}),z&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-6xl h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-border",children:[(0,Sn.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"Analytics Avan\xe7ados"}),(0,Sn.jsx)("button",{onClick:()=>G(!1),className:"text-muted-foreground hover:text-foreground",children:(0,Sn.jsx)(un,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),(0,Sn.jsx)("div",{className:"p-4 sm:p-6 overflow-y-auto h-full",children:(0,Sn.jsx)(Du,{content:e.replace(/<[^>]*>/g,""),projectData:{project:a,volumes:l.volumes,worldData:o,characters:s}})})]})}),V&&(0,Sn.jsx)(Yu,{onClose:()=>W(!1)}),X&&(0,Sn.jsx)(ir,{onClose:()=>J(!1)}),Y&&(0,Sn.jsx)(wr,{onClose:()=>Z(!1)}),te&&(0,Sn.jsx)(Au,{onClose:()=>ne(!1)}),re&&(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-card rounded-lg shadow-xl w-full max-w-4xl h-[90vh] overflow-hidden",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-border",children:[(0,Sn.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"Controle de Vers\xf5es"}),(0,Sn.jsx)("button",{onClick:()=>ae(!1),className:"text-muted-foreground hover:text-foreground",children:(0,Sn.jsx)(un,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),(0,Sn.jsx)("div",{className:"p-4 sm:p-6 overflow-y-auto h-full",children:(0,Sn.jsx)($u,{content:e.replace(/<[^>]*>/g,""),onContentUpdate:e=>{n(e),r(e)}})})]})}),(0,Sn.jsx)(td,{worldData:o,projectData:{volumes:l.volumes,chapters:l.chapters,characters:s},onGenerateWithContext:w,onGetInsights:N,isOpen:x,onClose:()=>y(!1)}),(0,Sn.jsx)(ed,{content:e})]})},rd=Jt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ad=Jt("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),sd=Jt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),od=Jt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),id=Jt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ld=Jt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),cd=Jt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Ad=Jt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),ud=Jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function dd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=dd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const hd=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=dd(e))&&(r&&(r+=" "),r+=t);return r},fd=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var pd=e=>"number"==typeof e&&!isNaN(e),md=e=>"string"==typeof e,gd=e=>"function"==typeof e,vd=e=>md(e)||gd(e)?e:null,xd=(e,t)=>!1===e||pd(e)&&e>0?e:t,yd=e=>(0,t.isValidElement)(e)||md(e)||gd(e)||pd(e);function bd(e){let{enter:n,exit:r,appendPosition:a=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:i,position:l,preventExitTransition:c,done:A,nodeRef:u,isIn:d,playToast:h}=e,f=a?"".concat(n,"--").concat(l):n,p=a?"".concat(r,"--").concat(l):r,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,A,o):A()};d||(c?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[d]),t.createElement(t.Fragment,null,i)}}function wd(e,t){return{content:Nd(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Nd(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!md(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):gd(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function Bd(e){let{delay:n,isRunning:r,closeToast:a,type:s="default",hide:o,className:i,controlledProgress:l,progress:c,rtl:A,isIn:u,theme:d}=e,h=o||l&&0===c,f={animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(f.transform="scaleX(".concat(c,")"));let p=hd("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(d),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":A}),m=gd(i)?i({rtl:A,type:s,defaultClassName:p}):hd(p,i),g={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&a()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(d," Toastify__progress-bar--").concat(s)}),t.createElement("div",(0,_e.A)({role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:m,style:f},g)))}var jd=1,Cd=()=>"".concat(jd++);function kd(e,t,n){let r=1,a=0,s=[],o=[],i=t,l=new Map,c=new Set,A=()=>{o=Array.from(l.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},d=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}A()},h=e=>{var t,r;let{toastId:a,updateId:s}=e.props,o=null==s;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(a,e),A(),n(wd(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:d,toasts:l,clearQueue:()=>{a-=s.length,s=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:a}=t,s=n?n!==e:1!==e,o=l.has(r)&&null==a;return s||o})(o))return;let{toastId:c,updateId:u,data:f,staleId:p,delay:m}=o,g=null==u;g&&a++;let v=(0,_e.A)((0,_e.A)((0,_e.A)({},i),{},{style:i.toastStyle,key:r++},Object.fromEntries(Object.entries(o).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:c,updateId:u,data:f,isIn:!1,className:vd(o.className||i.toastClassName),progressClassName:vd(o.progressClassName||i.progressClassName),autoClose:!o.isLoading&&xd(o.autoClose,i.autoClose),closeToast(e){l.get(c).removalReason=e,d(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(wd(e,"removed")),l.delete(c),a--,a<0&&(a=0),s.length>0)return void h(s.shift());A()}}});v.closeButton=i.closeButton,!1===o.closeButton||yd(o.closeButton)?v.closeButton=o.closeButton:!0===o.closeButton&&(v.closeButton=!yd(i.closeButton)||i.closeButton);let x={content:t,props:v,staleId:p};i.limit&&i.limit>0&&a>i.limit&&g?s.push(x):pd(m)?setTimeout(()=>{h(x)},m):h(x)},setProps(e){i=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var Ed=new Map,Sd=[],_d=new Set,Fd=e=>_d.forEach(t=>t(e)),Ud=()=>Ed.size>0;function Id(e,t){var n;if(t)return!(null==(n=Ed.get(t))||!n.isToastActive(e));let r=!1;return Ed.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function Ld(e){if(Ud()){if(null==e||(e=>md(e)||pd(e))(e))Ed.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ed.get(e.containerId);t?t.removeToast(e.id):Ed.forEach(t=>{t.removeToast(e.id)})}}else Sd=Sd.filter(t=>null!=e&&t.options.toastId!==e)}function Qd(e,t){yd(e)&&(Ud()||Sd.push({content:e,options:t}),Ed.forEach(n=>{n.buildToast(e,t)}))}function Od(e,t){Ed.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Pd(e){let t=e.containerId||1;return{subscribe(n){let r=kd(t,e,Fd);Ed.set(t,r);let a=r.observe(n);return Sd.forEach(e=>Qd(e.content,e.options)),Sd=[],()=>{a(),Ed.delete(t)}},setProps(e){var n;null==(n=Ed.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Ed.get(t))?void 0:e.getSnapshot()}}}function Td(e){return e&&(md(e.toastId)||pd(e.toastId))?e.toastId:Cd()}function Dd(e,t){return Qd(e,t),t.toastId}function Md(e,t){return(0,_e.A)((0,_e.A)({},t),{},{type:t&&t.type||e,toastId:Td(t)})}function Hd(e){return(t,n)=>Dd(t,Md(e,n))}function Rd(e,t){return Dd(e,Md("default",t))}function qd(e){let[n,r]=(0,t.useState)(!1),[a,s]=(0,t.useState)(!1),o=(0,t.useRef)(null),i=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:A,onClick:u,closeOnClick:d}=e;function h(){r(!0)}function f(){r(!1)}function p(t){let r=o.current;if(i.canDrag&&r){i.didMove=!0,n&&f(),"x"===e.draggableDirection?i.delta=t.clientX-i.start:i.delta=t.clientY-i.start,i.start!==t.clientX&&(i.canCloseOnClick=!1);let a="x"===e.draggableDirection?"".concat(i.delta,"px, var(--y)"):"0, calc(".concat(i.delta,"px + var(--y))");r.style.transform="translate3d(".concat(a,",0)"),r.style.opacity="".concat(1-Math.abs(i.delta/i.removalDistance))}}function m(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",m);let t=o.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ed.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",h),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",m);let n=o.current;i.canCloseOnClick=!0,i.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:a,right:s}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=s&&t.clientY>=n&&t.clientY<=r?f():h()}};return l&&c&&(g.onMouseEnter=f,e.stacked||(g.onMouseLeave=h)),d&&(g.onClick=e=>{u&&u(e),i.canCloseOnClick&&A(!0)}),{playToast:h,pauseToast:f,isRunning:n,preventExitTransition:a,toastRef:o,eventHandlers:g}}Rd.loading=(e,t)=>Dd(e,Md("default",(0,_e.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Rd.promise=function(e,t,n){let r,{pending:a,error:s,success:o}=t;a&&(r=md(a)?Rd.loading(a,n):Rd.loading(a.render,(0,_e.A)((0,_e.A)({},n),a)));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void Rd.dismiss(r);let s=(0,_e.A)((0,_e.A)((0,_e.A)({type:e},i),n),{},{data:a}),o=md(t)?{render:t}:t;return r?Rd.update(r,(0,_e.A)((0,_e.A)({},s),o)):Rd(o.render,(0,_e.A)((0,_e.A)({},s),o)),a},c=gd(e)?e():e;return c.then(e=>l("success",o,e)).catch(e=>l("error",s,e)),c},Rd.success=Hd("success"),Rd.info=Hd("info"),Rd.error=Hd("error"),Rd.warning=Hd("warning"),Rd.warn=Rd.warning,Rd.dark=(e,t)=>Dd(e,Md("default",(0,_e.A)({theme:"dark"},t))),Rd.dismiss=function(e){Ld(e)},Rd.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ed.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Rd.isActive=Id,Rd.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Ed.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:a}=n,s=(0,_e.A)((0,_e.A)((0,_e.A)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Cd()});s.toastId!==e&&(s.staleId=e);let o=s.render||a;delete s.render,Dd(o,s)}},Rd.done=e=>{Rd.update(e,{progress:1})},Rd.onChange=function(e){return _d.add(e),()=>{_d.delete(e)}},Rd.play=e=>Od(!0,e),Rd.pause=e=>Od(!1,e);var Kd="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,zd=e=>{let{theme:n,type:r,isLoading:a}=e,s=Gt(e,fd);return t.createElement("svg",(0,_e.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},s))};var Gd={info:function(e){return t.createElement(zd,(0,_e.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(zd,(0,_e.A)({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(zd,(0,_e.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(zd,(0,_e.A)({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Vd(e){let{theme:n,type:r,isLoading:a,icon:s}=e,o=null,i={theme:n,type:r};return!1===s||(gd(s)?o=s((0,_e.A)((0,_e.A)({},i),{},{isLoading:a})):(0,t.isValidElement)(s)?o=(0,t.cloneElement)(s,i):a?o=Gd.spinner():(e=>e in Gd)(r)&&(o=Gd[r](i))),o}var Wd=e=>{let{isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:s,playToast:o}=qd(e),{closeButton:i,children:l,autoClose:c,onClick:A,type:u,hideProgressBar:d,closeToast:h,transition:f,position:p,className:m,style:g,progressClassName:v,updateId:x,role:y,progress:b,rtl:w,toastId:N,deleteToast:B,isIn:j,isLoading:C,closeOnClick:k,theme:E,ariaLabel:S}=e,_=hd("Toastify__toast","Toastify__toast-theme--".concat(E),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":k}),F=gd(m)?m({rtl:w,position:p,type:u,defaultClassName:_}):hd(_,m),U=Vd(e),I=!!b||!c,L={closeToast:h,type:u,theme:E},Q=null;return!1===i||(Q=gd(i)?i(L):(0,t.isValidElement)(i)?(0,t.cloneElement)(i,L):function(e){let{closeToast:n,theme:r,ariaLabel:a="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),t.createElement(f,{isIn:j,done:B,position:p,preventExitTransition:r,nodeRef:a,playToast:o},t.createElement("div",(0,_e.A)((0,_e.A)({id:N,tabIndex:0,onClick:A,"data-in":j,className:F},s),{},{style:g,ref:a},j&&{role:y,"aria-label":S}),null!=U&&t.createElement("div",{className:hd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},U),Nd(l,e,!n),Q,!e.customProgressBar&&t.createElement(Bd,(0,_e.A)((0,_e.A)({},x&&!I?{key:"p-".concat(x)}:{}),{},{rtl:w,theme:E,delay:c,isRunning:n,isIn:j,closeToast:h,hide:d,type:u,className:v,controlledProgress:I,progress:b||0}))))},Xd=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Jd=bd(Xd("bounce",!0)),Yd=(bd(Xd("slide",!0)),bd(Xd("zoom")),bd(Xd("flip")),{position:"top-right",transition:Jd,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Zd(e){let n=(0,_e.A)((0,_e.A)({},Yd),e),r=e.stacked,[a,s]=(0,t.useState)(!0),o=(0,t.useRef)(null),{getToastToRender:i,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:a,setProps:s}=(0,t.useRef)(Pd(e)).current;s(e);let o=null==(n=(0,t.useSyncExternalStore)(r,a,a))?void 0:n.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Id,count:null==o?void 0:o.length}}(n),{className:A,style:u,rtl:d,containerId:h,hotKeys:f}=n;function p(e){let t=hd("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":d});return gd(A)?A({position:e,rtl:d,defaultClassName:t}):hd(t,vd(A))}function m(){r&&(s(!0),Rd.play())}return Kd(()=>{var e;if(r){let t=o.current.querySelectorAll('[data-in="true"]'),r=12,s=null==(e=n.position)?void 0:e.includes("top"),i=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(a)),n.dataset.pos||(n.dataset.pos=s?"top":"bot");let o=i*(a?.2:1)+(a?0:r*t);n.style.setProperty("--y","".concat(s?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(a?l:0))),i+=n.offsetHeight,l+=.025})}},[a,c,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=o.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),s(!1),Rd.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(s(!0),Rd.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),t.createElement("section",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{r&&(s(!1),Rd.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},i((e,n)=>{let a=n.length?(0,_e.A)({},u):(0,_e.A)((0,_e.A)({},u),{},{pointerEvents:"none"});return t.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":r,style:a,key:"c-".concat(e)},n.map(e=>{let{content:n,props:a}=e;return t.createElement(Wd,(0,_e.A)((0,_e.A)({},a),{},{stacked:r,collapseAll:m,isIn:l(a.toastId,a.containerId),key:"t-".concat(a.key)}),n)}))}))}function $d(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=$d(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var eh=n(8443),th=n(3802);const{useDebugValue:nh}=t,{useSyncExternalStoreWithSelector:rh}=eh,ah=e=>e;function sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ah,n=arguments.length>2?arguments[2]:void 0;const r=rh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nh(r),r}const oh=(e,t)=>{const n=(0,th.y)(e),r=function(e){return sh(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function ih(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var lh={value:()=>{}};function ch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ah(r)}function Ah(e){this._=e}function uh(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function dh(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=lh,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ah.prototype=ch.prototype={constructor:Ah,on:function(e,t){var n,r,a=this._,s=(r=a,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),o=-1,i=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<i;)if(n=(e=s[o]).type)a[n]=dh(a[n],e.name,t);else if(null==t)for(n in a)a[n]=dh(a[n],e.name,null);return this}for(;++o<i;)if((n=(e=s[o]).type)&&(n=uh(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ah(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),s=0;s<n;++s)a[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(r=this._[e]).length;s<n;++s)r[s].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};const hh=ch;function fh(){}function ph(e){return null==e?fh:function(){return this.querySelector(e)}}function mh(){return[]}function gh(e){return null==e?mh:function(){return this.querySelectorAll(e)}}function vh(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function xh(e){return function(){return this.matches(e)}}function yh(e){return function(t){return t.matches(e)}}var bh=Array.prototype.find;function wh(){return this.firstElementChild}var Nh=Array.prototype.filter;function Bh(){return Array.from(this.children)}function jh(e){return new Array(e.length)}function Ch(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function kh(e,t,n,r,a,s){for(var o,i=0,l=t.length,c=s.length;i<c;++i)(o=t[i])?(o.__data__=s[i],r[i]=o):n[i]=new Ch(e,s[i]);for(;i<l;++i)(o=t[i])&&(a[i]=o)}function Eh(e,t,n,r,a,s,o){var i,l,c,A=new Map,u=t.length,d=s.length,h=new Array(u);for(i=0;i<u;++i)(l=t[i])&&(h[i]=c=o.call(l,l.__data__,i,t)+"",A.has(c)?a[i]=l:A.set(c,l));for(i=0;i<d;++i)c=o.call(e,s[i],i,s)+"",(l=A.get(c))?(r[i]=l,l.__data__=s[i],A.delete(c)):n[i]=new Ch(e,s[i]);for(i=0;i<u;++i)(l=t[i])&&A.get(h[i])===l&&(a[i]=l)}function Sh(e){return e.__data__}function _h(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Fh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Ch.prototype={constructor:Ch,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Uh="http://www.w3.org/1999/xhtml";const Ih={svg:"http://www.w3.org/2000/svg",xhtml:Uh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lh(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ih.hasOwnProperty(t)?{space:Ih[t],local:e}:e}function Qh(e){return function(){this.removeAttribute(e)}}function Oh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ph(e,t){return function(){this.setAttribute(e,t)}}function Th(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dh(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Mh(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Hh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rh(e){return function(){this.style.removeProperty(e)}}function qh(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kh(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function zh(e,t){return e.style.getPropertyValue(t)||Hh(e).getComputedStyle(e,null).getPropertyValue(t)}function Gh(e){return function(){delete this[e]}}function Vh(e,t){return function(){this[e]=t}}function Wh(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xh(e){return e.trim().split(/^|\s+/)}function Jh(e){return e.classList||new Yh(e)}function Yh(e){this._node=e,this._names=Xh(e.getAttribute("class")||"")}function Zh(e,t){for(var n=Jh(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function $h(e,t){for(var n=Jh(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function ef(e){return function(){Zh(this,e)}}function tf(e){return function(){$h(this,e)}}function nf(e,t){return function(){(t.apply(this,arguments)?Zh:$h)(this,e)}}function rf(){this.textContent=""}function af(e){return function(){this.textContent=e}}function sf(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function of(){this.innerHTML=""}function lf(e){return function(){this.innerHTML=e}}function cf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Af(){this.nextSibling&&this.parentNode.appendChild(this)}function uf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function df(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Uh&&t.documentElement.namespaceURI===Uh?t.createElement(e):t.createElementNS(n,e)}}function hf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ff(e){var t=Lh(e);return(t.local?hf:df)(t)}function pf(){return null}function mf(){var e=this.parentNode;e&&e.removeChild(this)}function gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xf(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,s=t.length;r<s;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function yf(e,t,n){return function(){var r,a=this.__on,s=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var o=0,i=a.length;o<i;++o)if((r=a[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=t);this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},a?a.push(r):this.__on=[r]}}function bf(e,t,n){var r=Hh(e),a=r.CustomEvent;"function"===typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function wf(e,t){return function(){return bf(this,e,t)}}function Nf(e,t){return function(){return bf(this,e,t.apply(this,arguments))}}Yh.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Bf=[null];function jf(e,t){this._groups=e,this._parents=t}function Cf(){return new jf([[document.documentElement]],Bf)}jf.prototype=Cf.prototype={constructor:jf,select:function(e){"function"!==typeof e&&(e=ph(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s,o,i=t[a],l=i.length,c=r[a]=new Array(l),A=0;A<l;++A)(s=i[A])&&(o=e.call(s,s.__data__,A,i))&&("__data__"in s&&(o.__data__=s.__data__),c[A]=o);return new jf(r,this._parents)},selectAll:function(e){e="function"===typeof e?vh(e):gh(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o,i=t[s],l=i.length,c=0;c<l;++c)(o=i[c])&&(r.push(e.call(o,o.__data__,c,i)),a.push(o));return new jf(r,a)},selectChild:function(e){return this.select(null==e?wh:function(e){return function(){return bh.call(this.children,e)}}("function"===typeof e?e:yh(e)))},selectChildren:function(e){return this.selectAll(null==e?Bh:function(e){return function(){return Nh.call(this.children,e)}}("function"===typeof e?e:yh(e)))},filter:function(e){"function"!==typeof e&&(e=xh(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s,o=t[a],i=o.length,l=r[a]=[],c=0;c<i;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new jf(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Sh);var n=t?Eh:kh,r=this._parents,a=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var s=a.length,o=new Array(s),i=new Array(s),l=new Array(s),c=0;c<s;++c){var A=r[c],u=a[c],d=u.length,h=_h(e.call(A,A&&A.__data__,c,r)),f=h.length,p=i[c]=new Array(f),m=o[c]=new Array(f);n(A,u,p,m,l[c]=new Array(d),h,t);for(var g,v,x=0,y=0;x<f;++x)if(g=p[x]){for(x>=y&&(y=x+1);!(v=m[y])&&++y<f;);g._next=v||null}}return(o=new jf(o,r))._enter=i,o._exit=l,o},enter:function(){return new jf(this._enter||this._groups.map(jh),this._parents)},exit:function(){return new jf(this._exit||this._groups.map(jh),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,s=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?s.remove():n(s),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),i=new Array(a),l=0;l<o;++l)for(var c,A=n[l],u=r[l],d=A.length,h=i[l]=new Array(d),f=0;f<d;++f)(c=A[f]||u[f])&&(h[f]=c);for(;l<a;++l)i[l]=n[l];return new jf(i,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],s=a.length-1,o=a[s];--s>=0;)(r=a[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Fh);for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o,i=n[s],l=i.length,c=a[s]=new Array(l),A=0;A<l;++A)(o=i[A])&&(c[A]=o);c.sort(t)}return new jf(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,s=t[n],o=0,i=s.length;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this},attr:function(e,t){var n=Lh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Oh:Qh:"function"===typeof t?n.local?Mh:Dh:n.local?Th:Ph)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Rh:"function"===typeof t?Kh:qh)(e,t,null==n?"":n)):zh(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Gh:"function"===typeof t?Wh:Vh)(e,t)):this.node()[e]},classed:function(e,t){var n=Xh(e+"");if(arguments.length<2){for(var r=Jh(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?nf:t?ef:tf)(n,t))},text:function(e){return arguments.length?this.each(null==e?rf:("function"===typeof e?sf:af)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?of:("function"===typeof e?cf:lf)(e)):this.node().innerHTML},raise:function(){return this.each(Af)},lower:function(){return this.each(uf)},append:function(e){var t="function"===typeof e?e:ff(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:ff(e),r=null==t?pf:"function"===typeof t?t:ph(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(mf)},clone:function(e){return this.select(e?vf:gf)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,s=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),o=s.length;if(!(arguments.length<2)){for(i=t?yf:xf,r=0;r<o;++r)this.each(i(s[r],t,n));return this}var i=this.node().__on;if(i)for(var l,c=0,A=i.length;c<A;++c)for(r=0,l=i[c];r<o;++r)if((a=s[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Nf:wf)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],s=0,o=a.length;s<o;++s)(r=a[s])&&(yield r)}};const kf=Cf;function Ef(e){return"string"===typeof e?new jf([[document.querySelector(e)]],[document.documentElement]):new jf([[e]],Bf)}const Sf={passive:!1},_f={capture:!0,passive:!1};function Ff(e){e.stopImmediatePropagation()}function Uf(e){e.preventDefault(),e.stopImmediatePropagation()}function If(e){var t=e.document.documentElement,n=Ef(e).on("dragstart.drag",Uf,_f);"onselectstart"in t?n.on("selectstart.drag",Uf,_f):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lf(e,t){var n=e.document.documentElement,r=Ef(e).on("dragstart.drag",null);t&&(r.on("click.drag",Uf,_f),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Qf(e){return((e=Math.exp(e))+1/e)/2}const Of=function e(t,n,r){function a(e,a){var s,o,i=e[0],l=e[1],c=e[2],A=a[0],u=a[1],d=a[2],h=A-i,f=u-l,p=h*h+f*f;if(p<1e-12)o=Math.log(d/c)/t,s=function(e){return[i+e*h,l+e*f,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(p),g=(d*d-c*c+r*p)/(2*c*n*m),v=(d*d-c*c-r*p)/(2*d*n*m),x=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);o=(y-x)/t,s=function(e){var r=e*o,a=Qf(x),s=c/(n*m)*(a*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+x)-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[i+s*h,l+s*f,c*a/Qf(t*r+x)]}}return s.duration=1e3*o*t/Math.SQRT2,s}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function Pf(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Tf,Df,Mf=0,Hf=0,Rf=0,qf=0,Kf=0,zf=0,Gf="object"===typeof performance&&performance.now?performance:Date,Vf="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wf(){return Kf||(Vf(Xf),Kf=Gf.now()+zf)}function Xf(){Kf=0}function Jf(){this._call=this._time=this._next=null}function Yf(e,t,n){var r=new Jf;return r.restart(e,t,n),r}function Zf(){Kf=(qf=Gf.now())+zf,Mf=Hf=0;try{!function(){Wf(),++Mf;for(var e,t=Tf;t;)(e=Kf-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mf}()}finally{Mf=0,function(){var e,t,n=Tf,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Tf=t);Df=e,ep(r)}(),Kf=0}}function $f(){var e=Gf.now(),t=e-qf;t>1e3&&(zf-=t,qf=e)}function ep(e){Mf||(Hf&&(Hf=clearTimeout(Hf)),e-Kf>24?(e<1/0&&(Hf=setTimeout(Zf,e-Gf.now()-zf)),Rf&&(Rf=clearInterval(Rf))):(Rf||(qf=Gf.now(),Rf=setInterval($f,1e3)),Mf=1,Vf(Zf)))}function tp(e,t,n){var r=new Jf;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Jf.prototype=Yf.prototype={constructor:Jf,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Wf():+n)+(null==t?0:+t),this._next||Df===this||(Df?Df._next=this:Tf=this,Df=this),this._call=e,this._time=n,ep()},stop:function(){this._call&&(this._call=null,this._time=1/0,ep())}};var np=hh("start","end","cancel","interrupt"),rp=[];function ap(e,t,n,r,a,s){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function s(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(s){var c,A,u,d;if(1!==n.state)return l();for(c in a)if((d=a[c]).name===n.name){if(3===d.state)return tp(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete a[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete a[c])}if(tp(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(u=n.tween.length),c=0,A=-1;c<u;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++A]=d);r.length=A+1}}function i(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=Yf(s,0,n.time)}(e,n,{name:t,index:r,group:a,on:np,tween:rp,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function sp(e,t){var n=ip(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function op(e,t){var n=ip(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ip(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lp(e,t){var n,r,a,s=e.__transition,o=!0;if(s){for(a in t=null==t?null:t+"",s)(n=s[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[a]):o=!1;o&&delete e.__transition}}function cp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ap,up=180/Math.PI,dp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hp(e,t,n,r,a,s){var o,i,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*up,skewX:Math.atan(l)*up,scaleX:o,scaleY:i}}function fp(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(s,o){var i=[],l=[];return s=e(s),o=e(o),function(e,r,a,s,o,i){if(e!==a||r!==s){var l=o.push("translate(",null,t,null,n);i.push({i:l-4,x:cp(e,a)},{i:l-2,x:cp(r,s)})}else(a||s)&&o.push("translate("+a+t+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,i,l),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(a(n)+"rotate(",null,r)-2,x:cp(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(s.rotate,o.rotate,i,l),function(e,t,n,s){e!==t?s.push({i:n.push(a(n)+"skewX(",null,r)-2,x:cp(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(s.skewX,o.skewX,i,l),function(e,t,n,r,s,o){if(e!==n||t!==r){var i=s.push(a(s)+"scale(",null,",",null,")");o.push({i:i-4,x:cp(e,n)},{i:i-2,x:cp(t,r)})}else 1===n&&1===r||s.push(a(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,i,l),s=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)i[(t=l[n]).i]=t.x(e);return i.join("")}}}var pp=fp(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?dp:hp(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),mp=fp(function(e){return null==e?dp:(Ap||(Ap=document.createElementNS("http://www.w3.org/2000/svg","g")),Ap.setAttribute("transform",e),(e=Ap.transform.baseVal.consolidate())?hp((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):dp)},", ",")",")");function gp(e,t){var n,r;return function(){var a=op(this,e),s=a.tween;if(s!==n)for(var o=0,i=(r=n=s).length;o<i;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}a.tween=r}}function vp(e,t,n){var r,a;if("function"!==typeof n)throw new Error;return function(){var s=op(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var i={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=i;break}l===c&&a.push(i)}s.tween=a}}function xp(e,t,n){var r=e._id;return e.each(function(){var e=op(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return ip(e,r).value[t]}}function yp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bp(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wp(){}var Np=.7,Bp=1/Np,jp="\\s*([+-]?\\d+)\\s*",Cp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ep=/^#([0-9a-f]{3,8})$/,Sp=new RegExp("^rgb\\(".concat(jp,",").concat(jp,",").concat(jp,"\\)$")),_p=new RegExp("^rgb\\(".concat(kp,",").concat(kp,",").concat(kp,"\\)$")),Fp=new RegExp("^rgba\\(".concat(jp,",").concat(jp,",").concat(jp,",").concat(Cp,"\\)$")),Up=new RegExp("^rgba\\(".concat(kp,",").concat(kp,",").concat(kp,",").concat(Cp,"\\)$")),Ip=new RegExp("^hsl\\(".concat(Cp,",").concat(kp,",").concat(kp,"\\)$")),Lp=new RegExp("^hsla\\(".concat(Cp,",").concat(kp,",").concat(kp,",").concat(Cp,"\\)$")),Qp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Op(){return this.rgb().formatHex()}function Pp(){return this.rgb().formatRgb()}function Tp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ep.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Dp(t):3===n?new Rp(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Mp(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Mp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Sp.exec(e))?new Rp(t[1],t[2],t[3],1):(t=_p.exec(e))?new Rp(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Fp.exec(e))?Mp(t[1],t[2],t[3],t[4]):(t=Up.exec(e))?Mp(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ip.exec(e))?Wp(t[1],t[2]/100,t[3]/100,1):(t=Lp.exec(e))?Wp(t[1],t[2]/100,t[3]/100,t[4]):Qp.hasOwnProperty(e)?Dp(Qp[e]):"transparent"===e?new Rp(NaN,NaN,NaN,0):null}function Dp(e){return new Rp(e>>16&255,e>>8&255,255&e,1)}function Mp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rp(e,t,n,r)}function Hp(e,t,n,r){return 1===arguments.length?function(e){return e instanceof wp||(e=Tp(e)),e?new Rp((e=e.rgb()).r,e.g,e.b,e.opacity):new Rp}(e):new Rp(e,t,n,null==r?1:r)}function Rp(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function qp(){return"#".concat(Vp(this.r)).concat(Vp(this.g)).concat(Vp(this.b))}function Kp(){const e=zp(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Gp(this.r),", ").concat(Gp(this.g),", ").concat(Gp(this.b)).concat(1===e?")":", ".concat(e,")"))}function zp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vp(e){return((e=Gp(e))<16?"0":"")+e.toString(16)}function Wp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jp(e,t,n,r)}function Xp(e){if(e instanceof Jp)return new Jp(e.h,e.s,e.l,e.opacity);if(e instanceof wp||(e=Tp(e)),!e)return new Jp;if(e instanceof Jp)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,i=s-a,l=(s+a)/2;return i?(o=t===s?(n-r)/i+6*(n<r):n===s?(r-t)/i+2:(t-n)/i+4,i/=l<.5?s+a:2-s-a,o*=60):i=l>0&&l<1?0:o,new Jp(o,i,l,e.opacity)}function Jp(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yp(e){return(e=(e||0)%360)<0?e+360:e}function Zp(e){return Math.max(0,Math.min(1,e||0))}function $p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function em(e,t,n,r,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*a)/6}yp(wp,Tp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Op,formatHex:Op,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xp(this).formatHsl()},formatRgb:Pp,toString:Pp}),yp(Rp,Hp,bp(wp,{brighter(e){return e=null==e?Bp:Math.pow(Bp,e),new Rp(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Np:Math.pow(Np,e),new Rp(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rp(Gp(this.r),Gp(this.g),Gp(this.b),zp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qp,formatHex:qp,formatHex8:function(){return"#".concat(Vp(this.r)).concat(Vp(this.g)).concat(Vp(this.b)).concat(Vp(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Kp,toString:Kp})),yp(Jp,function(e,t,n,r){return 1===arguments.length?Xp(e):new Jp(e,t,n,null==r?1:r)},bp(wp,{brighter(e){return e=null==e?Bp:Math.pow(Bp,e),new Jp(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Np:Math.pow(Np,e),new Jp(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Rp($p(e>=240?e-240:e+120,a,r),$p(e,a,r),$p(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Jp(Yp(this.h),Zp(this.s),Zp(this.l),zp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zp(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Yp(this.h),", ").concat(100*Zp(this.s),"%, ").concat(100*Zp(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const tm=e=>()=>e;function nm(e,t){return function(n){return e+n*t}}function rm(e){return 1===(e=+e)?am:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):tm(isNaN(t)?n:t)}}function am(e,t){var n=t-e;return n?nm(e,n):tm(isNaN(e)?t:e)}const sm=function e(t){var n=rm(t);function r(e,t){var r=n((e=Hp(e)).r,(t=Hp(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),o=am(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function om(e){return function(t){var n,r,a=t.length,s=new Array(a),o=new Array(a),i=new Array(a);for(n=0;n<a;++n)r=Hp(t[n]),s[n]=r.r||0,o[n]=r.g||0,i[n]=r.b||0;return s=e(s),o=e(o),i=e(i),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=i(e),r+""}}}om(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,i=r<t-1?e[r+2]:2*s-a;return em((n-r/t)*t,o,a,s,i)}}),om(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],i=e[(r+2)%t];return em((n-r/t)*t,a,s,o,i)}});var im=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lm=new RegExp(im.source,"g");function cm(e,t){var n,r,a,s=im.lastIndex=lm.lastIndex=0,o=-1,i=[],l=[];for(e+="",t+="";(n=im.exec(e))&&(r=lm.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),i[o]?i[o]+=a:i[++o]=a),(n=n[0])===(r=r[0])?i[o]?i[o]+=r:i[++o]=r:(i[++o]=null,l.push({i:o,x:cp(n,r)})),s=lm.lastIndex;return s<t.length&&(a=t.slice(s),i[o]?i[o]+=a:i[++o]=a),i.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)i[(n=l[r]).i]=n.x(e);return i.join("")})}function Am(e,t){var n;return("number"===typeof t?cp:t instanceof Tp?sm:(n=Tp(t))?(t=n,sm):cm)(e,t)}function um(e){return function(){this.removeAttribute(e)}}function dm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hm(e,t,n){var r,a,s=n+"";return function(){var o=this.getAttribute(e);return o===s?null:o===r?a:a=t(r=o,n)}}function fm(e,t,n){var r,a,s=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?a:a=t(r=o,n)}}function pm(e,t,n){var r,a,s;return function(){var o,i,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(i=l+"")?null:o===r&&i===a?s:(a=i,s=t(r=o,l));this.removeAttribute(e)}}function mm(e,t,n){var r,a,s;return function(){var o,i,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(i=l+"")?null:o===r&&i===a?s:(a=i,s=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function gm(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,a)),n}return a._value=t,a}function vm(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,a)),n}return a._value=t,a}function xm(e,t){return function(){sp(this,e).delay=+t.apply(this,arguments)}}function ym(e,t){return t=+t,function(){sp(this,e).delay=t}}function bm(e,t){return function(){op(this,e).duration=+t.apply(this,arguments)}}function wm(e,t){return t=+t,function(){op(this,e).duration=t}}var Nm=kf.prototype.constructor;function Bm(e){return function(){this.style.removeProperty(e)}}var jm=0;function Cm(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function km(){return++jm}var Em=kf.prototype;Cm.prototype=function(e){return kf().transition(e)}.prototype={constructor:Cm,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ph(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var i,l,c=r[o],A=c.length,u=s[o]=new Array(A),d=0;d<A;++d)(i=c[d])&&(l=e.call(i,i.__data__,d,c))&&("__data__"in i&&(l.__data__=i.__data__),u[d]=l,ap(u[d],t,n,d,u,ip(i,n)));return new Cm(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=gh(e));for(var r=this._groups,a=r.length,s=[],o=[],i=0;i<a;++i)for(var l,c=r[i],A=c.length,u=0;u<A;++u)if(l=c[u]){for(var d,h=e.call(l,l.__data__,u,c),f=ip(l,n),p=0,m=h.length;p<m;++p)(d=h[p])&&ap(d,t,n,p,h,f);s.push(h),o.push(l)}return new Cm(s,o,t,n)},selectChild:Em.selectChild,selectChildren:Em.selectChildren,filter:function(e){"function"!==typeof e&&(e=xh(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s,o=t[a],i=o.length,l=r[a]=[],c=0;c<i;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new Cm(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),i=0;i<s;++i)for(var l,c=t[i],A=n[i],u=c.length,d=o[i]=new Array(u),h=0;h<u;++h)(l=c[h]||A[h])&&(d[h]=l);for(;i<r;++i)o[i]=t[i];return new Cm(o,this._parents,this._name,this._id)},selection:function(){return new Nm(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=km(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o,i=r[s],l=i.length,c=0;c<l;++c)if(o=i[c]){var A=ip(o,t);ap(o,e,n,c,i,{time:A.time+A.delay+A.duration,delay:0,duration:A.duration,ease:A.ease})}return new Cm(r,this._parents,e,n)},call:Em.call,nodes:Em.nodes,node:Em.node,size:Em.size,empty:Em.empty,each:Em.each,on:function(e,t){var n=this._id;return arguments.length<2?ip(this.node(),n).on.on(e):this.each(function(e,t,n){var r,a,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?sp:op;return function(){var o=s(this,e),i=o.on;i!==r&&(a=(r=i).copy()).on(t,n),o.on=a}}(n,e,t))},attr:function(e,t){var n=Lh(e),r="transform"===n?mp:Am;return this.attrTween(e,"function"===typeof t?(n.local?mm:pm)(n,r,xp(this,"attr."+e,t)):null==t?(n.local?dm:um)(n):(n.local?fm:hm)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Lh(e);return this.tween(n,(r.local?gm:vm)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?pp:Am;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var s=zh(this,e),o=(this.style.removeProperty(e),zh(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}(e,r)).on("end.style."+e,Bm(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,a,s;return function(){var o=zh(this,e),i=n(this),l=i+"";return null==i&&(this.style.removeProperty(e),l=i=zh(this,e)),o===l?null:o===r&&l===a?s:(a=l,s=t(r=o,i))}}(e,r,xp(this,"style."+e,t))).each(function(e,t){var n,r,a,s,o="style."+t,i="end."+o;return function(){var l=op(this,e),c=l.on,A=null==l.value[o]?s||(s=Bm(t)):void 0;c===n&&a===A||(r=(n=c).copy()).on(i,a=A),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,s=n+"";return function(){var o=zh(this,e);return o===s?null:o===r?a:a=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,a;function s(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return s._value=t,s}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(xp(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=ip(this.node(),n).tween,s=0,o=a.length;s<o;++s)if((r=a[s]).name===e)return r.value;return null}return this.each((null==t?gp:vp)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?xm:ym)(t,e)):ip(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?bm:wm)(t,e)):ip(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){op(this,e).ease=t}}(t,e)):ip(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;op(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var i={value:o},l={value:function(){0===--a&&s()}};n.each(function(){var n=op(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),n.on=t}),0===a&&s()})},[Symbol.iterator]:Em[Symbol.iterator]};var Sm={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _m(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}kf.prototype.interrupt=function(e){return this.each(function(){lp(this,e)})},kf.prototype.transition=function(e){var t,n;e instanceof Cm?(t=e._id,e=e._name):(t=km(),(n=Sm).time=Wf(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o,i=r[s],l=i.length,c=0;c<l;++c)(o=i[c])&&ap(o,e,t,c,i,n||_m(o,t));return new Cm(r,this._parents,e,t)};const Fm=e=>()=>e;function Um(e,t){let{sourceEvent:n,target:r,transform:a,dispatch:s}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function Im(e,t,n){this.k=e,this.x=t,this.y=n}Im.prototype={constructor:Im,scale:function(e){return 1===e?this:new Im(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Im(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lm=new Im(1,0,0);function Qm(e){e.stopImmediatePropagation()}function Om(e){e.preventDefault(),e.stopImmediatePropagation()}function Pm(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Tm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Dm(){return this.__zoom||Lm}function Mm(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Hm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rm(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qm(){var e,t,n,r=Pm,a=Tm,s=Rm,o=Mm,i=Hm,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],A=250,u=Of,d=hh("start","zoom","end"),h=0,f=10;function p(e){e.property("__zoom",Dm).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Im(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new Im(e.k,r,a)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){y(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,s=arguments,o=y(e,s).event(r),i=a.apply(e,s),l=null==n?v(i):"function"===typeof n?n.apply(e,s):n,c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),A=e.__zoom,d="function"===typeof t?t.apply(e,s):t,h=u(A.invert(l).concat(c/A.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=c/t[2];e=new Im(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function y(e,t,n){return!n&&e.__zooming||new b(e,t)}function b(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var i=y(this,n).event(e),A=this.__zoom,u=Math.max(l[0],Math.min(l[1],A.k*Math.pow(2,o.apply(this,arguments)))),d=Pf(e);if(i.wheel)i.mouse[0][0]===d[0]&&i.mouse[0][1]===d[1]||(i.mouse[1]=A.invert(i.mouse[0]=d)),clearTimeout(i.wheel);else{if(A.k===u)return;i.mouse=[d,A.invert(d)],lp(this),i.start()}Om(e),i.wheel=setTimeout(function(){i.wheel=null,i.end()},150),i.zoom("mouse",s(g(m(A,u),i.mouse[0],i.mouse[1]),i.extent,c))}}function N(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var i=e.currentTarget,l=y(this,a,!0).event(e),A=Ef(e.view).on("mousemove.zoom",function(e){if(Om(e),!l.moved){var t=e.clientX-d,n=e.clientY-f;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",s(g(l.that.__zoom,l.mouse[0]=Pf(e,i),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){A.on("mousemove.zoom mouseup.zoom",null),Lf(e.view,l.moved),Om(e),l.event(e).end()},!0),u=Pf(e,i),d=e.clientX,f=e.clientY;If(e.view),Qm(e),l.mouse=[u,this.__zoom.invert(u)],lp(this),l.start()}}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var i=this.__zoom,l=Pf(e.changedTouches?e.changedTouches[0]:e,this),u=i.invert(l),d=i.k*(e.shiftKey?.5:2),h=s(g(m(i,d),l,u),a.apply(this,n),c);Om(e),A>0?Ef(this).transition().duration(A).call(x,h,l,e):Ef(this).call(p.transform,h,l,e)}}function j(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if(r.apply(this,arguments)){var i,l,c,A,u=n.touches,d=u.length,h=y(this,s,n.changedTouches.length===d).event(n);for(Qm(n),l=0;l<d;++l)A=[A=Pf(c=u[l],this),this.__zoom.invert(A),c.identifier],h.touch0?h.touch1||h.touch0[2]===A[2]||(h.touch1=A,h.taps=0):(h.touch0=A,i=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(h.taps<2&&(t=A[0],e=setTimeout(function(){e=null},500)),lp(this),h.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,i,l,A=y(this,n).event(e),u=e.changedTouches,d=u.length;for(Om(e),a=0;a<d;++a)i=Pf(o=u[a],this),A.touch0&&A.touch0[2]===o.identifier?A.touch0[0]=i:A.touch1&&A.touch1[2]===o.identifier&&(A.touch1[0]=i);if(o=A.that.__zoom,A.touch1){var h=A.touch0[0],f=A.touch0[1],p=A.touch1[0],v=A.touch1[1],x=(x=p[0]-h[0])*x+(x=p[1]-h[1])*x,b=(b=v[0]-f[0])*b+(b=v[1]-f[1])*b;o=m(o,Math.sqrt(x/b)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],l=[(f[0]+v[0])/2,(f[1]+v[1])/2]}else{if(!A.touch0)return;i=A.touch0[0],l=A.touch0[1]}A.zoom("touch",s(g(o,i,l),A.extent,c))}}function k(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];if(this.__zooming){var o,i,l=y(this,a).event(e),c=e.changedTouches,A=c.length;for(Qm(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<A;++o)i=c[o],l.touch0&&l.touch0[2]===i.identifier?delete l.touch0:l.touch1&&l.touch1[2]===i.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(i=Pf(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<f)){var u=Ef(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return p.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",Dm),e!==a?x(e,t,n,r):a.interrupt().each(function(){y(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},p.scaleBy=function(e,t,n,r){p.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},p.scaleTo=function(e,t,n,r){p.transform(e,function(){var e=a.apply(this,arguments),r=this.__zoom,o=null==n?v(e):"function"===typeof n?n.apply(this,arguments):n,i=r.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return s(g(m(r,l),o,i),e,c)},n,r)},p.translateBy=function(e,t,n,r){p.transform(e,function(){return s(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),a.apply(this,arguments),c)},null,r)},p.translateTo=function(e,t,n,r,o){p.transform(e,function(){var e=a.apply(this,arguments),o=this.__zoom,i=null==r?v(e):"function"===typeof r?r.apply(this,arguments):r;return s(Lm.translate(i[0],i[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,o)},b.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ef(this.that).datum();d.call(e,this.that,new Um(e,{sourceEvent:this.sourceEvent,target:p,type:e,transform:this.that.__zoom,dispatch:d}),t)}},p.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Fm(+e),p):o},p.filter=function(e){return arguments.length?(r="function"===typeof e?e:Fm(!!e),p):r},p.touchable=function(e){return arguments.length?(i="function"===typeof e?e:Fm(!!e),p):i},p.extent=function(e){return arguments.length?(a="function"===typeof e?e:Fm([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):a},p.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],p):[l[0],l[1]]},p.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],p):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},p.constrain=function(e){return arguments.length?(s=e,p):s},p.duration=function(e){return arguments.length?(A=+e,p):A},p.interpolate=function(e){return arguments.length?(u=e,p):u},p.on=function(){var e=d.on.apply(d,arguments);return e===d?p:e},p.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,p):Math.sqrt(h)},p.tapDistance=function(e){return arguments.length?(f=+e,p):f},p}Im.prototype;const Km=e=>()=>e;function zm(e,t){let{sourceEvent:n,subject:r,target:a,identifier:s,active:o,x:i,y:l,dx:c,dy:A,dispatch:u}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:u}})}function Gm(e){return!e.ctrlKey&&!e.button}function Vm(){return this.parentNode}function Wm(e,t){return null==t?{x:e.x,y:e.y}:t}function Xm(){return navigator.maxTouchPoints||"ontouchstart"in this}zm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const Jm=["position","children","className","style"],Ym=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],Zm=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],$m=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],eg=(0,t.createContext)(null),tg=eg.Provider,ng=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),rg=()=>"The React Flow parent container needs a width and a height to render the graph.",ag=()=>"Only child nodes can use a parent extent.",sg=()=>"Can't create edge. An edge needs a source and a target.",og=e=>'Marker type "'.concat(e,"\" doesn't exist."),ig=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),lg=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",cg=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),Ag=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),ug=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function dg(e,n){const r=(0,t.useContext)(eg);if(null===r)throw new Error(ug);return sh(r,e,n)}const hg=()=>{const e=(0,t.useContext)(eg);if(null===e)throw new Error(ug);return(0,t.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},fg=e=>e.userSelectionActive?"none":"all";function pg(e){let{position:n,children:r,className:a,style:s}=e,o=Gt(e,Jm);const i=dg(fg),l="".concat(n).split("-");return t.createElement("div",(0,_e.A)({className:$d(["react-flow__panel",a,...l]),style:(0,_e.A)((0,_e.A)({},s),{},{pointerEvents:i})},o),r)}function mg(e){let{proOptions:n,position:r="bottom-right"}=e;return null!==n&&void 0!==n&&n.hideAttribution?null:t.createElement(pg,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},t.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var gg=(0,t.memo)(e=>{let{x:n,y:r,label:a,labelStyle:s={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:A,className:u}=e,d=Gt(e,Ym);const h=(0,t.useRef)(null),[f,p]=(0,t.useState)({x:0,y:0,width:0,height:0}),m=$d(["react-flow__edge-textwrapper",u]);return(0,t.useEffect)(()=>{if(h.current){const e=h.current.getBBox();p({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),"undefined"!==typeof a&&a?t.createElement("g",(0,_e.A)({transform:"translate(".concat(n-f.width/2," ").concat(r-f.height/2,")"),className:m,visibility:f.width?"visible":"hidden"},d),o&&t.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),t.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:s},a),A):null});const vg=e=>({width:e.offsetWidth,height:e.offsetHeight}),xg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},yg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:xg(e.x,t[0][0],t[1][0]),y:xg(e.y,t[0][1],t[1][1])}},bg=(e,t,n)=>e<t?xg(Math.abs(e-t),1,50)/50:e>n?-xg(Math.abs(e-n),1,50)/50:0,wg=(e,t)=>[20*bg(e.x,35,t.width-35),20*bg(e.y,35,t.height-35)],Ng=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Bg=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jg=e=>{let{x:t,y:n,width:r,height:a}=e;return{x:t,y:n,x2:t+r,y2:n+a}},Cg=e=>{let{x:t,y:n,x2:r,y2:a}=e;return{x:t,y:n,width:r-t,height:a-n}},kg=e=>(0,_e.A)((0,_e.A)({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Eg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Sg=e=>!isNaN(e)&&isFinite(e),_g=Symbol.for("internals"),Fg=["Enter"," ","Escape"],Ug=(e,t)=>{0};function Ig(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const Lg=e=>"clientX"in e,Qg=(e,t)=>{var n,r,a,s;const o=Lg(e),i=o?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=o?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:i-(null!==(a=null===t||void 0===t?void 0:t.left)&&void 0!==a?a:0),y:l-(null!==(s=null===t||void 0===t?void 0:t.top)&&void 0!==s?s:0)}},Og=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},Pg=e=>{let{id:n,path:r,labelX:a,labelY:s,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p=20}=e;return t.createElement(t.Fragment,null,t.createElement("path",{id:n,style:d,d:r,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&t.createElement("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),o&&Sg(a)&&Sg(s)?t.createElement(gg,{x:a,y:s,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u}):null)};Pg.displayName="BaseEdge";function Tg(e,t,n){return void 0===n?n:r=>{const a=t().edges.find(t=>t.id===e);a&&n(r,(0,_e.A)({},a))}}function Dg(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const s=Math.abs(r-t)/2,o=r<t?r+s:r-s,i=Math.abs(a-n)/2;return[o,a<n?a+i:a-i,s,i]}function Mg(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:l}=e;const c=.125*t+.375*s+.375*i+.125*r,A=.125*n+.375*o+.375*l+.125*a;return[c,A,Math.abs(c-t),Math.abs(A-n)]}var Hg,Rg,qg,Kg,zg,Gg;function Vg(e){let{pos:t,x1:n,y1:r,x2:a,y2:s}=e;return t===Gg.Left||t===Gg.Right?[.5*(n+a),r]:[n,.5*(r+s)]}function Wg(e){let{sourceX:t,sourceY:n,sourcePosition:r=Gg.Bottom,targetX:a,targetY:s,targetPosition:o=Gg.Top}=e;const[i,l]=Vg({pos:r,x1:t,y1:n,x2:a,y2:s}),[c,A]=Vg({pos:o,x1:a,y1:s,x2:t,y2:n}),[u,d,h,f]=Mg({sourceX:t,sourceY:n,targetX:a,targetY:s,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:A});return["M".concat(t,",").concat(n," C").concat(i,",").concat(l," ").concat(c,",").concat(A," ").concat(a,",").concat(s),u,d,h,f]}!function(e){e.Strict="strict",e.Loose="loose"}(Hg||(Hg={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Rg||(Rg={})),function(e){e.Partial="partial",e.Full="full"}(qg||(qg={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Kg||(Kg={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(zg||(zg={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Gg||(Gg={}));const Xg=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:s,sourcePosition:o=Gg.Bottom,targetPosition:i=Gg.Top,label:l,labelStyle:c,labelShowBg:A,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g}=e;const[v,x,y]=Wg({sourceX:n,sourceY:r,sourcePosition:o,targetX:a,targetY:s,targetPosition:i});return t.createElement(Pg,{path:v,labelX:x,labelY:y,label:l,labelStyle:c,labelShowBg:A,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g})});Xg.displayName="SimpleBezierEdge";const Jg={[Gg.Left]:{x:-1,y:0},[Gg.Right]:{x:1,y:0},[Gg.Top]:{x:0,y:-1},[Gg.Bottom]:{x:0,y:1}},Yg=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Zg(e){let{source:t,sourcePosition:n=Gg.Bottom,target:r,targetPosition:a=Gg.Top,center:s,offset:o}=e;const i=Jg[n],l=Jg[a],c={x:t.x+i.x*o,y:t.y+i.y*o},A={x:r.x+l.x*o,y:r.y+l.y*o},u=(e=>{let{source:t,sourcePosition:n=Gg.Bottom,target:r}=e;return n===Gg.Left||n===Gg.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:A}),d=0!==u.x?"x":"y",h=u[d];let f,p,m=[];const g={x:0,y:0},v={x:0,y:0},[x,y,b,w]=Dg({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(i[d]*l[d]===-1){var N,B;f=null!==(N=s.x)&&void 0!==N?N:x,p=null!==(B=s.y)&&void 0!==B?B:y;const e=[{x:f,y:c.y},{x:f,y:A.y}],t=[{x:c.x,y:p},{x:A.x,y:p}];m=i[d]===h?"x"===d?e:t:"x"===d?t:e}else{const e=[{x:c.x,y:A.y}],s=[{x:A.x,y:c.y}];if(m="x"===d?i.x===h?s:e:i.y===h?e:s,n===a){const e=Math.abs(t[d]-r[d]);if(e<=o){const n=Math.min(o-1,o-e);i[d]===h?g[d]=(c[d]>t[d]?-1:1)*n:v[d]=(A[d]>r[d]?-1:1)*n}}if(n!==a){const t="x"===d?"y":"x",n=i[d]===l[t],r=c[t]>A[t],a=c[t]<A[t];(1===i[d]&&(!n&&r||n&&a)||1!==i[d]&&(!n&&a||n&&r))&&(m="x"===d?e:s)}const u={x:c.x+g.x,y:c.y+g.y},x={x:A.x+v.x,y:A.y+v.y};Math.max(Math.abs(u.x-m[0].x),Math.abs(x.x-m[0].x))>=Math.max(Math.abs(u.y-m[0].y),Math.abs(x.y-m[0].y))?(f=(u.x+x.x)/2,p=m[0].y):(f=m[0].x,p=(u.y+x.y)/2)}return[[t,{x:c.x+g.x,y:c.y+g.y},...m,{x:A.x+v.x,y:A.y+v.y},r],f,p,b,w]}function $g(e){let{sourceX:t,sourceY:n,sourcePosition:r=Gg.Bottom,targetX:a,targetY:s,targetPosition:o=Gg.Top,borderRadius:i=5,centerX:l,centerY:c,offset:A=20}=e;const[u,d,h,f,p]=Zg({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:s},targetPosition:o,center:{x:l,y:c},offset:A}),m=u.reduce((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const a=Math.min(Yg(e,t)/2,Yg(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return"L".concat(s," ").concat(o);if(e.y===o){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(s+a*t,",").concat(o,"Q ").concat(s,",").concat(o," ").concat(s,",").concat(o+a*r)}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(s,",").concat(o+a*l,"Q ").concat(s,",").concat(o," ").concat(s+a*i,",").concat(o)}(u[n-1],t,u[n+1],i):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r},"");return[m,d,h,f,p]}const ev=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:s,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u,style:d,sourcePosition:h=Gg.Bottom,targetPosition:f=Gg.Top,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:v}=e;const[x,y,b]=$g({sourceX:n,sourceY:r,sourcePosition:h,targetX:a,targetY:s,targetPosition:f,borderRadius:null===g||void 0===g?void 0:g.borderRadius,offset:null===g||void 0===g?void 0:g.offset});return t.createElement(Pg,{path:x,labelX:y,labelY:b,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:v})});ev.displayName="SmoothStepEdge";const tv=(0,t.memo)(e=>{var n;return t.createElement(ev,(0,_e.A)((0,_e.A)({},e),{},{pathOptions:(0,t.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(n=e.pathOptions)||void 0===n?void 0:n.offset])}))});tv.displayName="StepEdge";const nv=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:s,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p}=e;const[m,g,v]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const[s,o,i,l]=Dg({sourceX:t,sourceY:n,targetX:r,targetY:a});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(a),s,o,i,l]}({sourceX:n,sourceY:r,targetX:a,targetY:s});return t.createElement(Pg,{path:m,labelX:g,labelY:v,label:o,labelStyle:i,labelShowBg:l,labelBgStyle:c,labelBgPadding:A,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})});function rv(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function av(e){let{pos:t,x1:n,y1:r,x2:a,y2:s,c:o}=e;switch(t){case Gg.Left:return[n-rv(n-a,o),r];case Gg.Right:return[n+rv(a-n,o),r];case Gg.Top:return[n,r-rv(r-s,o)];case Gg.Bottom:return[n,r+rv(s-r,o)]}}function sv(e){let{sourceX:t,sourceY:n,sourcePosition:r=Gg.Bottom,targetX:a,targetY:s,targetPosition:o=Gg.Top,curvature:i=.25}=e;const[l,c]=av({pos:r,x1:t,y1:n,x2:a,y2:s,c:i}),[A,u]=av({pos:o,x1:a,y1:s,x2:t,y2:n,c:i}),[d,h,f,p]=Mg({sourceX:t,sourceY:n,targetX:a,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:A,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(A,",").concat(u," ").concat(a,",").concat(s),d,h,f,p]}nv.displayName="StraightEdge";const ov=(0,t.memo)(e=>{let{sourceX:n,sourceY:r,targetX:a,targetY:s,sourcePosition:o=Gg.Bottom,targetPosition:i=Gg.Top,label:l,labelStyle:c,labelShowBg:A,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:v}=e;const[x,y,b]=sv({sourceX:n,sourceY:r,sourcePosition:o,targetX:a,targetY:s,targetPosition:i,curvature:null===g||void 0===g?void 0:g.curvature});return t.createElement(Pg,{path:x,labelX:y,labelY:b,label:l,labelStyle:c,labelShowBg:A,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:v})});ov.displayName="BezierEdge";const iv=(0,t.createContext)(null),lv=iv.Provider;iv.Consumer;const cv=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:a}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(a||"")},Av=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},uv=(e,t,n,r)=>{let{x:a,y:s}=e,[o,i,l]=t,[c,A]=r;const u={x:(a-o)/l,y:(s-i)/l};return n?{x:c*Math.round(u.x/c),y:A*Math.round(u.y/A)}:u},dv=(e,t)=>{let{x:n,y:r}=e,[a,s,o]=t;return{x:n*o+a,y:r*o+s}},hv=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const a=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],s=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],o={x:e.position.x-a,y:e.position.y-s};return(0,_e.A)((0,_e.A)({},o),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-s}:o})},fv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:a}=hv(n,t).positionAbsolute;return Bg(e,jg({x:r,y:a,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cg(n)},pv=function(e,t){let[n,r,a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:a=!1}=e;if(o&&!r||a)return!1;const{positionAbsolute:A}=hv(e,i),u={x:A.x,y:A.y,width:t||0,height:n||0},d=Eg(l,u);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||s&&d>0||d>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},mv=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},gv=function(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const o=t/(e.width*(1+s)),i=n/(e.height*(1+s)),l=Math.min(o,i),c=xg(l,r,a);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},vv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function xv(e,t,n,r){return(t[n]||[]).reduce((t,a)=>{var s,o,i,l;"".concat(e.id,"-").concat(a.id,"-").concat(n)!==r&&t.push({id:a.id||null,type:n,nodeId:e.id,x:(null!==(s=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==s?s:0)+a.x+a.width/2,y:(null!==(i=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+a.y+a.height/2});return t},[])}const yv={source:null,target:null,sourceHandle:null,targetHandle:null},bv=()=>({handleDomNode:null,isValid:!1,connection:yv,endHandle:null});function wv(e,t,n,r,a,s,o){const i="target"===a,l=o.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=(0,_e.A)((0,_e.A)({},bv()),{},{handleDomNode:l});if(l){const e=Nv(void 0,l),a=l.getAttribute("data-nodeid"),o=l.getAttribute("data-handleid"),A=l.classList.contains("connectable"),u=l.classList.contains("connectableend"),d={source:i?a:n,sourceHandle:i?o:r,target:i?n:a,targetHandle:i?r:o};c.connection=d;A&&u&&(t===Hg.Strict?i&&"source"===e||!i&&"target"===e:a!==n||o!==r)&&(c.endHandle={nodeId:a,handleId:o,type:e},c.isValid=s(d))}return c}function Nv(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Bv(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function jv(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Cv(e){let{event:t,handleId:n,nodeId:r,onConnect:a,isTarget:s,getState:o,setState:i,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:A}=e;const u=Ng(t.target),{connectionMode:d,domNode:h,autoPanOnConnect:f,connectionRadius:p,onConnectStart:m,panBy:g,getNodes:v,cancelConnection:x}=o();let y,b=0;const{x:w,y:N}=Qg(t),B=null===u||void 0===u?void 0:u.elementFromPoint(w,N),j=Nv(c,B),C=null===h||void 0===h?void 0:h.getBoundingClientRect();if(!C||!j)return;let k,E=Qg(t,C),S=!1,_=null,F=!1,U=null;const I=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:a}=e;return t.reduce((e,t)=>{if(t[_g]){const{handleBounds:s}=t[_g];let o=[],i=[];s&&(o=xv(t,s,"source","".concat(n,"-").concat(r,"-").concat(a)),i=xv(t,s,"target","".concat(n,"-").concat(r,"-").concat(a))),e.push(...o,...i)}return e},[])}({nodes:v(),nodeId:r,handleId:n,handleType:j}),L=()=>{if(!f)return;const[e,t]=wg(E,C);g({x:e,y:t}),b=requestAnimationFrame(L)};function Q(e){const{transform:t}=o();E=Qg(e,C);const{handle:a,validHandleResult:c}=function(e,t,n,r,a,s){const{x:o,y:i}=Qg(e),l=t.elementsFromPoint(o,i).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=Nv(void 0,l),r=l.getAttribute("data-handleid"),o=s({nodeId:e,id:r,type:t});if(o){const s=a.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null===s||void 0===s?void 0:s.x)||n.x,y:(null===s||void 0===s?void 0:s.y)||n.y},validHandleResult:o}}}}let c=[],A=1/0;if(a.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=s(e);t<=A&&(t<A?c=[{handle:e,validHandleResult:n}]:t===A&&c.push({handle:e,validHandleResult:n}),A=t)}}),!c.length)return{handle:null,validHandleResult:bv()};if(1===c.length)return c[0];const u=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),d=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return d?"target"===t.type:!u||n.isValid})||c[0]}(e,u,uv(E,t,!1,[1,1]),p,I,e=>wv(e,d,r,n,s?"target":"source",l,u));if(y=a,S||(L(),S=!0),U=c.handleDomNode,_=c.connection,F=c.isValid,i({connectionPosition:y&&F?dv({x:y.x,y:y.y},t):E,connectionStatus:jv(!!y,F),connectionEndHandle:c.endHandle}),!y&&!F&&!U)return Bv(k);_.source!==_.target&&U&&(Bv(k),k=U,U.classList.add("connecting","react-flow__handle-connecting"),U.classList.toggle("valid",F),U.classList.toggle("react-flow__handle-valid",F))}function O(e){var t,n;(y||U)&&_&&F&&(null===a||void 0===a||a(_)),null===(t=(n=o()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===A||void 0===A||A(e)),Bv(k),x(),cancelAnimationFrame(b),S=!1,F=!1,_=null,U=null,u.removeEventListener("mousemove",Q),u.removeEventListener("mouseup",O),u.removeEventListener("touchmove",Q),u.removeEventListener("touchend",O)}i({connectionPosition:E,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:j,connectionStartHandle:{nodeId:r,handleId:n,type:j},connectionEndHandle:null}),null===m||void 0===m||m(t,{nodeId:r,handleId:n,handleType:j}),u.addEventListener("mousemove",Q),u.addEventListener("mouseup",O),u.addEventListener("touchmove",Q),u.addEventListener("touchend",O)}const kv=()=>!0,Ev=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Sv=(0,t.forwardRef)((e,n)=>{let{type:r="source",position:a=Gg.Top,isValidConnection:s,isConnectable:o=!0,isConnectableStart:i=!0,isConnectableEnd:l=!0,id:c,onConnect:A,children:u,className:d,onMouseDown:h,onTouchStart:f}=e,p=Gt(e,Zm);const m=c||null,g="target"===r,v=hg(),x=(0,t.useContext)(iv),{connectOnClick:y,noPanClassName:b}=dg(Ev,ih),{connecting:w,clickConnecting:N}=dg(((e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n||(null===s||void 0===s?void 0:s.nodeId)===e&&(null===s||void 0===s?void 0:s.handleId)===t&&(null===s||void 0===s?void 0:s.type)===n,clickConnecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n}})(x,m,r),ih);var B,j;x||(null===(B=(j=v.getState()).onError)||void 0===B||B.call(j,"010",lg()));const C=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),a=(0,_e.A)((0,_e.A)({},t),e);if(r){const{edges:e,setEdges:t}=v.getState();t(((e,t)=>{if(!e.source||!e.target)return Ug(0,sg()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?(0,_e.A)({},e):(0,_e.A)((0,_e.A)({},e),{},{id:cv(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)})(a,e))}null===n||void 0===n||n(a),null===A||void 0===A||A(a)},k=e=>{if(!x)return;const t=Lg(e);i&&(t&&0===e.button||!t)&&Cv({event:e,handleId:m,nodeId:x,onConnect:C,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:s||v.getState().isValidConnection||kv}),t?null===h||void 0===h||h(e):null===f||void 0===f||f(e)};return t.createElement("div",(0,_e.A)({"data-handleid":m,"data-nodeid":x,"data-handlepos":a,"data-id":"".concat(x,"-").concat(m,"-").concat(r),className:$d(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",b,d,{source:!g,target:g,connectable:o,connectablestart:i,connectableend:l,connecting:N,connectionindicator:o&&(i&&!w||l&&w)}]),onMouseDown:k,onTouchStart:k,onClick:y?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:a,connectionMode:o,isValidConnection:l}=v.getState();if(!x||!a&&!i)return;if(!a)return null===t||void 0===t||t(e,{nodeId:x,handleId:m,handleType:r}),void v.setState({connectionClickStartHandle:{nodeId:x,type:r,handleId:m}});const c=Ng(e.target),A=s||l||kv,{connection:u,isValid:d}=wv({nodeId:x,id:m,type:r},o,a.nodeId,a.handleId||null,a.type,A,c);d&&C(u),null===n||void 0===n||n(e),v.setState({connectionClickStartHandle:null})}:void 0,ref:n},p),u)});Sv.displayName="Handle";var _v=(0,t.memo)(Sv);const Fv=e=>{let{data:n,isConnectable:r,targetPosition:a=Gg.Top,sourcePosition:s=Gg.Bottom}=e;return t.createElement(t.Fragment,null,t.createElement(_v,{type:"target",position:a,isConnectable:r}),null===n||void 0===n?void 0:n.label,t.createElement(_v,{type:"source",position:s,isConnectable:r}))};Fv.displayName="DefaultNode";var Uv=(0,t.memo)(Fv);const Iv=e=>{let{data:n,isConnectable:r,sourcePosition:a=Gg.Bottom}=e;return t.createElement(t.Fragment,null,null===n||void 0===n?void 0:n.label,t.createElement(_v,{type:"source",position:a,isConnectable:r}))};Iv.displayName="InputNode";var Lv=(0,t.memo)(Iv);const Qv=e=>{let{data:n,isConnectable:r,targetPosition:a=Gg.Top}=e;return t.createElement(t.Fragment,null,t.createElement(_v,{type:"target",position:a,isConnectable:r}),null===n||void 0===n?void 0:n.label)};Qv.displayName="OutputNode";var Ov=(0,t.memo)(Qv);const Pv=()=>null;Pv.displayName="GroupNode";const Tv=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>(0,_e.A)({},e))}),Dv=e=>e.id;function Mv(e,t){return ih(e.selectedNodes.map(Dv),t.selectedNodes.map(Dv))&&ih(e.selectedEdges.map(Dv),t.selectedEdges.map(Dv))}const Hv=(0,t.memo)(e=>{let{onSelectionChange:n}=e;const r=hg(),{selectedNodes:a,selectedEdges:s}=dg(Tv,Mv);return(0,t.useEffect)(()=>{const e={nodes:a,edges:s};null===n||void 0===n||n(e),r.getState().onSelectionChange.forEach(t=>t(e))},[a,s,n]),null});Hv.displayName="SelectionListener";const Rv=e=>!!e.onSelectionChange;function qv(e){let{onSelectionChange:n}=e;const r=dg(Rv);return n||r?t.createElement(Hv,{onSelectionChange:n}):null}const Kv=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zv(e,n){(0,t.useEffect)(()=>{"undefined"!==typeof e&&n(e)},[e])}function Gv(e,n,r){(0,t.useEffect)(()=>{"undefined"!==typeof n&&r({[e]:n})},[n])}const Vv=e=>{let{nodes:n,edges:r,defaultNodes:a,defaultEdges:s,onConnect:o,onConnectStart:i,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:A,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:m,minZoom:g,maxZoom:v,nodeExtent:x,onNodesChange:y,onEdgesChange:b,elementsSelectable:w,connectionMode:N,snapGrid:B,snapToGrid:j,translateExtent:C,connectOnClick:k,defaultEdgeOptions:E,fitView:S,fitViewOptions:_,onNodesDelete:F,onEdgesDelete:U,onNodeDrag:I,onNodeDragStart:L,onNodeDragStop:Q,onSelectionDrag:O,onSelectionDragStart:P,onSelectionDragStop:T,noPanClassName:D,nodeOrigin:M,rfId:H,autoPanOnConnect:R,autoPanOnNodeDrag:q,onError:K,connectionRadius:z,isValidConnection:G,nodeDragThreshold:V}=e;const{setNodes:W,setEdges:X,setDefaultNodesAndEdges:J,setMinZoom:Y,setMaxZoom:Z,setTranslateExtent:$,setNodeExtent:ee,reset:te}=dg(Kv,ih),ne=hg();return(0,t.useEffect)(()=>{const e=null===s||void 0===s?void 0:s.map(e=>(0,_e.A)((0,_e.A)({},e),E));return J(a,e),()=>{te()}},[]),Gv("defaultEdgeOptions",E,ne.setState),Gv("connectionMode",N,ne.setState),Gv("onConnect",o,ne.setState),Gv("onConnectStart",i,ne.setState),Gv("onConnectEnd",l,ne.setState),Gv("onClickConnectStart",c,ne.setState),Gv("onClickConnectEnd",A,ne.setState),Gv("nodesDraggable",u,ne.setState),Gv("nodesConnectable",d,ne.setState),Gv("nodesFocusable",h,ne.setState),Gv("edgesFocusable",f,ne.setState),Gv("edgesUpdatable",p,ne.setState),Gv("elementsSelectable",w,ne.setState),Gv("elevateNodesOnSelect",m,ne.setState),Gv("snapToGrid",j,ne.setState),Gv("snapGrid",B,ne.setState),Gv("onNodesChange",y,ne.setState),Gv("onEdgesChange",b,ne.setState),Gv("connectOnClick",k,ne.setState),Gv("fitViewOnInit",S,ne.setState),Gv("fitViewOnInitOptions",_,ne.setState),Gv("onNodesDelete",F,ne.setState),Gv("onEdgesDelete",U,ne.setState),Gv("onNodeDrag",I,ne.setState),Gv("onNodeDragStart",L,ne.setState),Gv("onNodeDragStop",Q,ne.setState),Gv("onSelectionDrag",O,ne.setState),Gv("onSelectionDragStart",P,ne.setState),Gv("onSelectionDragStop",T,ne.setState),Gv("noPanClassName",D,ne.setState),Gv("nodeOrigin",M,ne.setState),Gv("rfId",H,ne.setState),Gv("autoPanOnConnect",R,ne.setState),Gv("autoPanOnNodeDrag",q,ne.setState),Gv("onError",K,ne.setState),Gv("connectionRadius",z,ne.setState),Gv("isValidConnection",G,ne.setState),Gv("nodeDragThreshold",V,ne.setState),zv(n,W),zv(r,X),zv(g,Y),zv(v,Z),zv(C,$),zv(x,ee),null},Wv={display:"none"},Xv={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Jv="react-flow__node-desc",Yv="react-flow__edge-desc",Zv=e=>e.ariaLiveMessage;function $v(e){let{rfId:n}=e;const r=dg(Zv);return t.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(n),"aria-live":"assertive","aria-atomic":"true",style:Xv},r)}function ex(e){let{rfId:n,disableKeyboardA11y:r}=e;return t.createElement(t.Fragment,null,t.createElement("div",{id:"".concat(Jv,"-").concat(n),style:Wv},"Press enter or space to select a node.",!r&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),t.createElement("div",{id:"".concat(Yv,"-").concat(n),style:Wv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!r&&t.createElement($v,{rfId:n}))}var tx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[r,a]=(0,t.useState)(!1),s=(0,t.useRef)(!1),o=(0,t.useRef)(new Set([])),[i,l]=(0,t.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,t.useEffect)(()=>{const t="undefined"!==typeof document?document:null,r=(null===n||void 0===n?void 0:n.target)||t;if(null!==e){const e=e=>{s.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!s.current||s.current&&!n.actInsideInputWithModifier)&&Ig(e))return!1;const t=rx(e.code,l);o.current.add(e[t]),nx(i,o.current,!1)&&(e.preventDefault(),a(!0))},t=e=>{if((!s.current||s.current&&!n.actInsideInputWithModifier)&&Ig(e))return!1;const t=rx(e.code,l);nx(i,o.current,!0)?(a(!1),o.current.clear()):o.current.delete(e[t]),"Meta"===e.key&&o.current.clear(),s.current=!1},c=()=>{o.current.clear(),a(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}},[e,a]),r};function nx(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function rx(e,t){return t.includes(e)?"code":"key"}function ax(e,t,n,r){var a,s,o,i,l,c,A,u;const d=e.parentNode||e.parentId;if(!d)return n;const h=t.get(d),f=hv(h,r);return ax(h,t,{x:(null!==(a=n.x)&&void 0!==a?a:0)+f.x,y:(null!==(s=n.y)&&void 0!==s?s:0)+f.y,z:(null!==(o=null===(i=h[_g])||void 0===i?void 0:i.z)&&void 0!==o?o:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(A=h[_g])||void 0===A?void 0:A.z)&&void 0!==c?c:0:null!==(u=n.z)&&void 0!==u?u:0},r)}function sx(e,t,n){e.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error("Parent node ".concat(a," not found"));if(a||null!==n&&void 0!==n&&n[r.id]){var s,o;const{x:a,y:i,z:l}=ax(r,e,(0,_e.A)((0,_e.A)({},r.position),{},{z:null!==(s=null===(o=r[_g])||void 0===o?void 0:o.z)&&void 0!==s?s:0}),t);r.positionAbsolute={x:a,y:i},r[_g].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[_g].isParent=!0)}})}function ox(e,t,n,r){const a=new Map,s={},o=r?1e3:0;return e.forEach(e=>{var n;const r=(Sg(e.zIndex)?e.zIndex:0)+(e.selected?o:0),i=t.get(e.id),l=(0,_e.A)((0,_e.A)({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(s[c]=!0);const A=(null===i||void 0===i?void 0:i.type)&&(null===i||void 0===i?void 0:i.type)!==e.type;Object.defineProperty(l,_g,{enumerable:!1,value:{handleBounds:A||null===i||void 0===i||null===(n=i[_g])||void 0===n?void 0:n.handleBounds,z:r}}),a.set(e.id,l)}),sx(a,n,s),a}function ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:a,minZoom:s,maxZoom:o,d3Zoom:i,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:A,nodeOrigin:u}=e(),d=t.initial&&!c&&A;if(i&&l&&(d||!t.initial)){const e=n().filter(e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some(t=>t.id===e.id):r}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var h,f,p;const n=fv(e,u),{x:c,y:A,zoom:d}=gv(n,r,a,null!==(h=t.minZoom)&&void 0!==h?h:s,null!==(f=t.maxZoom)&&void 0!==f?f:o,null!==(p=t.padding)&&void 0!==p?p:.1),m=Lm.translate(c,A).scale(d);return"number"===typeof t.duration&&t.duration>0?i.transform(vv(l,t.duration),m):i.transform(l,m),!0}}return!1}function lx(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,(0,_e.A)((0,_e.A)({},n),{},{[_g]:n[_g],selected:e.selected}))}),new Map(t)}function cx(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function Ax(e){let{changedNodes:t,changedEdges:n,get:r,set:a}=e;const{nodeInternals:s,edges:o,onNodesChange:i,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:A}=r();null!==t&&void 0!==t&&t.length&&(c&&a({nodeInternals:lx(t,s)}),null===i||void 0===i||i(t)),null!==n&&void 0!==n&&n.length&&(A&&a({edges:cx(n,o)}),null===l||void 0===l||l(n))}const ux=()=>{},dx={zoomIn:ux,zoomOut:ux,zoomTo:ux,getZoom:()=>1,setViewport:ux,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ux,fitBounds:ux,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},hx=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function fx(){const e=(()=>{const e=hg(),{d3Zoom:n,d3Selection:r}=dg(hx,ih),a=(0,t.useMemo)(()=>r&&n?{zoomIn:e=>n.scaleBy(vv(r,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>n.scaleBy(vv(r,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(vv(r,null===t||void 0===t?void 0:t.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(t,a)=>{var s,o,i;const[l,c,A]=e.getState().transform,u=Lm.translate(null!==(s=t.x)&&void 0!==s?s:l,null!==(o=t.y)&&void 0!==o?o:c).scale(null!==(i=t.zoom)&&void 0!==i?i:A);n.transform(vv(r,null===a||void 0===a?void 0:a.duration),u)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>ix(e.getState,t),setCenter:(t,a,s)=>{const{width:o,height:i,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===s||void 0===s?void 0:s.zoom)?s.zoom:l,A=o/2-t*c,u=i/2-a*c,d=Lm.translate(A,u).scale(c);n.transform(vv(r,null===s||void 0===s?void 0:s.duration),d)},fitBounds:(t,a)=>{var s;const{width:o,height:i,minZoom:l,maxZoom:c}=e.getState(),{x:A,y:u,zoom:d}=gv(t,o,i,l,c,null!==(s=null===a||void 0===a?void 0:a.padding)&&void 0!==s?s:.1),h=Lm.translate(A,u).scale(d);n.transform(vv(r,null===a||void 0===a?void 0:a.duration),h)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),uv(t,n,r,a)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:a,domNode:s}=e.getState();if(!s)return t;const{x:o,y:i}=s.getBoundingClientRect(),l={x:t.x-o,y:t.y-i};return uv(l,n,r,a)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:s}=r.getBoundingClientRect(),o=dv(t,n);return{x:o.x+a,y:o.y+s}},viewportInitialized:!0}:dx,[n,r]);return a})(),n=hg(),r=(0,t.useCallback)(()=>n.getState().getNodes().map(e=>(0,_e.A)({},e)),[]),a=(0,t.useCallback)(e=>n.getState().nodeInternals.get(e),[]),s=(0,t.useCallback)(()=>{const{edges:e=[]}=n.getState();return e.map(e=>(0,_e.A)({},e))},[]),o=(0,t.useCallback)(e=>{const{edges:t=[]}=n.getState();return t.find(t=>t.id===e)},[]),i=(0,t.useCallback)(e=>{const{getNodes:t,setNodes:r,hasDefaultNodes:a,onNodesChange:s}=n.getState(),o=t(),i="function"===typeof e?e(o):e;if(a)r(i);else if(s){const e=0===i.length?o.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"}));s(e)}},[]),l=(0,t.useCallback)(e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:s}=n.getState(),o="function"===typeof e?e(t):e;if(a)r(o);else if(s){s(0===o.length?t.map(e=>({type:"remove",id:e.id})):o.map(e=>({item:e,type:"reset"})))}},[]),c=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{getNodes:r,setNodes:a,hasDefaultNodes:s,onNodesChange:o}=n.getState();if(s){a([...r(),...t])}else if(o){const e=t.map(e=>({item:e,type:"add"}));o(e)}},[]),A=(0,t.useCallback)(e=>{const t=Array.isArray(e)?e:[e],{edges:r=[],setEdges:a,hasDefaultEdges:s,onEdgesChange:o}=n.getState();if(s)a([...r,...t]);else if(o){o(t.map(e=>({item:e,type:"add"})))}},[]),u=(0,t.useCallback)(()=>{const{getNodes:e,edges:t=[],transform:r}=n.getState(),[a,s,o]=r;return{nodes:e().map(e=>(0,_e.A)({},e)),edges:t.map(e=>(0,_e.A)({},e)),viewport:{x:a,y:s,zoom:o}}},[]),d=(0,t.useCallback)(e=>{let{nodes:t,edges:r}=e;const{nodeInternals:a,getNodes:s,edges:o,hasDefaultNodes:i,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:A,onNodesChange:u,onEdgesChange:d}=n.getState(),h=(t||[]).map(e=>e.id),f=(r||[]).map(e=>e.id),p=s().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),m=o.filter(e=>"boolean"!==typeof e.deletable||e.deletable),g=m.filter(e=>f.includes(e.id));if(p||g){const e=mv(p,m),t=[...g,...e],r=t.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||i)&&(l&&n.setState({edges:o.filter(e=>!r.includes(e.id))}),i&&(p.forEach(e=>{a.delete(e.id)}),n.setState({nodeInternals:new Map(a)}))),r.length>0&&(null===A||void 0===A||A(t),d&&d(r.map(e=>({id:e,type:"remove"})))),p.length>0&&(null===c||void 0===c||c(p),u)){const e=p.map(e=>({id:e.id,type:"remove"}));u(e)}}},[]),h=(0,t.useCallback)(e=>{const t=Sg((r=e).width)&&Sg(r.height)&&Sg(r.x)&&Sg(r.y);var r;const a=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!a)return[null,null,t];return[t?e:kg(a),a,t]},[]),f=(0,t.useCallback)(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[a,s,o]=h(e);return a?(r||n.getState().getNodes()).filter(e=>{if(!o&&(e.id===s.id||!e.positionAbsolute))return!1;const n=kg(e),r=Eg(n,a);return t&&r>0||r>=a.width*a.height}):[]},[]),p=(0,t.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=h(e);if(!r)return!1;const a=Eg(r,t);return n&&a>0||a>=r.width*r.height},[]);return(0,t.useMemo)(()=>(0,_e.A)((0,_e.A)({},e),{},{getNodes:r,getNode:a,getEdges:s,getEdge:o,setNodes:i,setEdges:l,addNodes:c,addEdges:A,toObject:u,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:p}),[e,r,a,s,o,i,l,c,A,u,d,f,p])}const px={actInsideInputWithModifier:!1};const mx={position:"absolute",width:"100%",height:"100%",top:0,left:0},gx=e=>({x:e.x,y:e.y,zoom:e.k}),vx=(e,t)=>e.target.closest(".".concat(t)),xx=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),yx=e=>{const t=e.ctrlKey&&Og()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},bx=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),wx=e=>{let{onMove:n,onMoveStart:r,onMoveEnd:a,onPaneContextMenu:s,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:A=Rg.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:m,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:x=!0,children:y,noWheelClassName:b,noPanClassName:w}=e;const N=(0,t.useRef)(),B=hg(),j=(0,t.useRef)(!1),C=(0,t.useRef)(!1),k=(0,t.useRef)(null),E=(0,t.useRef)({x:0,y:0,zoom:0}),{d3Zoom:S,d3Selection:_,d3ZoomHandler:F,userSelectionActive:U}=dg(bx,ih),I=tx(v),L=(0,t.useRef)(0),Q=(0,t.useRef)(!1),O=(0,t.useRef)();return function(e){const n=hg();(0,t.useEffect)(()=>{let t;const r=()=>{if(!e.current)return;const t=vg(e.current);var r,a;0!==t.height&&0!==t.width||null===(r=(a=n.getState()).onError)||void 0===r||r.call(a,"004",rg()),n.setState({width:t.width||500,height:t.height||500})};return r(),window.addEventListener("resize",r),e.current&&(t=new ResizeObserver(()=>r()),t.observe(e.current)),()=>{window.removeEventListener("resize",r),t&&e.current&&t.unobserve(e.current)}},[])}(k),(0,t.useEffect)(()=>{if(k.current){const e=k.current.getBoundingClientRect(),t=qm().scaleExtent([m,g]).translateExtent(p),n=Ef(k.current).call(t),r=Lm.translate(f.x,f.y).scale(xg(f.zoom,m,g)),a=[[0,0],[e.width,e.height]],s=t.constrain()(r,a,p);t.transform(n,s),t.wheelDelta(yx),B.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[s.x,s.y,s.k],domNode:k.current.closest(".react-flow")})}},[]),(0,t.useEffect)(()=>{_&&S&&(!l||I||U?"undefined"!==typeof F&&_.on("wheel.zoom",function(e,t){if(!x&&"wheel"===e.type&&!e.ctrlKey||vx(e,b))return null;e.preventDefault(),F.call(this,e,t)},{passive:!1}):_.on("wheel.zoom",e=>{if(vx(e,b))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=_.property("__zoom").k||1;if(e.ctrlKey&&i){const n=Pf(e),r=yx(e),a=t*Math.pow(2,r);return void S.scaleTo(_,a,n,e)}const s=1===e.deltaMode?20:1;let o=A===Rg.Vertical?0:e.deltaX*s,l=A===Rg.Horizontal?0:e.deltaY*s;!Og()&&e.shiftKey&&A!==Rg.Vertical&&(o=e.deltaY*s,l=0),S.translateBy(_,-o/t*c,-l/t*c,{internal:!0});const u=gx(_.property("__zoom")),{onViewportChangeStart:d,onViewportChange:h,onViewportChangeEnd:f}=B.getState();clearTimeout(O.current),Q.current||(Q.current=!0,null===r||void 0===r||r(e,u),null===d||void 0===d||d(u)),Q.current&&(null===n||void 0===n||n(e,u),null===h||void 0===h||h(u),O.current=setTimeout(()=>{null===a||void 0===a||a(e,u),null===f||void 0===f||f(u),Q.current=!1},150))},{passive:!1}))},[U,l,A,_,S,F,I,i,x,b,r,n,a]),(0,t.useEffect)(()=>{S&&S.on("start",e=>{var t,n;if(!e.sourceEvent||e.sourceEvent.internal)return null;L.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:a}=B.getState(),s=gx(e.transform);j.current=!0,E.current=s,"mousedown"===(null===(n=e.sourceEvent)||void 0===n?void 0:n.type)&&B.setState({paneDragging:!0}),null===a||void 0===a||a(s),null===r||void 0===r||r(e.sourceEvent,s)})},[S,r]),(0,t.useEffect)(()=>{S&&(U&&!j.current?S.on("zoom",null):U||S.on("zoom",e=>{var t,r;const{onViewportChange:a}=B.getState();if(B.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),C.current=!(!s||!xx(h,null!==(t=L.current)&&void 0!==t?t:0)),(n||a)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const t=gx(e.transform);null===a||void 0===a||a(t),null===n||void 0===n||n(e.sourceEvent,t)}}))},[U,S,n,h,s]),(0,t.useEffect)(()=>{S&&S.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=B.getState();if(j.current=!1,B.setState({paneDragging:!1}),s&&xx(h,null!==(t=L.current)&&void 0!==t?t:0)&&!C.current&&s(e.sourceEvent),C.current=!1,(a||n)&&(r=E.current,o=e.transform,r.x!==o.x||r.y!==o.y||r.zoom!==o.k)){const t=gx(e.transform);E.current=t,clearTimeout(N.current),N.current=setTimeout(()=>{null===n||void 0===n||n(t),null===a||void 0===a||a(e.sourceEvent,t)},l?150:0)}var r,o})},[S,l,h,a,s]),(0,t.useEffect)(()=>{S&&S.filter(e=>{const t=I||o,n=i&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(vx(e,"react-flow__node")||vx(e,"react-flow__edge")))return!0;if(!h&&!t&&!l&&!u&&!i)return!1;if(U)return!1;if(!u&&"dblclick"===e.type)return!1;if(vx(e,b)&&"wheel"===e.type)return!1;if(vx(e,w)&&("wheel"!==e.type||l&&"wheel"===e.type&&!I))return!1;if(!i&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[U,S,o,i,l,u,h,d,I]),t.createElement("div",{className:"react-flow__renderer",ref:k,style:mx},y)},Nx=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Bx(){const{userSelectionActive:e,userSelectionRect:n}=dg(Nx,ih);return e&&n?t.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function jx(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var a,s;if(r.style=(0,_e.A)({},r.style)||{},r.style.width=null!==(a=r.style.width)&&void 0!==a?a:r.width,r.style.height=null!==(s=r.style.height)&&void 0!==s?s:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Cx(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const a=(0,_e.A)({},n);for(const e of r)if(e)switch(e.type){case"select":a.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(a.position=e.position),"undefined"!==typeof e.positionAbsolute&&(a.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(a.dragging=e.dragging),a.expandParent&&jx(t,a);break;case"dimensions":"undefined"!==typeof e.dimensions&&(a.width=e.dimensions.width,a.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(a.style=(0,_e.A)((0,_e.A)({},a.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(a.resizing=e.resizing),a.expandParent&&jx(t,a);break;case"remove":return t}return t.push(a),t},n)}function kx(e,t){return Cx(e,t)}const Ex=(e,t)=>({id:e,type:"select",selected:t});function Sx(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Ex(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Ex(n.id,!1))),e},[])}const _x=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Fx=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ux=(0,t.memo)(e=>{let{isSelecting:n,selectionMode:r=qg.Full,panOnDrag:a,onSelectionStart:s,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:A,onPaneMouseMove:u,onPaneMouseLeave:d,children:h}=e;const f=(0,t.useRef)(null),p=hg(),m=(0,t.useRef)(0),g=(0,t.useRef)(0),v=(0,t.useRef)(),{userSelectionActive:x,elementsSelectable:y,dragging:b}=dg(Fx,ih),w=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,g.current=0},N=e=>{null===i||void 0===i||i(e),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},B=c?e=>c(e):void 0,j=y&&(n||x);return t.createElement("div",{className:$d(["react-flow__pane",{dragging:b,selection:n}]),onClick:j?void 0:_x(N,f),onContextMenu:_x(e=>{Array.isArray(a)&&null!==a&&void 0!==a&&a.includes(2)?e.preventDefault():null===l||void 0===l||l(e)},f),onWheel:_x(B,f),onMouseEnter:j?void 0:A,onMouseDown:j?e=>{const{resetSelectedElements:t,domNode:r}=p.getState();if(v.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!y||!n||0!==e.button||e.target!==f.current||!v.current)return;const{x:a,y:o}=Qg(e,v.current);t(),p.setState({userSelectionRect:{width:0,height:0,startX:a,startY:o,x:a,y:o}}),null===s||void 0===s||s(e)}:void 0,onMouseMove:j?e=>{var t,a;const{userSelectionRect:s,nodeInternals:o,edges:i,transform:l,onNodesChange:c,onEdgesChange:A,nodeOrigin:u,getNodes:d}=p.getState();if(!n||!v.current||!s)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const h=Qg(e,v.current),f=null!==(t=s.startX)&&void 0!==t?t:0,x=null!==(a=s.startY)&&void 0!==a?a:0,y=(0,_e.A)((0,_e.A)({},s),{},{x:h.x<f?h.x:f,y:h.y<x?h.y:x,width:Math.abs(h.x-f),height:Math.abs(h.y-x)}),b=d(),w=pv(o,y,l,r===qg.Partial,!0,u),N=mv(w,i).map(e=>e.id),B=w.map(e=>e.id);if(m.current!==B.length){m.current=B.length;const e=Sx(b,B);e.length&&(null===c||void 0===c||c(e))}if(g.current!==N.length){g.current=N.length;const e=Sx(i,N);e.length&&(null===A||void 0===A||A(e))}p.setState({userSelectionRect:y})}:u,onMouseUp:j?e=>{if(0!==e.button)return;const{userSelectionRect:t}=p.getState();!x&&t&&e.target===f.current&&(null===N||void 0===N||N(e)),p.setState({nodesSelectionActive:m.current>0}),w(),null===o||void 0===o||o(e)}:void 0,onMouseLeave:j?e=>{x&&(p.setState({nodesSelectionActive:m.current>0}),null===o||void 0===o||o(e)),w()}:d,ref:f,style:mx},h,t.createElement(Bx,null))});function Ix(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||Ix(r,t))}function Lx(e,t,n){let r=e;do{var a;if(null!==(a=r)&&void 0!==a&&a.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Qx(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!Ix(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,r,a,s;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(a=null===(s=e.positionAbsolute)||void 0===s?void 0:s.y)&&void 0!==a?a:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function Ox(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],s=arguments.length>5?arguments[5]:void 0;const o=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let i=o;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:s}=hv(t,a).positionAbsolute;i=[[e.extent[0][0]+r,e.extent[0][1]+s],[e.extent[1][0]+r,e.extent[1][1]+s]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:s}=hv(t,a).positionAbsolute;i=t&&Sg(r)&&Sg(s)&&Sg(t.width)&&Sg(t.height)?[[r+e.width*a[0],s+e.height*a[1]],[r+t.width-e.width+e.width*a[0],s+t.height-e.height+e.height*a[1]]]:i}else null===s||void 0===s||s("005",ag()),i=o;let c={x:0,y:0};if(l){const e=n.get(l);c=hv(e,a).positionAbsolute}const A=i&&"parent"!==i?yg(t,i):t;return{position:{x:A.x-c.x,y:A.y-c.y},positionAbsolute:A}}function Px(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const a=n.map(e=>{const t=r.get(e.id);return(0,_e.A)((0,_e.A)({},t),{},{position:e.position,positionAbsolute:e.positionAbsolute})});return[t?a.find(e=>e.id===t):a[0],a]}Ux.displayName="Pane";const Tx=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const s=Array.from(a),o=t.getBoundingClientRect(),i=o.width*r[0],l=o.height*r[1];return s.map(e=>{const t=e.getBoundingClientRect();return(0,_e.A)({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-o.left-i)/n,y:(t.top-o.top-l)/n},vg(e))})};function Dx(e,t,n){return void 0===n?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,(0,_e.A)({},a))}}function Mx(e){let{id:t,store:n,unselect:r=!1,nodeRef:a}=e;const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:l,onError:c}=n.getState(),A=l.get(t);A?(n.setState({nodesSelectionActive:!1}),A.selected?(r||A.selected&&i)&&(o({nodes:[A],edges:[]}),requestAnimationFrame(()=>{var e;return null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.blur()})):s([t])):null===c||void 0===c||c("012",Ag(t))}function Hx(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function Rx(e){let{nodeRef:n,disabled:r=!1,noDragClassName:a,handleSelector:s,nodeId:o,isSelectable:i,selectNodesOnDrag:l}=e;const c=hg(),[A,u]=(0,t.useState)(!1),d=(0,t.useRef)([]),h=(0,t.useRef)({x:null,y:null}),f=(0,t.useRef)(0),p=(0,t.useRef)(null),m=(0,t.useRef)({x:0,y:0}),g=(0,t.useRef)(null),v=(0,t.useRef)(!1),x=(0,t.useRef)(!1),y=(0,t.useRef)(!1),b=function(){const e=hg(),n=(0,t.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:a,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(i-r[1])/r[2]};return(0,_e.A)({xSnapped:s?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:s?a[1]*Math.round(l.y/a[1]):l.y},l)},[]);return n}();return(0,t.useEffect)(()=>{if(null!==n&&void 0!==n&&n.current){const e=Ef(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:a,onSelectionDrag:s,updateNodePositions:i,nodeExtent:l,snapGrid:A,snapToGrid:f,nodeOrigin:p,onError:m}=c.getState();h.current={x:t,y:n};let v=!1,x={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&l){const e=fv(d.current,p);x=jg(e)}if(d.current=d.current.map(e=>{const a={x:t-e.distance.x,y:n-e.distance.y};f&&(a.x=A[0]*Math.round(a.x/A[0]),a.y=A[1]*Math.round(a.y/A[1]));const s=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var o,i;d.current.length>1&&l&&!e.extent&&(s[0][0]=e.positionAbsolute.x-x.x+l[0][0],s[1][0]=e.positionAbsolute.x+(null!==(o=e.width)&&void 0!==o?o:0)-x.x2+l[1][0],s[0][1]=e.positionAbsolute.y-x.y+l[0][1],s[1][1]=e.positionAbsolute.y+(null!==(i=e.height)&&void 0!==i?i:0)-x.y2+l[1][1]);const c=Ox(e,a,r,s,p,m);return v=v||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e}),!v)return;i(d.current,!0,!0),u(!0);const y=o?a:Hx(s);if(y&&g.current){const[e,t]=Px({nodeId:o,dragItems:d.current,nodeInternals:r});y(g.current,e,t)}},A=()=>{if(!p.current)return;const[e,n]=wg(m.current,p.current);if(0!==e||0!==n){var r,a;const{transform:s,panBy:o}=c.getState();h.current.x=(null!==(r=h.current.x)&&void 0!==r?r:0)-e/s[2],h.current.y=(null!==(a=h.current.y)&&void 0!==a?a:0)-n/s[2],o({x:e,y:n})&&t(h.current)}f.current=requestAnimationFrame(A)},w=e=>{const{nodeInternals:t,multiSelectionActive:r,nodesDraggable:a,unselectNodesAndEdges:s,onNodeDragStart:A,onSelectionDragStart:u}=c.getState();x.current=!0;const f=o?A:Hx(u);var p;l&&i||r||!o||(null!==(p=t.get(o))&&void 0!==p&&p.selected||s());o&&i&&l&&Mx({id:o,store:c,nodeRef:n});const m=b(e);if(h.current=m,d.current=Qx(t,a,m,o),f&&d.current){const[n,r]=Px({nodeId:o,dragItems:d.current,nodeInternals:t});f(e.sourceEvent,n,r)}};if(!r){const r=function(){var e,t,n,r,a=Gm,s=Vm,o=Wm,i=Xm,l={},c=hh("start","drag","end"),A=0,u=0;function d(e){e.on("mousedown.drag",h).filter(i).on("touchstart.drag",m).on("touchmove.drag",g,Sf).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(o,i){if(!r&&a.call(this,o,i)){var l=x(this,s.call(this,o,i),o,i,"mouse");l&&(Ef(o.view).on("mousemove.drag",f,_f).on("mouseup.drag",p,_f),If(o.view),Ff(o),n=!1,e=o.clientX,t=o.clientY,l("start",o))}}function f(r){if(Uf(r),!n){var a=r.clientX-e,s=r.clientY-t;n=a*a+s*s>u}l.mouse("drag",r)}function p(e){Ef(e.view).on("mousemove.drag mouseup.drag",null),Lf(e.view,n),Uf(e),l.mouse("end",e)}function m(e,t){if(a.call(this,e,t)){var n,r,o=e.changedTouches,i=s.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=x(this,i,e,t,o[n].identifier,o[n]))&&(Ff(e),r("start",e,o[n]))}}function g(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=l[r[t].identifier])&&(Uf(e),n("drag",e,r[t]))}function v(e){var t,n,a=e.changedTouches,s=a.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<s;++t)(n=l[a[t].identifier])&&(Ff(e),n("end",e,a[t]))}function x(e,t,n,r,a,s){var i,u,h,f=c.copy(),p=Pf(s||n,t);if(null!=(h=o.call(e,new zm("beforestart",{sourceEvent:n,target:d,identifier:a,active:A,x:p[0],y:p[1],dx:0,dy:0,dispatch:f}),r)))return i=h.x-p[0]||0,u=h.y-p[1]||0,function n(s,o,c){var m,g=p;switch(s){case"start":l[a]=n,m=A++;break;case"end":delete l[a],--A;case"drag":p=Pf(c||o,t),m=A}f.call(s,e,new zm(s,{sourceEvent:o,subject:h,target:d,identifier:a,active:m,x:p[0]+i,y:p[1]+u,dx:p[0]-g[0],dy:p[1]-g[1],dispatch:f}),r)}}return d.filter=function(e){return arguments.length?(a="function"===typeof e?e:Km(!!e),d):a},d.container=function(e){return arguments.length?(s="function"===typeof e?e:Km(e),d):s},d.subject=function(e){return arguments.length?(o="function"===typeof e?e:Km(e),d):o},d.touchable=function(e){return arguments.length?(i="function"===typeof e?e:Km(!!e),d):i},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,d):Math.sqrt(u)},d}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&w(e),y.current=!1;const r=b(e);h.current=r,p.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,m.current=Qg(e.sourceEvent,p.current)}).on("drag",e=>{const n=b(e),{autoPanOnNodeDrag:r,nodeDragThreshold:a}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&x.current&&r&&(v.current=!0,A()),!x.current){var s,o,i,l;const t=n.xSnapped-(null!==(s=null===h||void 0===h||null===(o=h.current)||void 0===o?void 0:o.x)&&void 0!==s?s:0),r=n.ySnapped-(null!==(i=null===h||void 0===h||null===(l=h.current)||void 0===l?void 0:l.y)&&void 0!==i?i:0);Math.sqrt(t*t+r*r)>a&&w(e)}(h.current.x!==n.xSnapped||h.current.y!==n.ySnapped)&&d.current&&x.current&&(g.current=e.sourceEvent,m.current=Qg(e.sourceEvent,p.current),t(n))}}).on("end",e=>{if(x.current&&!y.current&&(u(!1),v.current=!1,x.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=c.getState(),s=o?r:Hx(a);if(t(d.current,!1,!1),s){const[t,r]=Px({nodeId:o,dragItems:d.current,nodeInternals:n});s(e.sourceEvent,t,r)}}}).filter(e=>{const t=e.target;return!e.button&&(!a||!Lx(t,".".concat(a),n))&&(!s||Lx(t,s,n))});return e.call(r),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[n,r,a,s,i,c,o,l,b]),A}function qx(){const e=hg(),n=(0,t.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:a,getNodes:s,snapToGrid:o,snapGrid:i,onError:l,nodesDraggable:c}=e.getState(),A=s().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),u=o?i[0]:5,d=o?i[1]:5,h=t.isShiftPressed?4:1,f=t.x*u*h,p=t.y*d*h,m=A.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+p};o&&(t.x=i[0]*Math.round(t.x/i[0]),t.y=i[1]*Math.round(t.y/i[1]));const{positionAbsolute:a,position:s}=Ox(e,t,n,r,void 0,l);e.position=s,e.positionAbsolute=a}return e});a(m,!0,!1)},[]);return n}const Kx={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var zx=e=>{const n=n=>{let{id:r,type:a,data:s,xPos:o,yPos:i,xPosOrigin:l,yPosOrigin:c,selected:A,onClick:u,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onContextMenu:p,onDoubleClick:m,style:g,className:v,isDraggable:x,isSelectable:y,isConnectable:b,isFocusable:w,selectNodesOnDrag:N,sourcePosition:B,targetPosition:j,hidden:C,resizeObserver:k,dragHandle:E,zIndex:S,isParent:_,noDragClassName:F,noPanClassName:U,initialized:I,disableKeyboardA11y:L,ariaLabel:Q,rfId:O,hasHandleBounds:P}=n;const T=hg(),D=(0,t.useRef)(null),M=(0,t.useRef)(null),H=(0,t.useRef)(B),R=(0,t.useRef)(j),q=(0,t.useRef)(a),K=y||x||u||d||h||f,z=qx(),G=Dx(r,T.getState,d),V=Dx(r,T.getState,h),W=Dx(r,T.getState,f),X=Dx(r,T.getState,p),J=Dx(r,T.getState,m);(0,t.useEffect)(()=>()=>{M.current&&(null===k||void 0===k||k.unobserve(M.current),M.current=null)},[]),(0,t.useEffect)(()=>{if(D.current&&!C){const e=D.current;I&&P&&M.current===e||(M.current&&(null===k||void 0===k||k.unobserve(M.current)),null===k||void 0===k||k.observe(e),M.current=e)}},[C,I,P]),(0,t.useEffect)(()=>{const e=q.current!==a,t=H.current!==B,n=R.current!==j;D.current&&(e||t||n)&&(e&&(q.current=a),t&&(H.current=B),n&&(R.current=j),T.getState().updateNodeDimensions([{id:r,nodeElement:D.current,forceUpdate:!0}]))},[r,a,B,j]);const Y=Rx({nodeRef:D,disabled:C||!x,noDragClassName:F,handleSelector:E,nodeId:r,isSelectable:y,selectNodesOnDrag:N});return C?null:t.createElement("div",{className:$d(["react-flow__node","react-flow__node-".concat(a),{[U]:x},v,{selected:A,selectable:y,parent:_,dragging:Y}]),ref:D,style:(0,_e.A)({zIndex:S,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:K?"all":"none",visibility:I?"visible":"hidden"},g),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:G,onMouseMove:V,onMouseLeave:W,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:t}=T.getState();if(y&&(!N||!x||t>0)&&Mx({id:r,store:T,nodeRef:D}),u){const t=T.getState().nodeInternals.get(r);t&&u(e,(0,_e.A)({},t))}},onDoubleClick:J,onKeyDown:w?e=>{if(!Ig(e)&&!L)if(Fg.includes(e.key)&&y){const t="Escape"===e.key;Mx({id:r,store:T,unselect:t,nodeRef:D})}else x&&A&&Object.prototype.hasOwnProperty.call(Kx,e.key)&&(T.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~o,", y: ").concat(~~i)}),z({x:Kx[e.key].x,y:Kx[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":L?void 0:"".concat(Jv,"-").concat(O),"aria-label":Q},t.createElement(lv,{value:r},t.createElement(e,{id:r,data:s,type:a,xPos:o,yPos:i,selected:A,isConnectable:b,sourcePosition:B,targetPosition:j,dragging:Y,dragHandle:E,zIndex:S})))};return n.displayName="NodeWrapper",(0,t.memo)(n)};const Gx=e=>{const t=e.getNodes().filter(e=>e.selected);return(0,_e.A)((0,_e.A)({},fv(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var Vx=(0,t.memo)(function(e){let{onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:a}=e;const s=hg(),{width:o,height:i,x:l,y:c,transformString:A,userSelectionActive:u}=dg(Gx,ih),d=qx(),h=(0,t.useRef)(null);if((0,t.useEffect)(()=>{var e;a||(null===(e=h.current)||void 0===e||e.focus({preventScroll:!0}))},[a]),Rx({nodeRef:h}),u||!o||!i)return null;const f=n?e=>{const t=s.getState().getNodes().filter(e=>e.selected);n(e,t)}:void 0;return t.createElement("div",{className:$d(["react-flow__nodesselection","react-flow__container",r]),style:{transform:A}},t.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:a?void 0:-1,onKeyDown:a?void 0:e=>{Object.prototype.hasOwnProperty.call(Kx,e.key)&&d({x:Kx[e.key].x,y:Kx[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:i,top:c,left:l}}))});const Wx=e=>e.nodesSelectionActive,Xx=e=>{let{children:n,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,deleteKeyCode:c,onMove:A,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:y,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:B,panOnScrollSpeed:j,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:E,defaultViewport:S,translateExtent:_,minZoom:F,maxZoom:U,preventScrolling:I,onSelectionContextMenu:L,noWheelClassName:Q,noPanClassName:O,disableKeyboardA11y:P}=e;const T=dg(Wx),D=tx(h),M=tx(x),H=M||E,R=M||B,q=D||f&&!0!==H;return(e=>{let{deleteKeyCode:n,multiSelectionKeyCode:r}=e;const a=hg(),{deleteElements:s}=fx(),o=tx(n,px),i=tx(r);(0,t.useEffect)(()=>{if(o){const{edges:e,getNodes:t}=a.getState(),n=t().filter(e=>e.selected),r=e.filter(e=>e.selected);s({nodes:n,edges:r}),a.setState({nodesSelectionActive:!1})}},[o]),(0,t.useEffect)(()=>{a.setState({multiSelectionActive:i})},[i])})({deleteKeyCode:c,multiSelectionKeyCode:v}),t.createElement(wx,{onMove:A,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:R,panOnScrollSpeed:j,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:!D&&H,defaultViewport:S,translateExtent:_,minZoom:F,maxZoom:U,zoomActivationKeyCode:y,preventScrolling:I,noWheelClassName:Q,noPanClassName:O},t.createElement(Ux,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:r,onPaneMouseEnter:a,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:H,isSelecting:!!q,selectionMode:p},n,T&&t.createElement(Vx,{onSelectionContextMenu:L,noPanClassName:O,disableKeyboardA11y:P})))};Xx.displayName="FlowRenderer";var Jx=(0,t.memo)(Xx);function Yx(e){const t={input:zx(e.input||Lv),default:zx(e.default||Uv),output:zx(e.output||Ov),group:zx(e.group||Pv)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=zx(e[n]||Uv),t),{});return(0,_e.A)((0,_e.A)({},t),n)}const Zx=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),$x=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,updateNodeDimensions:o,onError:i}=dg(Zx,ih),l=function(e){const n=dg((0,t.useCallback)(t=>e?pv(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]));return n}(e.onlyRenderVisibleElements),c=(0,t.useRef)(),A=(0,t.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));o(t)});return c.current=e,e},[]);return(0,t.useEffect)(()=>()=>{var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.disconnect()},[]),t.createElement("div",{className:"react-flow__nodes",style:mx},l.map(o=>{var l,c,u,d,h,f,p,m;let g=o.type||"default";e.nodeTypes[g]||(null===i||void 0===i||i("003",ng(g)),g="default");const v=e.nodeTypes[g]||e.nodeTypes.default,x=!!(o.draggable||n&&"undefined"===typeof o.draggable),y=!!(o.selectable||s&&"undefined"===typeof o.selectable),b=!!(o.connectable||r&&"undefined"===typeof o.connectable),w=!!(o.focusable||a&&"undefined"===typeof o.focusable),N=e.nodeExtent?yg(o.positionAbsolute,e.nodeExtent):o.positionAbsolute,B=null!==(l=null===N||void 0===N?void 0:N.x)&&void 0!==l?l:0,j=null!==(c=null===N||void 0===N?void 0:N.y)&&void 0!==c?c:0,C=(e=>{let{x:t,y:n,width:r,height:a,origin:s}=e;return r&&a?s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:n}:{x:t-r*s[0],y:n-a*s[1]}:{x:t,y:n}})({x:B,y:j,width:null!==(u=o.width)&&void 0!==u?u:0,height:null!==(d=o.height)&&void 0!==d?d:0,origin:e.nodeOrigin});return t.createElement(v,{key:o.id,id:o.id,className:o.className,style:o.style,type:g,data:o.data,sourcePosition:o.sourcePosition||Gg.Bottom,targetPosition:o.targetPosition||Gg.Top,hidden:o.hidden,xPos:B,yPos:j,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!o.selected,isDraggable:x,isSelectable:y,isConnectable:b,isFocusable:w,resizeObserver:A,dragHandle:o.dragHandle,zIndex:null!==(h=null===(f=o[_g])||void 0===f?void 0:f.z)&&void 0!==h?h:0,isParent:!(null===(p=o[_g])||void 0===p||!p.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!o.width&&!!o.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:o.ariaLabel,hasHandleBounds:!(null===(m=o[_g])||void 0===m||!m.handleBounds)})}))};$x.displayName="NodeRenderer";var ey=(0,t.memo)($x);const ty=(e,t,n)=>n===Gg.Left?e-t:n===Gg.Right?e+t:e,ny=(e,t,n)=>n===Gg.Top?e-t:n===Gg.Bottom?e+t:e,ry="react-flow__edgeupdater",ay=e=>{let{position:n,centerX:r,centerY:a,radius:s=10,onMouseDown:o,onMouseEnter:i,onMouseOut:l,type:c}=e;return t.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:l,className:$d([ry,"".concat(ry,"-").concat(c)]),cx:ty(r,s,n),cy:ny(a,s,n),r:s,stroke:"transparent",fill:"transparent"})},sy=()=>!0;var oy=e=>{const n=n=>{let{id:r,className:a,type:s,data:o,onClick:i,onEdgeDoubleClick:l,selected:c,animated:A,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,source:v,target:x,sourceX:y,sourceY:b,targetX:w,targetY:N,sourcePosition:B,targetPosition:j,elementsSelectable:C,hidden:k,sourceHandleId:E,targetHandleId:S,onContextMenu:_,onMouseEnter:F,onMouseMove:U,onMouseLeave:I,reconnectRadius:L,onReconnect:Q,onReconnectStart:O,onReconnectEnd:P,markerEnd:T,markerStart:D,rfId:M,ariaLabel:H,isFocusable:R,isReconnectable:q,pathOptions:K,interactionWidth:z,disableKeyboardA11y:G}=n;const V=(0,t.useRef)(null),[W,X]=(0,t.useState)(!1),[J,Y]=(0,t.useState)(!1),Z=hg(),$=(0,t.useMemo)(()=>"url('#".concat(Av(D,M),"')"),[D,M]),ee=(0,t.useMemo)(()=>"url('#".concat(Av(T,M),"')"),[T,M]);if(k)return null;const te=Tg(r,Z.getState,l),ne=Tg(r,Z.getState,_),re=Tg(r,Z.getState,F),ae=Tg(r,Z.getState,U),se=Tg(r,Z.getState,I),oe=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:a}=Z.getState(),s=t?x:v,o=(t?S:E)||null,i=t?"target":"source",l=a||sy,c=t,A=n.find(e=>e.id===r);Y(!0),null===O||void 0===O||O(e,A,i);Cv({event:e,handleId:o,nodeId:s,onConnect:e=>null===Q||void 0===Q?void 0:Q(A,e),isTarget:c,getState:Z.getState,setState:Z.setState,isValidConnection:l,edgeUpdaterType:i,onReconnectEnd:e=>{Y(!1),null===P||void 0===P||P(e,A,i)}})},ie=()=>X(!0),le=()=>X(!1),ce=!C&&!i;return t.createElement("g",{className:$d(["react-flow__edge","react-flow__edge-".concat(s),a,{selected:c,animated:A,inactive:ce,updating:W}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:a,multiSelectionActive:s}=Z.getState(),o=t.find(e=>e.id===r);if(o){var l;if(C)if(Z.setState({nodesSelectionActive:!1}),o.selected&&s)a({nodes:[],edges:[o]}),null===(l=V.current)||void 0===l||l.blur();else n([r]);i&&i(e,o)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:ae,onMouseLeave:se,onKeyDown:R?e=>{if(!G&&Fg.includes(e.key)&&C){const{unselectNodesAndEdges:n,addSelectedEdges:a,edges:s}=Z.getState();var t;if("Escape"===e.key)null===(t=V.current)||void 0===t||t.blur(),n({edges:[s.find(e=>e.id===r)]});else a([r])}}:void 0,tabIndex:R?0:void 0,role:R?"button":"img","data-testid":"rf__edge-".concat(r),"aria-label":null===H?void 0:H||"Edge from ".concat(v," to ").concat(x),"aria-describedby":R?"".concat(Yv,"-").concat(M):void 0,ref:V},!J&&t.createElement(e,{id:r,source:v,target:x,selected:c,animated:A,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,data:o,style:g,sourceX:y,sourceY:b,targetX:w,targetY:N,sourcePosition:B,targetPosition:j,sourceHandleId:E,targetHandleId:S,markerStart:$,markerEnd:ee,pathOptions:K,interactionWidth:z}),q&&t.createElement(t.Fragment,null,("source"===q||!0===q)&&t.createElement(ay,{position:B,centerX:y,centerY:b,radius:L,onMouseDown:e=>oe(e,!0),onMouseEnter:ie,onMouseOut:le,type:"source"}),("target"===q||!0===q)&&t.createElement(ay,{position:j,centerX:w,centerY:N,radius:L,onMouseDown:e=>oe(e,!1),onMouseEnter:ie,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,t.memo)(n)};function iy(e){const t={default:oy(e.default||ov),straight:oy(e.bezier||nv),step:oy(e.step||tv),smoothstep:oy(e.step||ev),simplebezier:oy(e.simplebezier||Xg)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=oy(e[n]||ov),t),{});return(0,_e.A)((0,_e.A)({},t),n)}function ly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,a=((null===n||void 0===n?void 0:n.y)||0)+t.y,s=(null===n||void 0===n?void 0:n.width)||t.width,o=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Gg.Top:return{x:r+s/2,y:a};case Gg.Right:return{x:r+s,y:a+o/2};case Gg.Bottom:return{x:r+s/2,y:a+o};case Gg.Left:return{x:r,y:a+o/2}}}function cy(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function Ay(e){var t,n,r,a,s;const o=(null===e||void 0===e||null===(t=e[_g])||void 0===t?void 0:t.handleBounds)||null,i=o&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)||0,y:(null===e||void 0===e||null===(s=e.positionAbsolute)||void 0===s?void 0:s.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},o,!!i]}const uy=[{level:0,isMaxLevel:!0,edges:[]}];function dy(e,n,r){const a=dg((0,t.useCallback)(t=>e?t.edges.filter(e=>{const r=n.get(e.source),a=n.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===a||void 0===a?void 0:a.width)&&(null===a||void 0===a?void 0:a.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:a,targetWidth:s,targetHeight:o,width:i,height:l,transform:c}=e;const A={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+s),y2:Math.max(t.y+a,n.y+o)};A.x===A.x2&&(A.x2+=1),A.y===A.y2&&(A.y2+=1);const u=jg({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:l/c[2]}),d=Math.max(0,Math.min(u.x2,A.x2)-Math.max(u.x,A.x)),h=Math.max(0,Math.min(u.y2,A.y2)-Math.max(u.y,A.y));return Math.ceil(d*h)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:a.width,targetHeight:a.height,width:t.width,height:t.height,transform:t.transform})}):t.edges,[e,n]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const a=e.reduce((e,a)=>{const s=Sg(a.zIndex);let o=s?a.zIndex:0;if(n){var i,l;const e=t.get(a.target),n=t.get(a.source),r=a.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(i=n[_g])||void 0===i?void 0:i.z)||0,(null===e||void 0===e||null===(l=e[_g])||void 0===l?void 0:l.z)||0,1e3);o=(s?a.zIndex:0)+(r?c:0)}return e[o]?e[o].push(a):e[o]=[a],r=o>r?o:r,e},{}),s=Object.entries(a).map(e=>{let[t,n]=e;const a=+t;return{edges:n,level:a,isMaxLevel:a===r}});return 0===s.length?uy:s}(a,n,r)}const hy={[zg.Arrow]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[zg.ArrowClosed]:e=>{let{color:n="none",strokeWidth:r=1}=e;return t.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:r},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const fy=e=>{let{id:n,type:r,color:a,width:s=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const A=function(e){const n=hg();return(0,t.useMemo)(()=>{var t,r;return Object.prototype.hasOwnProperty.call(hy,e)?hy[e]:(null===(t=(r=n.getState()).onError)||void 0===t||t.call(r,"009",og(e)),null)},[e])}(r);return A?t.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(s),markerHeight:"".concat(o),viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},t.createElement(A,{color:a,strokeWidth:l})):null},py=e=>{let{defaultColor:n,rfId:r}=e;const a=dg((0,t.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,a)=>([a.markerStart,a.markerEnd].forEach(a=>{if(a&&"object"===typeof a){const s=Av(a,n);r.includes(s)||(e.push((0,_e.A)({id:s,color:a.color||t},a)),r.push(s))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:n,rfId:r}),[n,r]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return t.createElement("defs",null,a.map(e=>t.createElement(fy,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};py.displayName="MarkerDefinitions";var my=(0,t.memo)(py);const gy=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),vy=e=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:r,elevateEdgesOnSelect:a,rfId:s,edgeTypes:o,noPanClassName:i,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:A,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,children:v,disableKeyboardA11y:x}=e;const{edgesFocusable:y,edgesUpdatable:b,elementsSelectable:w,width:N,height:B,connectionMode:j,nodeInternals:C,onError:k}=dg(gy,ih),E=dy(r,C,a);return N?t.createElement(t.Fragment,null,E.map(e=>{let{level:r,edges:a,isMaxLevel:v}=e;return t.createElement("svg",{key:r,style:{zIndex:r},width:N,height:B,className:"react-flow__edges react-flow__container"},v&&t.createElement(my,{defaultColor:n,rfId:s}),t.createElement("g",null,a.map(e=>{var n,r;const[a,v,N]=Ay(C.get(e.source)),[B,E,S]=Ay(C.get(e.target));if(!N||!S)return null;let _=e.type||"default";o[_]||(null===k||void 0===k||k("011",cg(_)),_="default");const F=o[_]||o.default,U=j===Hg.Strict?E.target:(null!==(n=E.target)&&void 0!==n?n:[]).concat(null!==(r=E.source)&&void 0!==r?r:[]),I=cy(v.source,e.sourceHandle),L=cy(U,e.targetHandle),Q=(null===I||void 0===I?void 0:I.position)||Gg.Bottom,O=(null===L||void 0===L?void 0:L.position)||Gg.Top,P=!!(e.focusable||y&&"undefined"===typeof e.focusable),T=e.reconnectable||e.updatable,D="undefined"!==typeof f&&(T||b&&"undefined"===typeof T);if(!I||!L)return null===k||void 0===k||k("008",ig(I,e)),null;const{sourceX:M,sourceY:H,targetX:R,targetY:q}=((e,t,n,r,a,s)=>{const o=ly(n,e,t),i=ly(s,r,a);return{sourceX:o.x,sourceY:o.y,targetX:i.x,targetY:i.y}})(a,I,Q,B,L,O);return t.createElement(F,{key:e.id,id:e.id,className:$d([e.className,i]),type:_,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:M,sourceY:H,targetX:R,targetY:q,sourcePosition:Q,targetPosition:O,elementsSelectable:w,onContextMenu:l,onMouseEnter:c,onMouseMove:A,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,rfId:s,ariaLabel:e.ariaLabel,isFocusable:P,isReconnectable:D,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})})))}),v):null};vy.displayName="EdgeRenderer";var xy=(0,t.memo)(vy);const yy=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function by(e){let{children:n}=e;const r=dg(yy);return t.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:r}},n)}const wy={[Gg.Left]:Gg.Right,[Gg.Right]:Gg.Left,[Gg.Top]:Gg.Bottom,[Gg.Bottom]:Gg.Top},Ny=e=>{var n,r,a,s,o,i,l;let{nodeId:c,handleType:A,style:u,type:d=Kg.Bezier,CustomComponent:h,connectionStatus:f}=e;const{fromNode:p,handleId:m,toX:g,toY:v,connectionMode:x}=dg((0,t.useCallback)(e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[c]),ih),y=null===p||void 0===p||null===(n=p[_g])||void 0===n?void 0:n.handleBounds;let b=null===y||void 0===y?void 0:y[A];if(x===Hg.Loose&&(b=b||(null===y||void 0===y?void 0:y["source"===A?"target":"source"])),!p||!b)return null;const w=m?b.find(e=>e.id===m):b[0],N=w?w.x+w.width/2:(null!==(r=p.width)&&void 0!==r?r:0)/2,B=w?w.y+w.height/2:null!==(a=p.height)&&void 0!==a?a:0,j=(null!==(s=null===(o=p.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==s?s:0)+N,C=(null!==(i=null===(l=p.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==i?i:0)+B,k=null===w||void 0===w?void 0:w.position,E=k?wy[k]:null;if(!k||!E)return null;if(h)return t.createElement(h,{connectionLineType:d,connectionLineStyle:u,fromNode:p,fromHandle:w,fromX:j,fromY:C,toX:g,toY:v,fromPosition:k,toPosition:E,connectionStatus:f});let S="";const _={sourceX:j,sourceY:C,sourcePosition:k,targetX:g,targetY:v,targetPosition:E};return d===Kg.Bezier?[S]=sv(_):d===Kg.Step?[S]=$g((0,_e.A)((0,_e.A)({},_),{},{borderRadius:0})):d===Kg.SmoothStep?[S]=$g(_):d===Kg.SimpleBezier?[S]=Wg(_):S="M".concat(j,",").concat(C," ").concat(g,",").concat(v),t.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:u})};Ny.displayName="ConnectionLine";const By=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function jy(e){let{containerStyle:n,style:r,type:a,component:s}=e;const{nodeId:o,handleType:i,nodesConnectable:l,width:c,height:A,connectionStatus:u}=dg(By,ih);return!!(o&&i&&c&&l)?t.createElement("svg",{style:n,width:c,height:A,className:"react-flow__edges react-flow__connectionline react-flow__container"},t.createElement("g",{className:$d(["react-flow__connection",u])},t.createElement(Ny,{nodeId:o,handleType:i,style:r,type:a,CustomComponent:s,connectionStatus:u}))):null}function Cy(e,n){(0,t.useRef)(null),hg();return(0,t.useMemo)(()=>n(e),[e])}const ky=e=>{let{nodeTypes:n,edgeTypes:r,onMove:a,onMoveStart:s,onMoveEnd:o,onInit:i,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:A,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:w,selectionKeyCode:N,selectionOnDrag:B,selectionMode:j,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:E,deleteKeyCode:S,onlyRenderVisibleElements:_,elementsSelectable:F,selectNodesOnDrag:U,defaultViewport:I,translateExtent:L,minZoom:Q,maxZoom:O,preventScrolling:P,defaultMarkerColor:T,zoomOnScroll:D,zoomOnPinch:M,panOnScroll:H,panOnScrollSpeed:R,panOnScrollMode:q,zoomOnDoubleClick:K,panOnDrag:z,onPaneClick:G,onPaneMouseEnter:V,onPaneMouseMove:W,onPaneMouseLeave:X,onPaneScroll:J,onPaneContextMenu:Y,onEdgeContextMenu:Z,onEdgeMouseEnter:$,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:se,noDragClassName:oe,noWheelClassName:ie,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:Ae,nodeOrigin:ue,nodeExtent:de,rfId:he}=e;const fe=Cy(n,Yx),pe=Cy(r,iy);return function(e){const n=fx(),r=(0,t.useRef)(!1);(0,t.useEffect)(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}(i),t.createElement(Jx,{onPaneClick:G,onPaneMouseEnter:V,onPaneMouseMove:W,onPaneMouseLeave:X,onPaneContextMenu:Y,onPaneScroll:J,deleteKeyCode:S,selectionKeyCode:N,selectionOnDrag:B,selectionMode:j,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:E,elementsSelectable:F,onMove:a,onMoveStart:s,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:M,zoomOnDoubleClick:K,panOnScroll:H,panOnScrollSpeed:R,panOnScrollMode:q,panOnDrag:z,defaultViewport:I,translateExtent:L,minZoom:Q,maxZoom:O,onSelectionContextMenu:m,preventScrolling:P,noDragClassName:oe,noWheelClassName:ie,noPanClassName:le,disableKeyboardA11y:Ae},t.createElement(by,null,t.createElement(xy,{edgeTypes:pe,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:_,onEdgeContextMenu:Z,onEdgeMouseEnter:$,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:se,defaultMarkerColor:T,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:Ae,rfId:he},t.createElement(jy,{style:y,type:x,component:b,containerStyle:w})),t.createElement("div",{className:"react-flow__edgelabel-renderer"}),t.createElement(ey,{nodeTypes:fe,onNodeClick:l,onNodeDoubleClick:A,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:U,onlyRenderVisibleElements:_,noPanClassName:le,noDragClassName:oe,disableKeyboardA11y:Ae,nodeOrigin:ue,nodeExtent:de,rfId:he})))};ky.displayName="GraphView";var Ey=(0,t.memo)(ky);const Sy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_y={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Sy,nodeExtent:Sy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Hg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Ug,isValidConnection:void 0},Fy=()=>{return e=(e,t)=>(0,_e.A)((0,_e.A)({},_y),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:s}=t();e({nodeInternals:ox(n,r,a,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>(0,_e.A)((0,_e.A)({},r),e))})},setDefaultNodesAndEdges:(n,r)=>{const a="undefined"!==typeof n,s="undefined"!==typeof r,o=a?ox(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:a,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:i,domNode:l,nodeOrigin:c}=t(),A=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!A)return;const u=window.getComputedStyle(A),{m22:d}=new window.DOMMatrixReadOnly(u.transform),h=n.reduce((e,t)=>{const n=a.get(t.id);if(null!==n&&void 0!==n&&n.hidden)a.set(n.id,(0,_e.A)((0,_e.A)({},n),{},{[_g]:(0,_e.A)((0,_e.A)({},n[_g]),{},{handleBounds:void 0})}));else if(n){const r=vg(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(a.set(n.id,(0,_e.A)((0,_e.A)({},n),{},{[_g]:(0,_e.A)((0,_e.A)({},n[_g]),{},{handleBounds:{source:Tx(".source",t.nodeElement,d,c),target:Tx(".target",t.nodeElement,d,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);sx(a,c);const f=o||s&&!o&&ix(t,(0,_e.A)({initial:!0},i));e({nodeInternals:new Map(a),fitViewOnInitDone:f}),(null===h||void 0===h?void 0:h.length)>0&&(null===r||void 0===r||r(h))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:a}=t(),s=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});a(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:s,nodeOrigin:o,getNodes:i,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(s){const t=ox(kx(n,i()),a,o,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,i=null;r?o=n.map(e=>Ex(e,!0)):(o=Sx(s(),n),i=Sx(a,[])),Ax({changedNodes:o,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:s}=t();let o,i=null;r?o=n.map(e=>Ex(e,!0)):(o=Sx(a,n),i=Sx(s(),[])),Ax({changedNodes:i,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:a,getNodes:s}=t(),o=r||a,i=(n||s()).map(e=>(e.selected=!1,Ex(e.id,!1)));Ax({changedNodes:i,changedEdges:o.map(e=>Ex(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();null===r||void 0===r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();null===r||void 0===r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(e=>e.selected).map(e=>Ex(e.id,!1)),s=n.filter(e=>e.selected).map(e=>Ex(e.id,!1));Ax({changedNodes:a,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=yg(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:a,d3Zoom:s,d3Selection:o,translateExtent:i}=t();if(!s||!o||!e.x&&!e.y)return!1;const l=Lm.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,a]],A=null===s||void 0===s?void 0:s.constrain()(l,c,i);return s.transform(o,A),n[0]!==A.x||n[1]!==A.y||n[2]!==A.k},cancelConnection:()=>e({connectionNodeId:_y.connectionNodeId,connectionHandleId:_y.connectionHandleId,connectionHandleType:_y.connectionHandleType,connectionStatus:_y.connectionStatus,connectionStartHandle:_y.connectionStartHandle,connectionEndHandle:_y.connectionEndHandle}),reset:()=>e((0,_e.A)({},_y))}),t=Object.is,e?oh(e,t):oh;var e,t},Uy=e=>{let{children:n}=e;const r=(0,t.useRef)(null);return r.current||(r.current=Fy()),t.createElement(tg,{value:r.current},n)};Uy.displayName="ReactFlowProvider";const Iy=e=>{let{children:n}=e;return(0,t.useContext)(eg)?t.createElement(t.Fragment,null,n):t.createElement(Uy,null,n)};Iy.displayName="ReactFlowWrapper";const Ly={input:Lv,default:Uv,output:Ov,group:Pv},Qy={default:ov,straight:nv,step:tv,smoothstep:ev,simplebezier:Xg},Oy=[0,0],Py=[15,15],Ty={x:0,y:0,zoom:1},Dy={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},My=(0,t.forwardRef)((e,n)=>{let{nodes:r,edges:a,defaultNodes:s,defaultEdges:o,className:i,nodeTypes:l=Ly,edgeTypes:c=Qy,onNodeClick:A,onEdgeClick:u,onInit:d,onMove:h,onMoveStart:f,onMoveEnd:p,onConnect:m,onConnectStart:g,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:B,onNodeDoubleClick:j,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:E,onNodesDelete:S,onEdgesDelete:_,onSelectionChange:F,onSelectionDragStart:U,onSelectionDrag:I,onSelectionDragStop:L,onSelectionContextMenu:Q,onSelectionStart:O,onSelectionEnd:P,connectionMode:T=Hg.Strict,connectionLineType:D=Kg.Bezier,connectionLineStyle:M,connectionLineComponent:H,connectionLineContainerStyle:R,deleteKeyCode:q="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:z=!1,selectionMode:G=qg.Full,panActivationKeyCode:V="Space",multiSelectionKeyCode:W=(Og()?"Meta":"Control"),zoomActivationKeyCode:X=(Og()?"Meta":"Control"),snapToGrid:J=!1,snapGrid:Y=Py,onlyRenderVisibleElements:Z=!1,selectNodesOnDrag:$=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=Oy,edgesFocusable:ae,edgesUpdatable:se,elementsSelectable:oe,defaultViewport:ie=Ty,minZoom:le=.5,maxZoom:ce=2,translateExtent:Ae=Sy,preventScrolling:ue=!0,nodeExtent:de,defaultMarkerColor:he="#b1b1b7",zoomOnScroll:fe=!0,zoomOnPinch:pe=!0,panOnScroll:me=!1,panOnScrollSpeed:ge=.5,panOnScrollMode:ve=Rg.Free,zoomOnDoubleClick:xe=!0,panOnDrag:ye=!0,onPaneClick:be,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:Be,onPaneScroll:je,onPaneContextMenu:Ce,children:ke,onEdgeContextMenu:Ee,onEdgeDoubleClick:Se,onEdgeMouseEnter:Fe,onEdgeMouseMove:Ue,onEdgeMouseLeave:Ie,onEdgeUpdate:Le,onEdgeUpdateStart:Qe,onEdgeUpdateEnd:Oe,onReconnect:Pe,onReconnectStart:Te,onReconnectEnd:De,reconnectRadius:Me=10,edgeUpdaterRadius:He=10,onNodesChange:Re,onEdgesChange:qe,noDragClassName:Ke="nodrag",noWheelClassName:ze="nowheel",noPanClassName:Ge="nopan",fitView:Ve=!1,fitViewOptions:We,connectOnClick:Xe=!0,attributionPosition:Je,proOptions:Ye,defaultEdgeOptions:Ze,elevateNodesOnSelect:$e=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:at=20,isValidConnection:st,onError:ot,style:it,id:lt,nodeDragThreshold:ct}=e,At=Gt(e,$m);const ut=lt||"1";return t.createElement("div",(0,_e.A)((0,_e.A)({},At),{},{style:(0,_e.A)((0,_e.A)({},it),Dy),ref:n,className:$d(["react-flow",i]),"data-testid":"rf__wrapper",id:lt}),t.createElement(Iy,null,t.createElement(Ey,{onInit:d,onMove:h,onMoveStart:f,onMoveEnd:p,onNodeClick:A,onEdgeClick:u,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:N,onNodeContextMenu:B,onNodeDoubleClick:j,nodeTypes:l,edgeTypes:c,connectionLineType:D,connectionLineStyle:M,connectionLineComponent:H,connectionLineContainerStyle:R,selectionKeyCode:K,selectionOnDrag:z,selectionMode:G,deleteKeyCode:q,multiSelectionKeyCode:W,panActivationKeyCode:V,zoomActivationKeyCode:X,onlyRenderVisibleElements:Z,selectNodesOnDrag:$,defaultViewport:ie,translateExtent:Ae,minZoom:le,maxZoom:ce,preventScrolling:ue,zoomOnScroll:fe,zoomOnPinch:pe,zoomOnDoubleClick:xe,panOnScroll:me,panOnScrollSpeed:ge,panOnScrollMode:ve,panOnDrag:ye,onPaneClick:be,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:Be,onPaneScroll:je,onPaneContextMenu:Ce,onSelectionContextMenu:Q,onSelectionStart:O,onSelectionEnd:P,onEdgeContextMenu:Ee,onEdgeDoubleClick:Se,onEdgeMouseEnter:Fe,onEdgeMouseMove:Ue,onEdgeMouseLeave:Ie,onReconnect:null!==Pe&&void 0!==Pe?Pe:Le,onReconnectStart:null!==Te&&void 0!==Te?Te:Qe,onReconnectEnd:null!==De&&void 0!==De?De:Oe,reconnectRadius:null!==Me&&void 0!==Me?Me:He,defaultMarkerColor:he,noDragClassName:Ke,noWheelClassName:ze,noPanClassName:Ge,elevateEdgesOnSelect:et,rfId:ut,disableKeyboardA11y:tt,nodeOrigin:re,nodeExtent:de}),t.createElement(Vv,{nodes:r,edges:a,defaultNodes:s,defaultEdges:o,onConnect:m,onConnectStart:g,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:y,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:ae,edgesUpdatable:se,elementsSelectable:oe,elevateNodesOnSelect:$e,minZoom:le,maxZoom:ce,nodeExtent:de,onNodesChange:Re,onEdgesChange:qe,snapToGrid:J,snapGrid:Y,connectionMode:T,translateExtent:Ae,connectOnClick:Xe,defaultEdgeOptions:Ze,fitView:Ve,fitViewOptions:We,onNodesDelete:S,onEdgesDelete:_,onNodeDragStart:C,onNodeDrag:k,onNodeDragStop:E,onSelectionDrag:I,onSelectionDragStart:U,onSelectionDragStop:L,noPanClassName:Ge,nodeOrigin:re,rfId:ut,autoPanOnConnect:nt,autoPanOnNodeDrag:rt,onError:ot,connectionRadius:at,isValidConnection:st,nodeDragThreshold:ct}),t.createElement(qv,{onSelectionChange:F}),ke,t.createElement(mg,{proOptions:Ye,position:Je}),t.createElement(ex,{rfId:ut,disableKeyboardA11y:tt})))});My.displayName="ReactFlow";function Hy(e){return n=>{const[r,a]=(0,t.useState)(n),s=(0,t.useCallback)(t=>a(n=>e(t,n)),[]);return[r,a,s]}}Hy(kx),Hy(function(e,t){return Cx(e,t)});const Ry=e=>{let{id:n,x:r,y:a,width:s,height:o,style:i,color:l,strokeColor:c,strokeWidth:A,className:u,borderRadius:d,shapeRendering:h,onClick:f,selected:p}=e;const{background:m,backgroundColor:g}=i||{},v=l||m||g;return t.createElement("rect",{className:$d(["react-flow__minimap-node",{selected:p},u]),x:r,y:a,rx:d,ry:d,width:s,height:o,fill:v,stroke:c,strokeWidth:A,shapeRendering:h,onClick:f?e=>f(e,n):void 0})};Ry.displayName="MiniMapNode";var qy=(0,t.memo)(Ry);const Ky=e=>e.nodeOrigin,zy=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Gy=e=>e instanceof Function?e:()=>e;var Vy=(0,t.memo)(function(e){let{nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:i=qy,onClick:l}=e;const c=dg(zy,ih),A=dg(Ky),u=Gy(r),d=Gy(n),h=Gy(a),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return t.createElement(t.Fragment,null,c.map(e=>{const{x:n,y:r}=hv(e,A).positionAbsolute;return t.createElement(i,{key:e.id,x:n,y:r,width:e.width,height:e.height,style:e.style,selected:e.selected,className:h(e),color:u(e),borderRadius:s,strokeColor:d(e),strokeWidth:o,shapeRendering:f,onClick:l,id:e.id})}))});const Wy=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=fv(t,e.nodeOrigin),a=n,Cg(Bg(jg(r),jg(a)))):n,rfId:e.rfId};var r,a};function Xy(e){var n,r;let{style:a,className:s,nodeStrokeColor:o="transparent",nodeColor:i="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:A=2,nodeComponent:u,maskColor:d="rgb(240, 240, 240, 0.6)",maskStrokeColor:h="none",maskStrokeWidth:f=1,position:p="bottom-right",onClick:m,onNodeClick:g,pannable:v=!1,zoomable:x=!1,ariaLabel:y="React Flow mini map",inversePan:b=!1,zoomStep:w=10,offsetScale:N=5}=e;const B=hg(),j=(0,t.useRef)(null),{boundingRect:C,viewBB:k,rfId:E}=dg(Wy,ih),S=null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:200,_=null!==(r=null===a||void 0===a?void 0:a.height)&&void 0!==r?r:150,F=C.width/S,U=C.height/_,I=Math.max(F,U),L=I*S,Q=I*_,O=N*I,P=C.x-(L-C.width)/2-O,T=C.y-(Q-C.height)/2-O,D=L+2*O,M=Q+2*O,H="".concat("react-flow__minimap-desc","-").concat(E),R=(0,t.useRef)(0);R.current=I,(0,t.useEffect)(()=>{if(j.current){const e=Ef(j.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=B.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const a=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*w,s=t[2]*Math.pow(2,a);r.scaleTo(n,s)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:a,width:s,height:o}=B.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const i=R.current*Math.max(1,t[2])*(b?-1:1),l={x:t[0]-e.sourceEvent.movementX*i,y:t[1]-e.sourceEvent.movementY*i},c=[[0,0],[s,o]],A=Lm.translate(l.x,l.y).scale(t[2]),u=r.constrain()(A,c,a);r.transform(n,u)},r=qm().on("zoom",v?n:null).on("zoom.wheel",x?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[v,x,b,w]);const q=m?e=>{const t=Pf(e);m(e,{x:t[0],y:t[1]})}:void 0,K=g?(e,t)=>{const n=B.getState().nodeInternals.get(t);g(e,n)}:void 0;return t.createElement(pg,{position:p,style:a,className:$d(["react-flow__minimap",s]),"data-testid":"rf__minimap"},t.createElement("svg",{width:S,height:_,viewBox:"".concat(P," ").concat(T," ").concat(D," ").concat(M),role:"img","aria-labelledby":H,ref:j,onClick:q},y&&t.createElement("title",{id:H},y),t.createElement(Vy,{onClick:K,nodeColor:i,nodeStrokeColor:o,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:A,nodeComponent:u}),t.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(P-O,",").concat(T-O,"h").concat(D+2*O,"v").concat(M+2*O,"h").concat(-D-2*O,"z\n        M").concat(k.x,",").concat(k.y,"h").concat(k.width,"v").concat(k.height,"h").concat(-k.width,"z"),fill:d,fillRule:"evenodd",stroke:h,strokeWidth:f,pointerEvents:"none"})))}Xy.displayName="MiniMap";var Jy=(0,t.memo)(Xy);const Yy=["children","className"];function Zy(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},t.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function $y(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},t.createElement("path",{d:"M0 0h32v4.2H0z"}))}function eb(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},t.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function tb(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function nb(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},t.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const rb=e=>{let{children:n,className:r}=e,a=Gt(e,Yy);return t.createElement("button",(0,_e.A)({type:"button",className:$d(["react-flow__controls-button",r])},a),n)};rb.displayName="ControlButton";const ab=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),sb=e=>{let{style:n,showZoom:r=!0,showFitView:a=!0,showInteractive:s=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:l,onFitView:c,onInteractiveChange:A,className:u,children:d,position:h="bottom-left"}=e;const f=hg(),[p,m]=(0,t.useState)(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:x}=dg(ab,ih),{zoomIn:y,zoomOut:b,fitView:w}=fx();if((0,t.useEffect)(()=>{m(!0)},[]),!p)return null;return t.createElement(pg,{className:$d(["react-flow__controls",u]),position:h,style:n,"data-testid":"rf__controls"},r&&t.createElement(t.Fragment,null,t.createElement(rb,{onClick:()=>{y(),null===i||void 0===i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},t.createElement(Zy,null)),t.createElement(rb,{onClick:()=>{b(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},t.createElement($y,null))),a&&t.createElement(rb,{className:"react-flow__controls-fitview",onClick:()=>{w(o),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},t.createElement(eb,null)),s&&t.createElement(rb,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),null===A||void 0===A||A(!g)},title:"toggle interactivity","aria-label":"toggle interactivity"},g?t.createElement(nb,null):t.createElement(tb,null)),d)};sb.displayName="Controls";var ob,ib=(0,t.memo)(sb);function lb(e){let{color:n,dimensions:r,lineWidth:a}=e;return t.createElement("path",{stroke:n,strokeWidth:a,d:"M".concat(r[0]/2," 0 V").concat(r[1]," M0 ").concat(r[1]/2," H").concat(r[0])})}function cb(e){let{color:n,radius:r}=e;return t.createElement("circle",{cx:r,cy:r,r:r,fill:n})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(ob||(ob={}));const Ab={[ob.Dots]:"#91919a",[ob.Lines]:"#eee",[ob.Cross]:"#e2e2e2"},ub={[ob.Dots]:1,[ob.Lines]:1,[ob.Cross]:6},db=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function hb(e){let{id:n,variant:r=ob.Dots,gap:a=20,size:s,lineWidth:o=1,offset:i=2,color:l,style:c,className:A}=e;const u=(0,t.useRef)(null),{transform:d,patternId:h}=dg(db,ih),f=l||Ab[r],p=s||ub[r],m=r===ob.Dots,g=r===ob.Cross,v=Array.isArray(a)?a:[a,a],x=[v[0]*d[2]||1,v[1]*d[2]||1],y=p*d[2],b=g?[y,y]:x,w=m?[y/i,y/i]:[b[0]/i,b[1]/i];return t.createElement("svg",{className:$d(["react-flow__background",A]),style:(0,_e.A)((0,_e.A)({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:u,"data-testid":"rf__background"},t.createElement("pattern",{id:h+n,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(w[0],",-").concat(w[1],")")},m?t.createElement(cb,{color:f,radius:y/i}):t.createElement(lb,{dimensions:b,color:f,lineWidth:o})),t.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(h+n,")")}))}hb.displayName="Background";var fb=(0,t.memo)(hb);const pb=Jt("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),mb=[{id:"overview",label:"Vis\xe3o Geral",icon:$t,description:"Resumo do mundo criado",color:"blue"},{id:"geography",label:"Geografia",icon:od,description:"Mapa, locais, regi\xf5es e clima",color:"green"},{id:"cultures",label:"Culturas",icon:en,description:"Povos, idiomas e tradi\xe7\xf5es",color:"purple"},{id:"systems",label:"Sistemas",icon:Qn,description:"Magia, tecnologia e pol\xedtica",color:"orange"},{id:"history",label:"Hist\xf3ria",icon:ln,description:"Linha do tempo, eventos e eras",color:"red"},{id:"relationships",label:"Rela\xe7\xf5es",icon:ud,description:"Mapa de conex\xf5es entre elementos",color:"indigo"},{id:"analytics",label:"Analytics",icon:xu,description:"Estat\xedsticas e insights do mundo",color:"teal"}],gb={geography:{label:"Geografia",icon:od,color:"green",items:[{id:"locations",label:"Locais",icon:Dn,description:"Cidades, vilas, pontos de interesse"},{id:"regions",label:"Regi\xf5es",icon:pb,description:"\xc1reas geogr\xe1ficas e territ\xf3rios"},{id:"landmarks",label:"Marcos",icon:id,description:"Pontos de refer\xeancia importantes"},{id:"resources",label:"Recursos",icon:ld,description:"Materiais e recursos naturais"}]},cultures:{label:"Culturas",icon:en,color:"purple",items:[{id:"peoples",label:"Povos",icon:en,description:"Ra\xe7as, etnias e grupos sociais"},{id:"languages",label:"Idiomas",icon:In,description:"L\xednguas e dialetos"},{id:"religions",label:"Religi\xf5es",icon:ar,description:"Cren\xe7as e sistemas religiosos"},{id:"traditions",label:"Tradi\xe7\xf5es",icon:sr,description:"Costumes e pr\xe1ticas culturais"}]},systems:{label:"Sistemas",icon:Qn,color:"orange",items:[{id:"magicSystems",label:"Magia",icon:Qn,description:"Sistemas m\xe1gicos e poderes"},{id:"technologies",label:"Tecnologia",icon:on,description:"Inven\xe7\xf5es e avan\xe7os tecnol\xf3gicos"},{id:"governments",label:"Pol\xedtica",icon:cd,description:"Sistemas de governo e poder"},{id:"economies",label:"Economia",icon:Ad,description:"Sistemas econ\xf4micos e com\xe9rcio"}]},history:{label:"Hist\xf3ria",icon:ln,color:"red",items:[{id:"events",label:"Eventos",icon:Yn,description:"Acontecimentos hist\xf3ricos importantes"},{id:"eras",label:"Eras",icon:xn,description:"Per\xedodos hist\xf3ricos e \xe9pocas"}]},analytics:{label:"Analytics",icon:xu,color:"teal",items:[{id:"statistics",label:"Estat\xedsticas",icon:xu,description:"Dados e m\xe9tricas do mundo"},{id:"insights",label:"Insights",icon:Pn,description:"An\xe1lises e descobertas"},{id:"reports",label:"Relat\xf3rios",icon:nn,description:"Relat\xf3rios detalhados"}]}},vb=[{value:"city",label:"Cidade",description:"Grande assentamento urbano com governo pr\xf3prio.",icon:"Building"},{value:"town",label:"Vila",description:"Assentamento menor que uma cidade, geralmente focado em com\xe9rcio local.",icon:"Home"},{value:"village",label:"Aldeia",description:"Pequeno agrupamento de casas em uma \xe1rea rural.",icon:"Tent"},{value:"capital",label:"Capital",description:"Centro administrativo de uma na\xe7\xe3o ou imp\xe9rio.",icon:"Crown"},{value:"fortress",label:"Fortaleza",description:"Estrutura militar fortificada para defesa.",icon:"Castle"},{value:"ruins",label:"Ru\xednas",description:"Restos de uma estrutura ou cidade antiga.",icon:"Landmark"},{value:"dungeon",label:"Masmorra",description:"Local subterr\xe2neo perigoso, cheio de monstros e tesouros.",icon:"Key"},{value:"forest",label:"Floresta",description:"Grande \xe1rea coberta por \xe1rvores e vegeta\xe7\xe3o densa.",icon:"Trees"},{value:"mountain",label:"Montanha",description:"Grande eleva\xe7\xe3o natural da superf\xedcie terrestre.",icon:"Mountain"},{value:"river",label:"Rio",description:"Curso de \xe1gua natural que flui para um oceano, lago ou outro rio.",icon:"Waves"},{value:"ocean",label:"Oceano",description:"Vasta extens\xe3o de \xe1gua salgada que cobre a maior parte da Terra.",icon:"Sailboat"},{value:"other",label:"Outro",description:"Qualquer outro tipo de local n\xe3o listado acima.",icon:"MapPin"}],xb=[{value:"festival",label:"Festival"},{value:"ritual",label:"Ritual"},{value:"ceremony",label:"Cerim\xf4nia"},{value:"custom",label:"Costume"},{value:"celebration",label:"Celebra\xe7\xe3o"},{value:"rite",label:"Rito de Passagem"},{value:"tradition",label:"Tradi\xe7\xe3o Familiar"},{value:"observance",label:"Observ\xe2ncia Religiosa"}],yb=[{value:"natural",label:"Natural"},{value:"ruins",label:"Ru\xednas"},{value:"monument",label:"Monumento"},{value:"structure",label:"Estrutura"},{value:"magical",label:"M\xe1gico"},{value:"religious",label:"Religioso"},{value:"historical",label:"Hist\xf3rico"},{value:"mysterious",label:"Misterioso"}],bb=[{value:"mineral",label:"Mineral"},{value:"vegetal",label:"Vegetal"},{value:"animal",label:"Animal"},{value:"magical",label:"M\xe1gico"},{value:"energy",label:"Energia"},{value:"liquid",label:"L\xedquido"},{value:"gas",label:"Gasoso"},{value:"artifact",label:"Artefato"}],wb=[{value:"comum",label:"Comum"},{value:"incomum",label:"Incomum"},{value:"raro",label:"Raro"},{value:"muito_raro",label:"Muito Raro"},{value:"lendario",label:"Lend\xe1rio"},{value:"unico",label:"\xdanico"}],Nb=[{value:"monarchy",label:"Monarquia"},{value:"republic",label:"Rep\xfablica"},{value:"teocracy",label:"Teocracia"},{value:"democracy",label:"Democracia"},{value:"dictatorship",label:"Ditadura"},{value:"federation",label:"Federa\xe7\xe3o"},{value:"confederation",label:"Confedera\xe7\xe3o"},{value:"communism",label:"Comunismo"}],Bb=e=>{let{economy:n,onClose:r,onSave:a,aiProvider:s,isGenerating:o,onGenerateWithAI:i}=e;const[l,c]=(0,t.useState)((0,_e.A)({name:"",currency:"",description:"",mainExports:"",wealthDistribution:""},n)),[A,u]=(0,t.useState)(""),d=async e=>{if(!s)return void Rd.error("Configure um provedor de IA");u(e);const t={description:'Descreva o sistema econ\xf4mico "'.concat(l.name,'".'),currency:'Defina a moeda principal do sistema "'.concat(l.name,'".'),mainExports:'Descreva as principais exporta\xe7\xf5es do sistema "'.concat(l.name,'".'),wealthDistribution:'Descreva a distribui\xe7\xe3o de riqueza do sistema "'.concat(l.name,'".')};try{const n=await i("economy_field",t[e]);n&&(c(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{u("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema Econ\xf4mico":"Adicionar Sistema Econ\xf4mico"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.name.trim()?a(l):Rd.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Sistema *"}),(0,Sn.jsx)("input",{type:"text",value:l.name,onChange:e=>c((0,_e.A)((0,_e.A)({},l),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Mercantilismo de Prata",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Moeda"}),s&&(0,Sn.jsx)("button",{type:"button",onClick:()=>d("currency"),disabled:"currency"===A,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"currency"===A?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:l.currency,onChange:e=>c((0,_e.A)((0,_e.A)({},l),{},{currency:e.target.value})),className:"input-field",placeholder:"Ex: Draconian Gold"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),s&&(0,Sn.jsx)("button",{type:"button",onClick:()=>d("description"),disabled:"description"===A,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===A?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:l.description,onChange:e=>c((0,_e.A)((0,_e.A)({},l),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do sistema...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Exporta\xe7\xf5es"}),s&&(0,Sn.jsx)("button",{type:"button",onClick:()=>d("mainExports"),disabled:"mainExports"===A,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"mainExports"===A?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:l.mainExports,onChange:e=>c((0,_e.A)((0,_e.A)({},l),{},{mainExports:e.target.value})),className:"textarea-field",placeholder:"Principais exporta\xe7\xf5es...",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Distribui\xe7\xe3o de Riqueza"}),s&&(0,Sn.jsx)("button",{type:"button",onClick:()=>d("wealthDistribution"),disabled:"wealthDistribution"===A,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"wealthDistribution"===A?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:l.wealthDistribution,onChange:e=>c((0,_e.A)((0,_e.A)({},l),{},{wealthDistribution:e.target.value})),className:"textarea-field",placeholder:"Como a riqueza \xe9 distribu\xedda?",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema Econ\xf4mico"]})]})]})]})})},jb=Jt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Cb=Jt("Tent",[["path",{d:"M19 20 10 4",key:"1ak541"}],["path",{d:"m5 20 9-16",key:"11dtj9"}],["path",{d:"M3 20h18",key:"1l19wn"}],["path",{d:"m12 15-3 5",key:"1c5kej"}],["path",{d:"m12 15 3 5",key:"odkmhi"}]]),kb=Jt("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4",key:"jdggr9"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]),Eb=Jt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Sb=Jt("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),_b=Jt("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),Fb=Jt("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Ub=Jt("Sailboat",[["path",{d:"M22 18H2a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4Z",key:"1404fh"}],["path",{d:"M21 14 10 2 3 14h18Z",key:"1nzg7v"}],["path",{d:"M10 2v16",key:"1labyt"}]]),Ib={Building:rd,Home:jb,Tent:Cb,Crown:cd,Castle:kb,Landmark:Eb,Key:$n,Trees:Sb,Mountain:_b,Waves:Fb,Sailboat:Ub,MapPin:Un},Lb=e=>{let{location:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",type:"city",description:"",population:"",government:"",economy:"",history:""},n)),[u,d]=(0,t.useState)("");(0,t.useEffect)(()=>{n&&A((0,_e.A)({},n))},[n]);const h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Gere uma descri\xe7\xe3o detalhada para o local "'.concat(c.name,'", que \xe9 do tipo "').concat(c.type,'".'),population:'Estime a popula\xe7\xe3o para "'.concat(c.name,'".'),government:'Descreva o governo de "'.concat(c.name,'".'),economy:'Descreva a economia de "'.concat(c.name,'".'),history:'Crie um breve hist\xf3rico para "'.concat(c.name,'".')};try{const n=await l("location_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e.charAt(0).toUpperCase()+e.slice(1)," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}},f=vb.find(e=>e.value===c.type),p=f&&Ib[f.icon]?Ib[f.icon]:Un;return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(p,{className:"h-6 w-6 mr-3 text-indigo-500"}),n?"Editar Local":"Adicionar Local"]}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do local \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Local *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Cidade da Lua Prateada",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Local"}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:vb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>h("description"),disabled:i&&"description"===u,className:"btn-ai",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),i&&"description"===u?"Gerando...":"IA"]})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva a apar\xeancia, atmosfera e caracter\xedsticas do local.",rows:"4"})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Popula\xe7\xe3o"}),o&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>h("population"),disabled:i&&"population"===u,className:"btn-ai",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),i&&"population"===u?"Gerando...":"IA"]})]}),(0,Sn.jsx)("input",{type:"text",value:c.population,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{population:e.target.value})),className:"input-field",placeholder:"Ex: 50.000 habitantes"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Governo"}),o&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>h("government"),disabled:i&&"government"===u,className:"btn-ai",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),i&&"government"===u?"Gerando...":"IA"]})]}),(0,Sn.jsx)("input",{type:"text",value:c.government,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{government:e.target.value})),className:"input-field",placeholder:"Ex: Monarquia Constitucional"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Economia"}),o&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>h("economy"),disabled:i&&"economy"===u,className:"btn-ai",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),i&&"economy"===u?"Gerando...":"IA"]})]}),(0,Sn.jsx)("textarea",{value:c.economy,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{economy:e.target.value})),className:"textarea-field",placeholder:"Principais ind\xfastrias, com\xe9rcio e recursos.",rows:"2"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Hist\xf3ria"}),o&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>h("history"),disabled:i&&"history"===u,className:"btn-ai",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),i&&"history"===u?"Gerando...":"IA"]})]}),(0,Sn.jsx)("textarea",{value:c.history,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{history:e.target.value})),className:"textarea-field",placeholder:"Breve hist\xf3rico do local, eventos importantes.",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsx)("button",{type:"submit",className:"btn-primary",children:n?"Atualizar Local":"Criar Local"})]})]})]})]})})},Qb=e=>{let{people:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",classification:"",description:"",society:"",traditions:"",appearance:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Gere uma descri\xe7\xe3o detalhada para o povo "'.concat(c.name,'".'),society:'Descreva a sociedade do povo "'.concat(c.name,'".'),traditions:'Descreva as tradi\xe7\xf5es do povo "'.concat(c.name,'".'),appearance:'Descreva a apar\xeancia do povo "'.concat(c.name,'".')};try{const n=await l("people_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Povo":"Adicionar Povo"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do povo \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Povo *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Elfos da Floresta",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Classifica\xe7\xe3o"}),(0,Sn.jsx)("input",{type:"text",value:c.classification,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{classification:e.target.value})),className:"input-field",placeholder:"Ex: Humanoide, Fae"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Apar\xeancia"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("appearance"),disabled:"appearance"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"appearance"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.appearance,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{appearance:e.target.value})),className:"textarea-field",placeholder:"Descreva a apar\xeancia f\xedsica do povo...",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o Geral"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva o povo, sua cultura e caracter\xedsticas.",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sociedade"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("society"),disabled:"society"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"society"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.society,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{society:e.target.value})),className:"textarea-field",placeholder:"Estrutura social, governo, etc.",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tradi\xe7\xf5es"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("traditions"),disabled:"traditions"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"traditions"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.traditions,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{traditions:e.target.value})),className:"textarea-field",placeholder:"Costumes e tradi\xe7\xf5es importantes.",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Povo"]})]})]})]})]})})},Ob=e=>{let{religion:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",deities:"",description:"",practices:"",followers:"",symbols:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva as cren\xe7as centrais da religi\xe3o "'.concat(c.name,'".'),deities:'Liste e descreva as principais divindades da religi\xe3o "'.concat(c.name,'".'),practices:'Descreva as pr\xe1ticas e rituais da religi\xe3o "'.concat(c.name,'".'),followers:'Descreva os principais seguidores da religi\xe3o "'.concat(c.name,'".'),symbols:'Descreva os s\xedmbolos sagrados da religi\xe3o "'.concat(c.name,'".')};try{const n=await l("religion_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Religi\xe3o":"Adicionar Religi\xe3o"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome da religi\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Religi\xe3o *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Culto da Luz Eterna",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o das Cren\xe7as"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Cren\xe7as centrais da religi\xe3o...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Divindades"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("deities"),disabled:"deities"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"deities"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.deities,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{deities:e.target.value})),className:"textarea-field",placeholder:"Principais divindades e conceitos...",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pr\xe1ticas e Rituais"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("practices"),disabled:"practices"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"practices"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.practices,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{practices:e.target.value})),className:"textarea-field",placeholder:"Como praticam sua f\xe9?",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Seguidores"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("followers"),disabled:"followers"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"followers"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.followers,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{followers:e.target.value})),className:"textarea-field",placeholder:"Principais seguidores...",rows:"2"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"S\xedmbolos Sagrados"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("symbols"),disabled:"symbols"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"symbols"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.symbols,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{symbols:e.target.value})),className:"textarea-field",placeholder:"S\xedmbolos e artefatos sagrados...",rows:"2"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Religi\xe3o"]})]})]})]})]})})},Pb=e=>{let{region:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",description:"",climate:"",terrain:"",population:"",features:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente a geografia da regi\xe3o "'.concat(c.name,'".'),climate:'Descreva o clima da regi\xe3o "'.concat(c.name,'".'),terrain:'Descreva o terreno caracter\xedstico da regi\xe3o "'.concat(c.name,'".'),population:'Estime a popula\xe7\xe3o da regi\xe3o "'.concat(c.name,'".'),features:'Descreva caracter\xedsticas especiais da regi\xe3o "'.concat(c.name,'".')};try{const n=await l("region_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Regi\xe3o":"Adicionar Regi\xe3o"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome da regi\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Regi\xe3o *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Plan\xedcies Douradas",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o Geogr\xe1fica"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descreva a geografia da regi\xe3o...",rows:"4"})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Clima"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("climate"),disabled:"climate"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"climate"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.climate,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{climate:e.target.value})),className:"input-field",placeholder:"Ex: Temperado, Tropical"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Terreno"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("terrain"),disabled:"terrain"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"terrain"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.terrain,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{terrain:e.target.value})),className:"input-field",placeholder:"Ex: Plan\xedcies, Montanhas"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Popula\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("population"),disabled:"population"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"population"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.population,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{population:e.target.value})),className:"input-field",placeholder:"Ex: 50.000 habitantes"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Caracter\xedsticas Especiais"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("features"),disabled:"features"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"features"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.features,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{features:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas \xfanicas da regi\xe3o...",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Regi\xe3o"]})]})]})]})]})})},Tb=e=>{let{landmark:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",type:"natural",description:"",significance:"",location:"",features:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente o marco "'.concat(c.name,'".'),significance:'Explique a import\xe2ncia hist\xf3rica ou cultural do marco "'.concat(c.name,'".'),location:'Descreva a localiza\xe7\xe3o do marco "'.concat(c.name,'".'),features:'Descreva caracter\xedsticas especiais do marco "'.concat(c.name,'".')};try{const n=await l("landmark_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Marco":"Adicionar Marco"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do marco \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Marco *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Torre dos Ventos",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:yb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do marco...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Import\xe2ncia Hist\xf3rica"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("significance"),disabled:"significance"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"significance"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.significance,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{significance:e.target.value})),className:"textarea-field",placeholder:"Por que este marco \xe9 importante?",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Localiza\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("location"),disabled:"location"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"location"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.location,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{location:e.target.value})),className:"input-field",placeholder:"Onde est\xe1 localizado?"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Caracter\xedsticas Especiais"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("features"),disabled:"features"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"features"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.features,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{features:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas \xfanicas do marco...",rows:"2"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Marco"]})]})]})]})]})})},Db=[{value:"political",label:"Pol\xedtico"},{value:"war",label:"Guerra"},{value:"discovery",label:"Descoberta"},{value:"disaster",label:"Desastre"},{value:"cultural",label:"Cultural"},{value:"magical",label:"M\xe1gico"},{value:"religious",label:"Religioso"},{value:"technological",label:"Tecnol\xf3gico"}],Mb=e=>{let{event:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",description:"",year:"",type:"political",impact:"",participants:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente um evento hist\xf3rico chamado "'.concat(c.name,'" que aconteceu no ano ').concat(c.year||"desconhecido","."),impact:'Descreva o impacto e consequ\xeancias do evento "'.concat(c.name,'" no mundo.'),participants:'Liste os principais participantes, her\xf3is ou vil\xf5es envolvidos no evento "'.concat(c.name,'".')};try{const n=await l("event_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Evento":"Adicionar Evento"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do evento \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Evento *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: A Grande Guerra dos Drag\xf5es",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano"}),(0,Sn.jsx)("input",{type:"number",value:c.year,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{year:e.target.value})),className:"input-field",placeholder:"Ex: 1205"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Evento"}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:Db.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"O que aconteceu neste evento?",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Impacto e Consequ\xeancias"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("impact"),disabled:"impact"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"impact"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.impact,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{impact:e.target.value})),className:"textarea-field",placeholder:"Quais foram as consequ\xeancias deste evento?",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Participantes"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("participants"),disabled:"participants"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"participants"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.participants,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{participants:e.target.value})),className:"textarea-field",placeholder:"Quem esteve envolvido?",rows:"2"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Evento"]})]})]})]})]})})},Hb=e=>{let{system:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",description:"",rules:"",source:"",limitations:""},n)),[u,d]=(0,t.useState)("");return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema de Magia":"Adicionar Sistema de Magia"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6 space-y-6",children:[(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A(t=>(0,_e.A)((0,_e.A)({},t),{},{name:e.target.value})),className:"input-field",placeholder:"Nome do Sistema de Magia",required:!0}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A(t=>(0,_e.A)((0,_e.A)({},t),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o geral"}),(0,Sn.jsx)("textarea",{value:c.rules,onChange:e=>A(t=>(0,_e.A)((0,_e.A)({},t),{},{rules:e.target.value})),className:"textarea-field",placeholder:"Regras principais"}),(0,Sn.jsx)("textarea",{value:c.source,onChange:e=>A(t=>(0,_e.A)((0,_e.A)({},t),{},{source:e.target.value})),className:"textarea-field",placeholder:"Fonte da magia"}),(0,Sn.jsx)("textarea",{value:c.limitations,onChange:e=>A(t=>(0,_e.A)((0,_e.A)({},t),{},{limitations:e.target.value})),className:"textarea-field",placeholder:"Limita\xe7\xf5es e custos"}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema"]})]})]})]})]})})},Rb=e=>{let{language:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",family:"",description:"",speakers:"",script:"",examples:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente as caracter\xedsticas do idioma "'.concat(c.name,'".'),family:'Defina a fam\xedlia lingu\xedstica do idioma "'.concat(c.name,'".'),speakers:'Descreva os principais falantes do idioma "'.concat(c.name,'".'),script:'Descreva o sistema de escrita do idioma "'.concat(c.name,'".'),examples:'Crie exemplos de palavras ou frases do idioma "'.concat(c.name,'".')};try{const n=await l("language_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Idioma":"Adicionar Idioma"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do idioma \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Idioma *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: \xc9lfico Antigo",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fam\xedlia Lingu\xedstica"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("family"),disabled:"family"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"family"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.family,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{family:e.target.value})),className:"input-field",placeholder:"Ex: Proto-\xc9lfico"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas do idioma...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Principais Falantes"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("speakers"),disabled:"speakers"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"speakers"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.speakers,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{speakers:e.target.value})),className:"textarea-field",placeholder:"Quem fala este idioma?",rows:"2"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sistema de Escrita"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("script"),disabled:"script"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"script"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.script,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{script:e.target.value})),className:"textarea-field",placeholder:"Como \xe9 escrito?",rows:"2"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Exemplos"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("examples"),disabled:"examples"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"examples"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.examples,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{examples:e.target.value})),className:"textarea-field",placeholder:"Palavras ou frases de exemplo...",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Idioma"]})]})]})]})]})})},qb=e=>{let{tradition:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",type:"festival",description:"",origin:"",practice:"",frequency:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente a tradi\xe7\xe3o "'.concat(c.name,'".'),origin:'Descreva a origem hist\xf3rica da tradi\xe7\xe3o "'.concat(c.name,'".'),practice:'Descreva como \xe9 praticada a tradi\xe7\xe3o "'.concat(c.name,'".'),frequency:'Defina com que frequ\xeancia acontece a tradi\xe7\xe3o "'.concat(c.name,'".')};try{const n=await l("tradition_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Tradi\xe7\xe3o":"Adicionar Tradi\xe7\xe3o"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome da tradi\xe7\xe3o \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Tradi\xe7\xe3o *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Festival das Flores",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:xb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada da tradi\xe7\xe3o...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Origem Hist\xf3rica"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("origin"),disabled:"origin"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"origin"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.origin,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{origin:e.target.value})),className:"textarea-field",placeholder:"Como surgiu esta tradi\xe7\xe3o?",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Como \xe9 Praticada"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("practice"),disabled:"practice"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"practice"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.practice,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{practice:e.target.value})),className:"textarea-field",placeholder:"Detalhes de como \xe9 praticada...",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Frequ\xeancia"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("frequency"),disabled:"frequency"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"frequency"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.frequency,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{frequency:e.target.value})),className:"input-field",placeholder:"Ex: Anualmente, Sazonal, Mensal..."})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Tradi\xe7\xe3o"]})]})]})]})]})})},Kb=e=>{let{resource:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",type:"mineral",description:"",rarity:"comum",uses:"",location:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente o recurso "'.concat(c.name,'".'),uses:'Descreva os principais usos do recurso "'.concat(c.name,'".'),location:'Descreva onde o recurso "'.concat(c.name,'" pode ser encontrado.')};try{const n=await l("resource_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Recurso":"Adicionar Recurso"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do recurso \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Recurso *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Cristal de Mana",required:!0})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:bb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raridade"}),(0,Sn.jsx)("select",{value:c.rarity,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{rarity:e.target.value})),className:"input-field",children:wb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Caracter\xedsticas do recurso...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Principais Usos"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("uses"),disabled:"uses"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"uses"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.uses,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{uses:e.target.value})),className:"textarea-field",placeholder:"Para que \xe9 usado?",rows:"3"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Onde \xe9 Encontrado"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("location"),disabled:"location"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"location"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.location,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{location:e.target.value})),className:"textarea-field",placeholder:"Localiza\xe7\xe3o e condi\xe7\xf5es de obten\xe7\xe3o...",rows:"2"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Recurso"]})]})]})]})]})})},zb=e=>{let{technology:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",level:"",description:"",applications:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva detalhadamente a tecnologia "'.concat(c.name,'".'),applications:'Descreva as principais aplica\xe7\xf5es da tecnologia "'.concat(c.name,'".'),level:'Defina o n\xedvel tecnol\xf3gico da tecnologia "'.concat(c.name,'".')};try{const n=await l("technology_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Tecnologia":"Adicionar Tecnologia"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome da tecnologia \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Tecnologia *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Tecnologia de Teletransporte",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"N\xedvel Tecnol\xf3gico"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("level"),disabled:"level"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"level"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.level,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{level:e.target.value})),className:"input-field",placeholder:"Ex: N\xedvel 5"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada da tecnologia...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Aplica\xe7\xf5es"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("applications"),disabled:"applications"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"applications"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.applications,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{applications:e.target.value})),className:"textarea-field",placeholder:"Principais aplica\xe7\xf5es da tecnologia...",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Tecnologia"]})]})]})]})]})})},Gb=e=>{let{government:n,onClose:r,onSave:a,onDelete:s,aiProvider:o,isGenerating:i,onGenerateWithAI:l}=e;const[c,A]=(0,t.useState)((0,_e.A)({name:"",type:"monarchy",description:"",leaderTitle:"",laws:""},n)),[u,d]=(0,t.useState)(""),h=async e=>{if(!o)return void Rd.error("Configure um provedor de IA");d(e);const t={description:'Descreva o sistema pol\xedtico "'.concat(c.name,'".'),leaderTitle:'Defina o t\xedtulo do l\xedder do sistema "'.concat(c.name,'".'),laws:'Descreva as principais leis do sistema "'.concat(c.name,'".'),type:'Defina o tipo de governo do sistema "'.concat(c.name,'".')};try{const n=await l("government_field",t[e]);n&&(A(t=>(0,_e.A)((0,_e.A)({},t),{},{[e]:n})),Rd.success("".concat(e," gerado com sucesso!")))}catch(n){Rd.error("Erro ao gerar conte\xfado")}finally{d("")}};return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Sn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,Sn.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Editar Sistema Pol\xedtico":"Adicionar Sistema Pol\xedtico"}),(0,Sn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Sn.jsx)(un,{className:"h-6 w-6"})})]}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name.trim()?a(c):Rd.error("O nome do sistema \xe9 obrigat\xf3rio")},className:"p-6",children:[(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Sistema *"}),(0,Sn.jsx)("input",{type:"text",value:c.name,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{name:e.target.value})),className:"input-field",placeholder:"Ex: Imp\xe9rio de Eldoria",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("type"),disabled:"type"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"type"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("select",{value:c.type,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{type:e.target.value})),className:"input-field",children:Nb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("description"),disabled:"description"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"description"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.description,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{description:e.target.value})),className:"textarea-field",placeholder:"Descri\xe7\xe3o detalhada do sistema...",rows:"4"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"L\xedder"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("leaderTitle"),disabled:"leaderTitle"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"leaderTitle"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("input",{type:"text",value:c.leaderTitle,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{leaderTitle:e.target.value})),className:"input-field",placeholder:"Ex: Imperador"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Leis"}),o&&(0,Sn.jsx)("button",{type:"button",onClick:()=>h("laws"),disabled:"laws"===u,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors disabled:opacity-50",children:"laws"===u?"Gerando...":"\u2728 IA"})]}),(0,Sn.jsx)("textarea",{value:c.laws,onChange:e=>A((0,_e.A)((0,_e.A)({},c),{},{laws:e.target.value})),className:"textarea-field",placeholder:"Principais leis do sistema...",rows:"3"})]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,Sn.jsx)("div",{children:n&&(0,Sn.jsxs)("button",{type:"button",onClick:()=>{window.confirm('Tem certeza que deseja excluir "'.concat(n.name,'"?'))&&s(n.id)},className:"btn-danger",children:[(0,Sn.jsx)(Nn,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),(0,Sn.jsxs)("div",{className:"flex space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:r,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary",children:[n?"Atualizar":"Criar"," Sistema Pol\xedtico"]})]})]})]})]})})},Vb=e=>{var n,r,a;let{activeTab:s,activeSubTab:o,onTabChange:i,onSubTabChange:l,worldData:c}=e;const[A,u]=(0,t.useState)(new Set(["overview"]));(0,t.useEffect)(()=>{s&&!A.has(s)&&u(e=>new Set([...e,s]))},[s]);const d=e=>{var t;i(e),A.has(e)?(t=e,u(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})):u(t=>new Set([...t,e]))};return(0,Sn.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 h-full overflow-y-auto flex-shrink-0",children:[(0,Sn.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,Sn.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 truncate",children:"Navega\xe7\xe3o"}),(0,Sn.jsx)("nav",{className:"space-y-1",children:mb.map(e=>{const t=e.icon,n=gb[e.id],r=A.has(e.id),a=s===e.id;return(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("button",{onClick:()=>d(e.id),className:"w-full flex items-center justify-between px-2 sm:px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(a?"bg-".concat(e.color,"-100 text-").concat(e.color,"-700 border-r-2 border-").concat(e.color,"-500"):"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Sn.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Sn.jsx)(t,{className:"h-4 w-4 mr-2 sm:mr-3 flex-shrink-0"}),(0,Sn.jsx)("span",{className:"truncate",children:e.label})]}),n&&(0,Sn.jsx)("div",{className:"flex items-center flex-shrink-0",children:r?(0,Sn.jsx)(cn,{className:"h-4 w-4"}):(0,Sn.jsx)(vr,{className:"h-4 w-4"})})]}),n&&r&&(0,Sn.jsx)("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:n.items.map(e=>{var t;const r=e.icon,a=o===e.id;return(0,Sn.jsxs)("button",{onClick:()=>l(e.id),className:"w-full flex items-center px-2 sm:px-3 py-2 text-sm rounded-md transition-colors ".concat(a?"bg-".concat(n.color,"-50 text-").concat(n.color,"-700 border-r-2 border-").concat(n.color,"-400"):"text-gray-500 hover:bg-gray-50 hover:text-gray-700"),children:[(0,Sn.jsx)(r,{className:"h-3 w-3 mr-2 sm:mr-3 flex-shrink-0"}),(0,Sn.jsx)("span",{className:"truncate flex-1",children:e.label}),(null===c||void 0===c||null===(t=c[e.id])||void 0===t?void 0:t.length)>0&&(0,Sn.jsx)("span",{className:"ml-auto bg-gray-200 text-gray-600 text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full flex-shrink-0",children:c[e.id].length})]},e.id)})})]},e.id)})})]}),(0,Sn.jsxs)("div",{className:"p-3 sm:p-4 border-t border-gray-200 mt-auto",children:[(0,Sn.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2 sm:mb-3",children:"Informa\xe7\xf5es R\xe1pidas"}),(0,Sn.jsxs)("div",{className:"space-y-1.5 sm:space-y-2 text-xs text-gray-600",children:[(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"truncate",children:"Total de Elementos:"}),(0,Sn.jsx)("span",{className:"font-medium flex-shrink-0 ml-2",children:Object.values(c||{}).reduce((e,t)=>e+(Array.isArray(t)?t.length:0),0)})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"truncate",children:"Locais:"}),(0,Sn.jsx)("span",{className:"font-medium flex-shrink-0 ml-2",children:(null===c||void 0===c||null===(n=c.locations)||void 0===n?void 0:n.length)||0})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"truncate",children:"Povos:"}),(0,Sn.jsx)("span",{className:"font-medium flex-shrink-0 ml-2",children:(null===c||void 0===c||null===(r=c.peoples)||void 0===r?void 0:r.length)||0})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"truncate",children:"Sistemas:"}),(0,Sn.jsx)("span",{className:"font-medium flex-shrink-0 ml-2",children:(null===c||void 0===c||null===(a=c.magicSystems)||void 0===a?void 0:a.length)||0})]})]})]})]})},Wb=()=>{const{worldData:e,updateWorldData:n,addLocation:r,settings:a,characters:s,addWorldItem:o,updateWorldItem:i,deleteWorldItem:l,volumes:c,chapters:A}=(0,mn.A)(),[u,d]=(0,t.useState)("overview"),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)("grid"),[g,v]=(0,t.useState)(null),[x,y]=(0,t.useState)(null),b=(null===a||void 0===a?void 0:a.defaultAIProvider)||"openai",{isAgentOpen:w,setIsAgentOpen:N,isAnalyzing:B,generateWithContext:j,analyzeProject:C,generateElementPrompt:k,getQualityTips:E,getVolumeInsights:S,generateSmartElement:_}=Vn(b,a),[F,U]=(0,t.useState)(""),[I,L]=(0,t.useState)("all"),[Q,O]=(0,t.useState)("name"),[P,T]=(0,t.useState)("asc"),[D,M]=(0,t.useState)(!1),[H,R]=(0,t.useState)(0),[q,K]=(0,t.useState)(!1),[z,G]=(0,t.useState)(!0),[V,W]=(0,t.useState)({}),X=(0,t.useCallback)(t=>{const n=gb[t];return n?n.items.map(t=>{var n;return(0,_e.A)((0,_e.A)({},t),{},{count:(null===e||void 0===e||null===(n=e[t.id])||void 0===n?void 0:n.length)||0})}):[]},[e]),J=(0,t.useCallback)(e=>{d(e);const t=X(e);t.length>0&&!t.find(e=>e.id===h)&&f(t[0].id)},[X,h]);(0,t.useEffect)(()=>{},[a]);const Y=(0,t.useCallback)(()=>{var e;if(!b||null===a||void 0===a||null===(e=a.aiProviders)||void 0===e||!e[b])throw new Error("Nenhum provedor de IA configurado");const t=a.aiProviders[b];return new Kn(b,t.apiKey,{model:t.defaultModel,temperature:t.temperature,maxTokens:t.maxTokens})},[b,a]),Z=(0,t.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!b)return Rd.error("Configure um provedor de IA nas configura\xe7\xf5es"),null;M(!0),R(0);try{var r,a;const e=Y(),s=Gn(b,"creative_writing"),o=setInterval(()=>{R(e=>Math.min(e+10,90))},200);let i=t;n.worldName&&(i='Para o mundo "'.concat(n.worldName,'":\n\n').concat(t)),(null===(r=n.existingElements)||void 0===r?void 0:r.length)>0&&(i+="\n\nElementos existentes para refer\xeancia:\n".concat(n.existingElements.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n"))),(null===(a=n.characters)||void 0===a?void 0:a.length)>0&&(i+="\n\nPersonagens relacionados:\n".concat(n.characters.map(e=>"- ".concat(e.name,": ").concat(e.description)).join("\n")));const l=await e.generateText(i,{model:s});return clearInterval(o),R(100),setTimeout(()=>{R(0),M(!1)},500),l}catch(s){return M(!1),R(0),console.error("Erro na gera\xe7\xe3o:",s),Rd.error("Erro ao gerar conte\xfado: ".concat(s.message)),null}},[b,Y]),$=(0,t.useCallback)(e=>{if(!e)return null;let t=e.trim();var n;t.includes("```json")?t=(null===(n=t.split("```json")[1])||void 0===n?void 0:n.split("```")[0])||t:t.includes("```")&&(t=t.split("```")[1]||t);const r=t.indexOf("{"),a=t.lastIndexOf("}");-1!==r&&-1!==a&&a>r&&(t=t.substring(r,a+1)),t=t.replace(/\s+/g," ").trim();return Object.entries({'"Nome da Regi\xe3o"':'"name"','"Tipo Geogr\xe1fico"':'"type"','"Clima Predominante"':'"climate"','"Varia\xe7\xf5es Sazonais"':'"seasonalVariations"','"Terreno e Topografia"':'"terrain"','"Recursos Naturais"':'"naturalResources"','"Popula\xe7\xe3o Estimada"':'"population"','"Distribui\xe7\xe3o"':'"distribution"','"Principais Assentamentos e Cidades"':'"settlements"','"Rotas Comerciais e de Transporte"':'"tradeRoutes"','"Caracter\xedsticas Ambientais \xdanicas"':'"uniqueFeatures"','"Perigos Naturais ou Sobrenaturais"':'"dangers"','"Import\xe2ncia Estrat\xe9gica ou Econ\xf4mica"':'"strategicImportance"','"Conflitos Territoriais ou Disputas"':'"conflicts"','"Flora e Fauna Caracter\xedsticas"':'"floraFauna"','"Recursos H\xeddricos"':'"waterResources"','"Conectividade com Outras Regi\xf5es"':'"connectivity"','"Nome"':'"name"','"Tipo"':'"type"','"Descri\xe7\xe3o"':'"description"','"Clima"':'"climate"','"Popula\xe7\xe3o"':'"population"','"Cultura"':'"culture"','"Governo"':'"government"','"Economia"':'"economy"','"Pontos de Interesse"':'"pointsOfInterest"','"Atmosfera"':'"atmosphere"','"Segredos"':'"secrets"'}).forEach(e=>{let[n,r]=e;t=t.replace(new RegExp(n,"g"),r)}),t},[]),ee=(0,t.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"random";const n=await k("location","local",e),r={random:'Crie um local \xfanico e interessante para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome criativo e evocativo\n- Tipo de local (cidade, floresta, castelo, etc.)\n- Descri\xe7\xe3o visual detalhada\n- Hist\xf3ria e significado cultural\n- Habitantes t\xedpicos\n- Pontos de interesse importantes\n- Atmosfera e sensa\xe7\xf5es \xfanicas\n\nFormato exato:\n{\n  "name": "Nome do Local",\n  "type": "tipo",\n  "description": "Descri\xe7\xe3o detalhada...",\n  "climate": "Clima predominante",\n  "population": "Informa\xe7\xf5es sobre popula\xe7\xe3o",\n  "culture": "Aspectos culturais",\n  "government": "Sistema de governo",\n  "economy": "Base econ\xf4mica",\n  "pointsOfInterest": ["Ponto 1", "Ponto 2", "Ponto 3"],\n  "atmosphere": "Descri\xe7\xe3o da atmosfera",\n  "secrets": "Segredos ou mist\xe9rios do local"\n}',city:'Crie uma cidade fascinante para uma light novel com arquitetura \xfanica, distritos interessantes, e uma rica vida urbana.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n\nFormato exato:\n{\n  "name": "Nome da Cidade",\n  "type": "cidade",\n  "description": "Descri\xe7\xe3o detalhada...",\n  "climate": "Clima predominante",\n  "population": "Informa\xe7\xf5es sobre popula\xe7\xe3o",\n  "culture": "Aspectos culturais",\n  "government": "Sistema de governo",\n  "economy": "Base econ\xf4mica",\n  "pointsOfInterest": ["Ponto 1", "Ponto 2", "Ponto 3"],\n  "atmosphere": "Descri\xe7\xe3o da atmosfera",\n  "secrets": "Segredos ou mist\xe9rios do local"\n}',wilderness:'Crie uma \xe1rea selvagem misteriosa com paisagens \xfanicas, criaturas interessantes e segredos ocultos.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n\nFormato exato:\n{\n  "name": "Nome da \xc1rea Selvagem",\n  "type": "selvagem",\n  "description": "Descri\xe7\xe3o detalhada...",\n  "climate": "Clima predominante",\n  "population": "Informa\xe7\xf5es sobre popula\xe7\xe3o",\n  "culture": "Aspectos culturais",\n  "government": "Sistema de governo",\n  "economy": "Base econ\xf4mica",\n  "pointsOfInterest": ["Ponto 1", "Ponto 2", "Ponto 3"],\n  "atmosphere": "Descri\xe7\xe3o da atmosfera",\n  "secrets": "Segredos ou mist\xe9rios do local"\n}',mystical:'Crie um local m\xe1gico com propriedades sobrenaturais, energia m\xedstica e fen\xf4menos inexplic\xe1veis.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n\nFormato exato:\n{\n  "name": "Nome do Local M\xe1gico",\n  "type": "m\xe1gico",\n  "description": "Descri\xe7\xe3o detalhada...",\n  "climate": "Clima predominante",\n  "population": "Informa\xe7\xf5es sobre popula\xe7\xe3o",\n  "culture": "Aspectos culturais",\n  "government": "Sistema de governo",\n  "economy": "Base econ\xf4mica",\n  "pointsOfInterest": ["Ponto 1", "Ponto 2", "Ponto 3"],\n  "atmosphere": "Descri\xe7\xe3o da atmosfera",\n  "secrets": "Segredos ou mist\xe9rios do local"\n}'},a=r[t]||r.random,o=n?"".concat(n,"\n\n").concat(a):a,i={worldName:(null===e||void 0===e?void 0:e.name)||"Mundo da Light Novel",existingElements:(null===e||void 0===e?void 0:e.locations)||[],characters:(null===s||void 0===s?void 0:s.slice(0,3))||[]},l=await Z("location",o,i);if(l)try{const e=$(l);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);return console.log("Local gerado:",t),(0,_e.A)({id:Date.now(),createdAt:(new Date).toISOString(),generatedBy:b},t)}catch(c){console.error("Erro ao parsear JSON:",c),console.log("Resposta original:",l);const e=l.match(/"name":\s*"([^"]+)"/),n=l.match(/"description":\s*"([^"]+)"/),r=l.match(/"type":\s*"([^"]+)"/);return e&&n?{id:Date.now(),name:e[1],type:r?r[1]:"random"===t?"city":t,description:n[1],createdAt:(new Date).toISOString(),generatedBy:b}:{id:Date.now(),name:"Local Gerado ".concat(Date.now()),type:"random"===t?"city":t,description:l,createdAt:(new Date).toISOString(),generatedBy:b}}return null},[Z,$,e,s,b,k]),te=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingElements:(null===e||void 0===e?void 0:e.peoples)||[]},n=await Z("people",'Crie um povo ou ra\xe7a para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome\n- Classifica\xe7\xe3o (humano, elfo, etc.)\n- Descri\xe7\xe3o f\xedsica e cultural\n- Sociedade e estrutura pol\xedtica\n- Tradi\xe7\xf5es e costumes\n\nFormato exato:\n{\n  "name": "Nome",\n  "classification": "Classifica\xe7\xe3o",\n  "description": "Descri\xe7\xe3o",\n  "society": "Sociedade",\n  "traditions": "Tradi\xe7\xf5es",\n  "appearance": "Apar\xeancia"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Povo gerado:",t),o("peoples",t),Rd.success('Povo "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"classification":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],classification:a?a[1]:"Desconhecido",description:t[1],createdAt:(new Date).toISOString(),generatedBy:b};o("peoples",n),Rd.success('Povo "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),ne=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingEvents:(null===e||void 0===e?void 0:e.events)||[]},n=await Z("event",'Crie um evento hist\xf3rico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do evento\n- Ano aproximado\n- Tipo (pol\xedtico, guerra, descoberta, etc.)\n- Descri\xe7\xe3o detalhada\n- Impacto no mundo\n- Principais participantes\n\nFormato exato:\n{\n  "name": "Nome do Evento",\n  "year": "Ano",\n  "type": "Tipo",\n  "description": "Descri\xe7\xe3o",\n  "impact": "Impacto",\n  "participants": "Participantes"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Evento gerado:",t),o("events",t),Rd.success('Evento "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"type":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],year:"Ano hist\xf3rico",type:a?a[1]:"Evento Hist\xf3rico",description:t[1],impact:"Impacto significativo no mundo",participants:"Participantes importantes",createdAt:(new Date).toISOString(),generatedBy:b};o("events",n),Rd.success('Evento "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),re=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingSystems:(null===e||void 0===e?void 0:e.magicSystems)||[]},n=await Z("magicSystem",'Crie um sistema de magia \xfanico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do sistema\n- Descri\xe7\xe3o detalhada\n- Regras e funcionamento\n- Fonte de poder\n- Limita\xe7\xf5es e custos\n\nFormato exato:\n{\n  "name": "Nome do Sistema",\n  "description": "Descri\xe7\xe3o detalhada",\n  "rules": "Regras de funcionamento",\n  "source": "Fonte de poder",\n  "limitations": "Limita\xe7\xf5es e custos"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Sistema de magia gerado:",t),o("magicSystems",t),Rd.success('Sistema "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"rules":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],description:t[1],rules:a?a[1]:"Regras complexas de magia",source:"Fonte m\xe1gica natural",limitations:"Limita\xe7\xf5es e custos significativos",createdAt:(new Date).toISOString(),generatedBy:b};o("magicSystems",n),Rd.success('Sistema "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),ae=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingLanguages:(null===e||void 0===e?void 0:e.languages)||[],peoples:(null===e||void 0===e?void 0:e.peoples)||[]},n=await Z("language",'Crie um idioma \xfanico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do idioma\n- Fam\xedlia lingu\xedstica\n- Descri\xe7\xe3o das caracter\xedsticas\n- Principais falantes/povos\n- Sistema de escrita\n- Exemplos de palavras ou frases\n\nFormato exato:\n{\n  "name": "Nome do Idioma",\n  "family": "Fam\xedlia Lingu\xedstica",\n  "description": "Descri\xe7\xe3o detalhada",\n  "speakers": "Principais falantes",\n  "script": "Sistema de escrita",\n  "examples": "Exemplos de palavras"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Idioma gerado:",t),o("languages",t),Rd.success('Idioma "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"family":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],family:a?a[1]:"Lingu\xedstica \xdanica",description:t[1],speakers:"Povos locais",script:"Sistema de escrita pr\xf3prio",examples:"Palavras e frases \xfanicas",createdAt:(new Date).toISOString(),generatedBy:b};o("languages",n),Rd.success('Idioma "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),se=(0,t.useCallback)(async(t,n)=>{try{const a=await _(t,e,{volumes:c,chapters:A,characters:s});if(a)try{const r=$(a);if(!r)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const s=JSON.parse(r);console.log("".concat(t," gerado:"),s);const i=(null===e||void 0===e?void 0:e[n])||[];return i.some(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===(n=s.name)||void 0===n?void 0:n.toLowerCase())})?(Rd.error("J\xe1 existe um ".concat(t,' com o nome "').concat(s.name,'". Tentando gerar novamente...')),await se(t,n)):(s.id=s.id||Date.now(),s.createdAt=s.createdAt||(new Date).toISOString(),s.generatedBy=b,o(n,s),Rd.success("".concat(t,' "').concat(s.name,'" gerado com sucesso!')),s)}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",a);const s=a.match(/"name":\s*"([^"]+)"/)||a.match(/"Nome da Regi\xe3o":\s*"([^"]+)"/)||a.match(/"Nome":\s*"([^"]+)"/),i=a.match(/"description":\s*"([^"]+)"/)||a.match(/"Descri\xe7\xe3o":\s*"([^"]+)"/),l=a.match(/"type":\s*"([^"]+)"/)||a.match(/"Tipo Geogr\xe1fico":\s*"([^"]+)"/)||a.match(/"Tipo":\s*"([^"]+)"/),c=a.match(/"climate":\s*"([^"]+)"/)||a.match(/"Clima Predominante":\s*"([^"]+)"/)||a.match(/"Clima":\s*"([^"]+)"/),A=a.match(/"population":\s*"([^"]+)"/)||a.match(/"Popula\xe7\xe3o Estimada":\s*"([^"]+)"/)||a.match(/"Popula\xe7\xe3o":\s*"([^"]+)"/);if(s){const r={id:Date.now(),name:s[1],description:i?i[1]:"Descri\xe7\xe3o da ".concat(t),type:l?l[1]:"Tipo n\xe3o especificado",climate:c?c[1]:"Clima n\xe3o especificado",population:A?A[1]:"Popula\xe7\xe3o n\xe3o especificada",createdAt:(new Date).toISOString(),generatedBy:b},a=(null===e||void 0===e?void 0:e[n])||[];return a.some(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===(n=r.name)||void 0===n?void 0:n.toLowerCase())})?(Rd.error("J\xe1 existe um ".concat(t,' com o nome "').concat(r.name,'". Tentando gerar novamente...')),await se(t,n)):(o(n,r),Rd.success("".concat(t,' "').concat(r.name,'" gerado com sucesso!')),r)}return Rd.error("A IA retornou um formato inv\xe1lido."),null}return null}catch(a){return console.error("Erro ao gerar ".concat(t,":"),a),Rd.error("Erro ao gerar ".concat(t)),null}},[_,$,e,c,A,s,o,b]),oe=(0,t.useCallback)(async()=>{await se("religion","religions")},[se]),ie=((0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingReligions:(null===e||void 0===e?void 0:e.religions)||[],peoples:(null===e||void 0===e?void 0:e.peoples)||[]},n=await Z("religion",'Crie uma religi\xe3o \xfanica para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome da religi\xe3o\n- Principais divindades ou conceitos\n- Descri\xe7\xe3o das cren\xe7as centrais\n- Pr\xe1ticas e rituais\n- Seguidores principais\n- S\xedmbolos sagrados\n\nFormato exato:\n{\n  "name": "Nome da Religi\xe3o",\n  "deities": "Divindades principais",\n  "description": "Cren\xe7as centrais",\n  "practices": "Pr\xe1ticas e rituais",\n  "followers": "Principais seguidores",\n  "symbols": "S\xedmbolos sagrados"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Religi\xe3o gerada:",t),o("religions",t),Rd.success('Religi\xe3o "'.concat(t.name,'" gerada com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"deities":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],deities:a?a[1]:"Divindades locais",description:t[1],practices:"Rituais e cerim\xf4nias tradicionais",followers:"Fi\xe9is devotos",symbols:"S\xedmbolos sagrados \xfanicos",createdAt:(new Date).toISOString(),generatedBy:b};o("religions",n),Rd.success('Religi\xe3o "'.concat(n.name,'" gerada com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),(0,t.useCallback)(async()=>{await se("tradition","traditions")},[se])),le=(0,t.useCallback)(async()=>{await se("region","regions")},[se]),ce=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingLandmarks:(null===e||void 0===e?void 0:e.landmarks)||[],regions:(null===e||void 0===e?void 0:e.regions)||[]},n=await Z("landmark",'Crie um marco/ponto de refer\xeancia \xfanico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do marco\n- Tipo (montanha, ru\xednas, monumento, etc.)\n- Descri\xe7\xe3o detalhada\n- Import\xe2ncia hist\xf3rica ou cultural\n- Localiza\xe7\xe3o aproximada\n- Caracter\xedsticas especiais\n\nFormato exato:\n{\n  "name": "Nome do Marco",\n  "type": "Tipo do marco",\n  "description": "Descri\xe7\xe3o detalhada",\n  "significance": "Import\xe2ncia hist\xf3rica",\n  "location": "Localiza\xe7\xe3o",\n  "features": "Caracter\xedsticas especiais"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Marco gerado:",t),o("landmarks",t),Rd.success('Marco "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"type":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],type:a?a[1]:"Monumento",description:t[1],significance:"Importante para a hist\xf3ria local",location:"Localiza\xe7\xe3o estrat\xe9gica",features:"Caracter\xedsticas \xfanicas",createdAt:(new Date).toISOString(),generatedBy:b};o("landmarks",n),Rd.success('Marco "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),Ae=(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingResources:(null===e||void 0===e?void 0:e.resources)||[],regions:(null===e||void 0===e?void 0:e.regions)||[]},n=await Z("resource",'Crie um recurso natural/material \xfanico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do recurso\n- Tipo (mineral, vegetal, animal, m\xe1gico, etc.)\n- Descri\xe7\xe3o das caracter\xedsticas\n- N\xedvel de raridade\n- Principais usos e aplica\xe7\xf5es\n- Onde pode ser encontrado\n\nFormato exato:\n{\n  "name": "Nome do Recurso",\n  "type": "Tipo do recurso",\n  "description": "Caracter\xedsticas",\n  "rarity": "N\xedvel de raridade",\n  "uses": "Principais usos",\n  "location": "Onde \xe9 encontrado"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Recurso gerado:",t),o("resources",t),Rd.success('Recurso "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"type":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],type:a?a[1]:"Mineral",description:t[1],rarity:"Comum",uses:"M\xfaltiplos usos",location:"Distribu\xeddo pelo mundo",createdAt:(new Date).toISOString(),generatedBy:b};o("resources",n),Rd.success('Recurso "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),ue=(0,t.useCallback)(async()=>{await se("technology","technologies")},[se]),de=((0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingTechnologies:(null===e||void 0===e?void 0:e.technologies)||[]},n=await Z("technology",'Crie uma tecnologia \xfanica para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome da tecnologia\n- N\xedvel tecnol\xf3gico (ex: Medieval, Renascentista, Industrial, Futurista)\n- Descri\xe7\xe3o detalhada de como funciona\n- Principais aplica\xe7\xf5es e usos\n- Impacto na sociedade\n\nFormato exato:\n{\n  "name": "Nome da Tecnologia",\n  "level": "N\xedvel Tecnol\xf3gico",\n  "description": "Descri\xe7\xe3o detalhada",\n  "applications": "Aplica\xe7\xf5es e usos",\n  "impact": "Impacto na sociedade"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Tecnologia gerada:",t),o("technologies",t),Rd.success('Tecnologia "'.concat(t.name,'" gerada com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"level":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],level:a?a[1]:"Avan\xe7ado",description:t[1],applications:"M\xfaltiplas aplica\xe7\xf5es",impact:"Impacto significativo na sociedade",createdAt:(new Date).toISOString(),generatedBy:b};o("technologies",n),Rd.success('Tecnologia "'.concat(n.name,'" gerada com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b]),(0,t.useCallback)(async()=>{const t={worldName:null===e||void 0===e?void 0:e.name,existingGovernments:(null===e||void 0===e?void 0:e.governments)||[],peoples:(null===e||void 0===e?void 0:e.peoples)||[],regions:(null===e||void 0===e?void 0:e.regions)||[]},n=await Z("government",'Crie um sistema pol\xedtico/governo \xfanico para uma light novel.\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nInclua:\n- Nome do governo (ex: Imp\xe9rio de Eldoria)\n- Tipo de governo (ex: Monarquia, Rep\xfablica, Teocracia)\n- Descri\xe7\xe3o da estrutura de poder\n- T\xedtulo do l\xedder (ex: Imperador, Presidente, Sumo Sacerdote)\n- Leis e ideologias principais\n\nFormato exato:\n{\n  "name": "Nome do Governo",\n  "type": "Tipo de Governo",\n  "description": "Estrutura de poder",\n  "leaderTitle": "T\xedtulo do L\xedder",\n  "laws": "Leis e ideologias"\n}',t);if(n)try{const e=$(n);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const t=JSON.parse(e);console.log("Governo gerado:",t),o("governments",t),Rd.success('Sistema pol\xedtico "'.concat(t.name,'" gerado com sucesso!'))}catch(r){console.error("Erro ao parsear JSON:",r),console.log("Resposta original:",n);const e=n.match(/"name":\s*"([^"]+)"/),t=n.match(/"description":\s*"([^"]+)"/),a=n.match(/"type":\s*"([^"]+)"/);if(e&&t){const n={id:Date.now(),name:e[1],type:a?a[1]:"Monarquia",description:t[1],leaderTitle:"L\xedder Supremo",laws:"Leis e regulamentos estabelecidos",createdAt:(new Date).toISOString(),generatedBy:b};o("governments",n),Rd.success('Sistema pol\xedtico "'.concat(n.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[Z,$,e,o,b])),he=(0,t.useCallback)(async()=>{const t=await _("economy",e,{volumes:c,chapters:A,characters:s});if(t)try{const e=$(t);if(!e)throw new Error("Resposta da IA n\xe3o p\xf4de ser limpa");const n=JSON.parse(e);console.log("Economia gerada:",n),o("economies",n),Rd.success('Sistema econ\xf4mico "'.concat(n.name,'" gerado com sucesso!'))}catch(n){console.error("Erro ao parsear JSON:",n),console.log("Resposta original:",t);const e=t.match(/"name":\s*"([^"]+)"/),r=t.match(/"description":\s*"([^"]+)"/),a=t.match(/"currency":\s*"([^"]+)"/);if(e&&r){const t={id:Date.now(),name:e[1],description:r[1],currency:a?a[1]:"Moeda Local",mainExports:"Produtos locais",wealthDistribution:"Distribui\xe7\xe3o equilibrada",createdAt:(new Date).toISOString(),generatedBy:b};o("economies",t),Rd.success('Sistema econ\xf4mico "'.concat(t.name,'" gerado com sucesso!'))}else Rd.error("A IA retornou um formato inv\xe1lido.")}},[_,$,e,c,A,s,o,b]),fe=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;K(!0);const n=[];for(let a=0;a<t;a++){Rd.loading("Gerando ".concat(a+1,"/").concat(t,"..."),{id:"batch-generation"});const s=await ee(e);s&&(n.push(s),r(s)),await new Promise(e=>setTimeout(e,1e3))}return K(!1),Rd.success("".concat(n.length," locais gerados com sucesso!"),{id:"batch-generation"}),n},[ee,r]),pe=(0,t.useCallback)(async()=>{const t={worldName:(null===e||void 0===e?void 0:e.name)||"Novo Mundo",existingElements:[],characters:(null===s||void 0===s?void 0:s.slice(0,3))||[]},r=await Z("basicInfo",'Crie informa\xe7\xf5es b\xe1sicas completas para um mundo de light novel. Inclua:\n\n- Nome do mundo (criativo e memor\xe1vel)\n- Descri\xe7\xe3o geral detalhada (atmosfera, caracter\xedsticas principais, hist\xf3ria geral)\n- G\xeanero apropriado (fantasy, sci-fi, urban-fantasy, historical, modern, post-apocalyptic, steampunk, cyberpunk)\n- N\xedvel tecnol\xf3gico (stone-age, bronze-age, iron-age, medieval, renaissance, industrial, modern, futuristic)\n\nConsidere criar um mundo \xfanico com:\n- Elementos distintivos que o tornem memor\xe1vel\n- Atmosfera envolvente para uma light novel\n- Possibilidades de narrativas interessantes\n- Aspectos culturais e sociais ricos\n\nREGRAS IMPORTANTES:\n1. Responda APENAS com um JSON v\xe1lido\n2. N\xc3O inclua texto explicativo antes ou depois do JSON\n3. N\xc3O use markdown ou blocos de c\xf3digo\n4. Use aspas duplas para strings\n5. Escape caracteres especiais nas strings\n\nFormato exato:\n{\n  "name": "Nome do Mundo",\n  "description": "Descri\xe7\xe3o detalhada do mundo...",\n  "genre": "fantasy",\n  "techLevel": "medieval"\n}',t);if(r)try{const t=$(r);if(!t)throw new Error("Resposta da IA est\xe1 vazia ou inv\xe1lida");const a=JSON.parse(t);console.log("AI Response parsed:",a),n({name:a.name||(null===e||void 0===e?void 0:e.name)||"",description:a.description||(null===e||void 0===e?void 0:e.description)||"",genre:a.genre||(null===e||void 0===e?void 0:e.genre)||"",techLevel:a.techLevel||(null===e||void 0===e?void 0:e.techLevel)||""}),Rd.success("Informa\xe7\xf5es b\xe1sicas geradas com sucesso!")}catch(a){console.error("Erro ao fazer parse do JSON:",a),console.log("Resultado bruto da IA:",r);const t=r.match(/"name":\s*"([^"]+)"/),s=r.match(/"description":\s*"([^"]+)"/),o=r.match(/"genre":\s*"([^"]+)"/),i=r.match(/"techLevel":\s*"([^"]+)"/);if(t||s||o||i)n({name:(null===t||void 0===t?void 0:t[1])||(null===e||void 0===e?void 0:e.name)||"",description:(null===s||void 0===s?void 0:s[1])||(null===e||void 0===e?void 0:e.description)||"",genre:(null===o||void 0===o?void 0:o[1])||(null===e||void 0===e?void 0:e.genre)||"",techLevel:(null===i||void 0===i?void 0:i[1])||(null===e||void 0===e?void 0:e.techLevel)||""}),Rd.success("Informa\xe7\xf5es b\xe1sicas extra\xeddas com sucesso!");else{const t=r.split("\n");let a="",s="",o="",i="";for(const e of t){const t=e.trim();t.toLowerCase().includes("nome")&&!a?a=t.replace(/^.*?[:\uff1a]\s*/,"").trim():t.toLowerCase().includes("descri\xe7\xe3o")||t.toLowerCase().includes("description")?s=t.replace(/^.*?[:\uff1a]\s*/,"").trim():t.toLowerCase().includes("g\xeanero")||t.toLowerCase().includes("genre")?o=t.replace(/^.*?[:\uff1a]\s*/,"").trim():(t.toLowerCase().includes("tecnol\xf3gico")||t.toLowerCase().includes("tech"))&&(i=t.replace(/^.*?[:\uff1a]\s*/,"").trim())}a||s||o||i?(n({name:a||(null===e||void 0===e?void 0:e.name)||"",description:s||(null===e||void 0===e?void 0:e.description)||"",genre:o||(null===e||void 0===e?void 0:e.genre)||"",techLevel:i||(null===e||void 0===e?void 0:e.techLevel)||""}),Rd.success("Informa\xe7\xf5es b\xe1sicas extra\xeddas com sucesso!")):(n({description:r}),Rd.success("Descri\xe7\xe3o do mundo gerada com sucesso!"))}}},[Z,$,e,s,n]),me=(0,t.useCallback)(()=>{if("geography"===u)switch(h){case"locations":return(null===e||void 0===e?void 0:e.locations)||[];case"regions":return(null===e||void 0===e?void 0:e.regions)||[];case"climate":return(null===e||void 0===e?void 0:e.climates)||[];case"resources":return(null===e||void 0===e?void 0:e.resources)||[];default:return[]}if("cultures"===u)switch(h){case"peoples":return(null===e||void 0===e?void 0:e.peoples)||[];case"languages":return(null===e||void 0===e?void 0:e.languages)||[];case"religions":return(null===e||void 0===e?void 0:e.religions)||[];case"traditions":return(null===e||void 0===e?void 0:e.traditions)||[];default:return[]}if("systems"===u)switch(h){case"magicSystems":return(null===e||void 0===e?void 0:e.magicSystems)||[];case"technologies":return(null===e||void 0===e?void 0:e.technologies)||[];case"governments":return(null===e||void 0===e?void 0:e.governments)||[];case"economies":return(null===e||void 0===e?void 0:e.economies)||[];default:return[]}if("history"===u)switch(h){case"events":return(null===e||void 0===e?void 0:e.events)||[];case"eras":return(null===e||void 0===e?void 0:e.eras)||[];default:return[]}return[]},[u,h,e]),ge=(0,t.useMemo)(()=>{let e=me().filter(e=>{var t,n;const r=(F||"").toLowerCase(),a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r)),s="all"===I||e.type===I;return a&&s});return e.sort((e,t)=>{let n=e[Q]||"",r=t[Q]||"";return"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),"asc"===P?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}),e},[F,I,Q,P,me]),ve=(0,t.useMemo)(()=>{const t=(null===e||void 0===e?void 0:e.locations)||[],n=(null===e||void 0===e?void 0:e.cultures)||[],r=(null===e||void 0===e?void 0:e.religions)||[];return{totalElements:t.length+n.length+r.length,locations:t.length,cultures:n.length,religions:r.length,avgWordsPerLocation:t.length>0?Math.round(t.reduce((e,t)=>{var n;return e+((null===(n=t.description)||void 0===n?void 0:n.split(" ").length)||0)},0)/t.length):0,mostCommonType:t.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}),recentlyAdded:t.filter(e=>new Date(e.createdAt||0)>new Date(Date.now()-6048e5)).length}},[e]),xe=(e,t)=>{const n=e.endsWith("s")?e.slice(0,-1):e;x?(i(e,x.id,t),Rd.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," atualizado com sucesso!"))):(o(e,t),Rd.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," adicionado com sucesso!"))),v(null),y(null)},ye=(e,t)=>{const n=e.endsWith("s")?e.slice(0,-1):e;l(e,t),Rd.success("".concat(n.charAt(0).toUpperCase()+n.slice(1)," exclu\xeddo com sucesso!")),v(null),y(null)},be=()=>{var t,r,s;return(0,Sn.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Sn.jsx)("div",{className:"card-compact hover-lift",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:(0,Sn.jsx)(Un,{className:"h-6 w-6 text-blue-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Elementos"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ve.totalElements})]})]})}),(0,Sn.jsx)("div",{className:"card-compact hover-lift",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:(0,Sn.jsx)(rd,{className:"h-6 w-6 text-green-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Locais"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ve.locations})]})]})}),(0,Sn.jsx)("div",{className:"card-compact hover-lift",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:(0,Sn.jsx)(en,{className:"h-6 w-6 text-purple-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Culturas"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ve.cultures})]})]})}),(0,Sn.jsx)("div",{className:"card-compact hover-lift",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg mr-4",children:(0,Sn.jsx)(ar,{className:"h-6 w-6 text-orange-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Religi\xf5es"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ve.religions})]})]})})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)($t,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Informa\xe7\xf5es B\xe1sicas"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:pe,disabled:D,className:"btn-secondary flex items-center text-sm bg-purple-600 hover:bg-purple-700 text-white",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-1"}),D?"Gerando...":"IA"]}),(0,Sn.jsx)("button",{className:"btn-ghost",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})})]})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[D&&(0,Sn.jsx)("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,Sn.jsxs)("div",{className:"flex items-center text-purple-700",children:[(0,Sn.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-700 mr-2"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Gerando informa\xe7\xf5es b\xe1sicas com IA..."})]})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nome do Mundo"}),(0,Sn.jsx)("input",{type:"text",value:(null===e||void 0===e?void 0:e.name)||"",onChange:e=>n({name:e.target.value}),className:"input-field",placeholder:"Digite o nome do seu mundo...",disabled:D})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descri\xe7\xe3o Geral"}),(0,Sn.jsx)("textarea",{value:(null===e||void 0===e?void 0:e.description)||"",onChange:e=>n({description:e.target.value}),className:"textarea-field",rows:"4",placeholder:"Descreva seu mundo, sua atmosfera, caracter\xedsticas principais...",disabled:D})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"G\xeanero"}),(0,Sn.jsxs)("select",{value:(null===e||void 0===e?void 0:e.genre)||"",onChange:e=>n({genre:e.target.value}),className:"input-field",disabled:D,children:[(0,Sn.jsx)("option",{value:"",children:"Selecione..."}),(0,Sn.jsx)("option",{value:"fantasy",children:"Fantasia"}),(0,Sn.jsx)("option",{value:"sci-fi",children:"Fic\xe7\xe3o Cient\xedfica"}),(0,Sn.jsx)("option",{value:"urban-fantasy",children:"Fantasia Urbana"}),(0,Sn.jsx)("option",{value:"historical",children:"Hist\xf3rico"}),(0,Sn.jsx)("option",{value:"modern",children:"Moderno"}),(0,Sn.jsx)("option",{value:"post-apocalyptic",children:"P\xf3s-Apocal\xedptico"}),(0,Sn.jsx)("option",{value:"steampunk",children:"Steampunk"}),(0,Sn.jsx)("option",{value:"cyberpunk",children:"Cyberpunk"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"N\xedvel Tecnol\xf3gico"}),(0,Sn.jsxs)("select",{value:(null===e||void 0===e?void 0:e.techLevel)||"",onChange:e=>n({techLevel:e.target.value}),className:"input-field",disabled:D,children:[(0,Sn.jsx)("option",{value:"",children:"Selecione..."}),(0,Sn.jsx)("option",{value:"stone-age",children:"Idade da Pedra"}),(0,Sn.jsx)("option",{value:"bronze-age",children:"Idade do Bronze"}),(0,Sn.jsx)("option",{value:"iron-age",children:"Idade do Ferro"}),(0,Sn.jsx)("option",{value:"medieval",children:"Medieval"}),(0,Sn.jsx)("option",{value:"renaissance",children:"Renascimento"}),(0,Sn.jsx)("option",{value:"industrial",children:"Industrial"}),(0,Sn.jsx)("option",{value:"modern",children:"Moderno"}),(0,Sn.jsx)("option",{value:"futuristic",children:"Futur\xedstico"})]})]})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Assistente IA"})]}),b&&(0,Sn.jsx)("span",{className:"badge badge-success",children:(null===a||void 0===a||null===(t=a.aiProviders)||void 0===t||null===(r=t[b])||void 0===r?void 0:r.name)||b})]}),b?(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Sn.jsxs)("button",{onClick:()=>ee("city"),disabled:D,className:"btn-outline flex items-center justify-center",children:[(0,Sn.jsx)(rd,{className:"h-4 w-4 mr-2"}),"Gerar Cidade"]}),(0,Sn.jsxs)("button",{onClick:()=>ee("wilderness"),disabled:D,className:"btn-outline flex items-center justify-center",children:[(0,Sn.jsx)(ad,{className:"h-4 w-4 mr-2"}),"Gerar Natureza"]}),(0,Sn.jsxs)("button",{onClick:()=>ee("mystical"),disabled:D,className:"btn-outline flex items-center justify-center",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar M\xedstico"]}),(0,Sn.jsxs)("button",{onClick:()=>fe("random",3),disabled:D||q,className:"btn-primary flex items-center justify-center",children:[(0,Sn.jsx)(on,{className:"h-4 w-4 mr-2"}),"Lote (3x)"]})]}),(D||q)&&(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Sn.jsx)("span",{className:"text-muted-foreground",children:q?"Gera\xe7\xe3o em lote...":"Gerando conte\xfado..."}),(0,Sn.jsxs)("span",{className:"text-muted-foreground",children:[H,"%"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(H,"%")}})})]}),(0,Sn.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,Sn.jsxs)("p",{className:"text-sm text-blue-700",children:["\ud83d\udca1 ",(0,Sn.jsx)("strong",{children:"Dica:"})," A IA usa o contexto do seu mundo e personagens para gerar conte\xfado mais coerente e interessante."]})})]}):(0,Sn.jsxs)("div",{className:"text-center py-8",children:[(0,Sn.jsx)(on,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,Sn.jsx)("p",{className:"text-muted-foreground mb-4",children:"Configure um provedor de IA para usar a gera\xe7\xe3o autom\xe1tica"}),(0,Sn.jsx)("button",{onClick:()=>window.location.href="/settings",className:"btn-primary",children:"Configurar IA"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Elementos Recentes"}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("span",{className:"text-sm text-muted-foreground",children:[ve.recentlyAdded," esta semana"]}),(0,Sn.jsx)(xn,{className:"h-4 w-4 text-muted-foreground"})]})]}),(null===e||void 0===e||null===(s=e.locations)||void 0===s?void 0:s.length)>0?(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.locations.slice(-6).map(e=>{var t,n;return(0,Sn.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,Sn.jsx)("span",{className:"badge ".concat((null===(t=vb.find(t=>t.value===e.type))||void 0===t?void 0:t.color)||"badge-gray"),children:(null===(n=vb.find(t=>t.value===e.type))||void 0===n?void 0:n.label)||e.type})]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),e.generatedBy&&(0,Sn.jsxs)("div",{className:"mt-2 flex items-center text-xs text-purple-600",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"Gerado por IA"]})]},e.id)})}):(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)($t,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Comece a construir seu mundo"}),(0,Sn.jsx)("p",{className:"text-muted-foreground mb-6",children:"Crie locais, culturas e sistemas para dar vida \xe0 sua hist\xf3ria"}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>d("geography"),className:"btn-primary",children:"Adicionar Local"}),(0,Sn.jsx)("button",{onClick:()=>d("cultures"),className:"btn-outline",children:"Criar Cultura"})]})]})]})]})},we=()=>0===ge.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(Un,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:F||"all"!==I?"Nenhum local encontrado":"Nenhum local criado ainda"}),(0,Sn.jsx)("p",{className:"text-muted-foreground mb-6",children:F||"all"!==I?"Tente ajustar os filtros de busca":"Comece adicionando seu primeiro local ou use a IA para gerar automaticamente"}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("location"),className:"btn-primary",children:"Adicionar Manualmente"}),b&&(0,Sn.jsxs)("button",{onClick:async()=>{M(!0);try{const e=await ee("random");e&&(r(e),Rd.success('Local "'.concat(e.name,'" gerado com sucesso!')))}catch(e){Rd.error("Erro ao gerar local: ".concat(e.message))}finally{M(!1)}},className:"btn-outline",disabled:D,children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):"grid"===p?(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(e=>(0,Sn.jsx)(Ne,{location:e},e.id))}):(0,Sn.jsx)("div",{className:"space-y-4",children:ge.map(e=>(0,Sn.jsx)(Be,{location:e},e.id))}),Ne=e=>{var t,n,r;let{location:a}=e;const s=vb.find(e=>e.value===a.type)||vb[0],o=V[a.id];return(0,Sn.jsxs)("div",{className:"card hover-lift group",children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-2 rounded-lg mr-3 ".concat(null===s||void 0===s||null===(t=s.color)||void 0===t||null===(n=t.replace("text-","text-white bg-"))||void 0===n?void 0:n.replace("-800","-500")),children:(0,Sn.jsx)(s.icon,{className:"h-5 w-5"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"font-semibold text-foreground group-hover:text-primary-600 transition-colors",children:a.name}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:s.label})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Sn.jsx)("button",{onClick:()=>W(e=>(0,_e.A)((0,_e.A)({},e),{},{[a.id]:!e[a.id]})),className:"p-1 text-gray-400 hover:text-gray-600",children:o?(0,Sn.jsx)(Bn,{className:"h-4 w-4"}):(0,Sn.jsx)(wn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>{y(a),v("location")},className:"p-1 text-gray-400 hover:text-green-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed ".concat(o?"":"line-clamp-3"),children:a.description}),o&&(0,Sn.jsxs)("div",{className:"mt-4 space-y-3 animate-slide-up",children:[a.climate&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Sn.jsx)(hr,{className:"h-4 w-4 text-orange-500 mr-2"}),(0,Sn.jsxs)("span",{className:"text-gray-600",children:["Clima: ",a.climate]})]}),a.population&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Sn.jsx)(en,{className:"h-4 w-4 text-blue-500 mr-2"}),(0,Sn.jsxs)("span",{className:"text-gray-600",children:["Popula\xe7\xe3o: ",a.population]})]}),(null===(r=a.pointsOfInterest)||void 0===r?void 0:r.length)>0&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Pontos de Interesse:"}),(0,Sn.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:a.pointsOfInterest.map((e,t)=>(0,Sn.jsxs)("li",{className:"flex items-center",children:[(0,Sn.jsx)(ar,{className:"h-3 w-3 text-yellow-500 mr-2 flex-shrink-0"}),e]},t))})]})]}),(0,Sn.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[a.generatedBy&&(0,Sn.jsxs)("span",{className:"badge badge-primary flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"IA"]}),a.createdAt&&(0,Sn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("button",{className:"p-1 text-gray-400 hover:text-blue-600",title:"Copiar",children:(0,Sn.jsx)(Iu,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{className:"p-1 text-gray-400 hover:text-green-600",title:"Compartilhar",children:(0,Sn.jsx)(sd,{className:"h-4 w-4"})})]})]})]})},Be=e=>{var t,n;let{location:r}=e;const a=vb.find(e=>e.value===r.type)||vb[0];return(0,Sn.jsxs)("div",{className:"card flex items-center justify-between hover-lift",children:[(0,Sn.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Sn.jsx)("div",{className:"p-2 rounded-lg mr-4 ".concat(null===a||void 0===a||null===(t=a.color)||void 0===t||null===(n=t.replace("text-","text-white bg-"))||void 0===n?void 0:n.replace("-800","-500")),children:(0,Sn.jsx)(a.icon,{className:"h-5 w-5"})}),(0,Sn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:r.name}),(0,Sn.jsx)("span",{className:"badge ".concat(a.color),children:a.label}),r.generatedBy&&(0,Sn.jsxs)("span",{className:"badge badge-primary flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"IA"]})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm truncate mt-1",children:r.description})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[r.createdAt&&(0,Sn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(r.createdAt).toLocaleDateString("pt-BR")}),(0,Sn.jsx)("button",{onClick:()=>{y(r),v("location")},className:"p-2 text-gray-400 hover:text-green-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]})},je=()=>{const t=(null===e||void 0===e?void 0:e.regions)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(od,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma regi\xe3o criada ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione regi\xf5es geogr\xe1ficas para organizar seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("region"),className:"btn-primary",children:"Adicionar Regi\xe3o"}),b&&(0,Sn.jsxs)("button",{onClick:()=>le(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Regi\xf5es (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("region"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Regi\xe3o"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>le(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("region")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,Sn.jsx)(od,{className:"h-5 w-5 text-primary-500"})]}),(0,Sn.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.climate&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Clima:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e.climate})]}),e.terrain&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Terreno:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e.terrain})]}),e.population&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Popula\xe7\xe3o:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e.population})]})]},e.id))})]})},Ce=()=>{const t=(null===e||void 0===e?void 0:e.landmarks)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(id,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum marco criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione marcos e pontos de refer\xeancia importantes."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("landmark"),className:"btn-primary",children:"Adicionar Marco"}),b&&(0,Sn.jsxs)("button",{onClick:()=>ce(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Marcos (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("landmark"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Marco"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>ce(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("landmark")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,Sn.jsx)(id,{className:"h-5 w-5 text-primary-500"})]}),(0,Sn.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,Sn.jsx)("div",{className:"mb-2",children:(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded",children:e.type})}),e.significance&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Import\xe2ncia:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground line-clamp-2",children:e.significance})]}),e.location&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Localiza\xe7\xe3o:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e.location})]})]},e.id))})]})},ke=()=>{const t=(null===e||void 0===e?void 0:e.resources)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(ld,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum recurso criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione recursos naturais e materiais do seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("resource"),className:"btn-primary",children:"Adicionar Recurso"}),b&&(0,Sn.jsxs)("button",{onClick:()=>Ae(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Recursos (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("resource"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Recurso"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>Ae(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("resource")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-foreground",children:e.name}),(0,Sn.jsx)(ld,{className:"h-5 w-5 text-secondary-500"})]}),(0,Sn.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,Sn.jsx)("div",{className:"mb-2",children:(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 bg-secondary-100 text-secondary-800 text-xs rounded",children:e.type})}),e.rarity&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Raridade:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground",children:e.rarity})]}),e.uses&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Usos:"}),(0,Sn.jsx)("p",{className:"text-sm text-foreground line-clamp-2",children:e.uses})]})]},e.id))})]})},Ee=()=>0===ge.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(en,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum povo criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Comece a adicionar os povos e ra\xe7as que habitam seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("people"),className:"btn-primary",children:"Adicionar Povo"}),b&&(0,Sn.jsxs)("button",{onClick:te,className:"btn-outline",disabled:D,children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):"grid"===p?(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(e=>(0,Sn.jsx)(Se,{people:e,onClick:()=>{v("people"),y(e)}},e.id))}):(0,Sn.jsx)("div",{className:"space-y-4"}),Se=e=>{let{people:t,onClick:n}=e;return(0,Sn.jsxs)("div",{className:"card hover-lift group",onClick:n,children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-2 rounded-lg mr-3 bg-purple-100 text-purple-600",children:(0,Sn.jsx)(en,{className:"h-5 w-5"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:t.name}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:t.classification})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Sn.jsx)("button",{className:"p-1 text-gray-400 hover:text-purple-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3",children:t.description})]})},Fe=()=>{const t=(null===e||void 0===e?void 0:e.languages)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(Yt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum idioma criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione os idiomas e dialetos falados em seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("language"),className:"btn-primary",children:"Adicionar Idioma"}),b&&(0,Sn.jsxs)("button",{onClick:()=>ae(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Idiomas (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("language"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Idioma"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>ae(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("language")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(Yt,{className:"h-5 w-5 text-blue-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.family&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Fam\xedlia:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.family})]}),e.speakers&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Falantes:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.speakers})]}),e.script&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Escrita:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.script})]})]},e.id))})]})},Ue=()=>{const t=(null===e||void 0===e?void 0:e.religions)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(ar,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma religi\xe3o criada ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as religi\xf5es, deuses e cren\xe7as do seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("religion"),className:"btn-primary",children:"Adicionar Religi\xe3o"}),b&&(0,Sn.jsxs)("button",{onClick:()=>oe(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Religi\xf5es (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("religion"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Religi\xe3o"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>oe(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("religion")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(ar,{className:"h-5 w-5 text-yellow-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.deities&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Divindades:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.deities})]}),e.practices&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Pr\xe1ticas:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.practices})]}),e.followers&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Seguidores:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.followers})]})]},e.id))})]})},Ie=()=>{const t=(null===e||void 0===e?void 0:e.traditions)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(sr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma tradi\xe7\xe3o criada ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as tradi\xe7\xf5es, festivais e costumes culturais."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("tradition"),className:"btn-primary",children:"Adicionar Tradi\xe7\xe3o"}),b&&(0,Sn.jsxs)("button",{onClick:()=>ie(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Tradi\xe7\xf5es (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("tradition"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Tradi\xe7\xe3o"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>ie(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("tradition")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(sr,{className:"h-5 w-5 text-red-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,Sn.jsx)("div",{className:"mb-2",children:(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:e.type})}),e.origin&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Origem:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.origin})]}),e.frequency&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Frequ\xeancia:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.frequency})]})]},e.id))})]})},Le=()=>{const t=(null===e||void 0===e?void 0:e.magicSystems)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(Qn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum Sistema de Magia criado"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Defina as regras e fontes da magia em seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{className:"btn-primary",onClick:()=>v("magicSystem"),children:"Adicionar Sistema de Magia"}),b&&(0,Sn.jsxs)("button",{onClick:()=>re(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas de Magia (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("magicSystem"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>re(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("magicSystem")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(Qn,{className:"h-5 w-5 text-purple-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.source&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Fonte:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.source})]}),e.limitations&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Limita\xe7\xf5es:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.limitations})]})]},e.id))})]})},Qe=()=>{const t=(null===e||void 0===e?void 0:e.technologies)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(on,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma tecnologia criada ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione as tecnologias, inven\xe7\xf5es e n\xedveis de avan\xe7o do seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("technology"),className:"btn-primary",children:"Adicionar Tecnologia"}),b&&(0,Sn.jsxs)("button",{onClick:()=>ue(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Tecnologias (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("technology"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Tecnologia"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>ue(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("technology")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(on,{className:"h-5 w-5 text-yellow-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.level&&(0,Sn.jsx)("div",{className:"mb-2",children:(0,Sn.jsxs)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:["N\xedvel: ",e.level]})}),e.applications&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Aplica\xe7\xf5es:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.applications})]})]},e.id))})]})},Oe=()=>{const t=(null===e||void 0===e?void 0:e.governments)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(cd,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum sistema pol\xedtico criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione reinos, imp\xe9rios, rep\xfablicas e outras formas de governo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("government"),className:"btn-primary",children:"Adicionar Sistema Pol\xedtico"}),b&&(0,Sn.jsxs)("button",{onClick:()=>de(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas Pol\xedticos (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("government"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>de(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("government")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(cd,{className:"h-5 w-5 text-indigo-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.type&&(0,Sn.jsx)("div",{className:"mb-2",children:(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded",children:e.type})}),e.leaderTitle&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"L\xedder:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.leaderTitle})]})]},e.id))})]})},Pe=()=>{const t=(null===e||void 0===e?void 0:e.economies)||[];return 0===t.length?(0,Sn.jsxs)("div",{className:"text-center py-16",children:[(0,Sn.jsx)(Ad,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum sistema econ\xf4mico criado ainda"}),(0,Sn.jsx)("p",{className:"text-gray-500 mb-6",children:"Adicione sistemas de troca, moedas e atividades econ\xf4micas."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("economy"),className:"btn-primary",children:"Adicionar Sistema Econ\xf4mico"}),b&&(0,Sn.jsxs)("button",{onClick:()=>he(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}):(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sistemas Econ\xf4micos (",t.length,")"]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("economy"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Sistema"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>he(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,Sn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("economy")},children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)(Ad,{className:"h-5 w-5 text-green-500"})]}),(0,Sn.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:e.description}),e.currency&&(0,Sn.jsxs)("div",{className:"mb-2",children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Moeda:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700",children:e.currency})]}),e.mainExports&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Exporta\xe7\xf5es:"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.mainExports})]})]},e.id))})]})},Te=()=>{var t,n,r,a;return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:(0,Sn.jsx)(Un,{className:"h-6 w-6 text-blue-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Locais"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(t=e.locations)||void 0===t?void 0:t.length)||0})]})]})}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:(0,Sn.jsx)(en,{className:"h-6 w-6 text-purple-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Povos Criados"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(n=e.peoples)||void 0===n?void 0:n.length)||0})]})]})}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg mr-4",children:(0,Sn.jsx)(Qn,{className:"h-6 w-6 text-orange-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Sistemas de Magia"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(r=e.magicSystems)||void 0===r?void 0:r.length)||0})]})]})}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"p-3 bg-red-100 rounded-lg mr-4",children:(0,Sn.jsx)(Yn,{className:"h-6 w-6 text-red-600"})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Eventos Hist\xf3ricos"}),(0,Sn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===e||void 0===e||null===(a=e.events)||void 0===a?void 0:a.length)||0})]})]})})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribui\xe7\xe3o por Tipo"}),(0,Sn.jsx)("div",{className:"space-y-3",children:vb.slice(0,5).map(t=>{var n,r;const a=(null===e||void 0===e||null===(n=e.locations)||void 0===n?void 0:n.filter(e=>e.type===t.value).length)||0,s=(null===e||void 0===e||null===(r=e.locations)||void 0===r?void 0:r.length)>0?(a/e.locations.length*100).toFixed(1):0;return(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:t.label}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(s,"%")}})}),(0,Sn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a})]})]},t.value)})})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Atividade Recente"}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Elementos criados esta semana"}),(0,Sn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:ve.recentlyAdded})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"M\xe9dia de palavras por local"}),(0,Sn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:ve.avgWordsPerLocation})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Total de elementos"}),(0,Sn.jsx)("span",{className:"text-sm font-medium text-gray-900",children:ve.totalElements})]})]})]})]})]})},De=()=>{var t,n,r;return(0,Sn.jsx)("div",{className:"space-y-6",children:(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Insights do Mundo"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,Sn.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\ud83c\udf0d Mundo em Desenvolvimento"}),(0,Sn.jsxs)("p",{className:"text-blue-700 text-sm",children:["Seu mundo tem ",ve.totalElements," elementos criados.",ve.totalElements<10?" Continue expandindo para criar um universo rico!":" Excelente trabalho na constru\xe7\xe3o do seu universo!"]})]}),(null===e||void 0===e||null===(t=e.locations)||void 0===t?void 0:t.length)>0&&(0,Sn.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Sn.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"\ud83d\uddfa\ufe0f Diversidade Geogr\xe1fica"}),(0,Sn.jsxs)("p",{className:"text-green-700 text-sm",children:["Voc\xea criou ",e.locations.length," locais \xfanicos. Considere adicionar mais regi\xf5es e marcos para enriquecer a geografia do seu mundo."]})]}),(null===e||void 0===e||null===(n=e.peoples)||void 0===n?void 0:n.length)>0&&(0,Sn.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,Sn.jsx)("h4",{className:"font-medium text-purple-900 mb-2",children:"\ud83d\udc65 Diversidade Cultural"}),(0,Sn.jsxs)("p",{className:"text-purple-700 text-sm",children:[e.peoples.length," povos habitam seu mundo. Explore suas tradi\xe7\xf5es, idiomas e religi\xf5es para criar culturas mais profundas."]})]}),(null===e||void 0===e||null===(r=e.magicSystems)||void 0===r?void 0:r.length)>0&&(0,Sn.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg",children:[(0,Sn.jsx)("h4",{className:"font-medium text-orange-900 mb-2",children:"\u2728 Sistemas M\xe1gicos"}),(0,Sn.jsxs)("p",{className:"text-orange-700 text-sm",children:[e.magicSystems.length," sistema(s) de magia definido(s). Considere como a magia afeta a sociedade, economia e pol\xedtica do seu mundo."]})]})]})]})})},Me=()=>(0,Sn.jsx)("div",{className:"space-y-6",children:(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Relat\xf3rios Dispon\xedveis"}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Sn.jsx)(nn,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,Sn.jsx)("span",{className:"font-medium text-gray-900",children:"Relat\xf3rio Completo"})]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:"Exporte todos os dados do seu mundo em formato detalhado"})]}),(0,Sn.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Sn.jsx)(xu,{className:"h-5 w-5 text-green-600 mr-2"}),(0,Sn.jsx)("span",{className:"font-medium text-gray-900",children:"An\xe1lise de Consist\xeancia"})]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:"Verifique a consist\xeancia entre elementos do mundo"})]}),(0,Sn.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Sn.jsx)(ud,{className:"h-5 w-5 text-purple-600 mr-2"}),(0,Sn.jsx)("span",{className:"font-medium text-gray-900",children:"Mapa de Rela\xe7\xf5es"})]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:"Visualize as conex\xf5es entre personagens e locais"})]}),(0,Sn.jsxs)("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors text-left",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Sn.jsx)(xn,{className:"h-5 w-5 text-red-600 mr-2"}),(0,Sn.jsx)("span",{className:"font-medium text-gray-900",children:"Timeline Hist\xf3rica"})]}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600",children:"Linha do tempo completa dos eventos hist\xf3ricos"})]})]})]})});return(0,Sn.jsxs)("div",{className:"min-h-screen bg-background flex flex-col lg:flex-row",children:[(0,Sn.jsx)(Vb,{activeTab:u,activeSubTab:h,onTabChange:J,onSubTabChange:f,worldData:e}),(0,Sn.jsx)("div",{className:"flex-1 overflow-auto",children:(0,Sn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[(0,Sn.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,Sn.jsxs)("div",{className:"min-w-0",children:[(0,Sn.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center",children:[(0,Sn.jsx)($t,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3 flex-shrink-0"}),(0,Sn.jsx)("span",{className:"truncate",children:"Construtor de Mundo"})]}),(0,Sn.jsx)("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Crie mundos ricos e detalhados para suas hist\xf3rias"})]}),(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[z&&(0,Sn.jsxs)("div",{className:"text-right",children:[(0,Sn.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:ve.totalElements}),(0,Sn.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"elementos criados"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Sn.jsxs)("button",{onClick:()=>N(!0),className:"btn-primary flex items-center text-sm bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[(0,Sn.jsx)(Pn,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Agente IA"})]}),(0,Sn.jsx)("button",{onClick:()=>G(!z),className:"btn-ghost p-2",children:z?(0,Sn.jsx)(Bn,{className:"h-4 w-4"}):(0,Sn.jsx)(wn,{className:"h-4 w-4"})}),(0,Sn.jsxs)("button",{className:"btn-outline flex items-center text-sm",children:[(0,Sn.jsx)(dn,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Exportar"})]}),(0,Sn.jsxs)("button",{className:"btn-outline flex items-center text-sm",children:[(0,Sn.jsx)(hn,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,Sn.jsx)("span",{className:"hidden sm:inline",children:"Importar"})]})]})]})]})}),(()=>{switch(u){case"overview":default:return be();case"geography":return(0,Sn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar locais...",value:F,onChange:e=>U(e.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground"})]}),(0,Sn.jsxs)("select",{value:I,onChange:e=>L(e.target.value),className:"border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground",children:[(0,Sn.jsx)("option",{value:"all",children:"Todos os tipos"}),vb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Sn.jsxs)("select",{value:"".concat(Q,"-").concat(P),onChange:e=>{const[t,n]=e.target.value.split("-");O(t),T(n)},className:"border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-background text-foreground",children:[(0,Sn.jsx)("option",{value:"name-asc",children:"Nome (A-Z)"}),(0,Sn.jsx)("option",{value:"name-desc",children:"Nome (Z-A)"}),(0,Sn.jsx)("option",{value:"type-asc",children:"Tipo (A-Z)"}),(0,Sn.jsx)("option",{value:"createdAt-desc",children:"Mais recentes"}),(0,Sn.jsx)("option",{value:"createdAt-asc",children:"Mais antigos"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("div",{className:"flex items-center border border-border rounded-lg",children:[(0,Sn.jsx)("button",{onClick:()=>m("grid"),className:"p-2 ".concat("grid"===p?"bg-muted":""),children:(0,Sn.jsx)(mr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>m("list"),className:"p-2 ".concat("list"===p?"bg-muted":""),children:(0,Sn.jsx)(lr,{className:"h-4 w-4"})})]}),(0,Sn.jsxs)("button",{onClick:()=>v("location"),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Local"]})]})]}),"locations"===h&&we(),"regions"===h&&je(),"landmarks"===h&&Ce(),"resources"===h&&ke()]});case"cultures":return(0,Sn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,Sn.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar culturas...",value:F,onChange:e=>U(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Sn.jsxs)("select",{value:I,onChange:e=>L(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,Sn.jsx)("option",{value:"all",children:"Todos os tipos"}),vb.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Sn.jsxs)("select",{value:"".concat(Q,"-").concat(P),onChange:e=>{const[t,n]=e.target.value.split("-");O(t),T(n)},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,Sn.jsx)("option",{value:"name-asc",children:"Nome (A-Z)"}),(0,Sn.jsx)("option",{value:"name-desc",children:"Nome (Z-A)"}),(0,Sn.jsx)("option",{value:"type-asc",children:"Tipo (A-Z)"}),(0,Sn.jsx)("option",{value:"createdAt-desc",children:"Mais recentes"}),(0,Sn.jsx)("option",{value:"createdAt-asc",children:"Mais antigos"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,Sn.jsx)("button",{onClick:()=>m("grid"),className:"p-2 ".concat("grid"===p?"bg-gray-100":""),children:(0,Sn.jsx)(mr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>m("list"),className:"p-2 ".concat("list"===p?"bg-gray-100":""),children:(0,Sn.jsx)(lr,{className:"h-4 w-4"})})]}),(0,Sn.jsxs)("button",{onClick:()=>v("people"),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Cultura"]})]})]}),"peoples"===h&&Ee(),"languages"===h&&Fe(),"religions"===h&&Ue(),"traditions"===h&&Ie()]});case"systems":return(0,Sn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:["magicSystems"===h&&Le(),"technologies"===h&&Qe(),"governments"===h&&Oe(),"economies"===h&&Pe()]});case"history":return(()=>{const t=[...(null===e||void 0===e?void 0:e.events)||[]].sort((e,t)=>(e.year||0)-(t.year||0));return(0,Sn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline Hist\xf3rica"}),(0,Sn.jsxs)("span",{className:"text-sm text-gray-500",children:[t.length," eventos"]})]}),(0,Sn.jsxs)("div",{className:"flex space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>v("event"),className:"btn-primary",children:[(0,Sn.jsx)(An,{className:"h-4 w-4 mr-2"}),"Adicionar Evento"]}),b&&(0,Sn.jsxs)("button",{onClick:()=>ne(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]}),(0,Sn.jsxs)("div",{className:"relative pl-8",children:[(0,Sn.jsx)("div",{className:"absolute left-12 top-0 h-full w-0.5 bg-gray-200"}),t.length>0?t.map((e,t)=>(0,Sn.jsxs)("div",{className:"relative mb-8 group",children:[(0,Sn.jsx)("div",{className:"absolute left-12 top-1/2 -translate-y-1/2 w-4 h-4 bg-red-500 rounded-full border-2 border-white"}),(0,Sn.jsx)("div",{className:"ml-12 pl-8 bg-white p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{y(e),v("event")},children:(0,Sn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsx)("p",{className:"font-bold text-lg text-red-700",children:e.year||"Data Indefinida"}),(0,Sn.jsx)("h4",{className:"font-semibold text-xl text-gray-900 mb-2",children:e.name}),(0,Sn.jsx)("p",{className:"text-gray-600 line-clamp-3",children:e.description}),e.type&&(0,Sn.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e.type})]}),(0,Sn.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity ml-4",children:(0,Sn.jsx)("button",{onClick:t=>{t.stopPropagation(),y(e),v("event")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})})})]})})]},e.id)):(0,Sn.jsxs)("div",{className:"text-center py-16 text-gray-500",children:[(0,Sn.jsx)(xn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum evento hist\xf3rico adicionado"}),(0,Sn.jsx)("p",{className:"mb-6",children:"Adicione eventos para construir a linha do tempo do seu mundo."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Sn.jsx)("button",{onClick:()=>v("event"),className:"btn-primary",children:"Adicionar Evento"}),b&&(0,Sn.jsxs)("button",{onClick:()=>ne(),className:"btn-outline",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4 mr-2"}),"Gerar com IA"]})]})]})]})]})})();case"relationships":return(()=>{const t=[],n=[];let r=1;return t.push({id:"0",position:{x:400,y:50},data:{label:(null===e||void 0===e?void 0:e.name)||"Seu Mundo",style:{background:"#3B82F6",color:"white",fontWeight:"bold"}},style:{background:"#3B82F6",color:"white",fontWeight:"bold"}}),s&&s.length>0&&s.slice(0,5).forEach((e,a)=>{const s="char-".concat(r++);t.push({id:s,position:{x:100+150*a,y:200},data:{label:e.name,subtitle:e.role||"Personagem"},style:{background:"#10B981",color:"white"}}),n.push({id:"e0-".concat(s),source:"0",target:s})}),null!==e&&void 0!==e&&e.locations&&e.locations.length>0&&e.locations.slice(0,5).forEach((e,a)=>{const s="loc-".concat(r++);t.push({id:s,position:{x:600+150*a,y:200},data:{label:e.name,subtitle:e.type||"Local"},style:{background:"#F59E0B",color:"white"}}),n.push({id:"e0-".concat(s),source:"0",target:s})}),null!==e&&void 0!==e&&e.peoples&&e.peoples.length>0&&e.peoples.slice(0,3).forEach((e,a)=>{const s="people-".concat(r++);t.push({id:s,position:{x:200+200*a,y:350},data:{label:e.name,subtitle:e.classification||"Povo"},style:{background:"#8B5CF6",color:"white"}}),n.push({id:"e0-".concat(s),source:"0",target:s})}),null!==e&&void 0!==e&&e.magicSystems&&e.magicSystems.length>0&&e.magicSystems.slice(0,3).forEach((e,a)=>{const s="magic-".concat(r++);t.push({id:s,position:{x:700+200*a,y:350},data:{label:e.name,subtitle:"Sistema de Magia"},style:{background:"#EF4444",color:"white"}}),n.push({id:"e0-".concat(s),source:"0",target:s})}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Rela\xe7\xf5es"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Visualiza\xe7\xe3o das conex\xf5es entre elementos do seu mundo"})]}),(0,Sn.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,Sn.jsx)("span",{children:"Personagens"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),(0,Sn.jsx)("span",{children:"Locais"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded"}),(0,Sn.jsx)("span",{children:"Povos"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"}),(0,Sn.jsx)("span",{children:"Magia"})]})]})]}),(0,Sn.jsx)("div",{style:{height:"600px"},className:"border rounded-lg bg-gray-50",children:t.length>1?(0,Sn.jsxs)(My,{nodes:t,edges:n,fitView:!0,attributionPosition:"bottom-left",children:[(0,Sn.jsx)(Jy,{}),(0,Sn.jsx)(ib,{}),(0,Sn.jsx)(fb,{})]}):(0,Sn.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)(sd,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma rela\xe7\xe3o para exibir"}),(0,Sn.jsx)("p",{className:"mb-4",children:"Adicione personagens, locais e outros elementos para ver suas conex\xf5es."}),(0,Sn.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>{d("cultures"),f("peoples")},className:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200",children:"Adicionar Personagens"}),(0,Sn.jsx)("button",{onClick:()=>{d("geography"),f("locations")},className:"text-sm bg-yellow-100 text-yellow-700 px-3 py-1 rounded hover:bg-yellow-200",children:"Adicionar Locais"})]})]})})})]})})();case"analytics":return(0,Sn.jsxs)("div",{className:"space-y-6 animate-fade-in",children:["statistics"===h&&Te(),"insights"===h&&De(),"reports"===h&&Me()]})}})()]})}),"location"===g&&(0,Sn.jsx)(Lb,{location:x,onClose:()=>v(null),onSave:e=>{x?i("locations",x.id,e):o("locations",e),v(null),y(null)},onDelete:e=>{l("locations",e),Rd.success("Local exclu\xeddo com sucesso!"),v(null),y(null)},aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"people"===g&&(0,Sn.jsx)(Qb,{people:x,onClose:()=>{v(null),y(null)},onSave:e=>{x?i("peoples",x.id,e):o("peoples",e),v(null),y(null)},onDelete:e=>{l("peoples",e),Rd.success("Povo exclu\xeddo com sucesso!"),v(null),y(null)},aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"magicSystem"===g&&(0,Sn.jsx)(Hb,{system:x,onClose:()=>v(null),onSave:e=>xe("magicSystems",e),onDelete:e=>ye("magicSystems",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"event"===g&&(0,Sn.jsx)(Mb,{event:x,onClose:()=>v(null),onSave:e=>xe("events",e),onDelete:e=>ye("events",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"language"===g&&(0,Sn.jsx)(Rb,{language:x,onClose:()=>v(null),onSave:e=>xe("languages",e),onDelete:e=>ye("languages",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"religion"===g&&(0,Sn.jsx)(Ob,{religion:x,onClose:()=>v(null),onSave:e=>xe("religions",e),onDelete:e=>ye("religions",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"tradition"===g&&(0,Sn.jsx)(qb,{tradition:x,onClose:()=>v(null),onSave:e=>xe("traditions",e),onDelete:e=>ye("traditions",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"region"===g&&(0,Sn.jsx)(Pb,{region:x,onClose:()=>v(null),onSave:e=>xe("regions",e),onDelete:e=>ye("regions",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"landmark"===g&&(0,Sn.jsx)(Tb,{landmark:x,onClose:()=>v(null),onSave:e=>xe("landmarks",e),onDelete:e=>ye("landmarks",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"resource"===g&&(0,Sn.jsx)(Kb,{resource:x,onClose:()=>v(null),onSave:e=>xe("resources",e),onDelete:e=>ye("resources",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"technology"===g&&(0,Sn.jsx)(zb,{technology:x,onClose:()=>v(null),onSave:e=>xe("technologies",e),onDelete:e=>ye("technologies",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"government"===g&&(0,Sn.jsx)(Gb,{government:x,onClose:()=>v(null),onSave:e=>xe("governments",e),onDelete:e=>ye("governments",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),"economy"===g&&(0,Sn.jsx)(Bb,{economy:x,onClose:()=>v(null),onSave:e=>xe("economies",e),onDelete:e=>ye("economies",e),aiProvider:b,isGenerating:D,onGenerateWithAI:Z}),(0,Sn.jsx)(td,{worldData:e,projectData:{volumes:c,chapters:A,characters:s},onGenerateWithContext:j,onGetInsights:C,isOpen:w,onClose:()=>N(!1)}),(0,Sn.jsx)(Zd,{})]})},Xb=Jt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Jb=e=>{let{onClose:n,onGenerate:r,isGenerating:a,regions:s}=e;const[o,i]=(0,t.useState)(""),[l,c]=(0,t.useState)("protagonist"),[A,u]=(0,t.useState)("");return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[(0,Sn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Sn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Gerar Personagem com IA"]})}),(0,Sn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descreva o personagem (opcional)"}),(0,Sn.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),className:"textarea-field",rows:"3",placeholder:"Ex: um cavaleiro sombrio com um passado tr\xe1gico e um senso de humor sarc\xe1stico."}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para um personagem completamente aleat\xf3rio."})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Personagem"}),(0,Sn.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:[{value:"protagonist",label:"Protagonista"},{value:"antagonist",label:"Antagonista"},{value:"supporting",label:"Coadjuvante"},{value:"mentor",label:"Mentor"},{value:"love_interest",label:"Interesse Rom\xe2ntico"},{value:"any",label:"Qualquer"}].map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Regi\xe3o de Origem (Opcional)"}),(0,Sn.jsxs)("select",{value:A,onChange:e=>u(e.target.value),className:"input-field",disabled:!s||0===s.length,children:[(0,Sn.jsx)("option",{value:"",children:"Aleat\xf3ria"}),s&&s.map(e=>(0,Sn.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]})]}),(0,Sn.jsxs)("div",{className:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:n,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsx)("button",{type:"button",onClick:()=>{r(o,l,A)},disabled:a,className:"btn-primary",children:a?"Gerando...":"Gerar Personagem"})]})]})})},Yb=()=>{const{characters:e,addCharacter:n,updateCharacter:r,deleteCharacter:a,settings:s,worldData:o,setSelectedCharacter:i,selectedCharacter:l}=(0,mn.A)(),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),[b,w]=(0,t.useState)({name:"",role:"protagonist",age:"",gender:"",appearance:"",personality:"",background:"",goals:"",conflicts:"",relationships:"",abilities:"",weaknesses:"",arc:"",notes:""}),N=[{value:"protagonist",label:"Protagonista",color:"bg-blue-100 text-blue-800"},{value:"antagonist",label:"Antagonista",color:"bg-red-100 text-red-800"},{value:"deuteragonist",label:"Deuteragonista",color:"bg-green-100 text-green-800"},{value:"supporting",label:"Coadjuvante",color:"bg-yellow-100 text-yellow-800"},{value:"mentor",label:"Mentor",color:"bg-purple-100 text-purple-800"},{value:"love_interest",label:"Interesse Rom\xe2ntico",color:"bg-pink-100 text-pink-800"}],B=(e,t)=>{w(n=>(0,_e.A)((0,_e.A)({},n),{},{[e]:t}))},j=()=>{w({name:"",role:"protagonist",age:"",gender:"",appearance:"",personality:"",background:"",goals:"",conflicts:"",relationships:"",abilities:"",weaknesses:"",arc:"",notes:""}),d(null),A(!1)},C=e.filter(e=>{const t=e.name.toLowerCase().includes(h.toLowerCase())||e.personality.toLowerCase().includes(h.toLowerCase()),n=!p||e.role===p;return t&&n});return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Personagens"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie e gerencie personagens para sua light novel"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="characters.json",a.click(),URL.revokeObjectURL(r),zt.success("Personagens exportados!")},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(dn,{className:"mr-2 h-4 w-4"}),"Exportar"]}),(0,Sn.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{JSON.parse(e.target.result).forEach(e=>n(e)),zt.success("Personagens importados!")}catch(t){zt.error("Erro ao importar personagens")}},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,Sn.jsxs)("button",{onClick:()=>{d(null),A(!0)},className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Novo Personagem"]}),(0,Sn.jsxs)("button",{onClick:()=>y(!0),className:"btn-secondary flex items-center bg-purple-600 text-white hover:bg-purple-700",children:[(0,Sn.jsx)(Qn,{className:"mr-2 h-4 w-4"}),"Criar com IA"]})]})]}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsx)("div",{className:"flex-1",children:(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar personagens...",value:h,onChange:e=>f(e.target.value),className:"input-field pl-10"})]})}),(0,Sn.jsxs)("select",{value:p,onChange:e=>m(e.target.value),className:"input-field w-48",children:[(0,Sn.jsx)("option",{value:"",children:"Todos os pap\xe9is"}),N.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}),x&&(0,Sn.jsx)(Jb,{onClose:()=>y(!1),onGenerate:async(e,t,n)=>{v(!0),y(!1);const r=zt.loading("Gerando personagem completo com IA...");try{const a=s.aiProviders[s.defaultAIProvider];if(!a||!a.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const i=new Kn(s.defaultAIProvider,a.apiKey,{model:a.defaultModel,temperature:a.temperature,maxTokens:a.maxTokens}),l={name:o.name,genre:o.genre,regions:o.regions.map(e=>e.name),peoples:o.peoples.map(e=>e.name),magicSystems:o.magicSystems.map(e=>e.name),technologies:o.technologies.map(e=>e.name)};let c=zn.character.basic;c+="\n\nCONTEXTO DO MUNDO:\n".concat(JSON.stringify(l,null,2)),e&&(c+="\n\nInstru\xe7\xf5es adicionais do usu\xe1rio: ".concat(e)),t&&"any"!==t&&(c+="\nO personagem deve ter o papel de: ".concat(t)),n&&(c+="\nO personagem \xe9 origin\xe1rio da regi\xe3o de: ".concat(n,". Use isso para influenciar sua apar\xeancia, cultura e hist\xf3ria."));const u=await i.generateText(c),h=u.match(/\{[\s\S]*?\}/);let f;if(!h)throw new Error("A IA n\xe3o retornou um JSON v\xe1lido.");try{const e=h[0];f=JSON.parse(e)}catch(Fe){const t=u.match(/\{\s*"name"[\s\S]*?\}/);if(!t)throw new Error("A IA n\xe3o retornou um JSON v\xe1lido.");f=JSON.parse(t[0])}w(e=>(0,_e.A)((0,_e.A)((0,_e.A)({},e),f),{},{role:"any"!==t?t:f.role||"protagonist"})),A(!0),d(null),zt.success("Personagem gerado com sucesso!",{id:r})}catch(a){zt.error("Erro ao gerar personagem: ".concat(a.message),{id:r})}finally{v(!1)}},isGenerating:g,regions:(null===o||void 0===o?void 0:o.regions)||[]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c&&(0,Sn.jsx)("div",{className:"lg:col-span-1",children:(0,Sn.jsxs)("div",{className:"card sticky top-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Editar Personagem":"Novo Personagem"}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b.name.trim()?(u?(r(u.id,b),zt.success("Personagem atualizado!")):(n(b),zt.success("Personagem criado!")),j()):zt.error("Nome do personagem \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,Sn.jsx)("input",{type:"text",value:b.name,onChange:e=>B("name",e.target.value),className:"input-field",placeholder:"Nome do personagem",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papel"}),(0,Sn.jsx)("select",{value:b.role,onChange:e=>B("role",e.target.value),className:"input-field",children:N.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),(0,Sn.jsx)("input",{type:"text",value:b.age,onChange:e=>B("age",e.target.value),className:"input-field",placeholder:"25 anos"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,Sn.jsx)("input",{type:"text",value:b.gender,onChange:e=>B("gender",e.target.value),className:"input-field",placeholder:"Masculino"})]})]}),[{field:"appearance",label:"Apar\xeancia",icon:wn},{field:"personality",label:"Personalidade",icon:sr},{field:"background",label:"Hist\xf3rico",icon:rr},{field:"goals",label:"Objetivos",icon:Dn},{field:"conflicts",label:"Conflitos",icon:Xb},{field:"relationships",label:"Relacionamentos",icon:en},{field:"abilities",label:"Habilidades",icon:on},{field:"weaknesses",label:"Fraquezas",icon:Mu},{field:"arc",label:"Arco de Desenvolvimento",icon:Pn}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,Sn.jsxs)("button",{type:"button",onClick:()=>(async e=>{v(!0);try{const t=s.aiProviders[s.defaultAIProvider];if(!t||!t.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const n=new Kn(s.defaultAIProvider,t.apiKey,{model:t.defaultModel,temperature:t.temperature,maxTokens:t.maxTokens}),r='Para um personagem de light novel chamado "'.concat(b.name||"um novo personagem",'", gere uma descri\xe7\xe3o para o seguinte campo: ').concat(e,"."),a="Contexto: ".concat(JSON.stringify({name:b.name,role:b.role,personality:b.personality})),o="".concat(r,"\n").concat(a),i=await n.generateText(o);B(e,i),zt.success("".concat(e," gerado com sucesso!"))}catch(t){zt.error("Erro ao gerar com IA: ".concat(t.message))}finally{v(!1)}})(t),disabled:g,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,Sn.jsx)("textarea",{value:b[t],onChange:e=>B(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,Sn.jsx)("textarea",{value:b.notes,onChange:e=>B("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,Sn.jsx)(pn,{className:"mr-2 h-4 w-4"}),u?"Atualizar":"Criar"]}),(0,Sn.jsx)("button",{type:"button",onClick:j,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,Sn.jsxs)("div",{className:"".concat(c?"lg:col-span-2":"lg:col-span-3"),children:[(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:C.map(e=>{const t=N.find(t=>t.value===e.role);return(0,Sn.jsxs)("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===t||void 0===t?void 0:t.color),children:null===t||void 0===t?void 0:t.label})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{d(e),w(e),A(!0)})(e)},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,window.confirm("Tem certeza que deseja excluir este personagem?")&&(a(n),zt.success("Personagem exclu\xeddo!"))},className:"p-1 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.age&&(0,Sn.jsxs)("p",{children:[(0,Sn.jsx)("strong",{children:"Idade:"})," ",e.age]}),e.personality&&(0,Sn.jsxs)("p",{className:"line-clamp-2",children:[(0,Sn.jsx)("strong",{children:"Personalidade:"})," ",e.personality]}),e.goals&&(0,Sn.jsxs)("p",{className:"line-clamp-2",children:[(0,Sn.jsx)("strong",{children:"Objetivos:"})," ",e.goals]})]})]},e.id)})}),0===C.length&&(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(en,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum personagem encontrado"}),(0,Sn.jsx)("p",{className:"text-gray-500",children:0===e.length?"Crie seu primeiro personagem para come\xe7ar":"Tente ajustar os filtros de busca"})]})]})]})]})},Zb=(Jt("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]),e=>{let{onClose:n,onGenerate:r,isGenerating:a,loreTypes:s}=e;const[o,i]=(0,t.useState)(""),[l,c]=(0,t.useState)("myth");return(0,Sn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Sn.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[(0,Sn.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Sn.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Gerar Lore com IA"]})}),(0,Sn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descreva o que voc\xea quer criar (opcional)"}),(0,Sn.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),className:"textarea-field",rows:"3",placeholder:"Ex: uma lenda sobre uma espada amaldi\xe7oada..."}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para um item de lore completamente aleat\xf3rio."})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Lore"}),(0,Sn.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:s.map(e=>(0,Sn.jsx)("option",{value:e.id,children:e.label},e.id))})]})]}),(0,Sn.jsxs)("div",{className:"px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[(0,Sn.jsx)("button",{type:"button",onClick:n,className:"btn-outline",children:"Cancelar"}),(0,Sn.jsx)("button",{type:"button",onClick:()=>{r(o,l)},disabled:a,className:"btn-primary",children:a?"Gerando...":"Gerar Item de Lore"})]})]})})}),$b=()=>{var e,n,r,a;const{loreData:s,addLoreItem:o,worldData:i,settings:l}=(0,mn.A)(),[c,A]=(0,t.useState)("myths"),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),[b,w]=(0,t.useState)({name:"",description:"",origin:"",significance:"",characters:"",locations:"",effects:"",notes:""}),N=[{id:"myths",label:"Mitos",icon:Yt,color:"bg-blue-100 text-blue-800"},{id:"legends",label:"Lendas",icon:ar,color:"bg-yellow-100 text-yellow-800"},{id:"prophecies",label:"Profecias",icon:wn,color:"bg-purple-100 text-purple-800"},{id:"artifacts",label:"Artefatos",icon:ld,color:"bg-green-100 text-green-800"},{id:"rituals",label:"Rituais",icon:Jn,color:"bg-red-100 text-red-800"},{id:"customs",label:"Costumes",icon:cd,color:"bg-indigo-100 text-indigo-800"}],B=(e,t)=>{w(n=>(0,_e.A)((0,_e.A)({},n),{},{[e]:t}))},j=()=>{w({name:"",description:"",origin:"",significance:"",characters:"",locations:"",effects:"",notes:""}),f(null),d(!1)},C=(e,t)=>{const n={},r=[/\*\*([^*]+)\*\*\s*\n/,/"([^"]+)"/,/Mito[^:]*:\s*([^\n]+)/i,/Lenda[^:]*:\s*([^\n]+)/i,/Artefato[^:]*:\s*([^\n]+)/i,/^([^\n]+)/m];for(const a of r){const t=e.match(a);if(t&&t[1]&&t[1].trim().length>3){n.name=t[1].trim().replace(/[*"]/g,"");break}}if(!n.name){const e={myths:"Mito Gerado por IA",legends:"Lenda Gerada por IA",artifacts:"Artefato Gerado por IA",prophecies:"Profecia Gerada por IA",rituals:"Ritual Gerado por IA",customs:"Costume Gerado por IA"};n.name=e[t]||"Item de Lore Gerado por IA"}return n.description=e.replace(/\*\*[^*]+\*\*/g,"").replace(/#+\s*[^\n]+/g,"").replace(/\n\s*\n/g,"\n").trim(),"artifacts"===t?(n.origin="Origem a ser descoberta",n.effects="Efeitos m\xe1gicos ou especiais"):(n.origin="Tradi\xe7\xe3o oral antiga",n.significance="Importante para a cultura e hist\xf3ria local"),n},k=async(e,t)=>{v(!0),y(!1);const n=zt.loading("Gerando ".concat(t,"..."));try{const r=l.aiProviders[l.defaultAIProvider];if(!r||!r.apiKey)throw new Error("Provedor de IA n\xe3o configurado corretamente.");const a=new Kn(l.defaultAIProvider,r.apiKey,{model:r.defaultModel,temperature:r.temperature,maxTokens:r.maxTokens}),s={name:i.name,genre:i.genre,regions:i.regions.map(e=>e.name),peoples:i.peoples.map(e=>e.name),characters:mn.A.getState().characters.map(e=>e.name),magicSystems:i.magicSystems.map(e=>e.name)};let o=zn.lore[t]||'Crie um item de lore do tipo "'.concat(t,'".');o+="\n\nCONTEXTO DO MUNDO:\n".concat(JSON.stringify(s,null,2)),e&&(o+="\n\nInstru\xe7\xf5es adicionais do usu\xe1rio: ".concat(e));const c=await a.generateText(o),u=c.match(/\{[\s\S]*\}/);let h;if(u)try{const e=u[0];h=JSON.parse(e)}catch(Fe){h=C(c,t)}else h=C(c,t);w(e=>(0,_e.A)((0,_e.A)({},e),h)),A(t),d(!0),f(null),zt.success("Item de lore gerado com sucesso!",{id:n})}catch(r){zt.error("Erro ao gerar lore: ".concat(r.message),{id:n})}finally{v(!1)}},E=s[c]||[],S=E.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase()));return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Lore"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie mitos, lendas, profecias e elementos de lore para seu mundo"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>y(!0),className:"btn-secondary flex items-center bg-purple-600 text-white hover:bg-purple-700",children:[(0,Sn.jsx)(Qn,{className:"mr-2 h-4 w-4"}),"Criar com IA"]}),(0,Sn.jsxs)("button",{onClick:()=>d(!u),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Novo Item"]})]})]}),(0,Sn.jsx)("div",{className:"border-b border-gray-200",children:(0,Sn.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:N.map(e=>(0,Sn.jsxs)("button",{onClick:()=>A(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(c===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Sn.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar ".concat(null===(e=N.find(e=>e.id===c))||void 0===e?void 0:e.label.toLowerCase(),"..."),value:p,onChange:e=>m(e.target.value),className:"input-field pl-10"})]})}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u&&(0,Sn.jsx)("div",{className:"lg:col-span-1",children:(0,Sn.jsxs)("div",{className:"card sticky top-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:h?"Editar Item":"Novo ".concat(null===(n=N.find(e=>e.id===c))||void 0===n?void 0:n.label)}),(0,Sn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),b.name.trim()){if(h){const e=(s[c]||[]).map(e=>e.id===h.id?(0,_e.A)((0,_e.A)({},b),{},{id:e.id}):e);o(c,e),zt.success("Item atualizado!")}else o(c,b),zt.success("Item criado!");j()}else zt.error("Nome \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,Sn.jsx)("input",{type:"text",value:b.name,onChange:e=>B("name",e.target.value),className:"input-field",placeholder:"Nome do ".concat(null===(r=N.find(e=>e.id===c))||void 0===r?void 0:r.label.toLowerCase()),required:!0})]}),[{field:"description",label:"Descri\xe7\xe3o",icon:Yt},{field:"origin",label:"Origem",icon:ar},{field:"significance",label:"Significado",icon:wn},{field:"characters",label:"Personagens Envolvidos",icon:cd},{field:"locations",label:"Locais Relacionados",icon:Un},{field:"effects",label:"Efeitos/Impacto",icon:on}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,Sn.jsxs)("button",{type:"button",onClick:()=>k("",c),disabled:g,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,Sn.jsx)("textarea",{value:b[t],onChange:e=>B(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,Sn.jsx)("textarea",{value:b.notes,onChange:e=>B("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,Sn.jsx)(pn,{className:"mr-2 h-4 w-4"}),h?"Atualizar":"Criar"]}),(0,Sn.jsx)("button",{type:"button",onClick:j,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,Sn.jsxs)("div",{className:"".concat(u?"lg:col-span-2":"lg:col-span-3"),children:[(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(e=>{const t=N.find(e=>e.id===c);return(0,Sn.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===t||void 0===t?void 0:t.color),children:null===t||void 0===t?void 0:t.label})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("button",{onClick:()=>(e=>{f(e),w(e),d(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Tem certeza que deseja excluir este item?")){const t=(s[c]||[]).filter(t=>t.id!==e);o(c,t),zt.success("Item exclu\xeddo!")}})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.description&&(0,Sn.jsxs)("p",{className:"line-clamp-2",children:[(0,Sn.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",e.description]}),e.origin&&(0,Sn.jsxs)("p",{className:"line-clamp-1",children:[(0,Sn.jsx)("strong",{children:"Origem:"})," ",e.origin]}),e.significance&&(0,Sn.jsxs)("p",{className:"line-clamp-1",children:[(0,Sn.jsx)("strong",{children:"Significado:"})," ",e.significance]})]})]},e.id)})}),0===S.length&&(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum item encontrado"}),(0,Sn.jsx)("p",{className:"text-gray-500",children:0===E.length?"Crie seu primeiro ".concat(null===(a=N.find(e=>e.id===c))||void 0===a?void 0:a.label.toLowerCase()," para come\xe7ar"):"Tente ajustar a busca"})]})]})]}),x&&(0,Sn.jsx)(Zb,{onClose:()=>y(!1),onGenerate:k,isGenerating:g,loreTypes:N})]})},ew=()=>{var e,n,r,a;const{narrativeData:s,addNarrativeItem:o}=(0,mn.A)(),[i,l]=(0,t.useState)("plotPoints"),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)({name:"",description:"",characters:"",locations:"",consequences:"",timeline:"",notes:""}),x=[{id:"plotPoints",label:"Plot Points",icon:Dn,color:"bg-blue-100 text-blue-800"},{id:"storyArcs",label:"Arcos de Hist\xf3ria",icon:Hn,color:"bg-green-100 text-green-800"},{id:"themes",label:"Temas",icon:sr,color:"bg-purple-100 text-purple-800"},{id:"conflicts",label:"Conflitos",icon:Xb,color:"bg-red-100 text-red-800"},{id:"resolutions",label:"Resolu\xe7\xf5es",icon:gn,color:"bg-yellow-100 text-yellow-800"}],y=[{value:"inciting_incident",label:"Incidente Incitador",icon:on},{value:"first_plot_point",label:"Primeiro Plot Point",icon:Ln},{value:"midpoint",label:"Ponto M\xe9dio",icon:xn},{value:"second_plot_point",label:"Segundo Plot Point",icon:Hn},{value:"climax",label:"Cl\xedmax",icon:ar},{value:"resolution",label:"Resolu\xe7\xe3o",icon:gn}],b=[{value:"man_vs_man",label:"Homem vs Homem",icon:en},{value:"man_vs_self",label:"Homem vs Si Mesmo",icon:sr},{value:"man_vs_nature",label:"Homem vs Natureza",icon:Un},{value:"man_vs_society",label:"Homem vs Sociedade",icon:Yt},{value:"man_vs_technology",label:"Homem vs Tecnologia",icon:on},{value:"man_vs_supernatural",label:"Homem vs Sobrenatural",icon:ar}],w=(e,t)=>{v(n=>(0,_e.A)((0,_e.A)({},n),{},{[e]:t}))},N=()=>{v({name:"",description:"",characters:"",locations:"",consequences:"",timeline:"",notes:""}),d(null),A(!1)},B=s[i]||[],j=B.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.description.toLowerCase().includes(h.toLowerCase()));return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerador de Narrativa"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Crie plot points, arcos de hist\xf3ria e elementos narrativos"})]}),(0,Sn.jsxs)("button",{onClick:()=>A(!c),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Novo Item"]})]}),(0,Sn.jsx)("div",{className:"border-b border-gray-200",children:(0,Sn.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:x.map(e=>(0,Sn.jsxs)("button",{onClick:()=>l(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Sn.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar ".concat(null===(e=x.find(e=>e.id===i))||void 0===e?void 0:e.label.toLowerCase(),"..."),value:h,onChange:e=>f(e.target.value),className:"input-field pl-10"})]})}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c&&(0,Sn.jsx)("div",{className:"lg:col-span-1",children:(0,Sn.jsxs)("div",{className:"card sticky top-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Editar Item":"Novo ".concat(null===(n=x.find(e=>e.id===i))||void 0===n?void 0:n.label)}),(0,Sn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),g.name.trim()){if(u){const e=(s[i]||[]).map(e=>e.id===u.id?(0,_e.A)((0,_e.A)({},g),{},{id:e.id}):e);o(i,e),zt.success("Item atualizado!")}else o(i,g),zt.success("Item criado!");N()}else zt.error("Nome \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,Sn.jsx)("input",{type:"text",value:g.name,onChange:e=>w("name",e.target.value),className:"input-field",placeholder:"Nome do ".concat(null===(r=x.find(e=>e.id===i))||void 0===r?void 0:r.label.toLowerCase()),required:!0})]}),"plotPoints"===i&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Plot Point"}),(0,Sn.jsxs)("select",{value:g.type||"",onChange:e=>w("type",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"",children:"Selecione o tipo"}),y.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),"conflicts"===i&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conflito"}),(0,Sn.jsxs)("select",{value:g.conflictType||"",onChange:e=>w("conflictType",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"",children:"Selecione o tipo"}),b.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),[{field:"description",label:"Descri\xe7\xe3o",icon:nn},{field:"characters",label:"Personagens Envolvidos",icon:en},{field:"locations",label:"Locais",icon:Un},{field:"consequences",label:"Consequ\xeancias",icon:Ln},{field:"timeline",label:"Cronologia",icon:xn}].map(e=>{let{field:t,label:n,icon:r}=e;return(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:n}),(0,Sn.jsxs)("button",{type:"button",onClick:()=>(async e=>{m(!0);try{var t;await new Promise(e=>setTimeout(e,2e3));const n=(null===(t={plotPoints:{name:"A Descoberta do Artefato",description:"O protagonista encontra um artefato antigo que revela uma verdade chocante sobre sua origem e destino.",characters:"Protagonista, Mentor, Antagonista",locations:"Ru\xednas Antigas, Biblioteca Secreta, Templo Esquecido",consequences:"Muda completamente a dire\xe7\xe3o da hist\xf3ria e for\xe7a o protagonista a questionar tudo que sabia.",timeline:"Acontece no primeiro ter\xe7o da hist\xf3ria, ap\xf3s a introdu\xe7\xe3o dos personagens principais."},storyArcs:{name:"Arco de Descoberta",description:"O protagonista descobre sua verdadeira identidade e prop\xf3sito, enfrentando desafios que testam sua determina\xe7\xe3o.",characters:"Protagonista, Aliados, Oponentes",locations:"M\xfaltiplas localiza\xe7\xf5es conforme a jornada se desenvolve",consequences:"Transforma\xe7\xe3o fundamental do personagem e estabelecimento de novos objetivos.",timeline:"Desenvolve-se ao longo de v\xe1rios cap\xedtulos, com pontos de tens\xe3o e revela\xe7\xf5es."},themes:{name:"Identidade e Destino",description:"Explora como as escolhas individuais moldam o destino e como a identidade pode ser tanto uma pris\xe3o quanto uma liberta\xe7\xe3o.",characters:"Todos os personagens principais, cada um representando diferentes aspectos do tema",locations:"Locais simb\xf3licos que refletem a jornada de autodescoberta",consequences:"Profunda reflex\xe3o sobre o que significa ser quem somos e para onde vamos.",timeline:"Tema que permeia toda a narrativa, com momentos de destaque em pontos-chave."},conflicts:{name:"Conflito de Lealdades",description:"O protagonista deve escolher entre sua fam\xedlia de sangue e sua nova fam\xedlia de aliados.",characters:"Protagonista, Fam\xedlia Original, Novos Aliados",locations:"Casa da Fam\xedlia, Base dos Aliados, Locais Neutros",consequences:"Decis\xe3o que define o car\xe1ter do protagonista e afeta todos os relacionamentos futuros.",timeline:"Conflito que se intensifica gradualmente at\xe9 um momento de decis\xe3o cr\xedtica."},resolutions:{name:"Reconcilia\xe7\xe3o e Aceita\xe7\xe3o",description:"O protagonista encontra um equil\xedbrio entre suas diferentes identidades e aceita seu destino \xfanico.",characters:"Protagonista, Todos os Personagens Principais",locations:"Local simb\xf3lico que representa uni\xe3o e paz",consequences:"Resolu\xe7\xe3o satisfat\xf3ria que honra a jornada de todos os personagens.",timeline:"Ocorre no final da hist\xf3ria, proporcionando fechamento adequado."}}[i])||void 0===t?void 0:t[e])||"Conte\xfado gerado com AI";w(e,n),zt.success("".concat(e," gerado com AI!"))}catch(n){zt.error("Erro ao gerar com AI")}finally{m(!1)}})(t),disabled:p,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[(0,Sn.jsx)(Qn,{className:"h-3 w-3 mr-1"}),"AI"]})]}),(0,Sn.jsx)("textarea",{value:g[t],onChange:e=>w(t,e.target.value),className:"input-field",rows:3,placeholder:"Descreva a ".concat(n.toLowerCase(),"...")})]},t)}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,Sn.jsx)("textarea",{value:g.notes,onChange:e=>w("notes",e.target.value),className:"input-field",rows:3,placeholder:"Notas adicionais..."})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,Sn.jsx)(pn,{className:"mr-2 h-4 w-4"}),u?"Atualizar":"Criar"]}),(0,Sn.jsx)("button",{type:"button",onClick:N,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,Sn.jsxs)("div",{className:"".concat(c?"lg:col-span-2":"lg:col-span-3"),children:[(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(e=>{var t,n;const r=x.find(e=>e.id===i);return(0,Sn.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(null===r||void 0===r?void 0:r.color),children:null===r||void 0===r?void 0:r.label}),e.type&&(0,Sn.jsx)("span",{className:"text-xs text-gray-500",children:(null===(t=y.find(t=>t.value===e.type))||void 0===t?void 0:t.label)||e.type}),e.conflictType&&(0,Sn.jsx)("span",{className:"text-xs text-gray-500",children:(null===(n=b.find(t=>t.value===e.conflictType))||void 0===n?void 0:n.label)||e.conflictType})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("button",{onClick:()=>(e=>{d(e),v(e),A(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Tem certeza que deseja excluir este item?")){const t=(s[i]||[]).filter(t=>t.id!==e);o(i,t),zt.success("Item exclu\xeddo!")}})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),(0,Sn.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[e.description&&(0,Sn.jsxs)("p",{className:"line-clamp-2",children:[(0,Sn.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",e.description]}),e.characters&&(0,Sn.jsxs)("p",{className:"line-clamp-1",children:[(0,Sn.jsx)("strong",{children:"Personagens:"})," ",e.characters]}),e.consequences&&(0,Sn.jsxs)("p",{className:"line-clamp-1",children:[(0,Sn.jsx)("strong",{children:"Consequ\xeancias:"})," ",e.consequences]})]})]},e.id)})}),0===j.length&&(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(nn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum item encontrado"}),(0,Sn.jsx)("p",{className:"text-gray-500",children:0===B.length?"Crie seu primeiro ".concat(null===(a=x.find(e=>e.id===i))||void 0===a?void 0:a.label.toLowerCase()," para come\xe7ar"):"Tente ajustar a busca"})]})]})]})]})},tw=()=>{const{aiConversations:e,addAIConversation:n,aiSettings:r,updateAISettings:a,settings:s,updateSettings:o,characters:i,worldData:l,loreData:c,narrativeData:A}=(0,mn.A)(),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)("chat"),[x,y]=(0,t.useState)(""),[b,w]=(0,t.useState)(s.defaultAIProvider||"openai"),[N,B]=(0,t.useState)(!1),[j,C]=(0,t.useState)("disconnected"),[k,E]=(0,t.useState)(!1),S=(0,t.useRef)(null),_=[{id:"chat",label:"Chat",icon:In},{id:"prompts",label:"Prompts",icon:Mn},{id:"settings",label:"Configura\xe7\xf5es",icon:sn}],F=[{category:"Personagens",icon:en,prompts:["Crie um personagem principal com backstory detalhado","Desenvolva um antagonista complexo","Gere di\xe1logo entre dois personagens","Crie um arco de desenvolvimento para um personagem"]},{category:"Mundo",icon:$t,prompts:["Descreva uma cidade fant\xe1stica","Crie um sistema de magia \xfanico","Desenvolva uma cultura com costumes interessantes","Gere a hist\xf3ria de um reino"]},{category:"Narrativa",icon:nn,prompts:["Crie um plot twist surpreendente","Desenvolva uma cena de a\xe7\xe3o emocionante","Gere um conflito interno para o protagonista","Crie um final satisfat\xf3rio para um arco"]},{category:"Lore",icon:Yt,prompts:["Crie uma lenda antiga","Desenvolva um mito de cria\xe7\xe3o","Gere uma profecia misteriosa","Crie um artefato lend\xe1rio"]}];(0,t.useEffect)(()=>{if(e.length>0&&!k&&s.autoLoadLastConversation){const t=e[e.length-1];d(t.messages||[]),E(!0),zt.success('\xdaltima conversa carregada: "'.concat(t.title,'"'))}},[e,k,s.autoLoadLastConversation]),(0,t.useEffect)(()=>{(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[u]);const U=async()=>{if(!h.trim())return;const e={id:Date.now(),type:"user",content:h,timestamp:(new Date).toISOString()};d(t=>[...t,e]),f(""),m(!0);try{await new Promise(e=>setTimeout(e,2e3));const t=await D(h),r=I(h),a={id:Date.now()+1,type:"bot",content:t,timestamp:(new Date).toISOString(),actionType:r};d(e=>[...e,a]),n({title:h.substring(0,50)+"...",messages:[...u,e,a],timestamp:(new Date).toISOString()})}catch(t){zt.error("Erro ao gerar resposta")}finally{m(!1)}},I=e=>{const t=e.toLowerCase();return t.includes("personagem")||t.includes("character")?"character":t.includes("cidade")||t.includes("localiza\xe7\xe3o")||t.includes("location")||t.includes("mundo")||t.includes("world")||t.includes("cultura")||t.includes("culture")?"world":t.includes("lenda")||t.includes("mito")||t.includes("legend")||t.includes("myth")||t.includes("lore")?"lore":t.includes("enredo")||t.includes("plot")||t.includes("narrativa")||t.includes("story")?"narrative":null},L=async(e,t)=>{try{const n="Extraia dados estruturados do seguinte texto e retorne apenas um JSON v\xe1lido:\n\n".concat(e,"\n\nPara ").concat("character"===t?"personagem":"world"===t?"elemento do mundo":"lore"===t?"lore":"narrativa",", extraia:\n").concat("character"===t?"\n- name: nome do personagem\n- description: descri\xe7\xe3o f\xedsica e personalidade\n- background: hist\xf3ria de fundo\n- personality: tra\xe7os de personalidade\n- goals: objetivos\n- relationships: relacionamentos\n- abilities: habilidades especiais":"world"===t?"\n- name: nome da localiza\xe7\xe3o/cultura\n- type: tipo (cidade, reino, cultura, etc.)\n- description: descri\xe7\xe3o detalhada\n- location: localiza\xe7\xe3o geogr\xe1fica\n- population: popula\xe7\xe3o\n- culture: aspectos culturais\n- history: hist\xf3ria":"lore"===t?"\n- title: t\xedtulo da lenda/mito\n- type: tipo (lenda, mito, profecia, etc.)\n- content: conte\xfado completo\n- origin: origem\n- significance: significado":"\n- title: t\xedtulo do enredo\n- type: tipo (plot, cena, di\xe1logo, etc.)\n- content: conte\xfado\n- characters: personagens envolvidos\n- setting: cen\xe1rio","\n\nRetorne apenas o JSON, sem texto adicional."),r=new Kn(b,s.aiProviders[b].apiKey,{temperature:.3,maxTokens:1e3}),a=(await r.generateText(n,{model:s.aiProviders[b].defaultModel})).match(/\{[\s\S]*\}/);return a?JSON.parse(a[0]):null}catch(n){return console.error("Erro ao extrair dados estruturados:",n),null}},Q=async e=>{const{addCharacter:t}=mn.A.getState();t({id:Date.now().toString(),name:e.name||"Novo Personagem",description:e.description||"",background:e.background||"",personality:e.personality||"",goals:e.goals||"",relationships:e.relationships||"",abilities:e.abilities||"",appearance:"",role:"supporting",status:"alive",createdAt:(new Date).toISOString()})},O=async e=>{const{addWorldItem:t}=mn.A.getState();let n="locations";if(e.type){n={cidade:"locations",city:"locations",reino:"regions",kingdom:"regions",cultura:"peoples",culture:"peoples","religi\xe3o":"religions",religion:"religions",idioma:"languages",language:"languages","tradi\xe7\xe3o":"traditions",tradition:"traditions","sistema de magia":"magicSystems","magic system":"magicSystems",tecnologia:"technologies",technology:"technologies",governo:"governments",government:"governments",economia:"economies",economy:"economies",evento:"events",event:"events",era:"eras"}[e.type.toLowerCase()]||"locations"}t(n,{name:e.name||"Novo Elemento",type:e.type||"location",description:e.description||"",location:e.location||"",population:e.population||"",culture:e.culture||"",history:e.history||"",details:e.content||e.description||"",createdAt:(new Date).toISOString()})},P=async e=>{const{addLoreItem:t}=mn.A.getState();let n="myths";if(e.type){n={lenda:"legends",legend:"legends",mito:"myths",myth:"myths",profecia:"prophecies",prophecy:"prophecies",artefato:"artifacts",artifact:"artifacts",ritual:"rituals",costume:"customs"}[e.type.toLowerCase()]||"myths"}t(n,{title:e.title||"Nova Lenda",type:e.type||"legend",content:e.content||"",origin:e.origin||"",significance:e.significance||"",description:e.description||e.content||"",createdAt:(new Date).toISOString()})},T=async e=>{const{addNarrativeItem:t}=mn.A.getState();let n="plotPoints";if(e.type){n={plot:"plotPoints",enredo:"plotPoints",arco:"storyArcs",arc:"storyArcs",tema:"themes",theme:"themes",conflito:"conflicts",conflict:"conflicts","resolu\xe7\xe3o":"resolutions",resolution:"resolutions","di\xe1logo":"plotPoints",dialogue:"plotPoints",cena:"plotPoints",scene:"plotPoints"}[e.type.toLowerCase()]||"plotPoints"}t(n,{title:e.title||"Novo Enredo",type:e.type||"plot",content:e.content||"",characters:e.characters||"",setting:e.setting||"",description:e.description||e.content||"",createdAt:(new Date).toISOString()})},D=async e=>{try{if(!s.aiProviders)throw new Error("Configura\xe7\xe3o de IA n\xe3o encontrada. Configure nas configura\xe7\xf5es gerais.");const t=s.aiProviders[b];if(!t||!t.apiKey||!t.enabled)throw new Error("Provedor de IA n\xe3o configurado ou desabilitado");const n=M(),r="".concat(e,"\n\n").concat(n?"CONTEXTO DO PROJETO:\n".concat(n):"","\n\nPor favor, responda de forma detalhada e criativa, considerando o contexto fornecido."),a=new Kn(b,t.apiKey,{temperature:t.temperature||.7,maxTokens:t.maxTokens||2e3}),o=Gn(b,"creative_writing");return await a.generateText(r,{model:t.defaultModel||o})}catch(t){throw console.error("Erro ao gerar resposta da IA:",t),new Error("Erro na IA: ".concat(t.message))}},M=()=>{const e=[];if(l.name&&(e.push("Mundo: ".concat(l.name)),l.description&&e.push("Descri\xe7\xe3o: ".concat(l.description)),l.genre&&e.push("G\xeanero: ".concat(l.genre))),i.length>0){const t=i.slice(0,3);e.push("Personagens principais: ".concat(t.map(e=>e.name).join(", ")))}return c.myths.length>0&&e.push("Mitos conhecidos: ".concat(c.myths.length," mitos")),e.length>0?e.join("\n"):null},H=e=>{f(e),v("chat")},R=e=>{navigator.clipboard.writeText(e),zt.success("Copiado para a \xe1rea de transfer\xeancia!")},q=async()=>{if(!s.aiProviders)return void zt.error("Configura\xe7\xe3o de IA n\xe3o encontrada. Configure nas configura\xe7\xf5es gerais.");const e=s.aiProviders[b];if(e&&e.apiKey){C("testing");try{const t=Gn(b,"fast_generation"),n=await Kn.testConnection(b,e.apiKey,t);n.success?(B(!0),C("connected"),zt.success("Conex\xe3o com IA estabelecida!")):(B(!1),C("error"),zt.error("Erro na conex\xe3o: ".concat(n.error)))}catch(t){B(!1),C("error"),zt.error("Erro ao testar conex\xe3o")}}else zt.error("API Key n\xe3o configurada")},K=()=>{switch(j){case"connected":return"text-green-600";case"testing":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},z=()=>{switch(j){case"connected":return"Conectado";case"testing":return"Testando...";case"error":return"Erro";default:return"Desconectado"}},G=e=>{switch(e){case"character":return"Personagem";case"world":return"Mundo";case"lore":return"Lore";case"narrative":return"Narrativa";default:return"Projeto"}},V=e=>{switch(e){case"character":return(0,Sn.jsx)(en,{className:"h-3 w-3 mr-1"});case"world":return(0,Sn.jsx)($t,{className:"h-3 w-3 mr-1"});case"lore":return(0,Sn.jsx)(Yt,{className:"h-3 w-3 mr-1"});case"narrative":return(0,Sn.jsx)(nn,{className:"h-3 w-3 mr-1"});default:return(0,Sn.jsx)(pn,{className:"h-3 w-3 mr-1"})}},W=()=>(0,Sn.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,Sn.jsx)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)(rn,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsx)("span",{className:"font-medium",children:"Assistente AI"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(K().replace("text-","bg-"))}),(0,Sn.jsx)("span",{className:"text-sm ".concat(K()),children:z()}),k&&u.length>0&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[(0,Sn.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,Sn.jsx)("span",{children:"\xdaltima conversa carregada"})]})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("select",{value:b,onChange:e=>{return t=e.target.value,w(t),B(!1),void C("disconnected");var t},className:"text-sm border border-gray-300 rounded px-2 py-1",children:Object.keys(qn).map(e=>(0,Sn.jsx)("option",{value:e,children:qn[e].name},e))}),(0,Sn.jsx)("button",{onClick:q,disabled:"testing"===j,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:"testing"===j?"Testando...":"Testar"})]})]})}),(0,Sn.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===u.length?(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Bem-vindo ao Assistente AI"}),(0,Sn.jsx)("p",{className:"text-gray-500",children:"Pe\xe7a ajuda com personagens, mundo, narrativa ou lore"})]}):u.map(e=>(0,Sn.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,Sn.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.type?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,Sn.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Sn.jsx)("span",{className:"text-xs opacity-70",children:new Date(e.timestamp).toLocaleTimeString()}),"bot"===e.type&&(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>R(e.content),className:"text-xs opacity-70 hover:opacity-100",title:"Copiar resposta",children:(0,Sn.jsx)(Iu,{className:"h-3 w-3"})}),e.actionType&&(0,Sn.jsxs)("button",{onClick:()=>(async(e,t)=>{try{if(!t)return void zt.error("Tipo de a\xe7\xe3o n\xe3o identificado");const n=await L(e.content,t);if(!n)return void zt.error("N\xe3o foi poss\xedvel extrair dados estruturados da resposta");switch(t){case"character":await Q(n);break;case"world":await O(n);break;case"lore":await P(n);break;case"narrative":await T(n);break;default:zt.error("Tipo de a\xe7\xe3o n\xe3o suportado")}const r={character:"Personagens",world:"Mundo",lore:"Lore",narrative:"Narrativa"};zt.success("Elemento incorporado ao ".concat(r[t]," com sucesso!"))}catch(n){console.error("Erro ao incorporar ao projeto:",n),zt.error("Erro ao incorporar ao projeto")}})(e,e.actionType),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700 transition-colors",title:"Incorporar ao ".concat(G(e.actionType)),children:[V(e.actionType),G(e.actionType)]})]})]})]})},e.id)),p&&(0,Sn.jsx)("div",{className:"flex justify-start",children:(0,Sn.jsx)("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("div",{className:"animate-pulse",children:"\u25cf"}),(0,Sn.jsx)("div",{className:"animate-pulse delay-100",children:"\u25cf"}),(0,Sn.jsx)("div",{className:"animate-pulse delay-200",children:"\u25cf"})]})})}),(0,Sn.jsx)("div",{ref:S})]}),(0,Sn.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&U(),placeholder:"Digite sua mensagem...",className:"flex-1 input-field",disabled:p}),(0,Sn.jsx)("button",{onClick:U,disabled:p||!h.trim(),className:"btn-primary",children:(0,Sn.jsx)(Rn,{className:"h-4 w-4"})})]})})]}),X=()=>(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Provedores de IA"}),(0,Sn.jsx)("div",{className:"space-y-4",children:Object.keys(qn).map(e=>{var t;const n=null===(t=s.aiProviders)||void 0===t?void 0:t[e],r=(null===n||void 0===n?void 0:n.enabled)||!1;return(0,Sn.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("input",{type:"checkbox",checked:r,onChange:t=>{const n=(0,_e.A)((0,_e.A)({},s),{},{aiProviders:(0,_e.A)((0,_e.A)({},s.aiProviders),{},{[e]:(0,_e.A)((0,_e.A)({},s.aiProviders[e]),{},{enabled:t.target.checked})})});o(n)},className:"rounded"}),(0,Sn.jsx)("span",{className:"font-medium",children:qn[e].name})]}),(0,Sn.jsx)("span",{className:"text-sm text-gray-500",children:qn[e].description})]}),r&&(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),(0,Sn.jsx)("input",{type:"password",value:(null===n||void 0===n?void 0:n.apiKey)||"",onChange:t=>{const n=(0,_e.A)((0,_e.A)({},s),{},{aiProviders:(0,_e.A)((0,_e.A)({},s.aiProviders),{},{[e]:(0,_e.A)((0,_e.A)({},s.aiProviders[e]),{},{apiKey:t.target.value})})});o(n)},placeholder:"Ex: ".concat(qn[e].keyFormat),className:"input-field"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo Padr\xe3o"}),(0,Sn.jsx)("select",{value:(null===n||void 0===n?void 0:n.defaultModel)||Object.keys(qn[e].models)[0],onChange:t=>{const n=(0,_e.A)((0,_e.A)({},s),{},{aiProviders:(0,_e.A)((0,_e.A)({},s.aiProviders),{},{[e]:(0,_e.A)((0,_e.A)({},s.aiProviders[e]),{},{defaultModel:t.target.value})})});o(n)},className:"input-field",children:Object.keys(qn[e].models).map(t=>(0,Sn.jsxs)("option",{value:t,children:[qn[e].models[t].name,"(",qn[e].models[t].cost,")"]},t))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Temperatura: ",(null===n||void 0===n?void 0:n.temperature)||.7]}),(0,Sn.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:(null===n||void 0===n?void 0:n.temperature)||.7,onChange:t=>{const n=(0,_e.A)((0,_e.A)({},s),{},{aiProviders:(0,_e.A)((0,_e.A)({},s.aiProviders),{},{[e]:(0,_e.A)((0,_e.A)({},s.aiProviders[e]),{},{temperature:parseFloat(t.target.value)})})});o(n)},className:"w-full"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe1ximo de Tokens"}),(0,Sn.jsx)("input",{type:"number",value:(null===n||void 0===n?void 0:n.maxTokens)||2e3,onChange:t=>{const n=(0,_e.A)((0,_e.A)({},s),{},{aiProviders:(0,_e.A)((0,_e.A)({},s.aiProviders),{},{[e]:(0,_e.A)((0,_e.A)({},s.aiProviders[e]),{},{maxTokens:parseInt(t.target.value)})})});o(n)},className:"input-field",min:"100",max:"8000"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>{w(e),q()},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Testar Conex\xe3o"}),(0,Sn.jsx)("a",{href:qn[e].website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700",children:"Obter API Key"})]})]})]},e)})})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configura\xe7\xf5es do Chat"}),(0,Sn.jsx)("div",{className:"space-y-4 mb-6",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Carregar \xfaltima conversa automaticamente"}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500",children:"Ao entrar na p\xe1gina, carrega automaticamente a conversa mais recente"})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:s.autoLoadLastConversation,onChange:e=>{const t=(0,_e.A)((0,_e.A)({},s),{},{autoLoadLastConversation:e.target.checked});o(t)},className:"rounded"})]})}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversas Salvas"}),(0,Sn.jsx)("div",{className:"space-y-2",children:e.slice(-5).reverse().map(e=>(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsx)("button",{onClick:()=>(e=>{d(e.messages),zt.success("Conversa carregada!")})(e),className:"text-primary-600 hover:text-primary-700 text-sm",children:"Carregar"}),(0,Sn.jsx)("button",{onClick:()=>R(e.messages.map(e=>"".concat(e.type,": ").concat(e.content)).join("\n")),className:"text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(Iu,{className:"h-4 w-4"})})]})]},e.id))})]})]});return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Assistente AI"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Seu parceiro criativo para desenvolvimento de light novels"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>{u.length>0&&(n({title:"Conversa ".concat((new Date).toLocaleString()),messages:u,timestamp:(new Date).toISOString()}),zt.success("Conversa salva!"))},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(pn,{className:"mr-2 h-4 w-4"}),"Salvar"]}),(0,Sn.jsxs)("button",{onClick:()=>{window.confirm("Tem certeza que deseja limpar o chat?")&&(d([]),E(!1),zt.success("Chat limpo!"))},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(Nn,{className:"mr-2 h-4 w-4"}),"Limpar"]})]})]}),(0,Sn.jsx)("div",{className:"border-b border-gray-200",children:(0,Sn.jsx)("nav",{className:"-mb-px flex space-x-8",children:_.map(e=>(0,Sn.jsxs)("button",{onClick:()=>v(e.id),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(g===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Sn.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,Sn.jsx)("div",{className:"card",children:(()=>{switch(g){case"chat":default:return W();case"prompts":return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Prompts Avan\xe7ados da IA"}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[(0,Sn.jsx)(Qn,{className:"h-4 w-4"}),(0,Sn.jsx)("span",{children:"Respostas podem ser incorporadas automaticamente ao projeto"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Personagens"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsx)("button",{onClick:()=>H(zn.character.basic),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar personagem b\xe1sico - ser\xe1 adicionado automaticamente ao CharacterGenerator",children:"Criar Personagem B\xe1sico"}),(0,Sn.jsx)("button",{onClick:()=>H(zn.character.detailed),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar personagem detalhado - ser\xe1 adicionado automaticamente ao CharacterGenerator",children:"Criar Personagem Detalhado"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Mundo"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsx)("button",{onClick:()=>H(zn.world.location),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar localiza\xe7\xe3o - ser\xe1 adicionada automaticamente ao WorldBuilder",children:"Criar Localiza\xe7\xe3o"}),(0,Sn.jsx)("button",{onClick:()=>H(zn.world.culture),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar cultura/civiliza\xe7\xe3o - ser\xe1 adicionada automaticamente ao WorldBuilder",children:"Criar Cultura/Civiliza\xe7\xe3o"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Narrativa"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsx)("button",{onClick:()=>H(zn.story.plot),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Gerar ponto de enredo - ser\xe1 adicionado automaticamente \xe0 se\xe7\xe3o de narrativa",children:"Gerar Ponto de Enredo"}),(0,Sn.jsx)("button",{onClick:()=>H(zn.story.dialogue),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar di\xe1logo - ser\xe1 adicionado automaticamente \xe0 se\xe7\xe3o de narrativa",children:"Criar Di\xe1logo"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Lore"}),(0,Sn.jsxs)("div",{className:"space-y-2",children:[(0,Sn.jsx)("button",{onClick:()=>H(zn.lore.legend),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar lenda - ser\xe1 adicionada automaticamente \xe0 se\xe7\xe3o de lore",children:"Criar Lenda"}),(0,Sn.jsx)("button",{onClick:()=>H(zn.lore.artifact),className:"w-full text-left p-2 text-sm text-gray-700 hover:bg-gray-50 rounded border border-gray-200 hover:border-gray-300",title:"Criar artefato - ser\xe1 adicionado automaticamente \xe0 se\xe7\xe3o de lore",children:"Criar Artefato"})]})]})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:F.map(e=>(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Sn.jsx)(e.icon,{className:"h-5 w-5 text-primary-600 mr-2"}),(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.category})]}),(0,Sn.jsx)("div",{className:"space-y-2",children:e.prompts.map((e,t)=>(0,Sn.jsx)("button",{onClick:()=>H(e),className:"w-full text-left p-3 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors border border-gray-200 hover:border-gray-300",children:e},t))})]},e.category))})]});case"settings":return X()}})()})]})},nw=()=>{const{projects:e,addProject:n,updateProject:r,deleteProject:a,setCurrentProject:s,currentProject:o,restoreSelectedProject:i}=(0,mn.A)();t.useEffect(()=>{i()},[i]);const[l,c]=(0,t.useState)(!1),[A,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)("updated"),[v,x]=(0,t.useState)({name:"",description:"",genre:"",targetAudience:"",targetWordCount:"",status:"active",tags:""}),y=["Fantasia","Fic\xe7\xe3o Cient\xedfica","Romance","A\xe7\xe3o/Aventura","Mist\xe9rio/Suspense","Terror","Drama","Com\xe9dia","Hist\xf3rico","Contempor\xe2neo","Isekai","Slice of Life","Outro"],b=[{value:"planning",label:"Planejamento",color:"bg-gray-100 text-gray-800"},{value:"active",label:"Em Andamento",color:"bg-blue-100 text-blue-800"},{value:"paused",label:"Pausado",color:"bg-yellow-100 text-yellow-800"},{value:"completed",label:"Conclu\xeddo",color:"bg-green-100 text-green-800"},{value:"abandoned",label:"Abandonado",color:"bg-red-100 text-red-800"}],w=(e,t)=>{x(n=>(0,_e.A)((0,_e.A)({},n),{},{[e]:t}))},N=()=>{x({name:"",description:"",genre:"",targetAudience:"",targetWordCount:"",status:"active",tags:""}),u(null),c(!1)},B=e.filter(e=>{const t=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),n=!f||e.genre===f;return t&&n}).sort((e,t)=>{switch(m){case"name":return e.name.localeCompare(t.name);case"created":return new Date(t.createdAt)-new Date(e.createdAt);case"updated":return new Date(t.updatedAt||t.createdAt)-new Date(e.updatedAt||e.createdAt);case"wordCount":return(t.wordCount||0)-(e.wordCount||0);default:return 0}});return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciador de Projetos"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Gerencie todos os seus projetos de light novel"}),o&&(0,Sn.jsxs)("div",{className:"flex items-center mt-2 p-2 bg-primary-50 border border-primary-200 rounded-lg",children:[(0,Sn.jsx)("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium text-primary-800",children:["Projeto Ativo: ",o.name]})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);n(t),zt.success("Projeto importado!")}catch(t){zt.error("Erro ao importar projeto")}},e.readAsText(t)}},e.click()},className:"btn-outline flex items-center",children:[(0,Sn.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Importar"]}),(0,Sn.jsxs)("button",{onClick:()=>c(!l),className:"btn-primary flex items-center",children:[(0,Sn.jsx)(An,{className:"mr-2 h-4 w-4"}),"Novo Projeto"]})]})]}),(0,Sn.jsx)("div",{className:"card",children:(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsx)("div",{className:"flex-1",children:(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)(Fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Sn.jsx)("input",{type:"text",placeholder:"Buscar projetos...",value:d,onChange:e=>h(e.target.value),className:"input-field pl-10"})]})}),(0,Sn.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"input-field w-48",children:[(0,Sn.jsx)("option",{value:"",children:"Todos os g\xeaneros"}),y.map(e=>(0,Sn.jsx)("option",{value:e,children:e},e))]}),(0,Sn.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"input-field w-48",children:[(0,Sn.jsx)("option",{value:"updated",children:"Mais Recentes"}),(0,Sn.jsx)("option",{value:"created",children:"Data de Cria\xe7\xe3o"}),(0,Sn.jsx)("option",{value:"name",children:"Nome"}),(0,Sn.jsx)("option",{value:"wordCount",children:"Palavras"})]})]})}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l&&(0,Sn.jsx)("div",{className:"lg:col-span-1",children:(0,Sn.jsxs)("div",{className:"card sticky top-6",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:A?"Editar Projeto":"Novo Projeto"}),(0,Sn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v.name.trim()?(A?(r(A.id,(0,_e.A)((0,_e.A)({},v),{},{updatedAt:(new Date).toISOString()})),zt.success("Projeto atualizado!")):(n((0,_e.A)((0,_e.A)({},v),{},{createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),wordCount:0,chapters:[]})),zt.success("Projeto criado!")),N()):zt.error("Nome do projeto \xe9 obrigat\xf3rio")},className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),(0,Sn.jsx)("input",{type:"text",value:v.name,onChange:e=>w("name",e.target.value),className:"input-field",placeholder:"Nome do projeto",required:!0})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,Sn.jsx)("textarea",{value:v.description,onChange:e=>w("description",e.target.value),className:"input-field",rows:3,placeholder:"Descri\xe7\xe3o do projeto..."})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,Sn.jsxs)("select",{value:v.genre,onChange:e=>w("genre",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"",children:"Selecione um g\xeanero"}),y.map(e=>(0,Sn.jsx)("option",{value:e,children:e},e))]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"P\xfablico-Alvo"}),(0,Sn.jsx)("input",{type:"text",value:v.targetAudience,onChange:e=>w("targetAudience",e.target.value),className:"input-field",placeholder:"Jovens adultos"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta de Palavras"}),(0,Sn.jsx)("input",{type:"number",value:v.targetWordCount,onChange:e=>w("targetWordCount",e.target.value),className:"input-field",placeholder:"50000"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Sn.jsx)("select",{value:v.status,onChange:e=>w("status",e.target.value),className:"input-field",children:b.map(e=>(0,Sn.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),(0,Sn.jsx)("input",{type:"text",value:v.tags,onChange:e=>w("tags",e.target.value),className:"input-field",placeholder:"fantasia, aventura, magia"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Sn.jsxs)("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center",children:[(0,Sn.jsx)(sn,{className:"mr-2 h-4 w-4"}),A?"Atualizar":"Criar"]}),(0,Sn.jsx)("button",{type:"button",onClick:N,className:"btn-outline",children:"Cancelar"})]})]})]})}),(0,Sn.jsxs)("div",{className:"".concat(l?"lg:col-span-2":"lg:col-span-3"),children:[(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:B.map(e=>{const t=(e=>{var t;const n=e.wordCount||0,r=e.targetWordCount||0;return{wordCount:n,targetWords:r,progress:r>0?Math.min(n/r*100,100):0,chapters:(null===(t=e.chapters)||void 0===t?void 0:t.length)||0}})(e),n=b.find(t=>t.value===e.status),r=(null===o||void 0===o?void 0:o.id)===e.id;return(0,Sn.jsxs)("div",{className:"card hover:shadow-md transition-shadow relative ".concat(r?"ring-2 ring-primary-500 bg-primary-50":""),children:[r&&(0,Sn.jsx)("div",{className:"absolute top-2 right-2",children:(0,Sn.jsx)("div",{className:"w-3 h-3 bg-primary-600 rounded-full animate-pulse"})}),(0,Sn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Sn.jsxs)("div",{className:"flex-1",children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[n&&(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(n.color),children:n.label}),r&&(0,Sn.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:"Ativo"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Sn.jsx)("button",{onClick:()=>(e=>{s(e),zt.success('Projeto "'.concat(e.name,'" selecionado!'))})(e),className:"p-1 ".concat(r?"text-primary-600 bg-primary-100 rounded":"text-gray-400 hover:text-primary-600"),title:r?"Projeto Ativo":"Selecionar Projeto",children:(0,Sn.jsx)(wn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>(e=>{u(e),x(e),c(!0)})(e),className:"p-1 text-gray-400 hover:text-gray-600",title:"Editar",children:(0,Sn.jsx)(xr,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>(e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat(e.name.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".json"),a.click(),URL.revokeObjectURL(r),zt.success("Projeto exportado!")})(e),className:"p-1 text-gray-400 hover:text-green-600",title:"Exportar",children:(0,Sn.jsx)(dn,{className:"h-4 w-4"})}),(0,Sn.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Tem certeza que deseja excluir este projeto? Esta a\xe7\xe3o n\xe3o pode ser desfeita.")&&(a(t),zt.success("Projeto exclu\xeddo!")));var t},className:"p-1 text-gray-400 hover:text-red-600",title:"Excluir",children:(0,Sn.jsx)(Nn,{className:"h-4 w-4"})})]})]}),e.description&&(0,Sn.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Sn.jsx)("span",{className:"text-gray-600",children:"Progresso:"}),(0,Sn.jsxs)("span",{className:"font-medium",children:[t.wordCount.toLocaleString()," / ",t.targetWords.toLocaleString()||"\u221e"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.progress,"%")}})}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Sn.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Sn.jsx)(nn,{className:"h-4 w-4 mr-1"}),(0,Sn.jsxs)("span",{children:[t.chapters," cap\xedtulos"]})]}),(0,Sn.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,Sn.jsx)(Yn,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{children:new Date(e.updatedAt||e.createdAt).toLocaleDateString()})]})]}),e.genre&&(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Sn.jsx)(Yt,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{children:e.genre})]})]})]},e.id)})}),0===B.length&&(0,Sn.jsxs)("div",{className:"text-center py-12",children:[(0,Sn.jsx)(an,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Sn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum projeto encontrado"}),(0,Sn.jsx)("p",{className:"text-gray-500",children:0===e.length?"Crie seu primeiro projeto para come\xe7ar":"Tente ajustar os filtros de busca"})]})]})]})]})},rw=Jt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),aw=Jt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),sw=Jt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ow=Jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),iw=Jt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),lw=Jt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),cw=Jt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Aw=Jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),uw=Jt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),dw=Jt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),hw=Jt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),fw=()=>{const{notificationSettings:e,updateNotificationSettings:t,requestDesktopPermission:n}=En(),r={[Cn.WRITING]:Yt,[Cn.AI]:rn,[Cn.PROJECT]:sn,[Cn.SYSTEM]:sn,[Cn.GOAL]:Dn,[Cn.BACKUP]:aw},a={[Cn.WRITING]:"Escrita",[Cn.AI]:"Intelig\xeancia Artificial",[Cn.PROJECT]:"Projetos",[Cn.SYSTEM]:"Sistema",[Cn.GOAL]:"Metas",[Cn.BACKUP]:"Backup"},s={[Cn.WRITING]:"Progresso de escrita, sess\xf5es longas e pausas",[Cn.AI]:"Configura\xe7\xe3o de IA e funcionalidades",[Cn.PROJECT]:"Cria\xe7\xe3o, edi\xe7\xe3o e gerenciamento de projetos",[Cn.SYSTEM]:"Atualiza\xe7\xf5es e configura\xe7\xf5es do sistema",[Cn.GOAL]:"Metas di\xe1rias e conquistas",[Cn.BACKUP]:"Lembretes de backup e sincroniza\xe7\xe3o"},o=(n,r)=>{t({frequency:(0,_e.A)((0,_e.A)({},e.frequency),{},{[n]:r})})};return(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(bn,{className:"h-6 w-6 text-primary-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Notifica\xe7\xf5es"}),(0,Sn.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure como e quando receber notifica\xe7\xf5es"})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Configura\xe7\xf5es Gerais"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[e.enabled?(0,Sn.jsx)(bn,{className:"h-5 w-5 text-green-600"}):(0,Sn.jsx)(uw,{className:"h-5 w-5 text-gray-400"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Notifica\xe7\xf5es"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:e.enabled?"Ativadas":"Desativadas"})]})]}),(0,Sn.jsx)("button",{onClick:()=>{t({enabled:!e.enabled})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.enabled?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,Sn.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.enabled?"translate-x-6":"translate-x-1")})})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[e.sound?(0,Sn.jsx)(dw,{className:"h-5 w-5 text-green-600"}):(0,Sn.jsx)(hw,{className:"h-5 w-5 text-gray-400"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Som"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:e.sound?"Ativado":"Desativado"})]})]}),(0,Sn.jsx)("button",{onClick:()=>{t({sound:!e.sound})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.sound?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,Sn.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.sound?"translate-x-6":"translate-x-1")})})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(ow,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Notifica\xe7\xf5es Desktop"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:"Receber notifica\xe7\xf5es do sistema operacional"})]})]}),(0,Sn.jsx)("button",{onClick:()=>{t({desktop:!e.desktop}),e.desktop||n()},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(e.desktop?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,Sn.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(e.desktop?"translate-x-6":"translate-x-1")})})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Categorias"}),(0,Sn.jsx)("div",{className:"space-y-3",children:Object.values(Cn).map(n=>{const o=r[n],i=e.categories[n];return(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(o,{className:"h-5 w-5 ".concat(i?"text-primary-600":"text-gray-400")}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:a[n]}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:s[n]})]})]}),(0,Sn.jsx)("button",{onClick:()=>(n=>{t({categories:(0,_e.A)((0,_e.A)({},e.categories),{},{[n]:!e.categories[n]})})})(n),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(i?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"),children:(0,Sn.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(i?"translate-x-6":"translate-x-1")})})]},n)})})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsx)("h4",{className:"text-md font-medium text-foreground mb-4",children:"Frequ\xeancia"}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(xn,{className:"h-5 w-5 text-purple-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Lembretes"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:"Frequ\xeancia dos lembretes"})]})]}),(0,Sn.jsxs)("select",{value:e.frequency.reminders,onChange:e=>o("reminders",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,Sn.jsx)("option",{value:"never",children:"Nunca"}),(0,Sn.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,Sn.jsx)("option",{value:"weekly",children:"Semanal"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(Dn,{className:"h-5 w-5 text-blue-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Progresso"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:"Relat\xf3rios de progresso"})]})]}),(0,Sn.jsxs)("select",{value:e.frequency.progress,onChange:e=>o("progress",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,Sn.jsx)("option",{value:"never",children:"Nunca"}),(0,Sn.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,Sn.jsx)("option",{value:"weekly",children:"Semanal"}),(0,Sn.jsx)("option",{value:"monthly",children:"Mensal"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Sn.jsx)(aw,{className:"h-5 w-5 text-green-600"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Backup"}),(0,Sn.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lembretes de backup"})]})]}),(0,Sn.jsxs)("select",{value:e.frequency.backup,onChange:e=>o("backup",e.target.value),className:"px-3 py-1 text-sm border border-border rounded-md bg-background text-foreground",children:[(0,Sn.jsx)("option",{value:"never",children:"Nunca"}),(0,Sn.jsx)("option",{value:"daily",children:"Di\xe1rio"}),(0,Sn.jsx)("option",{value:"weekly",children:"Semanal"})]})]})]})]}),(0,Sn.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Sn.jsx)(yn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h5",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Dicas sobre Notifica\xe7\xf5es"}),(0,Sn.jsxs)("ul",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2 space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 As notifica\xe7\xf5es desktop requerem permiss\xe3o do navegador"}),(0,Sn.jsx)("li",{children:"\u2022 Notifica\xe7\xf5es de progresso aparecem a cada 100 palavras escritas"}),(0,Sn.jsx)("li",{children:"\u2022 Lembretes de pausa aparecem ap\xf3s 1 hora de escrita cont\xednua"}),(0,Sn.jsx)("li",{children:"\u2022 Voc\xea pode personalizar a frequ\xeancia de cada tipo de notifica\xe7\xe3o"})]})]})]})})]})},pw=()=>{const{settings:e,updateSettings:n,projects:r,characters:a,worldData:s,aiConversations:o}=(0,mn.A)(),[i,l]=(0,t.useState)("general"),[c,A]=(0,t.useState)(!1),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)({}),[p,m]=(0,t.useState)({}),[g,v]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1),b=[{id:"general",label:"Geral",icon:sn,description:"Configura\xe7\xf5es b\xe1sicas da aplica\xe7\xe3o"},{id:"ai",label:"Integra\xe7\xe3o AI",icon:on,description:"Configurar APIs de IA e modelos"},{id:"editor",label:"Editor",icon:nn,description:"Personalizar o editor de texto"},{id:"appearance",label:"Apar\xeancia",icon:rw,description:"Temas e interface visual"},{id:"notifications",label:"Notifica\xe7\xf5es",icon:bn,description:"Alertas e lembretes"},{id:"security",label:"Seguran\xe7a",icon:Mu,description:"Privacidade e prote\xe7\xe3o de dados"},{id:"data",label:"Dados",icon:aw,description:"Backup, importa\xe7\xe3o e exporta\xe7\xe3o"},{id:"advanced",label:"Avan\xe7ado",icon:sw,description:"Configura\xe7\xf5es t\xe9cnicas"}],w=[{id:"openai",name:"OpenAI",models:["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo"],baseUrl:"https://api.openai.com/v1",keyFormat:"sk-...",description:"GPT-4, GPT-3.5 e outros modelos da OpenAI",website:"https://platform.openai.com"},{id:"anthropic",name:"Anthropic",models:["claude-3-5-sonnet-20241022","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],baseUrl:"https://api.anthropic.com",keyFormat:"sk-ant-...",description:"Claude 3.5 Sonnet, Opus, Sonnet e Haiku",website:"https://console.anthropic.com"},{id:"google",name:"Google AI",models:["gemini-1.5-pro","gemini-1.5-flash","gemini-pro"],baseUrl:"https://generativelanguage.googleapis.com/v1",keyFormat:"AI...",description:"Gemini Pro e Flash da Google",website:"https://ai.google.dev"},{id:"groq",name:"Groq",models:["llama3-70b-8192","llama3-8b-8192","mixtral-8x7b-32768"],baseUrl:"https://api.groq.com/openai/v1",keyFormat:"gsk_...",description:"Llama 3 e Mixtral com velocidade ultra-r\xe1pida",website:"https://console.groq.com"},{id:"custom",name:"API Personalizada",models:["custom-model"],baseUrl:"",keyFormat:"custom-key",description:"Configure sua pr\xf3pria API compat\xedvel com OpenAI",website:""}],N=[{value:"light",label:"Claro",icon:hr,description:"Interface clara para uso durante o dia",preview:"bg-white text-gray-900"},{value:"dark",label:"Escuro",icon:dr,description:"Interface escura para reduzir fadiga ocular",preview:"bg-gray-900 text-white"},{value:"auto",label:"Autom\xe1tico",icon:ow,description:"Segue as configura\xe7\xf5es do sistema",preview:"bg-gradient-to-r from-white to-gray-900"}],B=[{value:"serif",label:"Serif (Georgia)",preview:"Georgia",description:"Ideal para textos longos e narrativas",sample:"Era uma vez, em uma terra distante..."},{value:"sans",label:"Sans-serif (Inter)",preview:"Inter",description:"Moderna e limpa, boa para interface",sample:"Era uma vez, em uma terra distante..."},{value:"mono",label:"Monospace (Fira Code)",preview:"Fira Code",description:"Espa\xe7amento fixo, ideal para c\xf3digo",sample:"Era uma vez, em uma terra distante..."}];(0,t.useEffect)(()=>{w.forEach(t=>{var n,r;null!==e&&void 0!==e&&null!==(n=e.aiProviders)&&void 0!==n&&null!==(r=n[t.id])&&void 0!==r&&r.apiKey&&k(t.id)})},[]);const j=(e,t)=>{n({[e]:t}),y(!0),setTimeout(()=>{y(!1),zt.success("Configura\xe7\xe3o salva automaticamente",{duration:2e3})},2e3)},C=(t,r,a)=>{const s=(null===e||void 0===e?void 0:e.aiProviders)||{},o=s[t]||{};n({aiProviders:(0,_e.A)((0,_e.A)({},s),{},{[t]:(0,_e.A)((0,_e.A)({},o),{},{[r]:a})})}),y(!0)},k=async t=>{f(e=>(0,_e.A)((0,_e.A)({},e),{},{[t]:!0}));try{var n;await new Promise(e=>setTimeout(e,2e3));const a=null===e||void 0===e||null===(n=e.aiProviders)||void 0===n?void 0:n[t];var r;if(null!==a&&void 0!==a&&a.apiKey&&a.apiKey.length>10)m(e=>(0,_e.A)((0,_e.A)({},e),{},{[t]:"success"})),zt.success("Conex\xe3o com ".concat(null===(r=w.find(e=>e.id===t))||void 0===r?void 0:r.name," estabelecida!"));else m(e=>(0,_e.A)((0,_e.A)({},e),{},{[t]:"error"})),zt.error("API Key inv\xe1lida ou n\xe3o configurada")}catch(a){m(e=>(0,_e.A)((0,_e.A)({},e),{},{[t]:"error"})),zt.error("Erro ao testar conex\xe3o")}finally{f(e=>(0,_e.A)((0,_e.A)({},e),{},{[t]:!1}))}},E=async()=>{A(!0);try{var t;const n={projects:r,characters:a,worldData:s,aiConversations:o,settings:(0,_e.A)((0,_e.A)({},e),{},{aiProviders:Object.keys((null===e||void 0===e?void 0:e.aiProviders)||{}).reduce((t,n)=>(t[n]=(0,_e.A)((0,_e.A)({},e.aiProviders[n]),{},{apiKey:"[HIDDEN]"}),t),{})}),exportDate:(new Date).toISOString(),version:"2.0.0",metadata:{totalProjects:(null===r||void 0===r?void 0:r.length)||0,totalCharacters:(null===a||void 0===a?void 0:a.length)||0,totalLocations:(null===s||void 0===s||null===(t=s.locations)||void 0===t?void 0:t.length)||0,totalConversations:(null===o||void 0===o?void 0:o.length)||0}},i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download="light-novel-creator-backup-".concat((new Date).toISOString().split("T")[0],".json"),c.click(),URL.revokeObjectURL(l),zt.success("Backup completo exportado com sucesso!")}catch(n){zt.error("Erro ao exportar backup"),console.error("Export error:",n)}finally{A(!1)}},S=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);if(t.version&&t.settings){const e=(0,_e.A)({},t.settings);delete e.aiProviders,n(e),zt.success("Configura\xe7\xf5es importadas com sucesso!")}else zt.error("Arquivo de backup inv\xe1lido")}catch(t){zt.error("Erro ao importar backup"),console.error("Import error:",t)}},e.readAsText(t)}},e.click()},_=()=>{window.confirm("\u26a0\ufe0f ATEN\xc7\xc3O: Esta a\xe7\xe3o ir\xe1 limpar TODOS os dados da aplica\xe7\xe3o incluindo projetos, personagens, configura\xe7\xf5es e API keys. Esta a\xe7\xe3o N\xc3O PODE ser desfeita.\n\nTem certeza absoluta que deseja continuar?")&&"CONFIRMAR"===window.confirm('Digite "CONFIRMAR" para prosseguir:')&&(localStorage.clear(),zt.success("Todos os dados foram limpos. A p\xe1gina ser\xe1 recarregada."),setTimeout(()=>window.location.reload(),2e3))},F=()=>(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)($t,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configura\xe7\xf5es Gerais"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Prefer\xeancias b\xe1sicas da aplica\xe7\xe3o"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma da Interface"}),(0,Sn.jsxs)("select",{value:(null===e||void 0===e?void 0:e.language)||"pt-BR",onChange:e=>j("language",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"pt-BR",children:"\ud83c\udde7\ud83c\uddf7 Portugu\xeas (Brasil)"}),(0,Sn.jsx)("option",{value:"en-US",children:"\ud83c\uddfa\ud83c\uddf8 English (US)"}),(0,Sn.jsx)("option",{value:"es-ES",children:"\ud83c\uddea\ud83c\uddf8 Espa\xf1ol"}),(0,Sn.jsx)("option",{value:"fr-FR",children:"\ud83c\uddeb\ud83c\uddf7 Fran\xe7ais"}),(0,Sn.jsx)("option",{value:"de-DE",children:"\ud83c\udde9\ud83c\uddea Deutsch"}),(0,Sn.jsx)("option",{value:"ja-JP",children:"\ud83c\uddef\ud83c\uddf5 \u65e5\u672c\u8a9e"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuso Hor\xe1rio"}),(0,Sn.jsxs)("select",{value:(null===e||void 0===e?void 0:e.timezone)||"America/Sao_Paulo",onChange:e=>j("timezone",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"America/Sao_Paulo",children:"\ud83c\udde7\ud83c\uddf7 Bras\xedlia (GMT-3)"}),(0,Sn.jsx)("option",{value:"America/New_York",children:"\ud83c\uddfa\ud83c\uddf8 New York (GMT-5)"}),(0,Sn.jsx)("option",{value:"Europe/London",children:"\ud83c\uddec\ud83c\udde7 London (GMT+0)"}),(0,Sn.jsx)("option",{value:"Europe/Paris",children:"\ud83c\uddeb\ud83c\uddf7 Paris (GMT+1)"}),(0,Sn.jsx)("option",{value:"Asia/Tokyo",children:"\ud83c\uddef\ud83c\uddf5 Tokyo (GMT+9)"}),(0,Sn.jsx)("option",{value:"Australia/Sydney",children:"\ud83c\udde6\ud83c\uddfa Sydney (GMT+10)"})]})]})]}),(0,Sn.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(pn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Auto-salvamento"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Salvar automaticamente o progresso a cada 30 segundos"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.autoSave),onChange:e=>j("autoSave",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Pu,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Estat\xedsticas de Uso"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Coletar dados an\xf4nimos para melhorar a experi\xeancia"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.analytics)||!1,onChange:e=>j("analytics",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(gn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Verifica\xe7\xe3o Ortogr\xe1fica"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Verificar ortografia enquanto digita"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.spellCheck),onChange:e=>j("spellCheck",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(xu,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Otimiza\xe7\xf5es para melhor desempenho"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Intervalo de Auto-save (segundos): ",(null===e||void 0===e?void 0:e.autoSaveInterval)||30]}),(0,Sn.jsx)("input",{type:"range",min:"10",max:"300",step:"10",value:(null===e||void 0===e?void 0:e.autoSaveInterval)||30,onChange:e=>j("autoSaveInterval",parseInt(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Sn.jsx)("span",{children:"10s"}),(0,Sn.jsx)("span",{children:"5min"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hist\xf3rico de Desfazer (a\xe7\xf5es): ",(null===e||void 0===e?void 0:e.undoHistorySize)||50]}),(0,Sn.jsx)("input",{type:"range",min:"10",max:"200",step:"10",value:(null===e||void 0===e?void 0:e.undoHistorySize)||50,onChange:e=>j("undoHistorySize",parseInt(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Sn.jsx)("span",{children:"10"}),(0,Sn.jsx)("span",{children:"200"})]})]})]})]})]}),U=()=>(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:(0,Sn.jsxs)("div",{className:"flex items-start",children:[(0,Sn.jsx)(on,{className:"h-6 w-6 text-blue-600 mr-3 mt-1"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Integra\xe7\xe3o com IA"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Configure suas APIs de IA favoritas para potencializar sua criatividade. Suportamos os principais provedores do mercado."}),(0,Sn.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Sn.jsx)(Mu,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{children:"Suas chaves API s\xe3o armazenadas localmente e nunca enviadas para nossos servidores"})]})]})]})}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Configura\xe7\xf5es Globais"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Configura\xe7\xf5es que se aplicam a todos os provedores"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provedor Padr\xe3o"}),(0,Sn.jsx)("select",{value:(null===e||void 0===e?void 0:e.defaultAIProvider)||"openai",onChange:e=>j("defaultAIProvider",e.target.value),className:"input-field",children:w.map(e=>(0,Sn.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Timeout (segundos): ",(null===e||void 0===e?void 0:e.aiTimeout)||30]}),(0,Sn.jsx)("input",{type:"range",min:"10",max:"120",step:"5",value:(null===e||void 0===e?void 0:e.aiTimeout)||30,onChange:e=>j("aiTimeout",parseInt(e.target.value)),className:"w-full"})]})]}),(0,Sn.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(on,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sugest\xf5es Autom\xe1ticas"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Mostrar sugest\xf5es de IA enquanto escreve"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.autoSuggestions)||!1,onChange:e=>j("autoSuggestions",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(er,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Retry Autom\xe1tico"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Tentar novamente automaticamente em caso de erro"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.autoRetry),onChange:e=>j("autoRetry",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,Sn.jsx)("div",{className:"space-y-6",children:w.map(t=>{var n;const r=(null===e||void 0===e||null===(n=e.aiProviders)||void 0===n?void 0:n[t.id])||{},a=!!r.apiKey,s=p[t.id],o=h[t.id];return(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-4 ".concat(a?"bg-green-100":"bg-gray-100"),children:(0,Sn.jsx)(iw,{className:"h-5 w-5 ".concat(a?"text-green-600":"text-gray-400")})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:t.description})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-2",children:[t.website&&(0,Sn.jsx)("button",{onClick:()=>window.open(t.website,"_blank"),className:"text-gray-400 hover:text-gray-600",title:"Abrir website",children:(0,Sn.jsx)(tr,{className:"h-4 w-4"})}),"success"===s&&(0,Sn.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Sn.jsx)(gn,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{className:"text-xs",children:"Conectado"})]}),"error"===s&&(0,Sn.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Sn.jsx)(vn,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{className:"text-xs",children:"Erro"})]})]})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["API Key",(0,Sn.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",t.keyFormat,")"]})]}),(0,Sn.jsxs)("div",{className:"relative",children:[(0,Sn.jsx)("input",{type:u[t.id]?"text":"password",value:r.apiKey||"",onChange:e=>C(t.id,"apiKey",e.target.value),placeholder:"Cole sua ".concat(t.name," API key aqui"),className:"input-field pr-20"}),(0,Sn.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 space-x-1",children:[(0,Sn.jsx)("button",{type:"button",onClick:()=>d(e=>(0,_e.A)((0,_e.A)({},e),{},{[t.id]:!e[t.id]})),className:"text-gray-400 hover:text-gray-600",children:u[t.id]?(0,Sn.jsx)(Bn,{className:"h-4 w-4"}):(0,Sn.jsx)(wn,{className:"h-4 w-4"})}),r.apiKey&&(0,Sn.jsx)("button",{type:"button",onClick:()=>{return e=r.apiKey,navigator.clipboard.writeText(e),void zt.success("Copiado para a \xe1rea de transfer\xeancia!");var e},className:"text-gray-400 hover:text-gray-600",children:(0,Sn.jsx)(Iu,{className:"h-4 w-4"})})]})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo Padr\xe3o"}),(0,Sn.jsx)("select",{value:r.defaultModel||t.models[0],onChange:e=>C(t.id,"defaultModel",e.target.value),className:"input-field",children:t.models.map(e=>(0,Sn.jsx)("option",{value:e,children:e},e))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperatura: ",r.temperature||.7]}),(0,Sn.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.temperature||.7,onChange:e=>C(t.id,"temperature",parseFloat(e.target.value)),className:"w-full"})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Tokens: ",r.maxTokens||2e3]}),(0,Sn.jsx)("input",{type:"range",min:"100",max:"4000",step:"100",value:r.maxTokens||2e3,onChange:e=>C(t.id,"maxTokens",parseInt(e.target.value)),className:"w-full"})]})]}),"custom"===t.id&&(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Base da API"}),(0,Sn.jsx)("input",{type:"url",value:r.baseUrl||"",onChange:e=>C(t.id,"baseUrl",e.target.value),placeholder:"https://api.exemplo.com/v1",className:"input-field"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Sn.jsxs)("button",{onClick:()=>k(t.id),disabled:!r.apiKey||o,className:"btn-outline flex items-center disabled:opacity-50",children:[o?(0,Sn.jsx)(er,{className:"mr-2 h-4 w-4 animate-spin"}):(0,Sn.jsx)(lw,{className:"mr-2 h-4 w-4"}),o?"Testando...":"Testar Conex\xe3o"]}),(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)("input",{type:"checkbox",id:"enabled-".concat(t.id),checked:!1!==r.enabled,onChange:e=>C(t.id,"enabled",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Sn.jsx)("label",{htmlFor:"enabled-".concat(t.id),className:"ml-2 text-sm text-gray-700",children:"Habilitado"})]})]}),r.apiKey&&(0,Sn.jsx)("button",{onClick:()=>C(t.id,"apiKey",""),className:"text-red-600 hover:text-red-700 text-sm",children:"Remover API Key"})]})]})]},t.id)})})]});return(0,Sn.jsx)("div",{className:"min-h-screen bg-background",children:(0,Sn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Sn.jsx)("div",{className:"mb-8",children:(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura\xe7\xf5es"}),(0,Sn.jsx)("p",{className:"text-gray-600 mt-2",children:"Personalize sua experi\xeancia de cria\xe7\xe3o de light novels"})]}),(0,Sn.jsxs)("div",{className:"flex items-center space-x-4",children:[x&&(0,Sn.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,Sn.jsx)(xn,{className:"h-4 w-4 mr-1"}),(0,Sn.jsx)("span",{className:"text-sm",children:"Salvando..."})]}),(0,Sn.jsxs)("button",{onClick:()=>v(!g),className:"btn-outline flex items-center",children:[(0,Sn.jsx)(sw,{className:"mr-2 h-4 w-4"}),g?"Ocultar":"Mostrar"," Avan\xe7ado"]})]})]})}),(0,Sn.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Sn.jsx)("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:b.filter(e=>g||"advanced"!==e.id).map(e=>(0,Sn.jsxs)("button",{onClick:()=>l(e.id),className:"group whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(i===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Sn.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),(0,Sn.jsxs)("div",{className:"text-left",children:[(0,Sn.jsx)("div",{children:e.label}),(0,Sn.jsx)("div",{className:"text-xs text-gray-400 group-hover:text-gray-500 mt-0.5",children:e.description})]})]},e.id))})}),(0,Sn.jsx)("div",{className:"animate-fade-in",children:(()=>{switch(i){case"general":default:return F();case"ai":return U();case"editor":return(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(nn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Editor de Texto"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Personalize sua experi\xeancia de escrita"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Fam\xedlia de Fonte"}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:B.map(t=>(0,Sn.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.fontFamily)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>j("fontFamily",t.value),children:(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:t.label}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:t.description}),(0,Sn.jsx)("div",{className:"text-lg",style:{fontFamily:t.preview},children:t.sample})]})},t.value))})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Tamanho da Fonte: ",(null===e||void 0===e?void 0:e.fontSize)||16,"px"]}),(0,Sn.jsx)("input",{type:"range",min:"12",max:"28",step:"1",value:(null===e||void 0===e?void 0:e.fontSize)||16,onChange:e=>j("fontSize",parseInt(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,Sn.jsx)("span",{children:"Pequena (12px)"}),(0,Sn.jsx)("span",{children:"Grande (28px)"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Altura da Linha: ",(null===e||void 0===e?void 0:e.lineHeight)||1.6]}),(0,Sn.jsx)("input",{type:"range",min:"1.2",max:"2.5",step:"0.1",value:(null===e||void 0===e?void 0:e.lineHeight)||1.6,onChange:e=>j("lineHeight",parseFloat(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,Sn.jsx)("span",{children:"Compacta (1.2)"}),(0,Sn.jsx)("span",{children:"Espa\xe7ada (2.5)"})]})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(sn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Comportamento do Editor"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Como o editor deve se comportar"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(wn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Modo de Foco"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Esconder elementos da interface durante a escrita"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.focusMode)||!1,onChange:e=>j("focusMode",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(cw,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Quebra Autom\xe1tica de Linha"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Quebrar linhas automaticamente ao atingir a margem"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.wordWrap),onChange:e=>j("wordWrap",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(xu,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mostrar Estat\xedsticas"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Exibir contador de palavras e estat\xedsticas em tempo real"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.showStats),onChange:e=>j("showStats",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Pu,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Destacar Sintaxe"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Destacar elementos como di\xe1logos e formata\xe7\xe3o"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.syntaxHighlight),onChange:e=>j("syntaxHighlight",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)($n,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Atalhos de Teclado"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Atalhos para aumentar sua produtividade"})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{action:"Salvar",shortcut:"Ctrl + S"},{action:"Novo Documento",shortcut:"Ctrl + N"},{action:"Buscar",shortcut:"Ctrl + F"},{action:"Desfazer",shortcut:"Ctrl + Z"},{action:"Refazer",shortcut:"Ctrl + Y"},{action:"Modo Foco",shortcut:"F11"},{action:"Assistente IA",shortcut:"Ctrl + Alt + A"},{action:"Inserir Data",shortcut:"Ctrl + D"}].map((e,t)=>(0,Sn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Sn.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.action}),(0,Sn.jsx)("code",{className:"px-2 py-1 bg-white border border-gray-200 rounded text-xs font-mono",children:e.shortcut})]},t))})]})]});case"appearance":return(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(rw,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tema da Interface"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Escolha o tema que mais combina com voc\xea"})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N.map(t=>(0,Sn.jsx)("div",{className:"p-6 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.theme)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>j("theme",t.value),children:(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-lg ".concat(t.preview," flex items-center justify-center"),children:(0,Sn.jsx)(t.icon,{className:"h-8 w-8"})}),(0,Sn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:t.label}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500",children:t.description})]})},t.value))})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(rw,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Cor Prim\xe1ria"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Personalize a cor principal da interface"})]})]}),(0,Sn.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-3",children:[{name:"Azul",value:"blue",color:"#3b82f6"},{name:"Roxo",value:"purple",color:"#8b5cf6"},{name:"Verde",value:"green",color:"#10b981"},{name:"Vermelho",value:"red",color:"#ef4444"},{name:"Amarelo",value:"yellow",color:"#f59e0b"},{name:"Rosa",value:"pink",color:"#ec4899"},{name:"Indigo",value:"indigo",color:"#6366f1"},{name:"Teal",value:"teal",color:"#14b8a6"}].map(t=>(0,Sn.jsx)("button",{onClick:()=>j("primaryColor",t.value),className:"w-12 h-12 rounded-full border-4 transition-all ".concat((null===e||void 0===e?void 0:e.primaryColor)===t.value?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-400"),style:{backgroundColor:t.color},title:t.name},t.value))})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(ow,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Layout da Interface"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Configure o layout e densidade da interface"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Densidade da Interface"}),(0,Sn.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[{value:"compact",label:"Compacta",description:"Mais conte\xfado na tela"},{value:"normal",label:"Normal",description:"Equil\xedbrio ideal"},{value:"comfortable",label:"Confort\xe1vel",description:"Mais espa\xe7amento"}].map(t=>(0,Sn.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.density)===t.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>j("density",t.value),children:(0,Sn.jsxs)("div",{className:"text-center",children:[(0,Sn.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:t.label}),(0,Sn.jsx)("p",{className:"text-xs text-gray-500",children:t.description})]})},t.value))})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(wn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Anima\xe7\xf5es"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Habilitar anima\xe7\xf5es e transi\xe7\xf5es suaves"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.animations),onChange:e=>j("animations",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Pu,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Efeitos Visuais"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Sombras, gradientes e outros efeitos"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.visualEffects),onChange:e=>j("visualEffects",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]})]})]});case"notifications":return(0,Sn.jsx)(fw,{});case"security":return(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(Mu,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacidade e Seguran\xe7a"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Configure como seus dados s\xe3o tratados"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-start",children:[(0,Sn.jsx)(yn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Armazenamento Local"}),(0,Sn.jsx)("p",{className:"text-sm text-blue-700",children:"Todos os seus dados s\xe3o armazenados localmente no seu navegador. Nada \xe9 enviado para nossos servidores."})]})]})}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Aw,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Criptografar Dados Locais"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Criptografar dados salvos no navegador (experimental)"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.encryptLocalData)||!1,onChange:e=>j("encryptLocalData",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(wn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mascarar API Keys"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Ocultar API keys por padr\xe3o na interface"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.maskApiKeys),onChange:e=>j("maskApiKeys",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{className:"flex items-center",children:[(0,Sn.jsx)(Pu,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Log de Atividades"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Manter registro das a\xe7\xf5es realizadas (apenas local)"})]})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.activityLog),onChange:e=>j("activityLog",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(Hu,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Autom\xe1tico"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Configure backups autom\xe1ticos dos seus dados"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Backup Autom\xe1tico"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Criar backups automaticamente no navegador"})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:(null===e||void 0===e?void 0:e.autoBackup)||!1,onChange:e=>j("autoBackup",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(null===e||void 0===e?void 0:e.autoBackup)&&(0,Sn.jsxs)("div",{className:"space-y-4 pl-8",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequ\xeancia do Backup"}),(0,Sn.jsxs)("select",{value:(null===e||void 0===e?void 0:e.backupFrequency)||"daily",onChange:e=>j("backupFrequency",e.target.value),className:"input-field",children:[(0,Sn.jsx)("option",{value:"hourly",children:"A cada hora"}),(0,Sn.jsx)("option",{value:"daily",children:"Diariamente"}),(0,Sn.jsx)("option",{value:"weekly",children:"Semanalmente"})]})]}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["M\xe1ximo de Backups: ",(null===e||void 0===e?void 0:e.maxBackups)||10]}),(0,Sn.jsx)("input",{type:"range",min:"3",max:"50",step:"1",value:(null===e||void 0===e?void 0:e.maxBackups)||10,onChange:e=>j("maxBackups",parseInt(e.target.value)),className:"w-full"})]})]})]})]})]});case"data":return(()=>{var t,n,i;return(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(xu,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Estat\xedsticas dos Dados"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Vis\xe3o geral dos seus dados armazenados"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Sn.jsxs)("div",{className:"text-center p-4 bg-primary-50 rounded-lg",children:[(0,Sn.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:(null===r||void 0===r?void 0:r.length)||0}),(0,Sn.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Projetos"}),(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===r||void 0===r||null===(t=r.reduce((e,t)=>e+(t.wordCount||0),0))||void 0===t?void 0:t.toLocaleString())||0," palavras"]})]}),(0,Sn.jsxs)("div",{className:"text-center p-4 bg-secondary-50 rounded-lg",children:[(0,Sn.jsx)("div",{className:"text-3xl font-bold text-secondary-600 mb-2",children:(null===a||void 0===a?void 0:a.length)||0}),(0,Sn.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Personagens"}),(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===a||void 0===a?void 0:a.filter(e=>"protagonist"===e.role).length)||0," protagonistas"]})]}),(0,Sn.jsxs)("div",{className:"text-center p-4 bg-accent rounded-lg",children:[(0,Sn.jsx)("div",{className:"text-3xl font-bold text-accent-foreground mb-2",children:(null===s||void 0===s||null===(n=s.locations)||void 0===n?void 0:n.length)||0}),(0,Sn.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Locais"}),(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===s||void 0===s||null===(i=s.cultures)||void 0===i?void 0:i.length)||0," culturas"]})]}),(0,Sn.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,Sn.jsx)("div",{className:"text-3xl font-bold text-muted-foreground mb-2",children:(null===o||void 0===o?void 0:o.length)||0}),(0,Sn.jsx)("div",{className:"text-sm font-medium text-foreground",children:"Conversas AI"}),(0,Sn.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null===o||void 0===o?void 0:o.reduce((e,t)=>{var n;return e+((null===(n=t.messages)||void 0===n?void 0:n.length)||0)},0))||0," mensagens"]})]})]}),(0,Sn.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,Sn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Sn.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Uso de Armazenamento Local"}),(0,Sn.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(JSON.stringify(localStorage).length/1024)," KB"]})]}),(0,Sn.jsx)("div",{className:"w-full bg-border rounded-full h-2",children:(0,Sn.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(JSON.stringify(localStorage).length/10485760*100,100),"%")}})}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,Sn.jsx)("span",{children:"0 KB"}),(0,Sn.jsx)("span",{children:"10 MB (limite recomendado)"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(aw,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup e Restaura\xe7\xe3o"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Fa\xe7a backup dos seus dados ou restaure de um backup anterior"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Sn.jsxs)("button",{onClick:E,disabled:c,className:"btn-primary flex items-center justify-center disabled:opacity-50",children:[c?(0,Sn.jsx)(er,{className:"mr-2 h-4 w-4 animate-spin"}):(0,Sn.jsx)(dn,{className:"mr-2 h-4 w-4"}),c?"Exportando...":"Fazer Backup Completo"]}),(0,Sn.jsxs)("button",{onClick:S,className:"btn-outline flex items-center justify-center",children:[(0,Sn.jsx)(hn,{className:"mr-2 h-4 w-4"}),"Restaurar Backup"]})]}),(0,Sn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-start",children:[(0,Sn.jsx)(yn,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Sobre os Backups"}),(0,Sn.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,Sn.jsx)("li",{children:"\u2022 Backups incluem todos os projetos, personagens, configura\xe7\xf5es e dados do mundo"}),(0,Sn.jsx)("li",{children:"\u2022 API Keys s\xe3o mascaradas por seguran\xe7a e n\xe3o s\xe3o inclu\xeddas no backup"}),(0,Sn.jsx)("li",{children:"\u2022 Backups s\xe3o arquivos JSON que podem ser visualizados em qualquer editor de texto"}),(0,Sn.jsx)("li",{children:"\u2022 Recomendamos fazer backups regulares, especialmente antes de grandes mudan\xe7as"})]})]})]})}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Backup Seletivo"}),(0,Sn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{key:"projects",label:"Projetos",data:r},{key:"characters",label:"Personagens",data:a},{key:"worldData",label:"Mundo",data:s},{key:"settings",label:"Configura\xe7\xf5es",data:e}].map(e=>(0,Sn.jsx)("button",{className:"btn-outline text-sm",onClick:()=>{const t={[e.key]:e.data},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat(e.key,"-backup.json"),a.click(),URL.revokeObjectURL(r),zt.success("".concat(e.label," exportado!"))},children:e.label},e.key))})]})]})]}),(0,Sn.jsxs)("div",{className:"card border-red-200",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(vn,{className:"h-6 w-6 text-red-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-red-900",children:"Zona de Perigo"}),(0,Sn.jsx)("p",{className:"text-sm text-red-600",children:"A\xe7\xf5es irrevers\xedveis que afetam seus dados"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-4",children:[(0,Sn.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Sn.jsxs)("div",{className:"flex items-start",children:[(0,Sn.jsx)(vn,{className:"h-5 w-5 text-red-600 mr-3 mt-0.5"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-red-900 mb-1",children:"Aviso Importante"}),(0,Sn.jsx)("p",{className:"text-sm text-red-700",children:"As a\xe7\xf5es abaixo s\xe3o irrevers\xedveis. Certifique-se de fazer um backup antes de prosseguir."})]})]})}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsx)("button",{onClick:()=>{window.confirm("Limpar apenas as configura\xe7\xf5es? Projetos e dados ser\xe3o mantidos.")&&(Object.keys(localStorage).filter(e=>e.includes("settings")).forEach(e=>localStorage.removeItem(e)),zt.success("Configura\xe7\xf5es limpas!"))},className:"btn-outline border-yellow-300 text-yellow-600 hover:bg-yellow-50",children:"Limpar Configura\xe7\xf5es"}),(0,Sn.jsx)("button",{onClick:()=>{window.confirm("Limpar cache e dados tempor\xe1rios?")&&zt.success("Cache limpo!")},className:"btn-outline border-orange-300 text-orange-600 hover:bg-orange-50",children:"Limpar Cache"}),(0,Sn.jsx)("button",{onClick:_,className:"btn-outline border-red-300 text-red-600 hover:bg-red-50",children:"Limpar Todos os Dados"})]})]})]})]})})();case"advanced":return(0,Sn.jsxs)("div",{className:"space-y-8",children:[(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(on,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Otimize o desempenho da aplica\xe7\xe3o"})]})]}),(0,Sn.jsxs)("div",{className:"space-y-6",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Cache TTL (minutos)"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Tempo de vida do cache de dados"}),(0,Sn.jsx)("input",{type:"range",min:"5",max:"480",step:"5",value:(null===e||void 0===e?void 0:e.cacheTTL)||60,onChange:e=>j("cacheTTL",parseInt(e.target.value)),className:"w-full"}),(0,Sn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Sn.jsx)("span",{children:"5 min"}),(0,Sn.jsx)("span",{children:"8 horas"})]})]}),(0,Sn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Lazy Loading"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Carregar conte\xfado conforme necess\xe1rio"})]}),(0,Sn.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.lazyLoading),onChange:e=>j("lazyLoading",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(yn,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Informa\xe7\xf5es do Sistema"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Detalhes t\xe9cnicos sobre o ambiente"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Vers\xe3o da Aplica\xe7\xe3o:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:"v2.0.0"})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Navegador:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:navigator.userAgent.split(" ").slice(-1)[0]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Plataforma:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:navigator.platform})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Idioma:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:navigator.language})]})]}),(0,Sn.jsxs)("div",{className:"space-y-3",children:[(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Local Storage:"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium",children:[(JSON.stringify(localStorage).length/1024).toFixed(1)," KB"]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Session Storage:"}),(0,Sn.jsxs)("span",{className:"text-sm font-medium",children:[(JSON.stringify(sessionStorage).length/1024).toFixed(1)," KB"]})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Cookies Habilitados:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:navigator.cookieEnabled?"Sim":"N\xe3o"})]}),(0,Sn.jsxs)("div",{className:"flex justify-between",children:[(0,Sn.jsx)("span",{className:"text-sm text-gray-600",children:"Online:"}),(0,Sn.jsx)("span",{className:"text-sm font-medium",children:navigator.onLine?"Sim":"N\xe3o"})]})]})]}),(0,Sn.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,Sn.jsx)("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Recursos Suportados"}),(0,Sn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,Sn.jsxs)("div",{className:"flex items-center ".concat("undefined"!==typeof Storage?"text-green-600":"text-red-600"),children:[(0,Sn.jsx)(gn,{className:"h-3 w-3 mr-1"}),"Local Storage"]}),(0,Sn.jsxs)("div",{className:"flex items-center ".concat(navigator.serviceWorker?"text-green-600":"text-red-600"),children:[(0,Sn.jsx)(gn,{className:"h-3 w-3 mr-1"}),"Service Worker"]}),(0,Sn.jsxs)("div",{className:"flex items-center ".concat(window.indexedDB?"text-green-600":"text-red-600"),children:[(0,Sn.jsx)(gn,{className:"h-3 w-3 mr-1"}),"IndexedDB"]}),(0,Sn.jsxs)("div",{className:"flex items-center ".concat(navigator.clipboard?"text-green-600":"text-red-600"),children:[(0,Sn.jsx)(gn,{className:"h-3 w-3 mr-1"}),"Clipboard API"]})]})]})]}),(0,Sn.jsxs)("div",{className:"card",children:[(0,Sn.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Sn.jsx)(er,{className:"h-6 w-6 text-primary-600 mr-3"}),(0,Sn.jsxs)("div",{children:[(0,Sn.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Manuten\xe7\xe3o"}),(0,Sn.jsx)("p",{className:"text-sm text-gray-500",children:"Ferramentas para manuten\xe7\xe3o e reset"})]})]}),(0,Sn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Sn.jsx)("button",{onClick:()=>{localStorage.removeItem("light-novel-creator-cache"),zt.success("Cache limpo!")},className:"btn-outline",children:"Limpar Cache"}),(0,Sn.jsx)("button",{onClick:()=>{window.confirm("Resetar todas as configura\xe7\xf5es para padr\xe3o?")&&(n({theme:"light",language:"pt-BR",fontSize:16,fontFamily:"serif"}),zt.success("Configura\xe7\xf5es resetadas!"))},className:"btn-outline",children:"Reset Configura\xe7\xf5es"}),(0,Sn.jsx)("button",{onClick:()=>{window.location.reload()},className:"btn-outline",children:"Recarregar App"})]})]})]})}})()})]})})};const mw=function(){return(()=>{const{settings:e}=(0,mn.A)(),n=(null===e||void 0===e?void 0:e.theme)||"light";(0,t.useEffect)(()=>{const e=document.documentElement;if(e.classList.remove("light","dark"),"auto"===n){const t=window.matchMedia("(prefers-color-scheme: dark)");t.matches?e.classList.add("dark"):e.classList.add("light");const n=t=>{t.matches?(e.classList.remove("light"),e.classList.add("dark")):(e.classList.remove("dark"),e.classList.add("light"))};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}e.classList.add(n)},[n])})(),t.useEffect(()=>(Ju.init(),()=>{Ju.destroy()}),[]),(0,Sn.jsx)(Ne,{children:(0,Sn.jsxs)("div",{className:"App",children:[(0,Sn.jsx)(Xn,{children:(0,Sn.jsxs)(ge,{children:[(0,Sn.jsx)(pe,{path:"/",element:(0,Sn.jsx)(fu,{})}),(0,Sn.jsx)(pe,{path:"/editor",element:(0,Sn.jsx)(nd,{})}),(0,Sn.jsx)(pe,{path:"/world-builder",element:(0,Sn.jsx)(Wb,{})}),(0,Sn.jsx)(pe,{path:"/character-generator",element:(0,Sn.jsx)(Yb,{})}),(0,Sn.jsx)(pe,{path:"/lore-generator",element:(0,Sn.jsx)($b,{})}),(0,Sn.jsx)(pe,{path:"/narrative-generator",element:(0,Sn.jsx)(ew,{})}),(0,Sn.jsx)(pe,{path:"/ai-assistant",element:(0,Sn.jsx)(tw,{})}),(0,Sn.jsx)(pe,{path:"/projects",element:(0,Sn.jsx)(nw,{})}),(0,Sn.jsx)(pe,{path:"/settings",element:(0,Sn.jsx)(pw,{})})]})}),(0,Sn.jsx)(Kt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})};a.createRoot(document.getElementById("root")).render((0,Sn.jsx)(t.StrictMode,{children:(0,Sn.jsx)(mw,{})}))})()})();
//# sourceMappingURL=main.02cf51ad.js.map